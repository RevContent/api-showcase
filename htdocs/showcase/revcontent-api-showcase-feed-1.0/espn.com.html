<!DOCTYPE html>
    <html class="no-icon-fonts">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="x-ua-compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<link rel="canonical" href="http://www.espn.com/blog/new-york/yankees/post/_/id/97161/yankees-have-the-right-formula-to-beat-the-indians-in-october" />
<title>New York Yankees have the right formula to beat the Indians in October - Yankees Blog- ESPN</title>
<meta name="description" content="A year after making them the most fearsome team in the AL by trading them Andrew Miller, the Yanks could be the ones to ruin the Tribe's dream season." />
<meta name="news_keywords" content="97112, 61, 80311, 166, 47959, 57042, 125285, 23507, 98167, 70330, 124817, 166461, 114382, 48331" />
<meta name="keywords" content="97112, 61, 80311, 166, 47959, 57042, 125285, 23507, 98167, 70330, 124817, 166461, 114382, 48331" />
<meta name="DC.date.issued" content="2017-09-13T23:55:56Z">
<meta property="fb:app_id" content="116656161708917" />
<meta property="og:site_name" content="ESPN.com" />
<meta property="og:url" content="http://www.espn.com/blog/new-york/yankees/post/_/id/97161" />
<meta property="og:title" content="Yankees have the right formula to beat the Indians in October"/>
<meta property="og:description" content="A year after making them the most fearsome team in the AL by trading them Andrew Miller, the Yanks could be the ones to ruin the Tribe's dream season." />
<meta property="og:image" content="http://a2.espncdn.com/combiner/i?img=%2Fphoto%2F2017%2F0913%2Fr258124_1296x729_16%2D9.jpg"/>
<meta property="og:image:width" content="1296" />
<meta property="og:image:height" content="729" />
<meta property="og:type" content="article" />
<meta name="twitter:site" content="espn" />
<meta name="twitter:url" content="http://www.espn.com/blog/new-york/yankees/post/_/id/97161" />
<meta name="twitter:title" content="Yankees have the right formula to beat the Indians in October"/>
<meta name="twitter:description" content="A year after making them the most fearsome team in the AL by trading them Andrew Miller, the Yanks could be the ones to ruin the Tribe's dream season." />
<meta name="twitter:image" content="http://a2.espncdn.com/combiner/i?img=%2Fphoto%2F2017%2F0913%2Fr258124_1296x729_16%2D9.jpg"/>
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:app:name:iphone" content="ESPN"/>
<meta name="twitter:app:id:iphone" content="317469184"/>
<meta name="twitter:app:name:googleplay" content="ESPN"/>
<meta name="twitter:app:id:googleplay" content="com.espn.score_center"/>
<meta name="title" content="New York Yankees have the right formula to beat the Indians in October - Yankees Blog- ESPN"/>
<meta name="medium" content="article" />
<meta name="apple-itunes-app" content="app-id=317469184, app-argument=sportscenter://x-callback-url/showStory?uid=14-97161-57&type=nowItem">
<!-- Indicate preferred brand name for Google to display -->
<script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type":    "WebSite",
        "name":     "ESPN",
        "url":      "http://www.espn.com/"
    }
</script>

<link href="https://fonts.googleapis.com/css?family=Montserrat:200,200i,300,300i,400,400i,500,500i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

<!--
<PageMap>
    <DataObject type="document">
        <Attribute name="title">Yankees have the right formula to beat the Indians in October</Attribute>
    </DataObject>
    <DataObject type="thumbnail">
        <Attribute name="src" value="http://a2.espncdn.com/combiner/i?img=%2Fphoto%2F2017%2F0913%2Fr258124_1296x729_16%2D9.jpg" />
        <Attribute name="width" value="1296" />
        <Attribute name="height" value="729" />
    </DataObject>
</PageMap>
-->
<script type="text/javascript">
;(function(){
function rc(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "===e.charAt(0);)e=e.substring(1,e.length);if(0===e.indexOf(b))return e.substring(b.length,e.length)}return null}var _nr=!1,_nrCookie=rc("_nr");null!==_nrCookie?"1"===_nrCookie&&(_nr=!0):Math.floor(100*Math.random())+1===13?(_nr=!0,document.cookie="_nr=1; path=/"):(_nr=!1,document.cookie="_nr=0; path=/"),_nr&&(window.NREUM||(NREUM={}),__nr_require=function(t,e,n){function r(n){if(!e[n]){var o=e[n]={exports:{}};t[n][0].call(o.exports,function(e){var o=t[n][1][e];return r(o||e)},o,o.exports)}return e[n].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<n.length;o++)r(n[o]);return r}({1:[function(t,e,n){function r(t){try{c.console&&console.log(t)}catch(e){}}var o,i=t("ee"),a=t(19),c={};try{o=localStorage.getItem("__nr_flags").split(","),console&&"function"==typeof console.log&&(c.console=!0,o.indexOf("dev")!==-1&&(c.dev=!0),o.indexOf("nr_dev")!==-1&&(c.nrDev=!0))}catch(s){}c.nrDev&&i.on("internal-error",function(t){r(t.stack)}),c.dev&&i.on("fn-err",function(t,e,n){r(n.stack)}),c.dev&&(r("NR AGENT IN DEVELOPMENT MODE"),r("flags: "+a(c,function(t,e){return t}).join(", ")))},{}],2:[function(t,e,n){function r(t,e,n,r,o){try{h?h-=1:i("err",[o||new UncaughtException(t,e,n)])}catch(c){try{i("ierr",[c,(new Date).getTime(),!0])}catch(s){}}return"function"==typeof f&&f.apply(this,a(arguments))}function UncaughtException(t,e,n){this.message=t||"Uncaught error with no additional information",this.sourceURL=e,this.line=n}function o(t){i("err",[t,(new Date).getTime()])}var i=t("handle"),a=t(20),c=t("ee"),s=t("loader"),f=window.onerror,u=!1,h=0;s.features.err=!0,t(1),window.onerror=r;try{throw new Error}catch(p){"stack"in p&&(t(12),t(11),"addEventListener"in window&&t(6),s.xhrWrappable&&t(13),u=!0)}c.on("fn-start",function(t,e,n){u&&(h+=1)}),c.on("fn-err",function(t,e,n){u&&(this.thrown=!0,o(n))}),c.on("fn-end",function(){u&&!this.thrown&&h>0&&(h-=1)}),c.on("internal-error",function(t){i("ierr",[t,(new Date).getTime(),!0])})},{}],3:[function(t,e,n){t("loader").features.ins=!0},{}],4:[function(t,e,n){function r(){N++,S=y.hash,this[u]=Date.now()}function o(){N--,y.hash!==S&&i(0,!0);var t=Date.now();this[l]=~~this[l]+t-this[u],this[h]=t}function i(t,e){x.emit("newURL",[""+y,e])}function a(t,e){t.on(e,function(){this[e]=Date.now()})}var c="-start",s="-end",f="-body",u="fn"+c,h="fn"+s,p="cb"+c,d="cb"+s,l="jsTime",m="fetch",v="addEventListener",w=window,y=w.location;if(w[v]){var g=t(9),b=t(10),x=t(8),E=t(6),T=t(12),O=t(7),P=t(13),R=t("ee"),D=R.get("tracer");t(14),t("loader").features.spa=!0;var S,M=w[v],N=0;R.on(u,r),R.on(p,r),R.on(h,o),R.on(d,o),R.buffer([u,h,"xhr-done","xhr-resolved"]),E.buffer([u]),T.buffer(["setTimeout"+s,"clearTimeout"+c,u]),P.buffer([u,"new-xhr","open-xhr"+c]),O.buffer([m+c,m+"-done",m+f+c,m+f+s]),x.buffer(["newURL"]),g.buffer([u]),b.buffer(["propagate",p,d,"executor-err","resolve"+c]),D.buffer([u,"no-"+u]),a(P,"open-xhr"+c),a(R,"xhr-resolved"),a(R,"xhr-done"),a(O,m+c),a(O,m+"-done"),x.on("pushState-end",i),x.on("replaceState-end",i),M("hashchange",i,!0),M("load",i,!0),M("popstate",function(){i(0,N>1)},!0)}},{}],5:[function(t,e,n){function r(t){}if(window.performance&&window.performance.timing&&window.performance.getEntriesByType){var o=t("ee"),i=t("handle"),a=t(12),c=t(11),s="learResourceTimings",f="addEventListener",u="resourcetimingbufferfull",h="bstResource",p="resource",d="-start",l="-end",m="fn"+d,v="fn"+l,w="bstTimer",y="pushState";t("loader").features.stn=!0,t(8);var g=NREUM.o.EV;o.on(m,function(t,e){var n=t[0];n instanceof g&&(this.bstStart=Date.now())}),o.on(v,function(t,e){var n=t[0];n instanceof g&&i("bst",[n,e,this.bstStart,Date.now()])}),a.on(m,function(t,e,n){this.bstStart=Date.now(),this.bstType=n}),a.on(v,function(t,e){i(w,[e,this.bstStart,Date.now(),this.bstType])}),c.on(m,function(){this.bstStart=Date.now()}),c.on(v,function(t,e){i(w,[e,this.bstStart,Date.now(),"requestAnimationFrame"])}),o.on(y+d,function(t){this.time=Date.now(),this.startPath=location.pathname+location.hash}),o.on(y+l,function(t){i("bstHist",[location.pathname+location.hash,this.startPath,this.time])}),f in window.performance&&(window.performance["c"+s]?window.performance[f](u,function(t){i(h,[window.performance.getEntriesByType(p)]),window.performance["c"+s]()},!1):window.performance[f]("webkit"+u,function(t){i(h,[window.performance.getEntriesByType(p)]),window.performance["webkitC"+s]()},!1)),document[f]("scroll",r,!1),document[f]("keypress",r,!1),document[f]("click",r,!1)}},{}],6:[function(t,e,n){function r(t){for(var e=t;e&&!e.hasOwnProperty(u);)e=Object.getPrototypeOf(e);e&&o(e)}function o(t){c.inPlace(t,[u,h],"-",i)}function i(t,e){return t[1]}var a=t("ee").get("events"),c=t(21)(a),s=t("gos"),f=XMLHttpRequest,u="addEventListener",h="removeEventListener";e.exports=a,"getPrototypeOf"in Object?(r(document),r(window),r(f.prototype)):f.prototype.hasOwnProperty(u)&&(o(window),o(f.prototype)),a.on(u+"-start",function(t,e){if(t[1]){var n=t[1];if("function"==typeof n){var r=s(n,"nr@wrapped",function(){return c(n,"fn-",null,n.name||"anonymous")});this.wrapped=t[1]=r}else"function"==typeof n.handleEvent&&c.inPlace(n,["handleEvent"],"fn-")}}),a.on(h+"-start",function(t){var e=this.wrapped;e&&(t[1]=e)})},{}],7:[function(t,e,n){function r(t,e,n){var r=t[e];"function"==typeof r&&(t[e]=function(){var t=r.apply(this,arguments);return o.emit(n+"start",arguments,t),t.then(function(e){return o.emit(n+"end",[null,e],t),e},function(e){throw o.emit(n+"end",[e],t),e})})}var o=t("ee").get("fetch"),i=t(19);e.exports=o;var a=window,c="fetch-",s=c+"body-",f=["arrayBuffer","blob","json","text","formData"],u=a.Request,h=a.Response,p=a.fetch,d="prototype";u&&h&&p&&(i(f,function(t,e){r(u[d],e,s),r(h[d],e,s)}),r(a,"fetch",c),o.on(c+"end",function(t,e){var n=this;e?e.clone().arrayBuffer().then(function(t){n.rxSize=t.byteLength,o.emit(c+"done",[null,e],n)}):o.emit(c+"done",[t],n)}))},{}],8:[function(t,e,n){var r=t("ee").get("history"),o=t(21)(r);e.exports=r,o.inPlace(window.history,["pushState","replaceState"],"-")},{}],9:[function(t,e,n){var r=t("ee").get("mutation"),o=t(21)(r),i=NREUM.o.MO;e.exports=r,i&&(window.MutationObserver=function(t){return this instanceof i?new i(o(t,"fn-")):i.apply(this,arguments)},MutationObserver.prototype=i.prototype)},{}],10:[function(t,e,n){function r(t){var e=a.context(),n=c(t,"executor-",e),r=new f(n);return a.context(r).getCtx=function(){return e},a.emit("new-promise",[r,e],e),r}function o(t,e){return e}var i=t(21),a=t("ee").get("promise"),c=i(a),s=t(19),f=NREUM.o.PR;e.exports=a,f&&(window.Promise=r,["all","race"].forEach(function(t){var e=f[t];f[t]=function(n){function r(t){return function(){a.emit("propagate",[null,!o],i),o=o||!t}}var o=!1;s(n,function(e,n){Promise.resolve(n).then(r("all"===t),r(!1))});var i=e.apply(f,arguments),c=f.resolve(i);return c}}),["resolve","reject"].forEach(function(t){var e=f[t];f[t]=function(t){var n=e.apply(f,arguments);return t!==n&&a.emit("propagate",[t,!0],n),n}}),f.prototype["catch"]=function(t){return this.then(null,t)},f.prototype=Object.create(f.prototype,{constructor:{value:r}}),s(Object.getOwnPropertyNames(f),function(t,e){try{r[e]=f[e]}catch(n){}}),a.on("executor-start",function(t){t[0]=c(t[0],"resolve-",this),t[1]=c(t[1],"resolve-",this)}),a.on("executor-err",function(t,e,n){t[1](n)}),c.inPlace(f.prototype,["then"],"then-",o),a.on("then-start",function(t,e){this.promise=e,t[0]=c(t[0],"cb-",this),t[1]=c(t[1],"cb-",this)}),a.on("then-end",function(t,e,n){this.nextPromise=n;var r=this.promise;a.emit("propagate",[r,!0],n)}),a.on("cb-end",function(t,e,n){a.emit("propagate",[n,!0],this.nextPromise)}),a.on("propagate",function(t,e,n){this.getCtx&&!e||(this.getCtx=function(){if(t instanceof Promise)var e=a.context(t);return e&&e.getCtx?e.getCtx():this})}),r.toString=function(){return""+f})},{}],11:[function(t,e,n){var r=t("ee").get("raf"),o=t(21)(r),i="equestAnimationFrame";e.exports=r,o.inPlace(window,["r"+i,"mozR"+i,"webkitR"+i,"msR"+i],"raf-"),r.on("raf-start",function(t){t[0]=o(t[0],"fn-")})},{}],12:[function(t,e,n){function r(t,e,n){t[0]=a(t[0],"fn-",null,n)}function o(t,e,n){this.method=n,this.timerDuration="number"==typeof t[1]?t[1]:0,t[0]=a(t[0],"fn-",this,n)}var i=t("ee").get("timer"),a=t(21)(i),c="setTimeout",s="setInterval",f="clearTimeout",u="-start",h="-";e.exports=i,a.inPlace(window,[c,"setImmediate"],c+h),a.inPlace(window,[s],s+h),a.inPlace(window,[f,"clearImmediate"],f+h),i.on(s+u,r),i.on(c+u,o)},{}],13:[function(t,e,n){function r(t,e){h.inPlace(e,["onreadystatechange"],"fn-",c)}function o(){var t=this,e=u.context(t);t.readyState>3&&!e.resolved&&(e.resolved=!0,u.emit("xhr-resolved",[],t)),h.inPlace(t,v,"fn-",c)}function i(t){w.push(t),l&&(g=-g,b.data=g)}function a(){for(var t=0;t<w.length;t++)r([],w[t]);w.length&&(w=[])}function c(t,e){return e}function s(t,e){for(var n in t)e[n]=t[n];return e}t(6);var f=t("ee"),u=f.get("xhr"),h=t(21)(u),p=NREUM.o,d=p.XHR,l=p.MO,m="readystatechange",v=["onload","onerror","onabort","onloadstart","onloadend","onprogress","ontimeout"],w=[];e.exports=u;var y=window.XMLHttpRequest=function(t){var e=new d(t);try{u.emit("new-xhr",[e],e),e.addEventListener(m,o,!1)}catch(n){try{u.emit("internal-error",[n])}catch(r){}}return e};if(s(d,y),y.prototype=d.prototype,h.inPlace(y.prototype,["open","send"],"-xhr-",c),u.on("send-xhr-start",function(t,e){r(t,e),i(e)}),u.on("open-xhr-start",r),l){var g=1,b=document.createTextNode(g);new l(a).observe(b,{characterData:!0})}else f.on("fn-end",function(t){t[0]&&t[0].type===m||a()})},{}],14:[function(t,e,n){function r(t){var e=this.params,n=this.metrics;if(!this.ended){this.ended=!0;for(var r=0;r<h;r++)t.removeEventListener(u[r],this.listener,!1);if(!e.aborted){if(n.duration=(new Date).getTime()-this.startTime,4===t.readyState){e.status=t.status;var i=o(t,this.lastSize);if(i&&(n.rxSize=i),this.sameOrigin){var a=t.getResponseHeader("X-NewRelic-App-Data");a&&(e.cat=a.split(", ").pop())}}else e.status=0;n.cbTime=this.cbTime,f.emit("xhr-done",[t],t),c("xhr",[e,n,this.startTime])}}}function o(t,e){var n=t.responseType;if("json"===n&&null!==e)return e;var r="arraybuffer"===n||"blob"===n||"json"===n?t.response:t.responseText;return l(r)}function i(t,e){var n=s(e),r=t.params;r.host=n.hostname+":"+n.port,r.pathname=n.pathname,t.sameOrigin=n.sameOrigin}var a=t("loader");if(a.xhrWrappable){var c=t("handle"),s=t(15),f=t("ee"),u=["load","error","abort","timeout"],h=u.length,p=t("id"),d=t(18),l=t(17),m=window.XMLHttpRequest;a.features.xhr=!0,t(13),f.on("new-xhr",function(t){var e=this;e.totalCbs=0,e.called=0,e.cbTime=0,e.end=r,e.ended=!1,e.xhrGuids={},e.lastSize=null,d&&(d>34||d<10)||window.opera||t.addEventListener("progress",function(t){e.lastSize=t.loaded},!1)}),f.on("open-xhr-start",function(t){this.params={method:t[0]},i(this,t[1]),this.metrics={}}),f.on("open-xhr-end",function(t,e){"loader_config"in NREUM&&"xpid"in NREUM.loader_config&&this.sameOrigin&&e.setRequestHeader("X-NewRelic-ID",NREUM.loader_config.xpid)}),f.on("send-xhr-start",function(t,e){var n=this.metrics,r=t[0],o=this;if(n&&r){var i=l(r);i&&(n.txSize=i)}this.startTime=(new Date).getTime(),this.listener=function(t){try{"abort"===t.type&&(o.params.aborted=!0),("load"!==t.type||o.called===o.totalCbs&&(o.onloadCalled||"function"!=typeof e.onload))&&o.end(e)}catch(n){try{f.emit("internal-error",[n])}catch(r){}}};for(var a=0;a<h;a++)e.addEventListener(u[a],this.listener,!1)}),f.on("xhr-cb-time",function(t,e,n){this.cbTime+=t,e?this.onloadCalled=!0:this.called+=1,this.called!==this.totalCbs||!this.onloadCalled&&"function"==typeof n.onload||this.end(n)}),f.on("xhr-load-added",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&!this.xhrGuids[n]&&(this.xhrGuids[n]=!0,this.totalCbs+=1)}),f.on("xhr-load-removed",function(t,e){var n=""+p(t)+!!e;this.xhrGuids&&this.xhrGuids[n]&&(delete this.xhrGuids[n],this.totalCbs-=1)}),f.on("addEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-added",[t[1],t[2]],e)}),f.on("removeEventListener-end",function(t,e){e instanceof m&&"load"===t[0]&&f.emit("xhr-load-removed",[t[1],t[2]],e)}),f.on("fn-start",function(t,e,n){e instanceof m&&("onload"===n&&(this.onload=!0),("load"===(t[0]&&t[0].type)||this.onload)&&(this.xhrCbStart=(new Date).getTime()))}),f.on("fn-end",function(t,e){this.xhrCbStart&&f.emit("xhr-cb-time",[(new Date).getTime()-this.xhrCbStart,this.onload,e],e)})}},{}],15:[function(t,e,n){e.exports=function(t){var e=document.createElement("a"),n=window.location,r={};e.href=t,r.port=e.port;var o=e.href.split("://");!r.port&&o[1]&&(r.port=o[1].split("/")[0].split("@").pop().split(":")[1]),r.port&&"0"!==r.port||(r.port="https"===o[0]?"443":"80"),r.hostname=e.hostname||n.hostname,r.pathname=e.pathname,r.protocol=o[0],"/"!==r.pathname.charAt(0)&&(r.pathname="/"+r.pathname);var i=!e.protocol||":"===e.protocol||e.protocol===n.protocol,a=e.hostname===document.domain&&e.port===n.port;return r.sameOrigin=i&&(!e.hostname||a),r}},{}],16:[function(t,e,n){function r(){}function o(t,e,n){return function(){return i(t,[(new Date).getTime()].concat(c(arguments)),e?null:this,n),e?void 0:this}}var i=t("handle"),a=t(19),c=t(20),s=t("ee").get("tracer"),f=NREUM;"undefined"==typeof window.newrelic&&(newrelic=f);var u=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit"],h="api-",p=h+"ixn-";a(u,function(t,e){f[e]=o(h+e,!0,"api")}),f.addPageAction=o(h+"addPageAction",!0),e.exports=newrelic,f.interaction=function(){return(new r).get()};var d=r.prototype={createTracer:function(t,e){var n={},r=this,o="function"==typeof e;return i(p+"tracer",[Date.now(),t,n],r),function(){if(s.emit((o?"":"no-")+"fn-start",[Date.now(),r,o],n),o)try{return e.apply(this,arguments)}finally{s.emit("fn-end",[Date.now()],n)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(t,e){d[e]=o(p+e)}),newrelic.noticeError=function(t){"string"==typeof t&&(t=new Error(t)),i("err",[t,(new Date).getTime()])}},{}],17:[function(t,e,n){e.exports=function(t){if("string"==typeof t&&t.length)return t.length;if("object"==typeof t){if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer&&t.byteLength)return t.byteLength;if("undefined"!=typeof Blob&&t instanceof Blob&&t.size)return t.size;if(!("undefined"!=typeof FormData&&t instanceof FormData))try{return JSON.stringify(t).length}catch(e){return}}}},{}],18:[function(t,e,n){var r=0,o=navigator.userAgent.match(/Firefox[\/\s](\d+\.\d+)/);o&&(r=+o[1]),e.exports=r},{}],19:[function(t,e,n){function r(t,e){var n=[],r="",i=0;for(r in t)o.call(t,r)&&(n[i]=e(r,t[r]),i+=1);return n}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],20:[function(t,e,n){function r(t,e,n){e||(e=0),"undefined"==typeof n&&(n=t?t.length:0);for(var r=-1,o=n-e||0,i=Array(o<0?0:o);++r<o;)i[r]=t[e+r];return i}e.exports=r},{}],21:[function(t,e,n){function r(t){return!(t&&"function"==typeof t&&t.apply&&!t[a])}var o=t("ee"),i=t(20),a="nr@original",c=Object.prototype.hasOwnProperty,s=!1;e.exports=function(t){function e(t,e,n,o){function nrWrapper(){var r,a,c,s;try{a=this,r=i(arguments),c="function"==typeof n?n(r,a):n||{}}catch(u){h([u,"",[r,a,o],c])}f(e+"start",[r,a,o],c);try{return s=t.apply(a,r)}catch(p){throw f(e+"err",[r,a,p],c),p}finally{f(e+"end",[r,a,s],c)}}return r(t)?t:(e||(e=""),nrWrapper[a]=t,u(t,nrWrapper),nrWrapper)}function n(t,n,o,i){o||(o="");var a,c,s,f="-"===o.charAt(0);for(s=0;s<n.length;s++)c=n[s],a=t[c],r(a)||(t[c]=e(a,f?c+o:o,i,c))}function f(e,n,r){if(!s){s=!0;try{t.emit(e,n,r)}catch(o){h([o,e,n,r])}s=!1}}function u(t,e){if(Object.defineProperty&&Object.keys)try{var n=Object.keys(t);return n.forEach(function(n){Object.defineProperty(e,n,{get:function(){return t[n]},set:function(e){return t[n]=e,e}})}),e}catch(r){h([r])}for(var o in t)c.call(t,o)&&(e[o]=t[o]);return e}function h(e){try{t.emit("internal-error",e)}catch(n){}}return t||(t=o),e.inPlace=n,e.flag=a,e}},{}],ee:[function(t,e,n){function r(){}function o(t){function e(t){return t&&t instanceof r?t:t?c(t,a,i):i()}function n(n,r,o){t&&t(n,r,o);for(var i=e(o),a=p(n),c=a.length,s=0;s<c;s++)a[s].apply(i,r);var u=f[v[n]];return u&&u.push([w,n,r,i]),i}function h(t,e){m[t]=p(t).concat(e)}function p(t){return m[t]||[]}function d(t){return u[t]=u[t]||o(n)}function l(t,e){s(t,function(t,n){e=e||"feature",v[n]=e,e in f||(f[e]=[])})}var m={},v={},w={on:h,emit:n,get:d,listeners:p,context:e,buffer:l};return w}function i(){return new r}var a="nr@context",c=t("gos"),s=t(19),f={},u={},h=e.exports=o();h.backlog=f},{}],gos:[function(t,e,n){function r(t,e,n){if(o.call(t,e))return t[e];var r=n();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return t[e]=r,r}var o=Object.prototype.hasOwnProperty;e.exports=r},{}],handle:[function(t,e,n){function r(t,e,n,r){o.buffer([t],r),o.emit(t,e,n)}var o=t("ee").get("handle");e.exports=r,r.ee=o},{}],id:[function(t,e,n){function r(t){var e=typeof t;return!t||"object"!==e&&"function"!==e?-1:t===window?0:a(t,i,function(){return o++})}var o=1,i="nr@id",a=t("gos");e.exports=r},{}],loader:[function(t,e,n){function r(){if(!g++){var t=y.info=NREUM.info,e=u.getElementsByTagName("script")[0];if(t&&t.licenseKey&&t.applicationID&&e){s(v,function(e,n){t[e]||(t[e]=n)});var n="https"===m.split(":")[0]||t.sslForHttp;y.proto=n?"https://":"http://",c("mark",["onload",a()],null,"api");var r=u.createElement("script");r.src=y.proto+t.agent,e.parentNode.insertBefore(r,e)}}}function o(){"complete"===u.readyState&&i()}function i(){c("mark",["domContent",a()],null,"api")}function a(){return(new Date).getTime()}var c=t("handle"),s=t(19),f=window,u=f.document,h="addEventListener",p="attachEvent",d=f.XMLHttpRequest,l=d&&d.prototype;NREUM.o={ST:setTimeout,CT:clearTimeout,XHR:d,REQ:f.Request,EV:f.Event,PR:f.Promise,MO:f.MutationObserver},t(16);var m=""+location,v={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-spa-974.min.js"},w=d&&l&&l[h]&&!/CriOS/.test(navigator.userAgent),y=e.exports={offset:a(),origin:m,features:{},xhrWrappable:w};u[h]?(u[h]("DOMContentLoaded",i,!1),f[h]("load",r,!1)):(u[p]("onreadystatechange",o),f[p]("onload",r)),c("mark",["firstbyte",a()],null,"api");var g=0},{}]},{},["loader",2,14,5,3,4]),NREUM.info={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",licenseKey:"d1734eda45",applicationID:"3785502",sa:1});
})();
</script>

<script src="http://cdn.espn.com/core/format/modules/head/i18n?edition-host=espn.com&lang=en&region=us&site=espn&site-type=full&type=ext&build=0.365.8.1&edition-view=espn-en-us&edition=espn-en-us"></script>

<script>
!function(){function n(n,e,i){var t;if(i){var o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3),t="; expires="+o.toGMTString()}else t="";document.cookie=n+"="+e+t+"; path=/"}function e(n){for(var e=n+"=",i=document.cookie.split(";"),t=0;t<i.length;t++){for(var o=i[t];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(e))return o.substring(e.length,o.length)}return null}function i(t,o,r,s){var c=t||e("country"),a=o||e("country-view"),f=s||e("edition-view"),d=r||e("edition"),g=f||d,u=!1;if(!c)return void document.addEventListener("DOMContentLoaded",function(n){espn.geo.getLocation().done(function(n){c=window.espn_util.find(n||{},["country","isoCodeAlpha2"]),i(c)})});if("in"!==c&&window.location.href.match(/(\?|\&)(src|country-view)=/))null===a&&n("country-view",espn.i18n.country,30);else if("en"===espn.i18n.lang){var l=a||c,m="|"+l+"|",p=espn.i18n.lang,v="|in|au|za|gb|ar|co|cl|mx|ve|",h="|bd|bt|in|mv|np|pk|af|lk|",w="|as|au|ck|fj|pf|ki|mh|fm|nu|pw|pg|tk|to|tv|ws|",x="|ao|bj|bw|bf|bi|cm|cv|cf|td|km|cg|cd|ci|dj|gq|er|et|ga|gm|gh|gn|gw|ke|ls|lr|mg|mw|ml|mr|mu|mz|na|ne|ng|re|rw|st|sn|sc|sl|so|za|ss|sd|sz|tz|tg|ug|ye|zm|zw|",b="|uk|gb|fk|gg|gi|gs|im|io|je|sh|",O="|ar|uy|py|pe|bo|",k="|co|ec|",y="|cl|",z="|mx|gt|hn|sv|ni|cr|pa|bz|",A="|pr|es|",j="|ve|";if(h.indexOf(m)>-1?l="in":w.indexOf(m)>-1?l="au":b.indexOf(m)>-1?l="gb":x.indexOf(m)>-1?l="za":O.indexOf(m)>-1?(p="es",l="ar"):k.indexOf(m)>-1?(l="co",p="es"):y.indexOf(m)>-1?(l="cl",p="es"):z.indexOf(m)>-1?(l="mx",p="es"):A.indexOf(m)>-1?(l="us",p="es"):j.indexOf(m)>-1&&(l="ve",p="es"),g&&"au"!==l&&"za"!==l&&"es"!==p&&(u=!0),!u&&v.indexOf(l)>-1){for(var L,T=document.querySelectorAll("link[hreflang]"),q=0;q<T.length;q++){var C=T[q],D=C.getAttribute("hreflang"),E=new RegExp(p+"-"+l,"i");if(void 0!==D&&D.match(E)){var M=C.getAttribute("href");void 0!==M&&(L=M)}}!L||espn.i18n.country===l&&-1!==L.indexOf(espn.i18n.domain)||(window.location.href=L)}}}espn&&espn.i18n&&(window.location.href.match(/(https?:\/\/insider.|\/insider)/)||i())}();
</script>


<link href='http://a.espncdn.com' rel='preconnect' crossorigin>
<link href='http://a1.espncdn.com' rel='preconnect' crossorigin>
<link href='http://a2.espncdn.com' rel='preconnect' crossorigin>
<link href='http://a3.espncdn.com' rel='preconnect' crossorigin>
<link href='http://a4.espncdn.com' rel='preconnect' crossorigin>
<link href='http://tredir.go.com' rel='preconnect' crossorigin>
<link href='https://cdn.registerdisney.go.com' rel='preconnect' crossorigin>
<link href='http://fan.api.espn.com' rel='preconnect' crossorigin>
<link href='http://cdn.espn.com' rel='preconnect' crossorigin>

<link rel="mask-icon" sizes="any" href="http://a.espncdn.com/prod/assets/icons/E.svg" color="#990000">
<link rel="shortcut icon" href="http://a.espncdn.com/favicon.ico" />
<link rel="apple-touch-icon" href="http://a.espncdn.com/wireless/mw5/r1/images/bookmark-icons/espn_icon-57x57.min.png" />
<link rel="apple-touch-icon-precomposed" href="http://a.espncdn.com/wireless/mw5/r1/images/bookmark-icons/espn_icon-57x57.min.png">
<link rel="apple-touch-icon-precomposed" sizes="72x72" href="http://a.espncdn.com/wireless/mw5/r1/images/bookmark-icons/espn_icon-72x72.min.png">
<link rel="apple-touch-icon-precomposed" sizes="114x114" href="http://a.espncdn.com/wireless/mw5/r1/images/bookmark-icons/espn_icon-114x114.min.png">
<link rel="apple-touch-icon-precomposed" sizes="152x152" href="http://a.espncdn.com/wireless/mw5/r1/images/bookmark-icons/espn_icon-152x152.min.png">

<script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o||n)},o,o.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({1:[function(e,n,t){function r(){}function o(e,n,t){return function(){return i(e,[c.now()].concat(u(arguments)),n?null:this,t),n?void 0:this}}var i=e("handle"),a=e(2),u=e(3),f=e("ee").get("tracer"),c=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,n){s[n]=o(d+n,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,o="function"==typeof n;return i(l+"tracer",[c.now(),e,t],r),function(){if(f.emit((o?"":"no-")+"fn-start",[c.now(),r,o],t),o)try{return n.apply(this,arguments)}finally{f.emit("fn-end",[c.now()],t)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=o(l+n)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,c.now()])}},{}],2:[function(e,n,t){function r(e,n){var t=[],r="",i=0;for(r in e)o.call(e,r)&&(t[i]=n(r,e[r]),i+=1);return t}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],3:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(o<0?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=r},{}],4:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function o(e){function n(e){return e&&e instanceof r?e:e?f(e,u,i):i()}function t(t,r,o,i){if(!d.aborted||i){e&&e(t,r,o);for(var a=n(o),u=m(t),f=u.length,c=0;c<f;c++)u[c].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function l(e,n){v[e]=m(e).concat(n)}function m(e){return v[e]||[]}function w(e){return p[e]=p[e]||o(t)}function g(e,n){c(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var v={},y={},b={on:l,emit:t,get:w,listeners:m,context:n,buffer:g,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",f=e("gos"),c=e(2),s={},p={},d=n.exports=o();d.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(o.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){o.buffer([e],r),o.emit(e,n,t)}var o=e("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!x++){var e=h.info=NREUM.info,n=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();c(y,function(n,t){e[n]||(e[n]=t)}),f("mark",["onload",a()+h.offset],null,"api");var t=d.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function o(){"complete"===d.readyState&&i()}function i(){f("mark",["domContent",a()+h.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-h.offset}var u=(new Date).getTime(),f=e("handle"),c=e(2),s=e("ee"),p=window,d=p.document,l="addEventListener",m="attachEvent",w=p.XMLHttpRequest,g=w&&w.prototype;NREUM.o={ST:setTimeout,SI:p.setImmediate,CT:clearTimeout,XHR:w,REQ:p.Request,EV:p.Event,PR:p.Promise,MO:p.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1044.min.js"},b=w&&g&&g[l]&&!/CriOS/.test(navigator.userAgent),h=n.exports={offset:u,now:a,origin:v,features:{},xhrWrappable:b};e(1),d[l]?(d[l]("DOMContentLoaded",i,!1),p[l]("load",r,!1)):(d[m]("onreadystatechange",o),p[m]("onload",r)),f("mark",["firstbyte",u],null,"api");var x=0,E=e(4)},{}]},{},["loader"]);</script><link rel="alternate" href="android-app://com.espn.score_center/sportscenter/x-callback-url/showStory?uid=14-97161-57&type=nowItem" />
<link rel="alternate" href="ios-app://317469184/sportscenter/x-callback-url/showStory?uid=14-97161-57&type=nowItem" />
<link id="font-link" rel="stylesheet" href="http://a.espncdn.com/redesign/fonts/base64-benton-woff.css"><link rel="stylesheet" href="http://a.espncdn.com/redesign/0.365.8/css/shell-desktop.css" /><link rel="stylesheet" href="http://a.espncdn.com/redesign/0.365.8/css/page.css"><link class="page-type-include" rel="stylesheet" href="http://a.espncdn.com/redesign/0.365.8/css/story.css">
        <script src="http://a.espncdn.com/redesign/0.365.8/js/espn-head.js"></script>

<script>
    var espn = espn || {};
    espn.isOneSite = true;
    espn.build = "0.365.8";
    espn.siteType = "full";

</script>
<script src="http://a.espncdn.com/redesign/0.365.8/node_modules/espn-lazysizes/lazysizes.js" async></script>


    <script>
        window.googletag = window.googletag || {};

        (function () {
            espn = window.espn || {};
            espn.ads = espn.ads || {};
            espn.ads.config = {"level":"espn.com/blog/blog/new-yorkyankees/postnewyork","delayInPageAdSlots":true,"incontentPositions":{"defaults":{"favorites":-1,"news":4,"now":4},"index":{"top":{"favorites":-1},"nfl":{}}},"network":"6444","refreshOnBreakpointChange":true,"amznAdConfig":{"espn-en":10000,"useAmznBids":true},"sizes":{"presby":{"mappings":[{"viewport":[0,0],"slot":[[112,62]]}],"defaultSize":[112,62]},"overlay":{"mappings":[{"viewport":[0,0],"slot":[[0,0]]}],"defaultSize":[0,0]},"wallpaper":{"mappings":[{"viewport":[1280,0],"slot":[[1680,1050]]},{"viewport":[1024,0],"slot":[[1280,455]]},{"viewport":[0,0],"slot":[]}],"defaultSize":[1680,1050]},"presentedbylogo":{"mappings":[{"viewport":[1024,0],"slot":[[128,30]]},{"viewport":[0,0],"slot":[[90,20]]}],"defaultSize":[128,30]},"native":{"mappings":[{"viewport":[0,0],"slot":[[1,4]]}],"defaultSize":[1,4]},"incontentstrip":{"mappings":[{"viewport":[1024,0],"slot":[298,50]},{"viewport":[0,0],"slot":[]}],"defaultSize":[298,50]},"incontent2":{"mappings":[{"viewport":[0,0],"slot":[[300,250]]}],"defaultSize":[300,250]},"banner":{"mappings":[{"viewport":[1280,0],"slot":[[1280,100]]},{"viewport":[1024,0],"slot":[[970,66],[970,250]]},{"viewport":[768,0],"slot":[[728,90]]},{"viewport":[320,0],"slot":[[320,50]]},{"viewport":[0,0],"slot":[[240,38]]}],"defaultSize":[970,66]},"exclusions":{"mappings":[{"viewport":[0,0],"slot":[[1,2]]}],"defaultSize":[1,2]},"instream":{"mappings":[{"viewport":[0,0],"slot":[[1,3]]}],"defaultSize":[1,3]},"incontent":{"mappings":[{"viewport":[1024,0],"slot":[[300,250],[300,600]]}],"defaultSize":[300,250]},"midpage":{"mappings":[{"viewport":[1280,0],"slot":[[700,400]]},{"viewport":[1024,0],"slot":[[440,330]]},{"viewport":[768,0],"slot":[[320,250]]},{"viewport":[0,0],"slot":[[320,250]]}],"defaultSize":[320,250]}},"load":{"schedule":{"tablet":"window.load","desktop":"window.load","mobile":"window.load"},"frontpage":{"tablet":"init","desktop":"init","mobile":"window.load"},"defaults":{"tablet":"init","desktop":"init","mobile":"window.load"},"index":{"tablet":"window.load","desktop":"window.load","mobile":"window.load"},"scoreboard":{"tablet":"window.load","desktop":"window.load","mobile":"window.load"},"standings":{"tablet":"window.load","desktop":"window.load","mobile":"window.load"},"story":{"tablet":"window.load","desktop":"window.load","mobile":"window.load"}},"supportDynamicPageLoad":true,"selector":".ad-slot","disabled":"false","breakpoints":{"s":[0,767],"xl":[1280],"l":[1024,1279],"m":[768,1023]},"dynamicKeyValues":{"profile":{"key":"prof"}},"id":12129264,"kvps":[{"name":"ed","value":"us"},{"name":"pgn","value":"newyorkyankees"},{"name":"sp","value":"newyorkblog"},{"name":"objid","value":"97161"},{"name":"col","value":["andrew_marchand","marchand_andrew"]},{"name":"pgtyp","value":"blog"}],"base":"espn.com"};
            googletag.cmd = googletag.cmd || [];

            var espnAdsConfig = espn.ads.config;

            espn.ads.loadGPT = function () {
                var gads = document.createElement('script');
                gads.async = true;
                gads.type = 'text/javascript';
                gads.src = 'https://www.googletagservices.com/tag/js/gpt.js';
                var node = document.getElementsByTagName('script')[0];
                node.parentNode.insertBefore(gads, node);
                delete espn.ads.loadGPT;
            }

            if (espn.siteType === 'data-lite') {
                /**
                 * Load ad library after our deferred files. Event subscription must
                 * occur on window.load to ensure pub/sub availability.
                 */

                // Ad calls will be made when ad library inits (after window.load).
                var liteAdLoadConfigs = {
                    desktop: 'init',
                    mobile: 'init',
                    tablet: 'init'
                };

                espnAdsConfig.load = espnAdsConfig.load || {};
                espnAdsConfig.load.defaults = liteAdLoadConfigs
                espnAdsConfig.load.frontpage = liteAdLoadConfigs;
                espnAdsConfig.load.index = liteAdLoadConfigs;
                espnAdsConfig.load.story = liteAdLoadConfigs;
            } else {
                espn.ads.loadGPT();
            }

            if (espnAdsConfig.amznAdConfig && espnAdsConfig.amznAdConfig.useAmznBids) {


                // Load Amazon a9 header bidding script asynchronously.
                !function(a9,a,p,s,t,A,g){if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r])}a[a9]={init:function(){q('i',arguments)},fetchBids:function()
                {q('f',arguments)},_Q:[]};A=p.createElement(s);A.async=!0;A.src=t;g=p.getElementsByTagName(s)[0];g.parentNode.insertBefore(A,g)}
                ('apstag',window,document,'script','//c.amazon-adsystem.com/aax2/apstag.js');
            }

            espn.ads.configPre = JSON.parse(JSON.stringify(espnAdsConfig));
        })();
    </script>


<script type="text/javascript">
    if( typeof s_omni === "undefined" ) window.s_account = window.setReportSuite( "wdgespcom" );
</script>


            <!-- optimizely js -->
            <script type="text/javascript" src="http://cdn.optimizely.com/js/310987714.js" async></script>


<script>
    // Picture element HTML shim|v it for old IE (pairs with Picturefill.js)
    document.createElement("picture");
</script>

    </head>

    <body class="story desktop  prod  " data-pagetype="story" data-sport="mlb" data-customstylesheet="null" data-lang="en" data-edition="en-us" data-app="">
        <div class="ad-slot ad-slot-exclusions" data-slot-type="exclusions" data-slot-kvps="pos=exclusions" data-category-exclusion="true"></div><div class="ad-slot ad-slot-overlay" data-slot-type="overlay" data-slot-kvps="pos=outofpage" data-out-of-page="true"></div><div class="ad-slot ad-slot-wallpaper" data-slot-type="wallpaper" data-exclude-bp="s,m" data-slot-kvps="pos=wallpaper" data-collapse-before-load="true"></div>
        <!-- abtest data object global -->
        <script type="text/javascript">
            var abtestData = {};
            abtestData.abTestUser = "0";

        </script>


            <!-- optimizely - initialize Optimizely object: temp hard-coded -->
            <script type="text/javascript">
                window['optimizely'] = window['optimizely'] || [];
            </script>


        <div id="fb-root"></div>


        <div id="global-viewport" data-behavior="global_nav_condensed global_nav_full"  class =" interior secondary">

<nav id="global-nav-mobile" data-loadtype="server"></nav>

            <div class="menu-overlay-primary"></div>

            <div id="header-wrapper" data-behavior="global_header" class="hidden-print">


<section id="global-scoreboard" class="hide-fullbtn">
    <div class="wrap">
        <div class="scoreboard-content">

            <div class="scoreboard-dropdown-wrapper scoreboard-menu">
                <!-- mobile dropdown -->
                <div class="league-nav-wrapper league-nav-mobile mobile-dropdown">
                    <span class="mobile-arrow"></span>
                    <select id="league-nav"></select>
                </div>

                <!-- desktop dropdown -->
                <div class="dropdown-wrapper league-nav-desktop desktop-dropdown" data-behavior="button_dropdown">
                    <button type="button" class="button button-filter med dropdown-toggle current-league-name"></button>
                    <ul class="dropdown-menu league-nav med"></ul>
                </div>
            </div>

            <div class="scoreboard-dropdown-wrapper  conference-menu">
                <!-- mobile dropdown -->
                <div class="conference-nav-wrapper mobile-dropdown">
                    <span class="mobile-arrow"></span>
                    <select id="conference-nav"></select>
                </div>

                <!-- desktop dropdown -->
                <div class="dropdown-wrapper desktop-dropdown" data-behavior="button_dropdown">
                    <button type="button" class="button button-filter med dropdown-toggle current-conference-name"></button>
                    <ul class="dropdown-menu conference-nav med"></ul>
                </div>
            </div>



            <div class="scoreboard-dropdown-wrapper scores-date-pick">
                <div class="dropdown-wrapper" data-behavior="button_dropdown">
                    <button type="button" class="button button-filter dropdown-toggle med selected-date"></button>
                    <ul class="dropdown-menu date-nav med"></ul>
                </div>
            </div>






            <div class="scoreboard-dropdown-wrapper secondary-nav-container hidden"></div>

            <div class="scores-prev controls inactive">&lt;</div>
            <div id="fullbtn" class="view-full"></div>
            <div class="scores-next controls">&gt;</div>
            <div class="scores-carousel">
                <ul id="leagues"></ul>
            </div>
        </div>
    </div>
</section>

<header id="global-header" class="espn-en user-account-management has-search">
    <div class="menu-overlay-secondary"></div>

    <div class="container">
        <a id="global-nav-mobile-trigger" href="#" data-route="false"><span>Menu</span></a><h1><a href="/"  name="&lpos=sitenavdefault&lid=sitenav_main-logo">ESPN</a></h1><ul class="tools"><li class="search">
<a href="#" class="icon-font-after icon-search-solid-after" id="global-search-trigger"></a>
<div id="global-search" class="global-search">
    <input type="text" class="search-box" placeholder="Search Sports, Teams or Players..."><input type="submit" class="btn-search">
</div></li><li class="user" data-behavior="favorites_mgmt"></li><li id="scores-link"><a href="#" id="global-scoreboard-trigger" data-route="false">Scores</a></ul>
    </div>

<nav id="global-nav" data-loadtype="server">
<ul itemscope="" itemtype="http://www.schema.org/SiteNavigationElement">
<li itemprop="name"><a itemprop="url" href="/nfl/">NFL</a></li><li itemprop="name"><a itemprop="url" href="/nba/">NBA</a></li><li itemprop="name"><a itemprop="url" href="/mlb/">MLB</a></li><li itemprop="name"><a itemprop="url" href="/college-football/">NCAAF</a></li><li itemprop="name"><a itemprop="url" href="http://www.espnfc.com">Soccer</a></li><li itemprop="name"><a itemprop="url" href="/nhl/">NHL</a></li><li itemprop="name"><a itemprop="url" href="#">&hellip;</a><div><ul class="split"><li itemprop="name"><a itemprop="url" href="/tennis/">Tennis</a></li><li itemprop="name"><a itemprop="url" href="/golf/">Golf</a></li><li itemprop="name"><a itemprop="url" href="/mens-college-basketball/">NCAAM</a></li><li itemprop="name"><a itemprop="url" href="/mma/">MMA</a></li><li itemprop="name"><a itemprop="url" href="/wwe/">WWE</a></li><li itemprop="name"><a itemprop="url" href="/boxing/">Boxing</a></li><li itemprop="name"><a itemprop="url" href="/esports/">esports</a></li><li itemprop="name"><a itemprop="url" href="/chalk/">Chalk</a></li><li itemprop="name"><a itemprop="url" href="/analytics/">Analytics</a></li><li itemprop="name"><a itemprop="url" href="/womens-basketball/">NCAAW</a></li><li itemprop="name"><a itemprop="url" href="/womens-basketball/">WNBA</a></li><li itemprop="name"><a itemprop="url" href="/racing/nascar/">NASCAR</a></li><li itemprop="name"><a itemprop="url" href="/jayski/">Jayski </a></li><li itemprop="name"><a itemprop="url" href="/racing/">Racing</a></li><li itemprop="name"><a itemprop="url" href="/horse-racing/">Horse</a></li><li itemprop="name"><a itemprop="url" href="http://www.espn.com/college-sports/football/recruiting/">RN FB</a></li><li itemprop="name"><a itemprop="url" href="http://www.espn.com/college-sports/basketball/recruiting/index">RN BB</a></li><li itemprop="name"><a itemprop="url" href="/college-sports/">NCAA</a></li><li itemprop="name"><a itemprop="url" href="http://www.espn.com/sports/llws17/story/_/page/LittleLeagueWorldSeries/little-league-world-series-espn">LLWS</a></li><li itemprop="name"><a itemprop="url" href="/olympics/">Olympic Sports</a></li><li itemprop="name"><a itemprop="url" href="http://www.espn.com/specialolympics/">Special Olympics</a></li><li itemprop="name"><a itemprop="url" href="http://xgames.com/">X Games</a></li><li itemprop="name"><a itemprop="url" href="http://espncricinfo.com/">Cricket</a></li><li itemprop="name"><a itemprop="url" href="http://www.espnscrum.com/">Rugby</a></li><li itemprop="name"><a itemprop="url" href="/endurance/">Endurance</a></li><li itemprop="name"><a itemprop="url" href="http://www.tsn.ca/cfl">CFL</a></li></ul></div></li><li class="pillar more-espn"><a href="#">More ESPN</a></li><li class="pillar fantasy"><a href="/fantasy/">Fantasy</a></li><li class="pillar listen"><a href="http://www.espn.com/espnradio/index">Listen</a></li><li class="pillar watch"><a href="http://www.espn.com/watch/">Watch</a></li></ul>

</nav>






<nav id="global-nav-secondary" data-loadtype="tier-2-server" >
<div class="global-nav-container">
<ul class="first-group"><li class="sports" itemprop="name"><span class="positioning"><a href="/mlb/"><span class="brand-logo "><img src="http://a.espncdn.com/combiner/i?img=/i/teamlogos/leagues/500/mlb.png&w=80&h=80&transparent=true"></span><span class="link-text">MLB</span><span class="link-text-short">MLB</span></a></span></li><li class="sub"><a href="/mlb/"  data-breakpoints="desktop,desktop-lg,mobile" ><span class="link-text">Home</span><span class="link-text-short">Home</span></a></li><li class="sub"><a href="/mlb/scoreboard" ><span class="link-text">Scores</span><span class="link-text-short">Scores</span></a></li><li class="sub"><a href="/mlb/schedule" ><span class="link-text">Schedule</span><span class="link-text-short">Schedule</span></a></li><li class="sub"><a href="/mlb/standings"  data-match-url="/standings/" ><span class="link-text">Standings</span><span class="link-text-short">Standings</span></a></li><li class="sub"><a href="http://www.espn.com/mlb/statistics"  data-mobile="false" ><span class="link-text">Stats</span><span class="link-text-short">Stats</span></a></li><li class="sub"><a href="http://www.espn.com/mlb/teams"  data-sportAbbrev="mlb" ><span class="link-text">Teams</span><span class="link-text-short">Teams</span></a></li><li class="sub"><a href="http://www.espn.com/mlb/story/_/page/powerrankings_2017week23/ranking-mlb-teams-week-23-season" ><span class="link-text">Power Rankings</span><span class="link-text-short">Power Rankings</span></a></li><li class="sub"><a href="http://www.espn.com/mlb/huntforoctober"  data-mobile="false" ><span class="link-text">2017 Hunt for October</span><span class="link-text-short">2017 Hunt for October</span></a></li><li class="sub pre-loadSubNav"><a href="http://www.espn.com/mlb/story/_/page/playoffs17_schedule/2017-mlb-playoff-schedule" ><span class="link-text">2017 Playoff Schedule</span><span class="link-text-short">2017 Playoff Schedule</span></a></li><li class="sub pre-loadSubNav"><a href="/blog/mlb/rumors" ><span class="link-text">Rumors</span><span class="link-text-short">Rumors</span></a></li><li class="sub pre-loadSubNav"><a href="http://www.espn.com/mlb/transactions"  data-mobile="false" ><span class="link-text">Transactions</span><span class="link-text-short">Transactions</span></a></li><li class="sub pre-loadSubNav"><a href="http://www.espn.com/mlb/players"  data-mobile="false" ><span class="link-text">Players</span><span class="link-text-short">Players</span></a></li><li class="sub pre-loadSubNav"><a href="http://www.espn.com/mlb/story/_/id/20086801/mlb-trade-deadline-2017" ><span class="link-text">2017 Trade Deadline</span><span class="link-text-short">2017 Trade Deadline</span></a></li><li class="sub pre-loadSubNav"><a href="http://www.espn.com/mlb/story/_/id/20148142/2017-baseball-hall-fame-enshrinement" ><span class="link-text">2017 Hall of Fame</span><span class="link-text-short">2017 Hall of Fame</span></a></li><li class="sub pre-loadSubNav"><a href="http://www.espn.com/mlb/story/_/id/19317796/2017-mlb-first-year-player-draft" ><span class="link-text">2017 MLB Draft</span><span class="link-text-short">2017 MLB Draft</span></a></li><li class="sub pre-loadSubNav"><a href="http://www.espn.com/mlb/freeagents"  data-mobile="false" ><span class="link-text">Free Agents</span><span class="link-text-short">Free Agents</span></a></li><li class="sub pre-loadSubNav"><a href="http://www.espn.com/mlb/beisbolexperience/" ><span class="link-text">Béisbol Experience</span><span class="link-text-short">Béisbol Experience</span></a></li><li class="sub external pre-loadSubNav"><a href="http://www.vividseats.com/mlb-baseball?wsUser=717&wsVar=MLBindexnav" ><span class="link-text">Tickets</span><span class="link-text-short">Tickets</span></a></li><li class="sub pre-loadSubNav"><a href="http://www.espn.com/mlb/injuries"  data-mobile="false" ><span class="link-text">Injuries</span><span class="link-text-short">Injuries</span></a></li><li class="sub pre-loadSubNav"><a href="/chalk/" ><span class="link-text">Chalk</span><span class="link-text-short">Chalk</span></a></li><li class="sub pre-loadSubNav"><a href="http://www.espn.com/mlb/lines"  data-mobile="false" ><span class="link-text">Daily Lines</span><span class="link-text-short">Lines</span></a></li><li class="sub insider pre-loadSubNav"><a href="http://insider.espn.com/insider/pickcenter/index?sport=mlb"  data-mobile="false" ><span class="link-text">PickCenter</span><span class="link-text-short">PickCenter</span></a></li><li class="sub pre-loadSubNav"><a href="http://www.espn.com/espnradio/podcast/archive?id=2386164"  data-mobile="false" ><span class="link-text">BBTN Podcast</span><span class="link-text-short">BBTN Podcast</span></a></li><li class="sub has-sub pre-loadSubNav"><a href="/mlb/story/_/id/12611338/mlb-blogs" ><span class="link-text">Blogs</span><span class="link-text-short">Blogs</span></a></li></ul>
    <script type="text/javascript">
        var espn = espn || {};
        espn.nav = espn.nav || {};
        espn.nav.navId = 11929946;
        espn.nav.isFallback = false;


            espn.nav.tier2 = {"subNavMenu":{"navigation":{"links":[{"isExternal":false,"shortText":"MLB","rel":["sports"],"text":"MLB","href":"/mlb/","isPremium":false}],"attributes":{"sport_id":"10","root":"mlb"},"text":"MLB","title":"MLB Menu - LIVE","$ref":"/v2/navigation/12001873","items":[{"links":[{"isExternal":false,"shortText":"Home","rel":["sub"],"attributes":{"breakpoints":"desktop,desktop-lg,mobile"},"text":"Home","href":"/mlb/","isPremium":false}],"title":"MLB Home Desktop Only","$ref":"/v2/navigation/12001915"},{"links":[{"isExternal":false,"shortText":"Home","rel":["sub"],"attributes":{"pagetype":"index","tab":"2","breakpoints":"tablet"},"text":"Home","href":"/mlb/index?tab=2","isPremium":false}],"title":"MLB News","$ref":"/v2/navigation/12001878"},{"links":[{"isExternal":false,"shortText":"More","rel":["sub"],"attributes":{"placeholder":"more","breakpoints":"mobile"},"text":"More","href":"#","isPremium":false}],"title":"Subnav More - DO NOT EDIT","$ref":"/v2/navigation/11494110"},{"links":[{"isExternal":false,"shortText":"Scores","rel":["sub"],"text":"Scores","href":"/mlb/scoreboard","isPremium":false}],"title":"MLB Scores","$ref":"/v2/navigation/11586778"},{"links":[{"isExternal":false,"shortText":"Schedule","rel":["sub"],"text":"Schedule","href":"/mlb/schedule","isPremium":false}],"title":"MLB Schedule","$ref":"/v2/navigation/11586742"},{"links":[{"isExternal":false,"shortText":"Standings","rel":["sub"],"attributes":{"match-url":"/standings/"},"text":"Standings","href":"/mlb/standings","isPremium":false}],"title":"MLB Standings","$ref":"/v2/navigation/11586776"},{"links":[{"isExternal":false,"shortText":"Stats","rel":["sub"],"attributes":{"mobile":"false"},"text":"Stats","href":"http://www.espn.com/mlb/statistics","isPremium":false},{"isExternal":false,"shortText":"Stats","rel":["sub"],"attributes":{"mobile":"true"},"text":"Stats","href":"http://m.espn.com/mlb/leagueleaders","isPremium":false}],"title":"MLB Stats","$ref":"/v2/navigation/11586772"},{"links":[{"isExternal":false,"shortText":"Teams","rel":["sub"],"attributes":{"sportAbbrev":"mlb"},"text":"Teams","href":"http://www.espn.com/mlb/teams","isPremium":false}],"title":"MLB Teams","$ref":"/v2/navigation/11452966"},{"links":[{"isExternal":false,"shortText":"Power Rankings","rel":["sub"],"text":"Power Rankings","href":"http://www.espn.com/mlb/story/_/page/powerrankings_2017week23/ranking-mlb-teams-week-23-season","isPremium":false}],"title":"MLB Power Rankings","$ref":"/v2/navigation/11586711"},{"links":[{"isExternal":false,"shortText":"2017 Hunt for October","rel":["sub"],"attributes":{"mobile":"false"},"text":"2017 Hunt for October","href":"http://www.espn.com/mlb/huntforoctober","isPremium":false}],"title":"2017 Hunt for October","$ref":"/v2/navigation/17449478"},{"links":[{"isExternal":false,"shortText":"2017 Playoff Schedule","rel":["sub"],"text":"2017 Playoff Schedule","href":"http://www.espn.com/mlb/story/_/page/playoffs17_schedule/2017-mlb-playoff-schedule","isPremium":false}],"title":"2017 Playoff Schedule","$ref":"/v2/navigation/20345854"},{"links":[{"isExternal":false,"shortText":"Rumors","rel":["sub"],"text":"Rumors","href":"/blog/mlb/rumors","isPremium":false}],"title":"Rumors","$ref":"/v2/navigation/11586731"},{"links":[{"isExternal":false,"shortText":"Transactions","rel":["sub"],"attributes":{"mobile":"false"},"text":"Transactions","href":"http://www.espn.com/mlb/transactions","isPremium":false},{"isExternal":false,"shortText":"Transactions","rel":["sub"],"attributes":{"mobile":"true"},"text":"Transactions","href":"http://m.espn.com/mlb/transactions","isPremium":false}],"title":"Transactions","$ref":"/v2/navigation/11586705"},{"links":[{"isExternal":false,"shortText":"Players","rel":["sub"],"attributes":{"mobile":"false"},"text":"Players","href":"http://www.espn.com/mlb/players","isPremium":false}],"title":"MLB Players","$ref":"/v2/navigation/11586740"},{"links":[{"isExternal":false,"shortText":"2017 Trade Deadline","rel":["sub"],"text":"2017 Trade Deadline","href":"http://www.espn.com/mlb/story/_/id/20086801/mlb-trade-deadline-2017","isPremium":false}],"title":"2017 Trade Deadline","$ref":"/v2/navigation/20094610"},{"links":[{"isExternal":false,"shortText":"2017 Hall of Fame","rel":["sub"],"text":"2017 Hall of Fame","href":"http://www.espn.com/mlb/story/_/id/20148142/2017-baseball-hall-fame-enshrinement","isPremium":false}],"title":"2017 Hall of Fame","$ref":"/v2/navigation/20162890"},{"links":[{"isExternal":false,"shortText":"2017 MLB Draft","rel":["sub"],"text":"2017 MLB Draft","href":"http://www.espn.com/mlb/story/_/id/19317796/2017-mlb-first-year-player-draft","isPremium":false}],"title":"MLB 2017 Draft","$ref":"/v2/navigation/19357708"},{"links":[{"isExternal":false,"shortText":"Free Agents","rel":["sub"],"attributes":{"mobile":"false"},"text":"Free Agents","href":"http://www.espn.com/mlb/freeagents","isPremium":false}],"title":"Free Agents","$ref":"/v2/navigation/11586696"},{"links":[{"isExternal":false,"shortText":"B\u00e9isbol Experience","rel":["sub"],"text":"B\u00e9isbol Experience","href":"http://www.espn.com/mlb/beisbolexperience/","isPremium":false}],"title":"B\u00e9isbol Experience","$ref":"/v2/navigation/13462759"},{"links":[{"isExternal":true,"shortText":"Tickets","rel":["sub"],"text":"Tickets","href":"http://www.vividseats.com/mlb-baseball?wsUser=717&wsVar=MLBindexnav","isPremium":false}],"title":"MLB Tickets","$ref":"/v2/navigation/11586627"},{"links":[{"isExternal":false,"shortText":"Injuries","rel":["sub"],"attributes":{"mobile":"false"},"text":"Injuries","href":"http://www.espn.com/mlb/injuries","isPremium":false}],"title":"MLB Injuries","$ref":"/v2/navigation/11586649"},{"links":[{"isExternal":false,"shortText":"Chalk","rel":["sub"],"text":"Chalk","href":"/chalk/","isPremium":false}],"title":"Odds & Info","$ref":"/v2/navigation/11586258"},{"links":[{"isExternal":false,"shortText":"Lines","rel":["sub"],"attributes":{"mobile":"false"},"text":"Daily Lines","href":"http://www.espn.com/mlb/lines","isPremium":false}],"title":"MLB Daily Lines","$ref":"/v2/navigation/12712133"},{"links":[{"isExternal":false,"shortText":"PickCenter","rel":["sub"],"attributes":{"mobile":"false"},"text":"PickCenter","href":"http://insider.espn.com/insider/pickcenter/index?sport=mlb","isPremium":true}],"title":"MLB PickCenter","$ref":"/v2/navigation/11586631"},{"links":[{"isExternal":false,"shortText":"BBTN Podcast","rel":["sub"],"attributes":{"mobile":"false"},"text":"BBTN Podcast","href":"http://www.espn.com/espnradio/podcast/archive?id=2386164","isPremium":false}],"title":"MLB BBTN Podcast","$ref":"/v2/navigation/12743415"},{"links":[{"isExternal":false,"shortText":"Blogs","rel":["none","sub"],"text":"Blogs","href":"/mlb/story/_/id/12611338/mlb-blogs","isPremium":false}],"text":"Blogs","title":"MLB Blogs Menu","$ref":"/v2/navigation/12595843","items":[{"links":[{"isExternal":false,"shortText":"Buster Olney","attributes":{"mobile":"false"},"text":"Buster Olney","href":"/blog/buster-olney/insider/","isPremium":false}],"title":"MLB Buster Olney Blog","$ref":"/v2/navigation/12599185"},{"links":[{"isExternal":false,"shortText":"SweetSpot","attributes":{"mobile":"false"},"text":"SweetSpot","href":"/blog/sweetspot","isPremium":false}],"title":"MLB SweetSpot Blog","$ref":"/v2/navigation/12599182"},{"links":[{"isExternal":false,"shortText":"The GM's Office","attributes":{"mobile":"false"},"text":"The GM's Office","href":"/blog/the-gms-office/insider/","isPremium":false}],"title":"MLB The GM's Office Blog","$ref":"/v2/navigation/12599172"},{"links":[{"isExternal":false,"shortText":"Keith Law","attributes":{"mobile":"false"},"text":"Keith Law","href":"/blog/keith-law/insider/","isPremium":false}],"title":"MLB Keith Law Blog","$ref":"/v2/navigation/12599163"},{"links":[{"isExternal":false,"shortText":"Jayson Stark","attributes":{"mobile":"false"},"text":"Jayson Stark","href":"/blog/jayson-stark/","isPremium":false}],"title":"MLB Jayson Stark Blog","$ref":"/v2/navigation/12599151"},{"links":[{"isExternal":false,"shortText":"Stats & Info","attributes":{"mobile":"false"},"text":"Stats & Info","href":"http://www.espn.com/blog/statsinfo/category/_/name/mlb-2","isPremium":false}],"title":"MLB Stats & Info Blog","$ref":"/v2/navigation/12599143"},{"links":[{"isExternal":false,"shortText":"Eric Karabell","attributes":{"mobile":"false"},"text":"Eric Karabell","href":"/blog/eric-karabell/insider/","isPremium":false}],"title":"MLB Eric Karabell Blog","$ref":"/v2/navigation/12599145"},{"links":[{"isExternal":false,"shortText":"Baltimore Orioles","text":"Baltimore Orioles","href":"http://www.espn.com/blog/baltimore-orioles","isPremium":false}],"title":"MLB Baltimore Orioles Blog","$ref":"/v2/navigation/13629780"},{"links":[{"isExternal":false,"shortText":"Boston Red Sox","attributes":{"mobile":"false"},"text":"Boston Red Sox","href":"/blog/boston/red-sox/","isPremium":false}],"title":"MLB Boston Red Sox Blog","$ref":"/v2/navigation/12595819"},{"links":[{"isExternal":false,"shortText":"Chicago Cubs","attributes":{"mobile":"false"},"text":"Chicago Cubs","href":"/blog/chicago/cubs/","isPremium":false}],"title":"MLB Chicago Cubs Blog","$ref":"/v2/navigation/12595816"},{"links":[{"isExternal":false,"shortText":"Detroit Tigers","text":"Detroit Tigers","href":"http://www.espn.com/blog/detroit-tigers","isPremium":false}],"title":"MLB Detroit Tigers Blog","$ref":"/v2/navigation/13629783"},{"links":[{"isExternal":false,"shortText":"Los Angeles Dodgers","attributes":{"mobile":"false"},"text":"Los Angeles Dodgers","href":"/blog/los-angeles/dodger-report/","isPremium":false}],"title":"MLB Los Angeles Dodgers Blog","$ref":"/v2/navigation/12595811"},{"links":[{"isExternal":false,"shortText":"New York Mets","attributes":{"mobile":"false"},"text":"New York Mets","href":"/blog/new-york/mets/","isPremium":false}],"title":"MLB New York Mets Blog","$ref":"/v2/navigation/12595808"},{"links":[{"isExternal":false,"shortText":"New York Yankees","attributes":{"mobile":"false"},"text":"New York Yankees","href":"/blog/new-york/yankees/","isPremium":false}],"title":"MLB New York Yankees Blog","$ref":"/v2/navigation/12595805"},{"links":[{"isExternal":false,"shortText":"St. Louis Cardinals","attributes":{"mobile":"false"},"text":"St. Louis Cardinals","href":"/blog/st-louis-cardinals","isPremium":false}],"title":"MLB St. Louis Cardinals Blog","$ref":"/v2/navigation/12595814"},{"links":[{"isExternal":false,"shortText":"Washington Nationals","text":"Washington Nationals","href":"http://www.espn.com/blog/washington-nationals","isPremium":false}],"title":"MLB Washington Nationals Blog","$ref":"/v2/navigation/13629785"}]}]},"navId":12001873,"fallback":false}};



    </script>
</div>
</nav>

</header>
            </div>

            <section id="pane-main">

                <div id="custom-nav" data-id="story"></div>

                <div class="ad-slot ad-slot-banner ad-wrapper" data-slot-type="banner" data-slot-kvps="pos=banner"></div>

                <section id="main-container">
                    <div class="blog-container"><div class="blog-column"><div class="sticky-header blog-mlb blog-picker" data-behavior="blog_header_dropdown"><h1><a href="/blog/new-york/yankees">New York Yankees</a></h1></div></div></div>
                    <div class="main-content layout-cb">
                        <section id="news-feed" class="col-c chk-height nocontent" data-behavior="desktop_story_news_feed" data-minifeed="blogName=new-yorkyankees&sport=top"><div id="news-feed-content"  class="sidebar"><div class="container-wrapper"><div class="container"><!--get: espn-en_story_top_new-yorkyankees-97161_2017-09-14T06:12:45Z_false_false_desktop_full_11--><article data-id="new-yorkyankees-97161" class="news-feed-item "><a name="&lpos=fp:feed:xx:news" class="story-link"   data-sport="yankees" data-id="new-yorkyankees-97161" href="/blog/new-york/yankees/post/_/id/97161/yankees-have-the-right-formula-to-beat-the-indians-in-october"></a><div class="text-container"><div class="item-info-wrap"><h1><a name="&lpos=fp:feed:xx:news"  href="/blog/new-york/yankees/post/_/id/97161/yankees-have-the-right-formula-to-beat-the-indians-in-october" class="realStory" data-sport="yankees">Yankees have the right formula to beat the Indians in October</a></h1><div class="news-feed_item-meta "><span class="timestamp">17h</span><span class='author'>Andrew Marchand</span></div></div></div></article><!--get: espn-en_story_top_mlbid370913130_2017-09-14T04:02:32Z_false_false_desktop_full_11--><article data-id="mlbid370913130" class="news-feed-item "><a name="&lpos=fp:feed:xx:news" class="story-link"   data-sport="mlb" data-id="mlbid370913130" href="/mlb/recap?gameId=370913130"></a><div class="text-container"><div class="item-info-wrap"><h1><a name="&lpos=fp:feed:xx:news"  href="/mlb/recap?gameId=370913130" class="realStory" data-sport="mlb">Yankees beat Rays 3-2, take 2 of 3 at Citi Field</a></h1><div class="news-feed_item-meta "><span class="timestamp">20h</span></div></div></div></article><article class="ad-298"><div class="ad-center"><div class="ad-slot ad-slot-incontent-strip ad-wrapper" data-slot-type="incontentstrip" data-exclude-bp="s,m" data-slot-kvps="pos=incontentstrip"></div></div></article><article class="ad-300"><div class="ad-center"><div class="ad-slot ad-slot-incontent ad-wrapper" data-slot-type="incontent" data-exclude-bp="s,m" data-slot-kvps="pos=incontent"></div></div></article><!--get: espn-en_story_top_19635864_2017-09-13T12:45:59Z_false_false_desktop_full_11--><article data-id="19635864" class="news-feed-item "><a name="&lpos=fp:feed:xx:news" class="story-link"   data-sport="mlb" data-id="19635864" href="/mlb/story/_/id/19635864/shohei-otani-why-being-babe-ruth-all-cracked-be"></a><div class="text-container"><div class="item-info-wrap"><h1><a name="&lpos=fp:feed:xx:news"  href="/mlb/story/_/id/19635864/shohei-otani-why-being-babe-ruth-all-cracked-be" class="realStory" data-sport="mlb">Shohei Otani and why being Babe Ruth isn't all it's cracked up to be</a></h1><div class="news-feed_item-meta "><span class="timestamp">1d</span><span class='author'>Sam Miller</span></div></div></div></article><!--get: espn-en_story_top_sweetspot-82651_2017-09-13T15:24:44Z_false_false_desktop_full_11--><article data-id="sweetspot-82651" class="news-feed-item "><a name="&lpos=fp:feed:xx:news" class="story-link"   data-sport="post" data-id="sweetspot-82651" href="/blog/sweetspot/post/_/id/82651/biggest-pitching-question-marks-facing-playoff-teams"></a><div class="text-container"><div class="item-info-wrap"><h1><a name="&lpos=fp:feed:xx:news"  href="/blog/sweetspot/post/_/id/82651/biggest-pitching-question-marks-facing-playoff-teams" class="realStory" data-sport="post">Each likely playoff team's biggest pitching question</a></h1><div class="news-feed_item-meta "><span class="timestamp">1d</span><span class='author'>David Schoenfield</span></div></div></div></article><!--get: espn-en_story_top_mlbid370912130_2017-09-13T03:07:41Z_false_false_desktop_full_11--><article data-id="mlbid370912130" class="news-feed-item "><a name="&lpos=fp:feed:xx:news" class="story-link"   data-sport="mlb" data-id="mlbid370912130" href="/mlb/recap?gameId=370912130"></a><div class="text-container"><div class="item-info-wrap"><h1><a name="&lpos=fp:feed:xx:news"  href="/mlb/recap?gameId=370912130" class="realStory" data-sport="mlb">Hechavarria HR leads Rays over Yankees 2-1 at Mets' park</a></h1><div class="news-feed_item-meta "><span class="timestamp">2d</span></div></div></div></article><!--get: espn-en_story_top_20669784_2017-09-12T14:07:40Z_false_false_desktop_full_11--><article data-id="20669784" class="news-feed-item "><a name="&lpos=" class="story-link"   data-sport="mlb" data-id="20669784" href="/mlb/story/_/id/20669784/new-york-yankees-play-citi-field-tampa-bay-rays-displaced"></a><div class="text-container"><div class="item-info-wrap"><h1><a name="&lpos="  href="/mlb/story/_/id/20669784/new-york-yankees-play-citi-field-tampa-bay-rays-displaced" class="realStory" data-sport="mlb">Surreal scenes from Citi Field: 'Weird' week begins as Yankees play Rays on Mets' turf</a></h1><div class="news-feed_item-meta "><span class="timestamp">2d</span><span class='author'>Andrew Marchand</span></div></div></div></article><!--get: espn-en_story_top_mlbid370911130_2017-09-12T04:04:36Z_false_false_desktop_full_11--><article data-id="mlbid370911130" class="news-feed-item  no-images"><a name="&lpos=fp:feed:xx:news" class="story-link"   data-sport="mlb" data-id="mlbid370911130" href="/mlb/recap?gameId=370911130"></a><div class="text-container"><div class="item-info-wrap"><h1><a name="&lpos=fp:feed:xx:news"  href="/mlb/recap?gameId=370911130" class="realStory" data-sport="mlb">Yanks top Rays 5-1 as Frazier homers in series moved to Mets</a></h1><div class="news-feed_item-meta "><span class="timestamp">3d</span></div></div></div></article><!--get: espn-en_story_top_20675120_2017-09-12T01:29:23Z_false_false_desktop_full_11--><article data-id="20675120" class="news-feed-item "><a name="&lpos=fp:feed:xx:news" class="story-link"   data-sport="mlb" data-id="20675120" href="/mlb/story/_/id/20675120/jacoby-ellsbury-new-york-yankees-sets-catcher-interference-mark-birthday"></a><div class="text-container"><div class="item-info-wrap"><h1><a name="&lpos=fp:feed:xx:news"  href="/mlb/story/_/id/20675120/jacoby-ellsbury-new-york-yankees-sets-catcher-interference-mark-birthday" class="realStory" data-sport="mlb">Ellsbury sets catcher's interference mark</a></h1><div class="news-feed_item-meta "><span class="timestamp">3d</span></div></div></div></article><!--get: espn-en_story_top_20672763_2017-09-11T19:59:42Z_false_false_desktop_full_11--><article data-id="20672763" class="news-feed-item "><a name="&lpos=fp:feed:xx:news" class="story-link"   data-sport="mlb" data-id="20672763" href="/mlb/story/_/id/20672763/new-york-yankees-activate-outfielder-clint-frazier"></a><div class="text-container"><div class="item-info-wrap"><h1><a name="&lpos=fp:feed:xx:news"  href="/mlb/story/_/id/20672763/new-york-yankees-activate-outfielder-clint-frazier" class="realStory" data-sport="mlb">Yankees activate Frazier after oblique issue</a></h1><div class="news-feed_item-meta "><span class="timestamp">3d</span></div></div></div></article><!--get: espn-en_story_top_mlbid370910113_2017-09-11T00:25:24Z_false_false_desktop_full_11--><article data-id="mlbid370910113" class="news-feed-item  no-images"><a name="&lpos=fp:feed:xx:news" class="story-link"   data-sport="mlb" data-id="mlbid370910113" href="/mlb/recap?gameId=370910113"></a><div class="text-container"><div class="item-info-wrap"><h1><a name="&lpos=fp:feed:xx:news"  href="/mlb/recap?gameId=370910113" class="realStory" data-sport="mlb">Judge, Sanchez 2 homers each in Yankees' 16-7 win at Texas</a></h1><div class="news-feed_item-meta "><span class="timestamp">4d</span></div></div></div></article><!--get: espn-en_story_top_20660929_2017-09-10T23:00:18Z_false_false_desktop_full_11--><article data-id="20660929" class="news-feed-item "><a name="&lpos=fp:feed:xx:news" class="story-link"   data-sport="mlb" data-id="20660929" href="/mlb/story/_/id/20660929/aaron-judge-new-york-yankees-hits-40th-hr-major-milestone"></a><div class="text-container"><div class="item-info-wrap"><h1><a name="&lpos=fp:feed:xx:news"  href="/mlb/story/_/id/20660929/aaron-judge-new-york-yankees-hits-40th-hr-major-milestone" class="realStory" data-sport="mlb">Yanks' Judge hits 40th HR, joins lofty company</a></h1><div class="news-feed_item-meta "><span class="timestamp">4d</span></div></div></div></article></div></div></div></section><section id="article-feed" class="col-b" data-behavior="author_overlay article_header_news_feed_item_meta social_tools comment"><article class="article" data-id="new-yorkyankees-97161" data-behavior="story_scroll story_progress" data-src="/blog/new-york/yankees/post/_/id/97161/yankees-have-the-right-formula-to-beat-the-indians-in-october"><div class="container"><div class="ad-slot ad-slot-instream ad-wrapper" data-slot-type="instream" data-slot-kvps="pos=instream"></div><!--<div class="presby"><img alt="Hot Read presented by Subway" class="portrait" src="http://a.espncdn.com/redesign/0.365.8/assets/img/temp/presby.jpg"></div>--><header class="article-header"><h1>Yankees have the right formula to beat the Indians in October</h1></header><figure  data-video="native,640,360,20693457" class="iframe-video article-figure video "><div class="img-wrap"><picture ><source srcset="http://a1.espncdn.com/combiner/i?img=%2Fmedia%2Fmotion%2F2017%2F0913%2Fdm_170913_MLB_Yankees_Frazier_2_run_single%2Fdm_170913_MLB_Yankees_Frazier_2_run_single.jpg&w=943&h=530&cquality=80" media="(min-width: 376px)"><source srcset="http://a1.espncdn.com/combiner/i?img=%2Fmedia%2Fmotion%2F2017%2F0913%2Fdm_170913_MLB_Yankees_Frazier_2_run_single%2Fdm_170913_MLB_Yankees_Frazier_2_run_single.jpg&w=375&cquality=80, http://a1.espncdn.com/combiner/i?img=%2Fmedia%2Fmotion%2F2017%2F0913%2Fdm_170913_MLB_Yankees_Frazier_2_run_single%2Fdm_170913_MLB_Yankees_Frazier_2_run_single.jpg&w=750&cquality=40 2x" media="(max-width: 375px)"><img  class="null lazyload" data-image-container=".article-figure" ></picture><span class="video-play-button" data-id="20693457">play</span></div><figcaption><div class="caption-wrapper"><div class="text-container"><span class="headline">Gardner's 2-run single adds to Yankees' lead (0:33)</span><p>Brett Gardner drives in two runs on a single to left field against the Rays. (0:33)</p></div></div></figcaption></figure><ul data-id="97161" data-name="Yankees%20have%20the%20right%20formula%20to%20beat%20the%20Indians%20in%20October" data-type="video" class="article-social horizontal" data-src="http://es.pn/2x2KwmD"><li><a href="https://www.facebook.com/dialog/share?href=http%3A%2F%2Fes.pn%2F2x2KwmD&app_id=116656161708917" class="btn-social icon-font-before icon-facebook-solid-before horizontal" target="new" data-social-type="horizontal" data-social-tool="facebook" data-short-text="Share" data-long-text="Share with Facebook">Facebook</a></li><li><a href="http://twitter.com/intent/tweet?lang=en&url=http%3A%2F%2Fes.pn%2F2x2KwmD&text=Yankees%20have%20the%20right%20formula%20to%20beat%20the%20Indians%20in%20October" class="btn-social icon-font-before icon-twitter-solid-before horizontal" target="new" data-social-type="horizontal" data-social-tool="twitter" data-short-text="Tweet" data-long-text="Share with Twitter">Twitter</a></li><li><a href="http://facebook.com/dialog/send?link=http://es.pn/2x2KwmD&next=http://es.pn/2x2KwmD&app_id=116656161708917" class="btn-social icon-font-before icon-facebook-messenger-solid-before horizontal" data-social-type="horizontal" data-social-tool="facebookMessenger">Facebook Messenger</a></li><li><a href="whatsapp://send?text=Yankees%20have%20the%20right%20formula%20to%20beat%20the%20Indians%20in%20October%20website%3A%20http%3A%2F%2Fes.pn%2F2x2KwmD" class="btn-social icon-font-before icon-whatsapp-solid-before horizontal" data-social-type="horizontal" data-social-tool="whatsapp"></a></li><li class="internal send-email"><a href="mailto:?subject=Yankees%20have%20the%20right%20formula%20to%20beat%20the%20Indians%20in%20October&body=http%3A%2F%2Fes.pn%2F2x2KwmD" data-route="false" class="btn-social icon-font-before icon-email-solid-before page-action email horizontal" data-social-type="horizontal" data-social-tool="email">Email</a></li><li class="internal"><a href="#" class="btn-social page-action comment icon-font-before icon-comment-solid-before horizontal" data-src="http://espn.com/blog/new-york/yankees/post/_/id/97161/yankees-have-the-right-formula-to-beat-the-indians-in-october" data-social-type="horizontal" data-social-tool="comment">comment</a></li></ul><div class="article-body"><div class="article-meta"><span class="timestamp" data-behavior="date_time" data-date="2017-09-14T06:12:45Z"><span class="time" data-dateFormat="time1" data-showTimezone="true">2:12 AM ET</span></span><ul class="authors"><li><div class="author-img"><img alt="" src="http://a.espncdn.com/combiner/i?img=/i/columnists/full/marchand_andrew.png&w=160&h=160&scale=crop"></div><div class="author has-bio">Andrew Marchand<span>ESPN Senior Writer </span></div><div class="author-overlay"><a class="icon-font-after icon-close-solid-after" href="#">Close</a><ul>Andrew Marchand is a senior writer for ESPNNewYork. He also regularly contributes to SportsCenter, Baseball Tonight, ESPNews,  ESPN New York 98.7 FM and ESPN Radio. He joined ESPN in 2007 after nine years at the New York Post. <a href="http://twitter.com/andrewmarchand">Follow Andrew on Twitter &#187;</a></ul><div class="author-meta"><a class="btn-social icon-font-before icon-twitter-solid-before horizontal" href="http://twitter.com/intent/user?screen_name=AndrewMarchand">Follow on Twitter</a></div></div></li></ul></div><ul data-id="97161" data-name="Yankees%20have%20the%20right%20formula%20to%20beat%20the%20Indians%20in%20October" data-type="video" class="article-social vertical" data-behavior="sticky_social" data-src="http://es.pn/2x2KwmD"><li></li><li><a href="https://www.facebook.com/dialog/share?href=http%3A%2F%2Fes.pn%2F2x2KwmD&app_id=116656161708917" class="btn-social icon-font-before icon-facebook-solid-before vertical" target="new" data-social-type="vertical" data-social-tool="facebook" data-short-text="Share" data-long-text="Share with Facebook">Facebook</a></li><li><a href="http://twitter.com/intent/tweet?lang=en&url=http%3A%2F%2Fes.pn%2F2x2KwmD&text=Yankees%20have%20the%20right%20formula%20to%20beat%20the%20Indians%20in%20October" class="btn-social icon-font-before icon-twitter-solid-before vertical" target="new" data-social-type="vertical" data-social-tool="twitter" data-short-text="Tweet" data-long-text="Share with Twitter">Twitter</a></li><li><a href="http://facebook.com/dialog/send?link=http://es.pn/2x2KwmD&next=http://es.pn/2x2KwmD&app_id=116656161708917" class="btn-social icon-font-before icon-facebook-messenger-solid-before vertical" data-social-type="vertical" data-social-tool="facebookMessenger">Facebook Messenger</a></li><li><a href="https://pinterest.com/pin/create/button/?url=http%3A%2F%2Fespn.com%2Fblog%2Fnew%2Dyork%2Fyankees%2Fpost%2F_%2Fid%2F97161%2Fyankees%2Dhave%2Dthe%2Dright%2Dformula%2Dto%2Dbeat%2Dthe%2Dindians%2Din%2Doctober&description=Yankees+have+the+right+formula+to+beat+the+Indians+in+October&media=http%3A%2F%2Fa.espncdn.com%2Fphoto%2F2017%2F0913%2Fr258124_1296x729_16-9.jpg" class="btn-social icon-font-before icon-pinterest-solid-before vertical" data-social-type="vertical" data-social-tool="pinterest">Pinterest</a></li><li class="internal send-email"><a href="mailto:?subject=Yankees%20have%20the%20right%20formula%20to%20beat%20the%20Indians%20in%20October&body=http%3A%2F%2Fes.pn%2F2x2KwmD" class="btn-social action email icon-font-before icon-email-solid-before vertical" data-route="false" class="page-action email" data-social-type="vertical" data-social-tool="email">Email</a></li><li class="internal first"><a href="http://espn.go.com/blog/new-yorkyankees/print?id=97161" class="btn-social page-action print icon-font-before icon-print-solid-before vertical" data-social-type="vertical" data-social-tool="print">print</a></li><li class="internal"><a href="#" class="btn-social page-action comment icon-font-before icon-comment-solid-before vertical" data-src="http://espn.com/blog/new-york/yankees/post/_/id/97161/yankees-have-the-right-formula-to-beat-the-indians-in-october" data-social-type="vertical" data-social-tool="comment">comment</a></li></ul><p>NEW YORK -- The <a href="/mlb/team/_/name/nyy/new-york-yankees">New York Yankees</a> could beat the <a href="/mlb/team/_/name/cle/cleveland-indians">Cleveland Indians</a> in the playoffs. The past few days, including Wednesday's <a href="/mlb/recap?gameId=370913130" target="_blank">3-2 win</a> over the <a href="/mlb/team/_/name/tb/tampa-bay-rays">Tampa Bay Rays</a>, Yankees manager Joe Girardi revealed the method he will attempt to use, if given the chance, to take out Cleveland.</p><p>It might be viewed as a new line of thinking, but really, it dates back at least to the start of the last Yankees&rsquo; dynasty. The Indians just borrowed the formula last fall, with an assist from Yankees general manager Brian Cashman.</p><p>Cashman turned the Indians into the most fearsome team in the American League when he traded lights-out reliever <a href="http://espn.go.com/mlb/player/_/id/28563/andrew-miller">Andrew Miller</a> for a haul of young prospects 14 months ago. It worked out for the Indians, who deployed Miller as if he were a lefty version of the mid-1990s Mariano Rivera. The Indians used Miller in multiple innings per game as a nearly unstoppable bullpen weapon and fell just short of a World Series title.</p><p>It's now a year later, and in the next month, the Yankees could be the team that ruins the Tribe's dream season by using the old Rivera formula. True, it's 21 straight wins and counting for Cleveland -- an American League record -- but once October begins, everyone is 0-0.</p><p>The Yankees will make the playoffs, most likely as a wild-card team. If they take care of the <a href="/mlb/team/_/name/min/minnesota-twins">Minnesota Twins</a> next week in the Bronx, the Yanks will likely make it inevitable that they'll have home-field advantage in the wild-card game.</p><aside class="inline inline-photo full"><figure><picture ><source data-srcset="http://a2.espncdn.com/combiner/i?img=%2Fphoto%2F2017%2F0913%2Fr258124_1296x729_16%2D9.jpg&w=570, http://a2.espncdn.com/combiner/i?img=%2Fphoto%2F2017%2F0913%2Fr258124_1296x729_16%2D9.jpg&w=1140&cquality=40 2x" media="(min-width: 376px)"><source data-srcset="http://a2.espncdn.com/combiner/i?img=%2Fphoto%2F2017%2F0913%2Fr258124_1296x729_16%2D9.jpg&w=375, http://a2.espncdn.com/combiner/i?img=%2Fphoto%2F2017%2F0913%2Fr258124_1296x729_16%2D9.jpg&w=750&cquality=40 2x" media="(max-width: 375px)"><img  class=" lazyload lazyload" data-image-container=".inline-photo" ></picture><figcaption class="photoCaption">Chad Greene will likely play a prominent role in any potential postseason matchup, as the Yankees will go to their bullpen early and often.&nbsp;<cite>AP Photo/Frank Franklin II</cite></figcaption></figure></aside><p>The wild-card contest is like a Game 7 -- anything can happen. But if the Yankees make it to an AL Division Series against the Indians, they have two standouts to handle the Rivera/Miller role.</p><p>With days off after every two games, Girardi will turn to <a href="http://espn.go.com/mlb/player/_/id/29172/david-robertson">David Robertson</a> and the emerging <a href="http://www.espn.com/mlb/player/_/id/33325/chad-green">Chad Green</a> for multiple innings in the middle of games, so they can hand the ball to <a href="http://www.espn.com/mlb/player/_/id/31122/dellin-betances">Dellin Betances</a> and <a href="http://www.espn.com/mlb/player/_/id/30442/aroldis-chapman">Aroldis Chapman</a> late. In essence, even if the Yankees have to use ace <a href="http://www.espn.com/mlb/player/_/id/33263/luis-severino">Luis Severino</a> to get past the wild-card game, they'd have a chance against the Indians because, though the Yanks would be weaker to start games, they could go mano a mano in the middle and late innings. The days off allow the relievers to be used often.</p><p>The Yankees-Rays series is a perfect example of how Girardi will go about his postseason business. The Yankees won two of the three games, and in each, Robertson and Green served as the bridge to the end of the game.</p><p>On Monday, Girardi lifted <a href="http://www.espn.com/mlb/player/_/id/4553/cc-sabathia">CC Sabathia</a> after 4 1/3 innings and went to Robertson, who is being paid $12 million this season for his past work as a closer, in the fifth inning. Robertson fired a clean 2 2/3 innings to record the win, allowing one hit and striking out four. He will be half of the Yankees&rsquo; version of Miller time.</p><p>It's interesting that Robertson has the role because the Yankees chose Miller over Robertson in the winter of 2014-15. In large part, the Yankees signed Miller rather than re-sign Robertson because they gained a first-round pick by letting Robertson go and didn&rsquo;t lose one with Miller.</p><p>The Yankees acquired Green from the Tigers in a trade for <a href="http://www.espn.com/mlb/player/_/id/31026/justin-wilson">Justin Wilson</a> a winter later. Green has turned into arguably the Yankees&rsquo; best reliever. He was lights-out again Wednesday, entering for the peeved <a href="http://www.espn.com/mlb/player/_/id/29185/jaime-garcia">Jaime Garcia</a>, who was one out away from qualifying for a win in the fifth inning.</p><p>Girardi didn&rsquo;t care about that; he wants the team to win, so he gave the ball to Green.</p><article class="ad-300"><div class="ad-center"><div class="ad-slot ad-slot-incontent2 ad-wrapper" data-slot-type="incontent2" data-slot-kvps="pos=incontent2" data-independent="true"></div></div></article><p>"There is time for that, but I don't think September when you are four games out is the time for that,&rdquo; Girardi said when asked how much he weighs a starter&rsquo;s desire for a winning decision. &ldquo;I think early in the season, I probably would have left him in. In June, I probably would've left him in. In July, I probably would've left him in. But you start to get to this point in the season, and you have to make some personal sacrifices for the team."</p><p>Green faced five batters and retired them all. Next, Girardi gave the ball to <a href="http://espn.go.com/mlb/player/_/id/31867/tommy-kahnle">Tommy Kahnle</a>, another piece in the pen, and then Betances. Betances was shaky for two outs, so Girardi asked Chapman to record a four-out save. Although a little uneven, Chapman got it done for his 200th career save.</p><p>This is the hand Girardi will play in October. As it stands now, if the Yankees are able to get through the wild-card game, they would face the Indians. No one here is predicting that the Yankees will beat Cleveland, but with Green and Robertson coming in during the middle innings each game, they have more than a puncher&rsquo;s chance.</p>
</div><footer class="article-footer"><ul data-id="97161" data-name="Yankees%20have%20the%20right%20formula%20to%20beat%20the%20Indians%20in%20October" data-type="video" class="article-social horizontal" data-src="http://es.pn/2x2KwmD"><li><a href="https://www.facebook.com/dialog/share?href=http%3A%2F%2Fes.pn%2F2x2KwmD&app_id=116656161708917" class="btn-social icon-font-before icon-facebook-solid-before horizontal" target="new" data-social-type="horizontal" data-social-tool="facebook" data-short-text="Share" data-long-text="Share with Facebook">Facebook</a></li><li><a href="http://twitter.com/intent/tweet?lang=en&url=http%3A%2F%2Fes.pn%2F2x2KwmD&text=Yankees%20have%20the%20right%20formula%20to%20beat%20the%20Indians%20in%20October" class="btn-social icon-font-before icon-twitter-solid-before horizontal" target="new" data-social-type="horizontal" data-social-tool="twitter" data-short-text="Tweet" data-long-text="Share with Twitter">Twitter</a></li><li><a href="http://facebook.com/dialog/send?link=http://es.pn/2x2KwmD&next=http://es.pn/2x2KwmD&app_id=116656161708917" class="btn-social icon-font-before icon-facebook-messenger-solid-before horizontal" data-social-type="horizontal" data-social-tool="facebookMessenger">Facebook Messenger</a></li><li><a href="whatsapp://send?text=Yankees%20have%20the%20right%20formula%20to%20beat%20the%20Indians%20in%20October%20website%3A%20http%3A%2F%2Fes.pn%2F2x2KwmD" class="btn-social icon-font-before icon-whatsapp-solid-before horizontal" data-social-type="horizontal" data-social-tool="whatsapp"></a></li><li class="internal send-email"><a href="mailto:?subject=Yankees%20have%20the%20right%20formula%20to%20beat%20the%20Indians%20in%20October&body=http%3A%2F%2Fes.pn%2F2x2KwmD" data-route="false" class="btn-social icon-font-before icon-email-solid-before page-action email horizontal" data-social-type="horizontal" data-social-tool="email">Email</a></li><li class="internal"><a href="#" class="btn-social page-action comment icon-font-before icon-comment-solid-before horizontal" data-src="http://espn.com/blog/new-york/yankees/post/_/id/97161/yankees-have-the-right-formula-to-beat-the-indians-in-october" data-social-type="horizontal" data-social-tool="comment">comment</a></li></ul>


<!-- <div class="sponsored-links">


<h4>Sponsored Headlines</h4>

<div class="outbrain-container" data-src="http://www.espn.com/blog/new-york/yankees/post/_/id/97161/yankees-have-the-right-formula-to-beat-the-indians-in-october" data-is-secured="true" data-ob-template="espn"></div>

</div> -->


<div class="internal comments"><div class="page-action comment button-alt lg" data-src="http://www.espn.com/blog/new-york/yankees/post/_/id/97161/yankees-have-the-right-formula-to-beat-the-indians-in-october"> Comments </div></div>

<br /><br />








</footer>


<div id="grid"></div>

<script src="/build/files/feed2/revfeed2.pkgd.js"></script>
<!-- <script src="/build/revfeed.min.js"></script> -->

<script>
    var shifter = new RevFeed({
        host: 'https://dv3-s1.revcontent.com',
        id: 'grid',
        api_key : '092645d78e0a24a60169cd50fbbcea43e7b0f506',
        pub_id : 3887,
        widget_id : 27826,
        domain : 'newsweek.com',
        column_spans: [
            {
                selector: '.rev-slider-breakpoint-lt-sm .rev-content, .rev-content-header, .rev-slider-breakpoint-gt-xs .rev-content:nth-child(4n+10), .rev-slider-breakpoint-gt-xs .rev-content:nth-child(4n+11)',
                spans: 6
            },
            {
                selector: '.rev-slider-breakpoint-gt-xs .rev-content:nth-child(-n+9)',
                spans: 2
            },
            {
                selector: '.rev-slider-breakpoint-gt-xs .rev-content:nth-child(4n+12), .rev-slider-breakpoint-gt-xs .rev-content:nth-child(4n+13)',
                spans: 3
            }
        ],
        image_ratio: [
            {
                selector: '.rev-slider-breakpoint-lt-sm .rev-content, .rev-content:nth-child(4n+10), .rev-content:nth-child(4n+11)',
                ratio: '6:3'
            }
        ],
        header_selector: false,
        // header_selector: '.rev-slider-breakpoint-gt-xs .rev-content:nth-child(4n+12), .rev-slider-breakpoint-gt-xs .rev-content:nth-child(4n+13)',
        internal_selector: '.rev-slider-breakpoint-lt-sm .rev-content:nth-child(4n + 4), .rev-slider-breakpoint-lt-sm .rev-content:nth-child(4n + 5), .rev-slider-breakpoint-gt-xs .rev-content:nth-child(4n+10),.rev-slider-breakpoint-gt-xs .rev-content:nth-child(4n+11)',
        // headline_icon_selector: '.rev-content:nth-child(5n+10), .rev-content:nth-child(5n+11)',
        header_logo: 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAAAcCAYAAABWFFBUAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAABWWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyI+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgpMwidZAAANS0lEQVRoBe2aW4xdVRmA1zkznen9XtppS7UF+gAKhFJCMIQafVCDaEzAmBiNPPhg4oOX9w4x0Td8NTHGB0QDRBKJgsYoRAkJUMCAbRAjldBC7xSGtrQzZ47f9++1DnvOnBmmZwbExD+z9rr967+vtf69zzTaKTUSwKP9dEp7h1MavZDSOccZiznn5wmtRSktHU/pj79N6TOjKU1K7y8pbViS0jdofo5yLczoxtxC8YXc+wLK9zblCOUlOvfsSunBOqdnUvr1UEpfOp/SWcYH6nMX28YX/KVB+LSoX6HzYjOlX8LzPmkNUnRWGJWJbVoRJw7RnhdjiRdQiEz35GjmhZI3Mv6zVSldOQHiO5QQoiz6kNfYZy2BabmS4PwiG+DH16f0PWzZfjylFej2UZyYcOIwY/OyJevDi9SD0NzJRtuJzW7bl9JueH4/nKi9YNrEsJuyIVvUAwrk3DyhDZE2ISS9Q9JC4Y8x9uDqlEZOpzROu4FRmtbz5PWBLUefNoZsE3wTOHJ4WUrfeTalFxDg5wTsRnRZb3ACk7RRb/4AHYNikjKB44aXEjTY8vnmY9lw1CvBkXlAzZo2+y55YShB+58Sp/7BWhz4RrUBDaTBrGjffOYjY59rmwjrDhtiJ15QcHT4GpX6EZ9pvWcfY6FTqavp/u3Jem05TICcI3gk9OXmiopJwqtrGNuQd6KMFwQQXkYNFPW4fIndfjnNW9+qqIccC8asovlBPxW/ke12xRPc6+i8DsWW6kTnOo/ozvtRzDXkZQvsdhcE0FgL85Xch4IytXTAfAGOk5SmyRJKHaZ9A0fP4Jkqej1Cs67z5fTfWZ8t2kKJCEiO0mECdrM5ADq21F/Jii3F79UWpxtmw2WuDR9prxgcyzQhfCmMV7tXKcNx/nVT7aOPcgPLWcfReQ7Gp2juIpnxbB/qRFAfdD9MSzjaBjjR0gnshr6D2O4K7yYCd4D2lKSm7ph+dZCGJ5tnNnY9NLjn3UhZfC7kiJTYYBG3nOl2SgA5HMCAmW2M19tlPtctGK0B7ynuwbffRMnXIkjTUZTv+NH14nfTK3RLXaddxsravL6OEm3mp0E3n4JQaM00L17hm9co9/hJTjIaL+pQvLbcdw/AqqNjjPDI60t3xlq5laNbpmo4XWBHbKT9nAIEPI+h2R1rEGJycRlcgNpXB86ZAWiP3ZTScbKpjTBdiqItxjr8F4BVIvU2Y5zEai34Bm3ues8c37EayvJ+gHw9cTD2WY7QE/C8FJ1XIsuEfLt5MudRyPTsgI0GoNsUvxvTa895iHMA/B/+5y0QUTKKt29NaTueXcEZPkGUTIue+WhKGA1yVB+6mTvxb0Rpjtpp0TUfHuy2NifImWtSOiadfRwAfNFoHah4byJyh0ioWtQLqluRGbuZpB0nxziDHFt5KR9EJpO6Bu22fJlvi8fYOHfokeew9YYe8uwB7zHG2dGr8MmQuhU+3TU7/3Qo9Gz1avEQCFczwBWWFs24qpvK7H3Pc622iuorCLQfB/6esSHGPBHQacEAXU0I07+gfTcO/KuUfaWB332ULYxj4+l3lHjzAPmiWloKj6/D4yDthyn4Lj5EOcdUBI9H6Go6+3DQ7VeRI9DWqdIIKP0X2VB817uHQeIyvcm4V0Lcj9TSWU45wtVxZ1y6IKynXMOL4hKssHTaTQx2PwDN8JLacAmP4bGlCL9D+mZXCLPgwC74OLxuYSd+lk9ST8JgG3fKdfA1I964kFGj8Fpf/dQVo+uUbSRw241QLV3nZ38d5TXuy/1k6zTTA11mKH0mRf3UepxlZNYjoWSmR6ED//PhL4y5gTLAJzBluQBSnTdD0wHEuWSm6jiMEO9A8DCJxRgDsImdeR4aEV3Tqfc90kb5NkZcgyO/DZUn4bGO3Z/Iik0yfPd9T93myl0bgDuBwxbD4yi6HYD4F/QOhZiJeXEKjL9FIDNw4A5kcfD2yuZlvlNDG/+lxonsE9p1uYMOY/+A5/GyE0fIsIbkChhYdcYxmB/QrqCOUG+X+Vy3JIaSBtPZm3Dk03y1IcRuwMjSMhDimyl1J5XOa3tWNbyebCE6kb9kXJ0JrF9Gg3NUPrMdMh3dejLuGsxytBViJYUg+fvulE5yAlyuzshggLqB6tBQABgdK4N3lUZXjXM2grtMT4M/xSf0G5wuntWndsEqvMvgFgepIzqoe4HDyjzn4oJsNQIq3j+p0g95p2pxSS5hTiW9E6QZte3ZSsGj7gURCDlkS1CMZEuGbizqpV6vsV70YwzkkBe6AzhwsUcLxH+UF3xEYiB0+GXiVk2PVOYOiSudvTV57JedCc5mfQLgzxpS1TRJcuJ158oW3aKiLHQB1TRoQ9BsKX7w85PSXArhM0gWJpwGn5OED30p/Ybq8yi+Dy0nDbGLLcVJ0iugUhoB4c0AbXNFBVyaFRKlG2IZp1CD3ap+cy3xjU1jodQr0L/zhpT+xC7U7hu6mRT+1M182oXxuf8M3G65Sn+LGwAe0S941tIxQph4TV55o6StdgqICEIYxDGM7Afsh4ii30HU00lCU3DEF9dx67y+xeW7jLH9V1XZaBpFABz5yKNkj8tTuhmljFzXhPFdK8An6OEQ5wJoDDD+FmO3IfgdRjXAUBWMhbdOpH1KI20n3RehB0jXn8A87u9FjidpLmNwBvR3KUB7Ary3Wfs67Weuy8YkUFdwF17SiwD4bY2NzOdxAGYJb7N8KjCgXD62WNf6+sPxcKK6Q++wOIP78RGMN3czztRjgW0Y30+03euifgEBmo9RHiZiP1ntlEf6ofUUGSC7RyeGwtLI8ga53D5CsCzi6B4xaoE6igv9smNQ+HvfT65P6fEK7eKf6DP8OZzD1ve9Ln6C6uYH8+CHzG/A93gvLndVMoZOPLZEo0IMB+Y1bU9NAk+5Y0f7Eu69vFHPAlMUpS9jf4G4QP1yYMzjoSLSpGR2/RFjB2x3B6FE/EIiFRVWeOqiw6s4kM2eLumlm7Kgk58DPebPUvyxc5goHd9rZxZghzc4MxtcFQ0SpvaefP9B04xydS9+jIfxqU8w77v4NJDvKIVj2XfO8gN9wWMoPhhEIgGNMfgdcdIfY9fRiTScdt3jzsfvZIzr9a8+zb9UgKth4pug3pgJwHMXewEPwvBXN2KjZ1L6Jms2M05iVRlbntIQ37a1/dIuNePSkqXzn/BucczKgbKOOu4LnHyQHUginNa+h1FPg4u/I8OcHIUHRbqSnROA6ObwQtxAOzJKusbZFMh5x1HqyA+mTNIxOBxj4WoU7fyoHIMZmXa5dk6DEzvan00ugfEqFQWh4JfaD7Aqs5iX6G8phJ0ySXNG0NooFVbnmPnz40QNa+/GqssM+9B6xtWzTxgBnA6KEobK8ljFznQe/gepRpB7ANzQzQV1yFY+Ca4Jpq8hBaXUdfSebRDlG/g8NnHM+45of5qZ8sDrHN2kGOGBWGe7Dsi7nlNijddAIQJiuRPjHmfqBLxOuQ7cNELiEorSLmucKxBjGKYnw4LUo55AiEUIdJpykO27jUAp6bg/lmYb9lg5t6FeskbyAL8xguRl+H/azJdda0wFfjGGLBSA/vGDOZPdc/E6SkbC0vexWYMCflTwPVEofH1PFSKjtHGgi9/tDgLIvpFqeRDN6zMtT7cgCK1jfI87I76Et7pjAB0/q6cgkOUQc0YIHHC9c4QTGPIYoXeZuwLBOjTmSK+iwnMW/EKzBQ/hBTNGnLQjnx7aoxy7gWDfBo+jd2Td6RY6Ts0Vgk5G3pwjM4zNWKEXCaKnHQPhxFFsv/fd+by8qiC42R2dnThljk4J/khq6Dd8T9laGItNvzC2WweNIKpCz1gKDnXn64THBwt25mDxTI/1BXc2evW5LnymOsJKTxs1dRrlHiphB2t66eT928xGOhKYlUyiXxSUeywvGsl1N51wIieEsoTxb4E/7Sl40ApgPN4Rqb0e6iB+5CmMH3aCgWYcp1kZj4DOGhtTOLiiBu81D2r5H51X87LLMj3fsTwBojsHOjWuVZM1LjOgVFLxpbWIjNGb/g+7UvopTQc3xeVTyRKxKmJe03SOfjjx/sqocRq5dq5QjsAnqu8fGzJN5Qr9FZRiIuj/3pwjwIKfmW2dB3LYD1fwGFFOSgQmtV1hEiW8+txQ4USSxabZ6U5eUk0UhmEwDaZwmjY7faBwwxpLTGNJFoIZzWv5IiIf/zE5JBa30C/tst7xMkYzoPS1tFFNBDY5qiMSTZaOpfQLdPgua1v7yUpJMC5TN4y3uOgmXdYP5FPBSIgMbwd0qimefQDHuInI5dTBz91R5IW/n+fMQsaR+8RM5JEt1KfeuQwkPBi2Er/Ijb7hWRxdjtN4xRhDi0PMnQVRRRYCFKZNyJkqP0en+SzJA0b2PsCv/Sen0DJaVyKr738nMdy/GdtPeWB39Tse05HMLGbsKBbzt8szGjImeDDuj8P69wwKv1zG+6kfyIsQagl8DvOu4v+gnpUfdbw2gTKOA/mlLz2PczHDlEzYbrorx/WjVbL5Jj7RSb6KdOSmXeTme3tk35FR/wcOqhtPOR4VfgAAAABJRU5ErkJggg=='
    });
</script>




</div></article></section>

                    </div>



                </section>

<div class="cookie-overlay" data-behavior="cookie_consent">
        <h1>ABOUT COOKIES</h1>
        <p class="message">We use cookies to offer an improved online experience. By clicking "OK" without changing your settings you are giving your consent to receive cookies.</p>
        <button class="button med stand-alone">OK</button>
</div>

            </section>
        </div>

<script>
    var espn_ui = window.espn_ui || {};
    espn_ui.staticRef = "http://a.espncdn.com/redesign/0.365.8";
    espn_ui.imgRef = "http://a.espncdn.com/redesign/assets/img/";
    espn_ui.insertRef = "http://a.espncdn.com";
    espn_ui.deviceType = "desktop";
    espn_ui.pageShell = false;
    espn.api = {};
    espn.api.disasterURLs = {
        "cdn.espn.com":"cdn.espn.com",
        "sports.core.api.espn.com":"sports.core.api.espn.com",
        "site.api.espn.com":"site.api.espn.com",
        "site.api.prod.espninfra.starwave.com":"site.api.prod.espninfra.starwave.com",
        "fan.core.api.espn.com":"fan.core.api.espn.com",
        "site.core.api.prod.espninfra.starwave.com":"site.core.api.prod.espninfra.starwave.com",
        "api.espn.com":"api.espn.com",
        "api-app.espn.com":"api-app.espn.com",
        "api.prod.espninfra.starwave.com":"api.prod.espninfra.starwave.com"
    };
    espn_ui.webview = false;
    espn_ui.useNativeBridge = false;
    espn_ui.onefeed = false;
    espn_ui.abtests = {"kahuna":40,"kplus":41,"kminus":42,"control":52,"carousel":53,"auddev1":45,"auddev2":46,"auddevcontrol":47,"headlinetester":48,"xlprofile":49,"largeprofile":50,"adtestcontrol":51};
    espn_ui.isCurated = false;

    function setIsCurated () {
        $('#news-feed').attr('data-curated', espn_ui.isCurated);
        $(document).trigger('checkIfShouldAutoUpdate');
        espn_ui.checkIfShouldAutoUpdate = true;
    }

    //this is also set on ajax page loads in js/helpers/page.js
    if (document.readyState == 'complete') {
        setIsCurated();
    } else {
        window.onload = setIsCurated;
    }

     espn_ui.pubKey = 'espn-en-frontpage-index';

    var tcStatus = {"tcTwoLocked":true,"tcLocked":true,"tcwLocked":true,"tcTwoOn":false,"tcwOn":false,"tcOn":false};

</script>

<script>

function Visitor(m,t){if(!m)throw"Visitor requires Adobe Marketing Cloud Org ID";var a=this;a.version="1.5.6";var l=window,i=l.Visitor;i.version=a.version,l.s_c_in||(l.s_c_il=[],l.s_c_in=0),a._c="Visitor",a._il=l.s_c_il,a._in=l.s_c_in,a._il[a._in]=a,l.s_c_in++,a.pa={Ka:[]};var o=l.document,h=i.Ma;h||(h=null);var z=i.Na;z||(z=void 0);var j=i.ja;j||(j=!0);var k=i.La;k||(k=!1),a.S=function(a){var b,e,c=0;if(a)for(b=0;b<a.length;b++)e=a.charCodeAt(b),c=(c<<5)-c+e,c&=c;return c},a.r=function(a){var f,c="0123456789",b="",e="",g=8,n=10,h=10;if(1==a){for(c+="ABCDEF",a=0;16>a;a++)f=Math.floor(Math.random()*g),b+=c.substring(f,f+1),f=Math.floor(Math.random()*g),e+=c.substring(f,f+1),g=16;return b+"-"+e}for(a=0;19>a;a++)f=Math.floor(Math.random()*n),b+=c.substring(f,f+1),0==a&&9==f?n=3:(1==a||2==a)&&10!=n&&2>f?n=10:2<a&&(n=10),f=Math.floor(Math.random()*h),e+=c.substring(f,f+1),0==a&&9==f?h=3:(1==a||2==a)&&10!=h&&2>f?h=10:2<a&&(h=10);return b+e},a.ma=function(){var a;if(!a&&l.location&&(a=l.location.hostname),a)if(/^[0-9.]+$/.test(a))a="";else{var c=a.split("."),b=c.length-1,e=b-1;if(1<b&&2>=c[b].length&&(2==c[b-1].length||0>",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,et,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tr,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,".indexOf(","+c[b]+","))&&e--,0<e)for(a="";b>=e;)a=c[b]+(a?".":"")+a,b--}return a},a.cookieRead=function(a){var a=encodeURIComponent(a),c=(";"+o.cookie).split(" ").join(";"),b=c.indexOf(";"+a+"="),e=0>b?b:c.indexOf(";",b+1);return 0>b?"":decodeURIComponent(c.substring(b+2+a.length,0>e?c.length:e))},a.cookieWrite=function(d,c,b){var f,e=a.cookieLifetime,c=""+c,e=e?(""+e).toUpperCase():"";return b&&"SESSION"!=e&&"NONE"!=e?(f=""!=c?parseInt(e?e:0,10):-60)?(b=new Date,b.setTime(b.getTime()+1e3*f)):1==b&&(b=new Date,f=b.getYear(),b.setYear(f+2+(1900>f?1900:0))):b=0,d&&"NONE"!=e?(o.cookie=encodeURIComponent(d)+"="+encodeURIComponent(c)+"; path=/;"+(b?" expires="+b.toGMTString()+";":"")+(a.cookieDomain?" domain="+a.cookieDomain+";":""),a.cookieRead(d)==c):0},a.g=h,a.A=function(a,c){try{"function"==typeof a?a.apply(l,c):a[1].apply(a[0],c)}catch(b){}},a.ra=function(d,c){c&&(a.g==h&&(a.g={}),a.g[d]==z&&(a.g[d]=[]),a.g[d].push(c))},a.m=function(d,c){if(a.g!=h){var b=a.g[d];if(b)for(;0<b.length;)a.A(b.shift(),c)}},a.j=h,a.oa=function(d,c,b){var g,e=0,f=0;if(c&&o){for(g=0;!e&&2>g;){try{e=(e=o.getElementsByTagName(0<g?"HEAD":"head"))&&0<e.length?e[0]:0}catch(n){e=0}g++}if(!e)try{o.body&&(e=o.body)}catch(j){e=0}if(e)for(g=0;!f&&2>g;){try{f=o.createElement(0<g?"SCRIPT":"script")}catch(i){f=0}g++}}c&&e&&f?(f.type="text/javascript",f.setAttribute("async","async"),f.src=c,e.firstChild?e.insertBefore(f,e.firstChild):e.appendChild(f),a.pa.Ka.push(c),b&&(a.j==h&&(a.j={}),a.j[d]=setTimeout(b,a.loadTimeout))):b&&b()},a.ka=function(d){a.j!=h&&a.j[d]&&(clearTimeout(a.j[d]),a.j[d]=0)},a.T=k,a.U=k,a.isAllowed=function(){return!a.T&&(a.T=j,a.cookieRead(a.cookieName)||a.cookieWrite(a.cookieName,"T",1))&&(a.U=j),a.U},a.a=h,a.d=h;var B=i.$a;B||(B="MC");var r=i.fb;r||(r="MCMID");var C=i.ab;C||(C="MCCIDH");var D=i.eb;D||(D="MCSYNCS");var F=i.bb;F||(F="MCIDTS");var x=i.cb;x||(x="MCOPTOUT");var A=i.Ya;A||(A="A");var p=i.Va;p||(p="MCAID");var y=i.Za;y||(y="AAM");var w=i.Xa;w||(w="MCAAMLH");var q=i.Wa;q||(q="MCAAMB");var s=i.gb;s||(s="NONE"),a.C=0,a.R=function(){if(!a.C){var d=a.version;a.audienceManagerServer&&(d+="|"+a.audienceManagerServer),a.audienceManagerServerSecure&&(d+="|"+a.audienceManagerServerSecure),a.C=a.S(d)}return a.C},a.V=k,a.f=function(){if(!a.V){a.V=j;var e,f,g,n,d=a.R(),c=k,b=a.cookieRead(a.cookieName),i=new Date;if(a.a==h&&(a.a={}),b&&"T"!=b)for(b=b.split("|"),b[0].match(/^[\-0-9]+$/)&&(parseInt(b[0],10)!=d&&(c=j),b.shift()),1==b.length%2&&b.pop(),d=0;d<b.length;d+=2)e=b[d].split("-"),f=e[0],g=b[d+1],1<e.length?(n=parseInt(e[1],10),e=0<e[1].indexOf("s")):(n=0,e=k),c&&(f==C&&(g=""),0<n&&(n=i.getTime()/1e3-60)),f&&g&&(a.c(f,g,1),0<n&&(a.a["expire"+f]=n+(e?"s":""),i.getTime()>=1e3*n||e&&!a.cookieRead(a.sessionCookieName)))&&(a.d||(a.d={}),a.d[f]=j);!a.b(p)&&(b=a.cookieRead("s_vi"))&&(b=b.split("|"),1<b.length&&0<=b[0].indexOf("v1")&&(g=b[1],d=g.indexOf("["),0<=d&&(g=g.substring(0,d)),g&&g.match(/^[0-9a-fA-F\-]+$/)&&a.c(p,g)))}},a.ta=function(){var c,b,d=a.R();for(c in a.a)!Object.prototype[c]&&a.a[c]&&"expire"!=c.substring(0,6)&&(b=a.a[c],d+=(d?"|":"")+c+(a.a["expire"+c]?"-"+a.a["expire"+c]:"")+"|"+b);a.cookieWrite(a.cookieName,d,1)},a.b=function(d,c){return a.a==h||!c&&a.d&&a.d[d]?h:a.a[d]},a.c=function(d,c,b){a.a==h&&(a.a={}),a.a[d]=c,b||a.ta()},a.na=function(d,c){var b=a.b(d,c);return b?b.split("*"):h},a.sa=function(d,c,b){a.c(d,c?c.join("*"):"",b)},a.Sa=function(d,c){var b=a.na(d,c);if(b){var f,e={};for(f=0;f<b.length;f+=2)e[b[f]]=b[f+1];return e}return h},a.Ua=function(d,c,b){var f,e=h;if(c)for(f in e=[],c)Object.prototype[f]||(e.push(f),e.push(c[f]));a.sa(d,e,b)},a.k=function(d,c,b){var e=new Date;e.setTime(e.getTime()+1e3*c),a.a==h&&(a.a={}),a.a["expire"+d]=Math.floor(e.getTime()/1e3)+(b?"s":""),0>c?(a.d||(a.d={}),a.d[d]=j):a.d&&(a.d[d]=k),b&&(a.cookieRead(a.sessionCookieName)||a.cookieWrite(a.sessionCookieName,"1"))},a.Q=function(a){return a&&("object"==typeof a&&(a=a.d_mid?a.d_mid:a.visitorID?a.visitorID:a.id?a.id:a.uuid?a.uuid:""+a),a&&(a=a.toUpperCase(),"NOTARGET"==a&&(a=s)),!a||a!=s&&!a.match(/^[0-9a-fA-F\-]+$/))&&(a=""),a},a.i=function(d,c){if(a.ka(d),a.h!=h&&(a.h[d]=k),d==B){var b=a.b(r);if(!b){if(b="object"==typeof c&&c.mid?c.mid:a.Q(c),!b){if(a.v)return void a.getAnalyticsVisitorID(h,k,j);b=a.r()}a.c(r,b)}b&&b!=s||(b=""),"object"==typeof c&&((c.d_region||c.dcs_region||c.d_blob||c.blob)&&a.i(y,c),a.v&&c.mid&&a.i(A,{id:c.id})),a.m(r,[b])}if(d==y&&"object"==typeof c){b=604800,c.id_sync_ttl!=z&&c.id_sync_ttl&&(b=parseInt(c.id_sync_ttl,10));var e=a.b(w);e||((e=c.d_region)||(e=c.dcs_region),e&&(a.k(w,b),a.c(w,e))),e||(e=""),a.m(w,[e]),e=a.b(q),(c.d_blob||c.blob)&&((e=c.d_blob)||(e=c.blob),a.k(q,b),a.c(q,e)),e||(e=""),a.m(q,[e]),!c.error_msg&&a.t&&a.c(C,a.t)}d==A&&(b=a.b(p),b||((b=a.Q(c))?a.k(q,-1):b=s,a.c(p,b)),b&&b!=s||(b=""),a.m(p,[b])),a.idSyncDisableSyncs?u.ba=j:(u.ba=k,b={},b.ibs=c.ibs,b.subdomain=c.subdomain,u.Ia(b)),c===Object(c)&&(b=s,c.d_optout&&c.d_optout instanceof Array&&(b=c.d_optout.join(",")),e=parseInt(c.d_ottl,10),isNaN(e)&&(e=7200),a.k(x,e,!0),a.c(x,b),a.m(x,[b]))},a.h=h,a.n=function(d,c,b,e){var g,f="";return a.isAllowed()&&(a.f(),f=a.b(d),!f&&(d==r||d==x?g=B:d==w||d==q?g=y:d==p&&(g=A),g))?(!c||a.h!=h&&a.h[g]||(a.h==h&&(a.h={}),a.h[g]=j,a.oa(g,c,function(){if(!a.b(d)){var b="";d==r?b=a.r():g==y&&(b={error_msg:"timeout"}),a.i(g,b)}})),a.ra(d,b),c||a.i(g,{id:s}),""):(d!=r&&d!=p||f!=s||(f="",e=j),b&&e&&a.A(b,[f]),f)},a._setMarketingCloudFields=function(d){a.f(),a.i(B,d)},a.setMarketingCloudVisitorID=function(d){a._setMarketingCloudFields(d)},a.v=k,a.getMarketingCloudVisitorID=function(d,c){if(a.isAllowed()){a.marketingCloudServer&&0>a.marketingCloudServer.indexOf(".demdex.net")&&(a.v=j);var b=a.s("_setMarketingCloudFields");return a.n(r,b,d,c)}return""},a.qa=function(){a.getAudienceManagerBlob()},i.AuthState={UNKNOWN:0,AUTHENTICATED:1,LOGGED_OUT:2},a.q={},a.P=k,a.t="",a.setCustomerIDs=function(d){if(a.isAllowed()&&d){a.f();var c,b;for(c in d)if(!Object.prototype[c]&&(b=d[c]))if("object"==typeof b){var e={};b.id&&(e.id=b.id),b.authState!=z&&(e.authState=b.authState),a.q[c]=e}else a.q[c]={id:b};var d=a.getCustomerIDs(),e=a.b(C),f="";e||(e=0);for(c in d)Object.prototype[c]||(b=d[c],f+=(f?"|":"")+c+"|"+(b.id?b.id:"")+(b.authState?b.authState:""));a.t=a.S(f),a.t!=e&&(a.P=j,a.qa())}},a.getCustomerIDs=function(){a.f();var c,b,d={};for(c in a.q)Object.prototype[c]||(b=a.q[c],d[c]||(d[c]={}),b.id&&(d[c].id=b.id),d[c].authState=b.authState!=z?b.authState:i.AuthState.UNKNOWN);return d},a._setAnalyticsFields=function(d){a.f(),a.i(A,d)},a.setAnalyticsVisitorID=function(d){a._setAnalyticsFields(d)},a.getAnalyticsVisitorID=function(d,c,b){if(a.isAllowed()){var e="";if(b||(e=a.getMarketingCloudVisitorID(function(){a.getAnalyticsVisitorID(d,j)})),e||b){var f=b?a.marketingCloudServer:a.trackingServer,g="";return a.loadSSL&&(b?a.marketingCloudServerSecure&&(f=a.marketingCloudServerSecure):a.trackingServerSecure&&(f=a.trackingServerSecure)),f&&(g="http"+(a.loadSSL?"s":"")+"://"+f+"/id?d_visid_ver="+a.version+"&callback=s_c_il%5B"+a._in+"%5D._set"+(b?"MarketingCloud":"Analytics")+"Fields&mcorgid="+encodeURIComponent(a.marketingCloudOrgID)+(e?"&mid="+e:"")+(a.idSyncDisable3rdPartySyncing?"&d_coppa=true":"")),a.n(b?r:p,g,d,c)}}return""},a._setAudienceManagerFields=function(d){a.f(),a.i(y,d)},a.s=function(d){var c=a.audienceManagerServer,b="",e=a.b(r),f=a.b(q,j),g=a.b(p),g=g&&g!=s?"&d_cid_ic=AVID%01"+encodeURIComponent(g):"";if(a.loadSSL&&a.audienceManagerServerSecure&&(c=a.audienceManagerServerSecure),c){var h,i,b=a.getCustomerIDs();if(b)for(h in b)Object.prototype[h]||(i=b[h],g+="&d_cid_ic="+encodeURIComponent(h)+"%01"+encodeURIComponent(i.id?i.id:"")+(i.authState?"%01"+i.authState:""));d||(d="_setAudienceManagerFields"),b="http"+(a.loadSSL?"s":"")+"://"+c+"/id?d_visid_ver="+a.version+"&d_rtbd=json&d_ver=2"+(!e&&a.v?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(a.marketingCloudOrgID)+"&d_nsid="+(a.idSyncContainerID||0)+(e?"&d_mid="+e:"")+(a.idSyncDisable3rdPartySyncing?"&d_coppa=true":"")+(f?"&d_blob="+encodeURIComponent(f):"")+g+"&d_cb=s_c_il%5B"+a._in+"%5D."+d}return b},a.getAudienceManagerLocationHint=function(d,c){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerLocationHint(d,j)})){var b=a.b(p);if(b||(b=a.getAnalyticsVisitorID(function(){a.getAudienceManagerLocationHint(d,j)})),b)return b=a.s(),a.n(w,b,d,c)}return""},a.getAudienceManagerBlob=function(d,c){if(a.isAllowed()&&a.getMarketingCloudVisitorID(function(){a.getAudienceManagerBlob(d,j)})){var b=a.b(p);if(b||(b=a.getAnalyticsVisitorID(function(){a.getAudienceManagerBlob(d,j)})),b)return b=a.s(),a.P&&a.k(q,-1),a.n(q,b,d,c)}return""},a.o="",a.u={},a.D="",a.F={},a.getSupplementalDataID=function(d,c){!a.o&&!c&&(a.o=a.r(1));var b=a.o;return a.D&&!a.F[d]?(b=a.D,a.F[d]=j):b&&(a.u[d]&&(a.D=a.o,a.F=a.u,a.o=b=c?"":a.r(1),a.u={}),b&&(a.u[d]=j)),b},i.OptOut={GLOBAL:"global"},a.getOptOut=function(d,c){if(a.isAllowed()){var b=a.s("_setMarketingCloudFields");return a.n(x,b,d,c)}return""},a.isOptedOut=function(d,c,b){return a.isAllowed()?(c||(c=i.OptOut.GLOBAL),(b=a.getOptOut(function(b){a.A(d,[b==i.OptOut.GLOBAL||0<=b.indexOf(c)])},b))?b==i.OptOut.GLOBAL||0<=b.indexOf(c):h):k};var v={l:!!l.postMessage,ha:1,O:864e5};a.Oa=v,a.X={postMessage:function(a,c,b){var e=1;c&&(v.l?b.postMessage(a,c.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):c&&(b.location=c.replace(/#.*$/,"")+"#"+ +new Date+e++ +"&"+a))},K:function(a,c){var b;try{v.l&&(a&&(b=function(b){return!("string"==typeof c&&b.origin!==c||"[object Function]"===Object.prototype.toString.call(c)&&!1===c(b.origin))&&void a(b)}),window.addEventListener?window[a?"addEventListener":"removeEventListener"]("message",b,!1):window[a?"attachEvent":"detachEvent"]("onmessage",b))}catch(e){}}};var G={Y:function(){return o.addEventListener?function(a,c,b){a.addEventListener(c,function(a){"function"==typeof b&&b(a)},k)}:o.attachEvent?function(a,c,b){a.attachEvent("on"+c,function(a){"function"==typeof b&&b(a)})}:void 0}(),map:function(a,c){if(Array.prototype.map)return a.map(c);if(void 0===a||a===h)throw new TypeError;var b=Object(a),e=b.length>>>0;if("function"!=typeof c)throw new TypeError;for(var f=Array(e),g=0;g<e;g++)g in b&&(f[g]=c.call(c,b[g],g,b));return f},za:function(a,c){return this.map(a,function(a){return encodeURIComponent(a)}).join(c)}};a.Ta=G;var u={ia:3e4,N:649,fa:k,id:h,I:h,aa:function(a){if("string"==typeof a)return a=a.split("/"),a[0]+"//"+a[2]},e:h,url:h,Aa:function(){var d="http://fast.",c="?d_nsid="+a.idSyncContainerID+"#"+encodeURIComponent(o.location.href);return this.e||(this.e="nosubdomainreturned"),a.loadSSL&&(d=a.idSyncSSLUseAkamai?"https://fast.":"https://"),d=d+this.e+".demdex.net/dest5.html"+c,this.I=this.aa(d),this.id="destination_publishing_iframe_"+this.e+"_"+a.idSyncContainerID,d},va:function(){var d="?d_nsid="+a.idSyncContainerID+"#"+encodeURIComponent(o.location.href);"string"==typeof a.B&&a.B.length&&(this.id="destination_publishing_iframe_"+(new Date).getTime()+"_"+a.idSyncContainerID,this.I=this.aa(a.B),this.url=a.B+d)},ba:h,H:k,M:k,w:h,hb:h,Ga:h,ib:h,L:k,z:[],Ea:[],Fa:[],ca:v.l?15:100,J:[],Ca:[],$:j,da:k,Z:function(){function a(){e=document.createElement("iframe"),e.id=b.id,e.style.cssText="display: none; width: 0; height: 0;",e.src=b.url,b.Ga=j,c(),document.body.appendChild(e)}function c(){G.Y(e,"load",function(){e.className="aamIframeLoaded",b.w=j,b.p()})}this.M=j;var b=this,e=document.getElementById(this.id);e?"IFRAME"!==e.nodeName?(this.id+="_2",a()):"aamIframeLoaded"!==e.className?c():(this.w=j,this.p()):a(),this.Ba=e},p:function(d){var c=this;d===Object(d)&&this.J.push(d),(this.da||!v.l||this.w)&&this.J.length&&(this.Ha(this.J.shift()),this.p()),!a.idSyncDisableSyncs&&this.w&&this.z.length&&!this.L&&(this.fa||(this.fa=j,setTimeout(function(){c.ca=v.l?15:150},this.ia)),this.L=j,this.ea())},Ha:function(a){var b,e,f,g,h,c=encodeURIComponent;if((b=a.ibs)&&b instanceof Array&&(e=b.length))for(f=0;f<e;f++)g=b[f],h=[c("ibs"),c(g.id||""),c(g.tag||""),G.za(g.url||[],","),c(g.ttl||""),"","",g.fireURLSync?"true":"false"],this.$?this.G(h.join("|")):g.fireURLSync&&this.wa(g,h.join("|"));this.Ca.push(a)},wa:function(d,c){a.f();var b=a.b(D),e=k,f=k,g=Math.ceil((new Date).getTime()/v.O);b?(b=b.split("*"),f=this.Ja(b,d.id,g),e=f.xa,f=f.ya,e&&f||(this.G(c),b.push(d.id+"-"+(g+Math.ceil(d.ttl/60/24))),this.Da(b),a.c(D,b.join("*")))):(this.G(c),a.c(D,d.id+"-"+(g+Math.ceil(d.ttl/60/24))))},Ja:function(a,c,b){var g,h,i,e=k,f=k;for(h=0;h<a.length;h++)g=a[h],i=parseInt(g.split("-")[1],10),g.match("^"+c+"-")?(e=j,b<i?f=j:(a.splice(h,1),h--)):b>=i&&(a.splice(h,1),h--);return{xa:e,ya:f}},Da:function(a){if(a.join("*").length>this.N)for(a.sort(function(a,b){return parseInt(a.split("-")[1],10)-parseInt(b.split("-")[1],10)});a.join("*").length>this.N;)a.shift()},G:function(d){var c=encodeURIComponent;this.z.push(c(a.Qa?"---destpub-debug---":"---destpub---")+d)},ea:function(){var c,d=this;this.z.length?(c=this.z.shift(),a.X.postMessage(c,this.url,this.Ba.contentWindow),this.Ea.push(c),setTimeout(function(){d.ea()},this.ca)):this.L=k},K:function(a){var c=/^---destpub-to-parent---/;"string"==typeof a&&c.test(a)&&(c=a.replace(c,"").split("|"),"canSetThirdPartyCookies"===c[0]&&(this.$="true"===c[1]?j:k,this.da=j,this.p()),this.Fa.push(a))},Ia:function(d){this.url===h&&(this.e="string"==typeof a.W&&a.W.length?a.W:d.subdomain||"",this.url=this.Aa()),d.ibs instanceof Array&&d.ibs.length&&(this.H=j),a.idSyncDisable3rdPartySyncing||!this.H&&!a.la||!this.e||"nosubdomainreturned"===this.e||this.M||(i.ga||"complete"===o.readyState||"loaded"===o.readyState)&&this.Z(),"function"==typeof a.idSyncIDCallResult?a.idSyncIDCallResult(d):this.p(d),"function"==typeof a.idSyncAfterIDCallResult&&a.idSyncAfterIDCallResult(d)},ua:function(d,c){return a.Ra||!d||c-d>v.ha}};if(a.Pa=u,0>m.indexOf("@")&&(m+="@AdobeOrg"),a.marketingCloudOrgID=m,a.cookieName="AMCV_"+m,a.sessionCookieName="AMCVS_"+m,a.cookieDomain=a.ma(),a.cookieDomain==l.location.hostname&&(a.cookieDomain=""),a.loadSSL=0<=l.location.protocol.toLowerCase().indexOf("https"),a.loadTimeout=500,a.marketingCloudServer=a.audienceManagerServer="dpm.demdex.net",t&&"object"==typeof t){for(var E in t)!Object.prototype[E]&&(a[E]=t[E]);a.idSyncContainerID=a.idSyncContainerID||0,a.f(),E=a.b(F);var H=Math.ceil((new Date).getTime()/v.O);!a.idSyncDisableSyncs&&u.ua(E,H)&&(a.k(q,-1),a.c(F,H)),a.getMarketingCloudVisitorID(),a.getAudienceManagerLocationHint(),a.getAudienceManagerBlob()}if(!a.idSyncDisableSyncs){u.va(),G.Y(window,"load",function(){var d=u;i.ga=j,!a.idSyncDisable3rdPartySyncing&&(d.H||a.la)&&d.e&&"nosubdomainreturned"!==d.e&&d.url&&!d.M&&d.Z()});try{a.X.K(function(a){u.K(a.data)},u.I)}catch(I){}}}function FABridge(target,bridgeName){return this.target=target,this.remoteTypeCache={},this.remoteInstanceCache={},this.remoteFunctionCache={},this.localFunctionCache={},this.bridgeID=FABridge.nextBridgeID++,this.name=bridgeName,this.nextLocalFuncID=0,FABridge.instances[this.name]=this,FABridge.idMap[this.bridgeID]=this,this}function instanceFactory(objID){return this.fb_instance_id=objID,this}function FABridge__invokeJSFunction(args){var funcID=args[0],throughArgs=args.concat();throughArgs.shift();var bridge=FABridge.extractBridgeFromID(funcID);return bridge.invokeLocalFunction(funcID,throughArgs)}function FABridge__bridgeInitialized(bridgeName){var objects=document.getElementsByTagName("object"),ol=objects.length,activeObjects=[];if(ol>0)for(var i=0;i<ol;i++)"undefined"!=typeof objects[i].SetVariable&&(activeObjects[activeObjects.length]=objects[i]);var embeds=document.getElementsByTagName("embed"),el=embeds.length,activeEmbeds=[];if(el>0)for(var j=0;j<el;j++)"undefined"!=typeof embeds[j].SetVariable&&(activeEmbeds[activeEmbeds.length]=embeds[j]);var aol=activeObjects.length,ael=activeEmbeds.length,searchStr="bridgeName="+bridgeName;if(1==aol&&!ael||1==aol&&1==ael)FABridge.attachBridge(activeObjects[0],bridgeName);else if(1!=ael||aol){var flash_found=!1;if(aol>1)for(var k=0;k<aol;k++){for(var params=activeObjects[k].childNodes,l=0;l<params.length;l++){var param=params[l];if(1==param.nodeType&&"param"==param.tagName.toLowerCase()&&"flashvars"==param.name.toLowerCase()&&param.value.indexOf(searchStr)>=0){FABridge.attachBridge(activeObjects[k],bridgeName),flash_found=!0;break}}if(flash_found)break}if(!flash_found&&ael>1)for(var m=0;m<ael;m++){var flashVars=activeEmbeds[m].attributes.getNamedItem("flashVars").nodeValue;if(flashVars.indexOf(searchStr)>=0){FABridge.attachBridge(activeEmbeds[m],bridgeName);break}}}else FABridge.attachBridge(activeEmbeds[0],bridgeName);return!0}function unRewriteURL(uri){if("string"==typeof uri&&uri.indexOf("/_/")>-1){var parts=uri.split("/_/");if(parts.length>1){var uri=parts[0]+"?",params=parts[1],values=params.split("/"),amp="";if(values.length%2==1){var queryString=values.pop();queryString=queryString.slice(queryString.indexOf("?")+1);var queryValues=[];queryString.replace(/([^=&]+)=([^&]*)/g,function(m,key,value){queryValues.push(key),queryValues.push(value)}),values=values.concat(queryValues)}if(values.length>0)for(i=0;i<values.length-1;i+=2){var key=values[i],value=values[i+1];uri+=amp+key+"="+value,amp="&"}}}return uri}Visitor.getInstance=function(m,t){var a,i,l=window.s_c_il;if(0>m.indexOf("@")&&(m+="@AdobeOrg"),l)for(i=0;i<l.length;i++)if((a=l[i])&&"Visitor"==a._c&&a.marketingCloudOrgID==m)return a;return new Visitor(m,t)},function(){function m(){t.ga=a}var t=window.Visitor,a=t.ja;a||(a=!0),window.addEventListener?window.addEventListener("load",m):window.attachEvent&&window.attachEvent("onload",m)}();var hostname=window.location.hostname,server="w88.espn.com",secureServer="sw88.espn.com";hostname.match(/\.go\./)&&(server="w88.go.com",secureServer="sw88.go.com");var visitorConfig={loadTimeout:3e4,trackingServer:server,trackingServerSecure:secureServer,marketingCloudServer:server,marketingCloudServerSecure:secureServer};hostname.match(/\.com\.../)&&(visitorConfig.cookieDomain=hostname.replace(/^(www\.|qa\.)/,""));var visitor=Visitor.getInstance("EE0201AC512D2BE80A490D4C@AdobeOrg",visitorConfig);!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){function s(a){var b="length"in a&&a.length,c=n.type(a);return"function"!==c&&!n.isWindow(a)&&(!(1!==a.nodeType||!b)||("array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a))}function x(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(w.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return g.call(b,a)>=0!==c})}function D(a,b){for(;(a=a[b])&&1!==a.nodeType;);return a}function G(a){var b=F[a]={};return n.each(a.match(E)||[],function(a,c){b[c]=!0}),b}function I(){l.removeEventListener("DOMContentLoaded",I,!1),a.removeEventListener("load",I,!1),n.ready()}function K(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=n.expando+K.uid++}function P(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(O,"-$1").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c||"false"!==c&&("null"===c?null:+c+""===c?+c:N.test(c)?n.parseJSON(c):c)}catch(e){}M.set(a,b,c)}else c=void 0;return c}function Z(){return!0}function $(){return!1}function _(){try{return l.activeElement}catch(a){}}function ja(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function ka(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function la(a){var b=ga.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function ma(a,b){for(var c=0,d=a.length;d>c;c++)L.set(a[c],"globalEval",!b||L.get(b[c],"globalEval"))}function na(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(L.hasData(a)&&(f=L.access(a),g=L.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}M.hasData(a)&&(h=M.access(a),i=n.extend({},h),M.set(b,i))}}function oa(a,b){var c=a.getElementsByTagName?a.getElementsByTagName(b||"*"):a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function pa(a,b){var c=b.nodeName.toLowerCase();"input"===c&&T.test(a.type)?b.checked=a.checked:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}function sa(b,c){var d,e=n(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:n.css(e[0],"display");return e.detach(),f}function ta(a){var b=l,c=ra[a];return c||(c=sa(a,b),"none"!==c&&c||(qa=(qa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=qa[0].contentDocument,b.write(),b.close(),c=sa(a,b),qa.detach()),ra[a]=c),c}function xa(a,b,c){var d,e,f,g,h=a.style;return c=c||wa(a),c&&(g=c.getPropertyValue(b)||c[b]),c&&(""!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),va.test(g)&&ua.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0!==g?g+"":g}function ya(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}function Fa(a,b){if(b in a)return b;for(var c=b[0].toUpperCase()+b.slice(1),d=b,e=Ea.length;e--;)if(b=Ea[e]+c,b in a)return b;return d}function Ga(a,b,c){var d=Aa.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Ha(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+R[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+R[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+R[f]+"Width",!0,e))):(g+=n.css(a,"padding"+R[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+R[f]+"Width",!0,e)));return g}function Ia(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=wa(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=xa(a,b,f),(0>e||null==e)&&(e=a.style[b]),va.test(e))return e;d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Ha(a,b,c||(g?"border":"content"),d,f)+"px"}function Ja(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=L.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&S(d)&&(f[g]=L.access(d,"olddisplay",ta(d.nodeName)))):(e=S(d),"none"===c&&e||L.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function Ka(a,b,c,d,e){return new Ka.prototype.init(a,b,c,d,e)}function Sa(){return setTimeout(function(){La=void 0}),La=n.now()}function Ta(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=R[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ua(a,b,c){for(var d,e=(Ra[b]||[]).concat(Ra["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Va(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&S(a),q=L.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?L.get(a,"olddisplay")||ta(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Na.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?ta(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=L.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;L.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ua(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function Wa(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function Xa(a,b,c){var d,e,f=0,g=Qa.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=La||Sa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:La||Sa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(Wa(k,j.opts.specialEasing);g>f;f++)if(d=Qa[f].call(j,a,k,j.opts))return d;return n.map(k,Ua,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function qb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(n.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function rb(a,b,c,d){function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}var e={},f=a===mb;return g(b.dataTypes[0])||!e["*"]&&g("*")}function sb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function tb(a,b,c){for(var d,e,f,g,h=a.contents,i=a.dataTypes;"*"===i[0];)i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function ub(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];for(f=k.shift();f;)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}function Ab(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||wb.test(a)?d(a,e):Ab(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Ab(a+"["+e+"]",b[e],c,d)}function Jb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l=a.document,m="2.1.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){return!n.isArray(a)&&a-parseFloat(a)+1>=0},isPlainObject:function(a){return"object"===n.type(a)&&!a.nodeType&&!n.isWindow(a)&&!(a.constructor&&!j.call(a.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=l.createElement("script"),b.text=a,l.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g)for(;f>e&&(d=b.apply(a[e],c),d!==!1);e++);else for(e in a)if(d=b.apply(a[e],c),d===!1)break;
}else if(g)for(;f>e&&(d=b.call(a[e],e,a[e]),d!==!1);e++);else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:g.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(e=d.call(arguments,2),f=function(){return a.apply(b||this,e.concat(d.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:k}),n.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});var t=function(a){function ga(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k)return d;if(!e&&p){if(11!==k&&(f=_.exec(a)))if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode)return d;if(h.id===j)return d.push(h),d}else if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j)return d.push(h),d}else{if(f[2])return H.apply(d,b.getElementsByTagName(a)),d;if((j=f[3])&&c.getElementsByClassName)return H.apply(d,b.getElementsByClassName(j)),d}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){for(o=g(a),(r=b.getAttribute("id"))?s=r.replace(ba,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;l--;)o[l]=s+ra(o[l]);w=aa.test(a)&&pa(b.parentNode)||b,x=o.join(",")}if(x)try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}return i(a.replace(R,"$1"),b,d,e)}function ha(){function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}var a=[];return b}function ia(a){return a[u]=!0,a}function ja(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ka(a,b){for(var c=a.split("|"),e=a.length;e--;)d.attrHandle[c[e]]=b}function la(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function na(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function oa(a){return ia(function(b){return b=+b,ia(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function pa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}function qa(){}function ra(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function sa(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j=[w,f];if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f)return j[2]=h[2];if(i[d]=j,j[2]=a(b,c,g))return!0}}}function ta(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ua(a,b,c){for(var d=0,e=b.length;e>d;d++)ga(a,b[d],c);return c}function va(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function wa(a,b,c,d,e,f){return d&&!d[u]&&(d=wa(d)),e&&!e[u]&&(e=wa(e,f)),ia(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ua(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:va(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d)for(j=va(r,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l));if(f){if(e||a){if(e){for(j=[],k=r.length;k--;)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}for(k=r.length;k--;)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=va(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function xa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sa(function(a){return a===b},h,!0),l=sa(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[sa(ta(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e&&!d.relative[a[e].type];e++);return wa(i>1&&ta(m),i>1&&ra(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xa(a.slice(i,e)),f>e&&xa(a=a.slice(e)),f>e&&ra(a))}m.push(c)}return ta(m)}function ya(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){for(m=0;o=a[m++];)if(o(l,g,h)){i.push(l);break}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){for(m=0;o=b[m++];)o(r,s,g,h);if(f){if(p>0)for(;q--;)r[q]||s[q]||(s[q]=F.call(i));s=va(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&ga.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ia(f):f}var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ha(),z=ha(),A=ha(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,aa=/[+~]/,ba=/'|\\/g,ca=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),da=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},ea=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fa){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}c=ga.support={},f=ga.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return!!b&&"HTML"!==b.nodeName},m=ga.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",ea,!1):e.attachEvent&&e.attachEvent("onunload",ea)),p=!f(g),c.attributes=ja(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ja(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=ja(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ca,da);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(ja(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ja(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ja(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f)return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return la(a,b);for(c=a;c=c.parentNode;)h.unshift(c);for(c=b;c=c.parentNode;)i.unshift(c);for(;h[d]===i[d];)d++;return d?la(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},ga.matches=function(a,b){return ga(a,null,null,b)},ga.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return ga(b,n,null,[a]).length>0},ga.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},ga.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},ga.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},ga.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){for(;b=a[f++];)b===a[f]&&(e=d.push(f));for(;e--;)a.splice(d[e],1)}return k=null,a},e=ga.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else for(;b=a[d++];)c+=e(b);return c},d=ga.selectors={cacheLength:50,createPseudo:ia,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ca,da),a[3]=(a[3]||a[4]||a[5]||"").replace(ca,da),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||ga.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&ga.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ca,da).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=ga.attr(d,a);return null==e?"!="===b:!b||(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b&&(e===c||e.slice(0,c.length+1)===c+"-"))}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}else if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[u]||(l[u]={}))[a]=[w,m]),l!==b)););return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||ga.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ia(function(a,c){for(var d,f=e(a,b),g=f.length;g--;)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ia(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ia(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ia(function(a){return function(b){return ga(a,b).length>0}}),contains:ia(function(a){return a=a.replace(ca,da),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ia(function(a){return W.test(a||"")||ga.error("unsupported lang: "+a),a=a.replace(ca,da).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:oa(function(){return[0]}),last:oa(function(a,b){return[b-1]}),eq:oa(function(a,b,c){return[0>c?c+b:c]}),even:oa(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:oa(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:oa(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:oa(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=ma(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=na(b);return qa.prototype=d.filters=d.pseudos,d.setFilters=new qa,g=ga.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=d.preFilter;h;){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter)!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?ga.error(a):z(a,i).slice(0)},h=ga.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){for(b||(b=g(a)),c=b.length;c--;)f=xa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,ya(e,d)),f.selector=a}return f},i=ga.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ca,da),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}for(i=X.needsContext.test(a)?0:j.length;i--&&(k=j[i],!d.relative[l=k.type]);)if((m=d.find[l])&&(f=m(k.matches[0].replace(ca,da),aa.test(j[0].type)&&pa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&ra(j),!a)return H.apply(e,f),e;break}}return(n||h(a,o))(f,b,!p,e,aa.test(a)&&pa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ja(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ja(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ka("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ja(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ka("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ja(function(a){return null==a.getAttribute("disabled")})||ka(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),ga}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=n.expr.match.needsContext,v=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,w=/^.[^:#\[\.,]*$/;n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(x(this,a||[],!1))},not:function(a){return this.pushStack(x(this,a||[],!0))},is:function(a){return!!x(this,"string"==typeof a&&u.test(a)?n(a):a||[],!1).length}});var y,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=n.fn.init=function(a,b){var c,d;if(!a)return this;if("string"==typeof a){if(c="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b)return!b||b.jquery?(b||y).find(a):this.constructor(b).find(a);if(c[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:l,!0)),v.test(c[1])&&n.isPlainObject(b))for(c in b)n.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c]);return this}return d=l.getElementById(c[2]),d&&d.parentNode&&(this.length=1,this[0]=d),this.context=l,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?"undefined"!=typeof y.ready?y.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};A.prototype=n.fn,y=n(l);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};n.extend({dir:function(a,b,c){for(var d=[],e=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}}),n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=u.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.unique(f):f)},index:function(a){return a?"string"==typeof a?g.call(n(a),this[0]):g.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.unique(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return n.dir(a,"parentNode")},parentsUntil:function(a,b,c){return n.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return n.dir(a,"nextSibling")},prevAll:function(a){return n.dir(a,"previousSibling")},nextUntil:function(a,b,c){return n.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return n.dir(a,"previousSibling",c)},siblings:function(a){return n.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return n.sibling(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(C[a]||n.unique(e),B.test(a)&&e.reverse()),this.pushStack(e)}});var E=/\S+/g,F={};n.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):n.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(b=a.memory&&l,c=!0,g=e||0,e=0,f=h.length,d=!0;h&&f>g;g++)if(h[g].apply(l[0],l[1])===!1&&a.stopOnFalse){b=!1;break}d=!1,h&&(i?i.length&&j(i.shift()):b?h=[]:k.disable())},k={add:function(){if(h){var c=h.length;!function g(b){n.each(b,function(b,c){var d=n.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&g(c)})}(arguments),d?f=h.length:b&&(e=c,j(b))}return this},remove:function(){return h&&n.each(arguments,function(a,b){for(var c;(c=n.inArray(b,h,c))>-1;)h.splice(c,1),d&&(f>=c&&f--,g>=c&&g--)}),this},has:function(a){return a?n.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],f=0,this},disable:function(){return h=i=b=void 0,this},disabled:function(){return!h},lock:function(){return i=void 0,b||k.disable(),this},locked:function(){return!i},fireWith:function(a,b){return!h||c&&!i||(b=b||[],b=[a,b.slice?b.slice():b],d?i.push(b):j(b)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return!!c}};return k},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var i,j,k,b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&n.isFunction(a.promise)?e:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}};if(e>1)for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f;return f||g.resolveWith(k,c),g.promise()}});var H;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(H.resolveWith(l,[n]),n.fn.triggerHandler&&(n(l).triggerHandler("ready"),n(l).off("ready"))))}}),n.ready.promise=function(b){return H||(H=n.Deferred(),"complete"===l.readyState?setTimeout(n.ready):(l.addEventListener("DOMContentLoaded",I,!1),a.addEventListener("load",I,!1))),H.promise(b)},n.ready.promise();var J=n.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)n.access(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f};n.acceptData=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType},K.uid=1,K.accepts=n.acceptData,K.prototype={key:function(a){if(!K.accepts(a))return 0;var b={},c=a[this.expando];if(!c){c=K.uid++;try{b[this.expando]={value:c},Object.defineProperties(a,b)}catch(d){b[this.expando]=c,n.extend(a,b)}}return this.cache[c]||(this.cache[c]={}),c},set:function(a,b,c){var d,e=this.key(a),f=this.cache[e];if("string"==typeof b)f[b]=c;else if(n.isEmptyObject(f))n.extend(this.cache[e],b);else for(d in b)f[d]=b[d];return f},get:function(a,b){var c=this.cache[this.key(a)];return void 0===b?c:c[b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=this.key(a),g=this.cache[f];if(void 0===b)this.cache[f]={};else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in g?d=[b,e]:(d=e,d=d in g?[d]:d.match(E)||[])),c=d.length;for(;c--;)delete g[d[c]]}},hasData:function(a){return!n.isEmptyObject(this.cache[a[this.expando]]||{})},discard:function(a){a[this.expando]&&delete this.cache[a[this.expando]]}};var L=new K,M=new K,N=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,O=/([A-Z])/g;n.extend({hasData:function(a){return M.hasData(a)||L.hasData(a)},data:function(a,b,c){return M.access(a,b,c)},removeData:function(a,b){M.remove(a,b)},_data:function(a,b,c){return L.access(a,b,c)},_removeData:function(a,b){L.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=M.get(f),1===f.nodeType&&!L.get(f,"hasDataAttrs"))){for(c=g.length;c--;)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),P(f,d,e[d])));L.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){M.set(this,a)}):J(this,function(b){var c,d=n.camelCase(a);if(f&&void 0===b){if(c=M.get(f,a),void 0!==c)return c;if(c=M.get(f,d),void 0!==c)return c;if(c=P(f,d,void 0),void 0!==c)return c}else this.each(function(){var c=M.get(this,d);M.set(this,d,b),-1!==a.indexOf("-")&&void 0!==c&&M.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){M.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=L.get(a,b),c&&(!d||n.isArray(c)?d=L.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return L.get(a,c)||L.access(a,c,{empty:n.Callbacks("once memory").add(function(){L.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};for("string"!=typeof a&&(b=a,a=void 0),a=a||"fx";g--;)c=L.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,R=["Top","Right","Bottom","Left"],S=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)},T=/^(?:checkbox|radio)$/i;!function(){var a=l.createDocumentFragment(),b=a.appendChild(l.createElement("div")),c=l.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var U="undefined";k.focusinBubbles="onfocusin"in a;var V=/^key/,W=/^(?:mouse|pointer|contextmenu)|click/,X=/^(?:focusinfocus|focusoutblur)$/,Y=/^([^.]*)(?:\.(.+)|)$/;n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.get(a);if(r)for(c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return typeof n!==U&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(E)||[""],j=b.length;j--;)h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g,!1)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=L.hasData(a)&&L.get(a);if(r&&(i=r.events)){for(b=(b||"").match(E)||[""],j=b.length;j--;)if(h=Y.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){for(l=n.event.special[o]||{},
o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;f--;)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&(delete r.handle,L.remove(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,m,o,p=[d||l],q=j.call(b,"type")?b.type:b,r=j.call(b,"namespace")?b.namespace.split("."):[];if(g=h=d=d||l,3!==d.nodeType&&8!==d.nodeType&&!X.test(q+n.event.triggered)&&(q.indexOf(".")>=0&&(r=q.split("."),q=r.shift(),r.sort()),k=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=r.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},e||!o.trigger||o.trigger.apply(d,c)!==!1)){if(!e&&!o.noBubble&&!n.isWindow(d)){for(i=o.delegateType||q,X.test(i+q)||(g=g.parentNode);g;g=g.parentNode)p.push(g),h=g;h===(d.ownerDocument||l)&&p.push(h.defaultView||h.parentWindow||a)}for(f=0;(g=p[f++])&&!b.isPropagationStopped();)b.type=f>1?i:o.bindType||q,m=(L.get(g,"events")||{})[b.type]&&L.get(g,"handle"),m&&m.apply(g,c),m=k&&g[k],m&&m.apply&&n.acceptData(g)&&(b.result=m.apply(g,c),b.result===!1&&b.preventDefault());return b.type=q,e||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!n.acceptData(d)||k&&n.isFunction(d[q])&&!n.isWindow(d)&&(h=d[k],h&&(d[k]=null),n.event.triggered=q,d[q](),n.event.triggered=void 0,h&&(d[k]=h)),b.result}},dispatch:function(a){a=n.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(L.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=n.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,c=0;(g=f.handlers[c++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(g.namespace))&&(a.handleObj=g,a.data=g.data,e=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==e&&(a.result=e)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type))for(;i!==this;i=i.parentNode||this)if(i.disabled!==!0||"click"!==a.type){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>=0:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||l,d=c.documentElement,e=c.body,a.pageX=b.clientX+(d&&d.scrollLeft||e&&e.scrollLeft||0)-(d&&d.clientLeft||e&&e.clientLeft||0),a.pageY=b.clientY+(d&&d.scrollTop||e&&e.scrollTop||0)-(d&&d.clientTop||e&&e.clientTop||0)),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=W.test(e)?this.mouseHooks:V.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new n.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=l),3===a.target.nodeType&&(a.target=a.target.parentNode),g.filter?g.filter(a,f):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==_()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===_()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=n.extend(new n.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?n.event.trigger(e,null,b):n.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?Z:$):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=Z,a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=Z,a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=Z,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!n.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.focusinBubbles||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a),!0)};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=L.access(d,b);e||d.addEventListener(a,c,!0),L.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=L.access(d,b)-1;e?L.access(d,b,e):(d.removeEventListener(a,c,!0),L.remove(d,b))}}}),n.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(g in a)this.on(g,b,c,a[g],e);return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1)d=$;else if(!d)return this;return 1===e&&(f=d,d=function(a){return n().off(a),f.apply(this,arguments)},d.guid=f.guid||(f.guid=n.guid++)),this.each(function(){n.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=$),this.each(function(){n.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}});var aa=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ba=/<([\w:]+)/,ca=/<|&#?\w+;/,da=/<(?:script|style|link)/i,ea=/checked\s*(?:[^=]|=\s*.checked.)/i,fa=/^$|\/(?:java|ecma)script/i,ga=/^true\/(.*)/,ha=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ia={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};ia.optgroup=ia.option,ia.tbody=ia.tfoot=ia.colgroup=ia.caption=ia.thead,ia.th=ia.td,n.extend({clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=oa(h),f=oa(a),d=0,e=f.length;e>d;d++)pa(f[d],g[d]);if(b)if(c)for(f=f||oa(a),g=g||oa(h),d=0,e=f.length;e>d;d++)na(f[d],g[d]);else na(a,h);return g=oa(h,"script"),g.length>0&&ma(g,!i&&oa(a,"script")),h},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k=b.createDocumentFragment(),l=[],m=0,o=a.length;o>m;m++)if(e=a[m],e||0===e)if("object"===n.type(e))n.merge(l,e.nodeType?[e]:e);else if(ca.test(e)){for(f=f||k.appendChild(b.createElement("div")),g=(ba.exec(e)||["",""])[1].toLowerCase(),h=ia[g]||ia._default,f.innerHTML=h[1]+e.replace(aa,"<$1></$2>")+h[2],j=h[0];j--;)f=f.lastChild;n.merge(l,f.childNodes),f=k.firstChild,f.textContent=""}else l.push(b.createTextNode(e));for(k.textContent="",m=0;e=l[m++];)if((!d||-1===n.inArray(e,d))&&(i=n.contains(e.ownerDocument,e),f=oa(k.appendChild(e),"script"),i&&ma(f),c))for(j=0;e=f[j++];)fa.test(e.type||"")&&c.push(e);return k},cleanData:function(a){for(var b,c,d,e,f=n.event.special,g=0;void 0!==(c=a[g]);g++){if(n.acceptData(c)&&(e=c[L.expando],e&&(b=L.cache[e]))){if(b.events)for(d in b.events)f[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);L.cache[e]&&delete L.cache[e]}delete M.cache[c[M.expando]]}}}),n.fn.extend({text:function(a){return J(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=a)})},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=ja(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?n.filter(a,this):this,e=0;null!=(c=d[e]);e++)b||1!==c.nodeType||n.cleanData(oa(c)),c.parentNode&&(b&&n.contains(c.ownerDocument,c)&&ma(oa(c,"script")),c.parentNode.removeChild(c));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(oa(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null!=a&&a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return J(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!da.test(a)&&!ia[(ba.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(aa,"<$1></$2>");try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(oa(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,n.cleanData(oa(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,m=this,o=l-1,p=a[0],q=n.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&ea.test(p))return this.each(function(c){var d=m.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)});if(l&&(c=n.buildFragment(a,this[0].ownerDocument,!1,this),d=c.firstChild,1===c.childNodes.length&&(c=d),d)){for(f=n.map(oa(c,"script"),ka),g=f.length;l>j;j++)h=c,j!==o&&(h=n.clone(h,!0,!0),g&&n.merge(f,oa(h,"script"))),b.call(this[j],h,j);if(g)for(i=f[f.length-1].ownerDocument,n.map(f,la),j=0;g>j;j++)h=f[j],fa.test(h.type||"")&&!L.access(h,"globalEval")&&n.contains(i,h)&&(h.src?n._evalUrl&&n._evalUrl(h.src):n.globalEval(h.textContent.replace(ha,"")))}return this}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),g=e.length-1,h=0;g>=h;h++)c=h===g?this:this.clone(!0),n(e[h])[b](c),f.apply(d,c.get());return this.pushStack(d)}});var qa,ra={},ua=/^margin/,va=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),wa=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)};!function(){function g(){f.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",f.innerHTML="",d.appendChild(e);var g=a.getComputedStyle(f,null);b="1%"!==g.top,c="4px"===g.width,d.removeChild(e)}var b,c,d=l.documentElement,e=l.createElement("div"),f=l.createElement("div");f.style&&(f.style.backgroundClip="content-box",f.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===f.style.backgroundClip,e.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",e.appendChild(f),a.getComputedStyle&&n.extend(k,{pixelPosition:function(){return g(),b},boxSizingReliable:function(){return null==c&&g(),c},reliableMarginRight:function(){var b,c=f.appendChild(l.createElement("div"));return c.style.cssText=f.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",f.style.width="1px",d.appendChild(e),b=!parseFloat(a.getComputedStyle(c,null).marginRight),d.removeChild(e),f.removeChild(c),b}}))}(),n.swap=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e};var za=/^(none|table(?!-c[ea]).+)/,Aa=new RegExp("^("+Q+")(.*)$","i"),Ba=new RegExp("^([+-])=("+Q+")","i"),Ca={position:"absolute",visibility:"hidden",display:"block"},Da={letterSpacing:"0",fontWeight:"400"},Ea=["Webkit","O","Moz","ms"];n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=xa(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Fa(i,h)),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=Ba.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(n.css(a,b)),f="number"),void(null!=c&&c===c&&("number"!==f||n.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c))))}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Fa(a.style,h)),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=xa(a,b,d)),"normal"===e&&b in Da&&(e=Da[b]),""===c||c?(f=parseFloat(e),c===!0||n.isNumeric(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?za.test(n.css(a,"display"))&&0===a.offsetWidth?n.swap(a,Ca,function(){return Ia(a,b,d)}):Ia(a,b,d):void 0},set:function(a,c,d){var e=d&&wa(a);return Ga(a,c,d?Ha(a,b,d,"border-box"===n.css(a,"boxSizing",!1,e),e):0)}}}),n.cssHooks.marginRight=ya(k.reliableMarginRight,function(a,b){return b?n.swap(a,{display:"inline-block"},xa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+R[d]+b]=f[d]||f[d-2]||f[0];return e}},ua.test(a)||(n.cssHooks[a+b].set=Ga)}),n.fn.extend({css:function(a,b){return J(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=wa(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Ja(this,!0)},hide:function(){return Ja(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){S(this)?n(this).show():n(this).hide()})}}),n.Tween=Ka,Ka.prototype={constructor:Ka,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ka.propHooks[this.prop];return a&&a.get?a.get(this):Ka.propHooks._default.get(this)},run:function(a){var b,c=Ka.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ka.propHooks._default.set(this),this}},Ka.prototype.init.prototype=Ka.prototype,Ka.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[n.cssProps[a.prop]]||n.cssHooks[a.prop])?n.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Ka.propHooks.scrollTop=Ka.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},n.fx=Ka.prototype.init,n.fx.step={};var La,Ma,Na=/^(?:toggle|show|hide)$/,Oa=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Pa=/queueHooks$/,Qa=[Va],Ra={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=Oa.exec(b),f=e&&e[3]||(n.cssNumber[a]?"":"px"),g=(n.cssNumber[a]||"px"!==f&&+d)&&Oa.exec(n.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do h=h||".5",g/=h,n.style(c.elem,a,g+f);while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};n.Animation=n.extend(Xa,{tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],Ra[c]=Ra[c]||[],Ra[c].unshift(b)},prefilter:function(a,b){b?Qa.unshift(a):Qa.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(S).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=Xa(this,n.extend({},a),f);(e||L.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=L.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Pa.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));(b||!c)&&n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=L.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Ta(b,!0),a,d,e)}}),n.each({slideDown:Ta("show"),slideUp:Ta("hide"),slideToggle:Ta("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(La=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),La=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ma||(Ma=setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){clearInterval(Ma),Ma=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(a,b){return a=n.fx?n.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a=l.createElement("input"),b=l.createElement("select"),c=b.appendChild(l.createElement("option"));a.type="checkbox",k.checkOn=""!==a.value,k.optSelected=c.selected,b.disabled=!0,k.optDisabled=!c.disabled,a=l.createElement("input"),a.value="t",a.type="radio",k.radioValue="t"===a.value}();var Ya,Za,$a=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return J(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f)return typeof a.getAttribute===U?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),d=n.attrHooks[b]||(n.expr.match.bool.test(b)?Za:Ya)),void 0===c?d&&"get"in d&&null!==(e=d.get(a,b))?e:(e=n.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set"in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void n.removeAttr(a,b))},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType)for(;c=f[e++];)d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),Za={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=$a[b]||n.find.attr;$a[b]=function(a,b,d){var e,f;return d||(f=$a[b],$a[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,$a[b]=f),e}});var _a=/^(?:input|select|textarea|button)$/i;n.fn.extend({prop:function(a,b){return J(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g)return f=1!==g||!n.isXMLDoc(a),f&&(b=n.propFix[b]||b,e=n.propHooks[b]),void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){return a.hasAttribute("tabindex")||_a.test(a.nodeName)||a.href?a.tabIndex:-1}}}}),k.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var ab=/[\t\r\n\f]/g;n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h="string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):" ")){for(f=0;e=b[f++];)d.indexOf(" "+e+" ")<0&&(d+=e+" ");g=n.trim(d),c.className!==g&&(c.className=g)}return this},removeClass:function(a){var b,c,d,e,f,g,h=0===arguments.length||"string"==typeof a&&a,i=0,j=this.length;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,this.className))});if(h)for(b=(a||"").match(E)||[];j>i;i++)if(c=this[i],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(ab," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");g=a?n.trim(d):"",c.className!==g&&(c.className=g)}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(n.isFunction(a)?function(c){n(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c)for(var b,d=0,e=n(this),f=a.match(E)||[];b=f[d++];)e.hasClass(b)?e.removeClass(b):e.addClass(b);else(c===U||"boolean"===c)&&(this.className&&L.set(this,"__className__",this.className),this.className=this.className||a===!1?"":L.get(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(ab," ").indexOf(b)>=0)return!0;return!1}});var bb=/\r/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];return arguments.length?(d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))})):e?(b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(bb,""):null==c?"":c)):void 0}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){for(var c,d,e=a.options,f=n.makeArray(b),g=e.length;g--;)d=e[g],(d.selected=n.inArray(d.value,f)>=0)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>=0:void 0}},k.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var cb=n.now(),db=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(a){var b,c;if(!a||"string"!=typeof a)return null;try{c=new DOMParser,b=c.parseFromString(a,"text/xml")}catch(d){b=void 0}return(!b||b.getElementsByTagName("parsererror").length)&&n.error("Invalid XML: "+a),b};var eb=/#.*$/,fb=/([?&])_=[^&]*/,gb=/^(.*?):[ \t]*([^\r\n]*)$/gm,hb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ib=/^(?:GET|HEAD)$/,jb=/^\/\//,kb=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,lb={},mb={},nb="*/".concat("*"),ob=a.location.href,pb=kb.exec(ob.toLowerCase())||[];n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ob,type:"GET",isLocal:hb.test(pb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":nb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?sb(sb(a,n.ajaxSettings),b):sb(n.ajaxSettings,a)},ajaxPrefilter:qb(lb),ajaxTransport:qb(mb),ajax:function(a,b){function x(a,b,f,h){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),c=void 0,e=h||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,f&&(u=tb(k,v,f)),u=ub(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(n.lastModified[d]=w),w=v.getResponseHeader("etag"),w&&(n.etag[d]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,i&&m.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),i&&(m.trigger("ajaxComplete",[v,k]),--n.active||n.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=n.ajaxSetup({},b),l=k.context||k,m=k.context&&(l.nodeType||l.jquery)?n(l):n.event,o=n.Deferred(),p=n.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!f)for(f={};b=gb.exec(e);)f[b[1].toLowerCase()]=b[2];b=f[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?e:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>t)for(b in a)q[b]=[q[b],a[b]];else v.always(a[v.status]);return this},abort:function(a){var b=a||u;return c&&c.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||ob)+"").replace(eb,"").replace(jb,pb[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=n.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(h=kb.exec(k.url.toLowerCase()),k.crossDomain=!(!h||h[1]===pb[1]&&h[2]===pb[2]&&(h[3]||("http:"===h[1]?"80":"443"))===(pb[3]||("http:"===pb[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=n.param(k.data,k.traditional)),rb(lb,k,b,v),2===t)return v;i=n.event&&k.global,i&&0===n.active++&&n.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!ib.test(k.type),d=k.url,k.hasContent||(k.data&&(d=k.url+=(db.test(d)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=fb.test(d)?d.replace(fb,"$1_="+cb++):d+(db.test(d)?"&":"?")+"_="+cb++)),k.ifModified&&(n.lastModified[d]&&v.setRequestHeader("If-Modified-Since",n.lastModified[d]),n.etag[d]&&v.setRequestHeader("If-None-Match",n.etag[d])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+nb+"; q=0.01":""):k.accepts["*"]);for(j in k.headers)v.setRequestHeader(j,k.headers[j]);if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t))return v.abort();u="abort";for(j in{success:1,error:1,complete:1})v[j](k[j]);if(c=rb(mb,k,b,v)){v.readyState=1,i&&m.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,c.send(r,x)}catch(w){if(!(2>t))throw w;x(-1,w)}}else x(-1,"No Transport");return v},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){
var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstElementChild;)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return this.each(n.isFunction(a)?function(b){n(this).wrapInner(a.call(this,b))}:function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0},n.expr.filters.visible=function(a){return!n.expr.filters.hidden(a)};var vb=/%20/g,wb=/\[\]$/,xb=/\r?\n/g,yb=/^(?:submit|button|image|reset|file)$/i,zb=/^(?:input|select|textarea|keygen)/i;n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Ab(c,a[c],b,e);return d.join("&").replace(vb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&zb.test(this.nodeName)&&!yb.test(a)&&(this.checked||!T.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(xb,"\r\n")}}):{name:b.name,value:c.replace(xb,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(a){}};var Bb=0,Cb={},Db={0:200,1223:204},Eb=n.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Cb)Cb[a]()}),k.cors=!!Eb&&"withCredentials"in Eb,k.ajax=Eb=!!Eb,n.ajaxTransport(function(a){var b;return k.cors||Eb&&!a.crossDomain?{send:function(c,d){var e,f=a.xhr(),g=++Bb;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields)for(e in a.xhrFields)f[e]=a.xhrFields[e];a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c)f.setRequestHeader(e,c[e]);b=function(a){return function(){b&&(delete Cb[g],b=f.onload=f.onerror=null,"abort"===a?f.abort():"error"===a?d(f.status,f.statusText):d(Db[f.status]||f.status,f.statusText,"string"==typeof f.responseText?{text:f.responseText}:void 0,f.getAllResponseHeaders()))}},f.onload=b(),f.onerror=b("error"),b=Cb[g]=b("abort");try{f.send(a.hasContent&&a.data||null)}catch(h){if(b)throw h}},abort:function(){b&&b()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(d,e){b=n("<script>").prop({async:!0,charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&e("error"===a.type?404:200,a.type)}),l.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Fb=[],Gb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Fb.pop()||n.expando+"_"+cb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Gb.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Gb,"$1"+e):b.jsonp!==!1&&(b.url+=(db.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Fb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||l;var d=v.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=n.buildFragment([a],b,e),e&&e.length&&n(e).remove(),n.merge([],d.childNodes))};var Hb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Hb)return Hb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e,dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,f||[a.responseText,b,a])}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};var Ib=a.document.documentElement;n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;return f?(b=f.documentElement,n.contains(b,d)?(typeof d.getBoundingClientRect!==U&&(e=d.getBoundingClientRect()),c=Jb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e):void 0},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||Ib;a&&!n.nodeName(a,"html")&&"static"===n.css(a,"position");)a=a.offsetParent;return a||Ib})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(b,c){var d="pageYOffset"===c;n.fn[b]=function(e){return J(this,function(b,e,f){var g=Jb(b);return void 0===f?g?g[c]:b[e]:void(g?g.scrollTo(d?a.pageXOffset:f,d?f:a.pageYOffset):b[e]=f)},b,e,arguments.length,null)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=ya(k.pixelPosition,function(a,c){return c?(c=xa(a,b),va.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return J(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.size=function(){return this.length},n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Kb=a.jQuery,Lb=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Lb),b&&a.jQuery===n&&(a.jQuery=Kb),n},typeof b===U&&(a.jQuery=a.$=n),n}),function(){function t(t,n){return t.set(n[0],n[1]),t}function n(t,n){return t.add(n),t}function r(t,n,r){switch(r.length){case 0:return t.call(n);case 1:return t.call(n,r[0]);case 2:return t.call(n,r[0],r[1]);case 3:return t.call(n,r[0],r[1],r[2])}return t.apply(n,r)}function e(t,n,r,e){for(var u=-1,o=t?t.length:0;++u<o;){var i=t[u];n(e,i,r(i),t)}return e}function u(t,n){for(var r=-1,e=t?t.length:0;++r<e&&!1!==n(t[r],r,t););return t}function o(t,n){for(var r=t?t.length:0;r--&&!1!==n(t[r],r,t););return t}function i(t,n){for(var r=-1,e=t?t.length:0;++r<e;)if(!n(t[r],r,t))return!1;return!0}function f(t,n){for(var r=-1,e=t?t.length:0,u=0,o=[];++r<e;){var i=t[r];n(i,r,t)&&(o[u++]=i)}return o}function c(t,n){return!(!t||!t.length)&&-1<d(t,n,0)}function a(t,n,r){for(var e=-1,u=t?t.length:0;++e<u;)if(r(n,t[e]))return!0;return!1}function l(t,n){for(var r=-1,e=t?t.length:0,u=Array(e);++r<e;)u[r]=n(t[r],r,t);return u}function s(t,n){for(var r=-1,e=n.length,u=t.length;++r<e;)t[u+r]=n[r];return t}function h(t,n,r,e){var u=-1,o=t?t.length:0;for(e&&o&&(r=t[++u]);++u<o;)r=n(r,t[u],u,t);return r}function p(t,n,r,e){var u=t?t.length:0;for(e&&u&&(r=t[--u]);u--;)r=n(r,t[u],u,t);return r}function _(t,n){for(var r=-1,e=t?t.length:0;++r<e;)if(n(t[r],r,t))return!0;return!1}function v(t,n,r){var e;return r(t,function(t,r,u){if(n(t,r,u))return e=r,!1}),e}function g(t,n,r,e){var u=t.length;for(r+=e?1:-1;e?r--:++r<u;)if(n(t[r],r,t))return r;return-1}function d(t,n,r){if(n!==n)return g(t,b,r);--r;for(var e=t.length;++r<e;)if(t[r]===n)return r;return-1}function y(t,n,r,e){--r;for(var u=t.length;++r<u;)if(e(t[r],n))return r;return-1}function b(t){return t!==t}function x(t,n){var r=t?t.length:0;return r?k(t,n)/r:q}function j(t){return function(n){return null==n?P:n[t]}}function w(t){return function(n){return null==t?P:t[n]}}function m(t,n,r,e,u){return u(t,function(t,u,o){r=e?(e=!1,t):n(r,t,u,o)}),r}function A(t,n){var r=t.length;for(t.sort(n);r--;)t[r]=t[r].c;return t}function k(t,n){for(var r,e=-1,u=t.length;++e<u;){var o=n(t[e]);o!==P&&(r=r===P?o:r+o)}return r}function E(t,n){for(var r=-1,e=Array(t);++r<t;)e[r]=n(r);return e}function O(t,n){return l(n,function(n){return[n,t[n]]})}function S(t){return function(n){return t(n)}}function I(t,n){return l(n,function(n){return t[n]})}function R(t,n){return t.has(n)}function W(t,n){for(var r=-1,e=t.length;++r<e&&-1<d(n,t[r],0););return r}function B(t,n){for(var r=t.length;r--&&-1<d(n,t[r],0););return r}function L(t){return"\\"+Ft[t]}function C(t){var n=!1;if(null!=t&&"function"!=typeof t.toString)try{n=!!(t+"")}catch(t){}return n}function U(t){var n=-1,r=Array(t.size);return t.forEach(function(t,e){r[++n]=[e,t]}),r}function M(t,n){return function(r){return t(n(r))}}function z(t,n){for(var r=-1,e=t.length,u=0,o=[];++r<e;){var i=t[r];i!==n&&"__lodash_placeholder__"!==i||(t[r]="__lodash_placeholder__",o[u++]=r)}return o}function D(t){var n=-1,r=Array(t.size);return t.forEach(function(t){r[++n]=t}),r}function T(t){var n=-1,r=Array(t.size);return t.forEach(function(t){r[++n]=[t,t]}),r}function $(t){if(Ut.test(t)){for(var n=Lt.lastIndex=0;Lt.test(t);)n++;t=n}else t=en(t);return t}function F(t){return Ut.test(t)?t.match(Lt)||[]:t.split("")}function N(w){function St(t){return Hu.call(t)}function It(t){if(ou(t)&&!Fi(t)&&!(t instanceof $t)){if(t instanceof Lt)return t;if(Gu.call(t,"__wrapped__"))return Oe(t)}return new Lt(t)}function Rt(){}function Lt(t,n){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!n,this.__index__=0,this.__values__=P}function $t(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Ft(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function Zt(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function qt(t){var n=-1,r=t?t.length:0;for(this.clear();++n<r;){var e=t[n];this.set(e[0],e[1])}}function Kt(t){var n=-1,r=t?t.length:0;for(this.__data__=new qt;++n<r;)this.add(t[n])}function Gt(t){this.__data__=new Zt(t)}function Yt(t,n){var r,e=Fi(t)||He(t)?E(t.length,Fu):[],u=e.length,o=!!u;for(r in t)!n&&!Gu.call(t,r)||o&&("length"==r||ge(r,u))||e.push(r);return e}function en(t,n,r,e){return t===P||Ye(t,Zu[r])&&!Gu.call(e,r)?n:t}function an(t,n,r){(r===P||Ye(t[n],r))&&("number"!=typeof n||r!==P||n in t)||(t[n]=r)}function ln(t,n,r){var e=t[n];Gu.call(t,n)&&Ye(e,r)&&(r!==P||n in t)||(t[n]=r)}function sn(t,n){for(var r=t.length;r--;)if(Ye(t[r][0],n))return r;return-1}function hn(t,n,r,e){return Po(t,function(t,u,o){n(e,t,r(t),o)}),e}function pn(t,n){return t&&Br(n,bu(n),t)}function _n(t,n){for(var r=-1,e=null==t,u=n.length,o=Cu(u);++r<u;)o[r]=e?P:du(t,n[r]);return o}function vn(t,n,r){return t===t&&(r!==P&&(t=t<=r?t:r),n!==P&&(t=t>=n?t:n)),t}function gn(t,n,r,e,o,i,f){var c;if(e&&(c=i?e(t,o,i,f):e(t)),c!==P)return c;if(!uu(t))return t;if(o=Fi(t)){if(c=he(t),!n)return Wr(t,c)}else{var a=St(t),l="[object Function]"==a||"[object GeneratorFunction]"==a;if(Pi(t))return Er(t,n);if("[object Object]"==a||"[object Arguments]"==a||l&&!i){if(C(t))return i?t:{};if(c=pe(l?{}:t),!n)return Lr(t,pn(c,t))}else{if(!Tt[a])return i?t:{};c=_e(t,a,gn,n)}}if(f||(f=new Gt),i=f.get(t))return i;if(f.set(t,c),!o)var s=r?Rn(t,bu,Ho):bu(t);return u(s||t,function(u,o){s&&(o=u,u=t[o]),ln(c,o,gn(u,n,r,e,o,t,f))}),c}function dn(t){var n=bu(t);return function(r){return yn(r,t,n)}}function yn(t,n,r){var e=r.length;if(null==t)return!e;for(t=Tu(t);e--;){var u=r[e],o=n[u],i=t[u];if(i===P&&!(u in t)||!o(i))return!1}return!0}function bn(t){return uu(t)?oo(t):{}}function xn(t,n,r){if("function"!=typeof t)throw new Nu("Expected a function");return ni(function(){t.apply(P,r)},n)}function jn(t,n,r,e){var u=-1,o=c,i=!0,f=t.length,s=[],h=n.length;if(!f)return s;r&&(n=l(n,S(r))),e?(o=a,i=!1):200<=n.length&&(o=R,i=!1,n=new Kt(n));t:for(;++u<f;){var p=t[u],_=r?r(p):p,p=e||0!==p?p:0;if(i&&_===_){for(var v=h;v--;)if(n[v]===_)continue t;s.push(p)}else o(n,_,e)||s.push(p)}return s}function wn(t,n){var r=!0;return Po(t,function(t,e,u){return r=!!n(t,e,u)}),r}function mn(t,n,r){for(var e=-1,u=t.length;++e<u;){var o=t[e],i=n(o);if(null!=i&&(f===P?i===i&&!au(i):r(i,f)))var f=i,c=o}return c}function An(t,n){var r=[];return Po(t,function(t,e,u){n(t,e,u)&&r.push(t)}),r}function kn(t,n,r,e,u){var o=-1,i=t.length;for(r||(r=ve),u||(u=[]);++o<i;){var f=t[o];0<n&&r(f)?1<n?kn(f,n-1,r,e,u):s(u,f):e||(u[u.length]=f)}return u}function En(t,n){return t&&qo(t,n,bu)}function On(t,n){return t&&Vo(t,n,bu)}function Sn(t,n){return f(n,function(n){return nu(t[n])})}function In(t,n){n=ye(n,t)?[n]:Ar(n);for(var r=0,e=n.length;null!=t&&r<e;)t=t[Ae(n[r++])];return r&&r==e?t:P}function Rn(t,n,r){return n=n(t),Fi(t)?n:s(n,r(t))}function Wn(t,n){return t>n}function Bn(t,n){return null!=t&&Gu.call(t,n)}function Ln(t,n){return null!=t&&n in Tu(t)}function Cn(t,n,r){for(var e=r?a:c,u=t[0].length,o=t.length,i=o,f=Cu(o),s=1/0,h=[];i--;){var p=t[i];i&&n&&(p=l(p,S(n))),s=jo(p.length,s),f[i]=!r&&(n||120<=u&&120<=p.length)?new Kt(i&&p):P}var p=t[0],_=-1,v=f[0];t:for(;++_<u&&h.length<s;){var g=p[_],d=n?n(g):g,g=r||0!==g?g:0;if(v?!R(v,d):!e(h,d,r)){for(i=o;--i;){var y=f[i];if(y?!R(y,d):!e(t[i],d,r))continue t}v&&v.push(d),h.push(g)}}return h}function Un(t,n,r){var e={};return En(t,function(t,u,o){n(e,r(t),u,o)}),e}function Mn(t,n,e){return ye(n,t)||(n=Ar(n),t=me(t,n),n=We(n)),n=null==t?t:t[Ae(n)],null==n?P:r(n,t,e)}function zn(t){return ou(t)&&"[object ArrayBuffer]"==Hu.call(t)}function Dn(t){return ou(t)&&"[object Date]"==Hu.call(t)}function Tn(t,n,r,e,u){if(t===n)n=!0;else if(null==t||null==n||!uu(t)&&!ou(n))n=t!==t&&n!==n;else t:{var o=Fi(t),i=Fi(n),f="[object Array]",c="[object Array]";o||(f=St(t),f="[object Arguments]"==f?"[object Object]":f),i||(c=St(n),c="[object Arguments]"==c?"[object Object]":c);var a="[object Object]"==f&&!C(t),i="[object Object]"==c&&!C(n);if((c=f==c)&&!a)u||(u=new Gt),n=o||Gi(t)?ee(t,n,Tn,r,e,u):ue(t,n,f,Tn,r,e,u);else{if(!(2&e)&&(o=a&&Gu.call(t,"__wrapped__"),f=i&&Gu.call(n,"__wrapped__"),o||f)){t=o?t.value():t,n=f?n.value():n,u||(u=new Gt),n=Tn(t,n,r,e,u);break t}if(c)n:if(u||(u=new Gt),o=2&e,f=bu(t),i=f.length,c=bu(n).length,i==c||o){for(a=i;a--;){var l=f[a];if(!(o?l in n:Gu.call(n,l))){n=!1;break n}}if((c=u.get(t))&&u.get(n))n=c==n;else{c=!0,u.set(t,n),u.set(n,t);for(var s=o;++a<i;){var l=f[a],h=t[l],p=n[l];if(r)var _=o?r(p,h,l,n,t,u):r(h,p,l,t,n,u);if(_===P?h!==p&&!Tn(h,p,r,e,u):!_){c=!1;break}s||(s="constructor"==l)}c&&!s&&(r=t.constructor,e=n.constructor,r!=e&&"constructor"in t&&"constructor"in n&&!("function"==typeof r&&r instanceof r&&"function"==typeof e&&e instanceof e)&&(c=!1)),u["delete"](t),u["delete"](n),n=c}}else n=!1;else n=!1}}return n}function $n(t){return ou(t)&&"[object Map]"==St(t)}function Fn(t,n,r,e){var u=r.length,o=u,i=!e;if(null==t)return!o;for(t=Tu(t);u--;){var f=r[u];if(i&&f[2]?f[1]!==t[f[0]]:!(f[0]in t))return!1}for(;++u<o;){var f=r[u],c=f[0],a=t[c],l=f[1];if(i&&f[2]){if(a===P&&!(c in t))return!1}else{if(f=new Gt,e)var s=e(a,l,c,t,n,f);if(s===P?!Tn(l,a,e,3,f):!s)return!1}}return!0}function Nn(t){return!(!uu(t)||Vu&&Vu in t)&&(nu(t)||C(t)?Xu:wt).test(ke(t))}function Pn(t){return uu(t)&&"[object RegExp]"==Hu.call(t)}function Zn(t){return ou(t)&&"[object Set]"==St(t)}function qn(t){return ou(t)&&eu(t.length)&&!!Dt[Hu.call(t)]}function Vn(t){return"function"==typeof t?t:null==t?Ou:"object"==typeof t?Fi(t)?Qn(t[0],t[1]):Hn(t):Wu(t)}function Kn(t){if(!xe(t))return bo(t);var n,r=[];for(n in Tu(t))Gu.call(t,n)&&"constructor"!=n&&r.push(n);return r}function Gn(t){if(!uu(t)){var n=[];if(null!=t)for(var r in Tu(t))n.push(r);return n}r=xe(t);var e=[];for(n in t)("constructor"!=n||!r&&Gu.call(t,n))&&e.push(n);return e}function Jn(t,n){return t<n}function Yn(t,n){var r=-1,e=Qe(t)?Cu(t.length):[];return Po(t,function(t,u,o){e[++r]=n(t,u,o)}),e}function Hn(t){var n=ae(t);return 1==n.length&&n[0][2]?je(n[0][0],n[0][1]):function(r){return r===t||Fn(r,t,n)}}function Qn(t,n){return ye(t)&&n===n&&!uu(n)?je(Ae(t),n):function(r){var e=du(r,t);return e===P&&e===n?yu(r,t):Tn(n,e,P,3)}}function Xn(t,n,r,e,o){if(t!==n){if(!Fi(n)&&!Gi(n))var i=Gn(n);u(i||n,function(u,f){if(i&&(f=u,u=n[f]),uu(u)){o||(o=new Gt);var c=f,a=o,l=t[c],s=n[c],h=a.get(s);if(h)an(t,c,h);else{var h=e?e(l,s,c+"",t,n,a):P,p=h===P;p&&(h=s,Fi(s)||Gi(s)?Fi(l)?h=l:Xe(l)?h=Wr(l):(p=!1,h=gn(s,!0)):fu(s)||He(s)?He(l)?h=vu(l):!uu(l)||r&&nu(l)?(p=!1,h=gn(s,!0)):h=l:p=!1),p&&(a.set(s,h),Xn(h,s,r,e,a),a["delete"](s)),an(t,c,h)}}else c=e?e(t[f],u,f+"",t,n,o):P,c===P&&(c=u),an(t,f,c)})}}function tr(t,n){var r=t.length;if(r)return n+=0>n?r:0,ge(n,r)?t[n]:P}function nr(t,n,r){var e=-1;return n=l(n.length?n:[Ou],S(fe())),t=Yn(t,function(t){return{a:l(n,function(n){return n(t)}),b:++e,c:t}}),A(t,function(t,n){var e;t:{e=-1;for(var u=t.a,o=n.a,i=u.length,f=r.length;++e<i;){var c=Sr(u[e],o[e]);if(c){e=e>=f?c:c*("desc"==r[e]?-1:1);break t}}e=t.b-n.b}return e})}function rr(t,n){return t=Tu(t),er(t,n,function(n,r){return r in t})}function er(t,n,r){for(var e=-1,u=n.length,o={};++e<u;){var i=n[e],f=t[i];r(f,i)&&(o[i]=f)}return o}function ur(t){return function(n){return In(n,t)}}function or(t,n,r,e){var u=e?y:d,o=-1,i=n.length,f=t;for(t===n&&(n=Wr(n)),r&&(f=l(t,S(r)));++o<i;)for(var c=0,a=n[o],a=r?r(a):a;-1<(c=u(f,a,c,e));)f!==t&&fo.call(f,c,1),fo.call(t,c,1);return t}function ir(t,n){for(var r=t?n.length:0,e=r-1;r--;){var u=n[r];if(r==e||u!==o){var o=u;if(ge(u))fo.call(t,u,1);else if(ye(u,t))delete t[Ae(u)];else{var u=Ar(u),i=me(t,u);null!=i&&delete i[Ae(We(u))]}}}}function fr(t,n){return t+po(mo()*(n-t+1))}function cr(t,n){var r="";if(!t||1>n||9007199254740991<n)return r;do n%2&&(r+=t),(n=po(n/2))&&(t+=t);while(n);return r}function ar(t,n){return n=xo(n===P?t.length-1:n,0),function(){for(var e=arguments,u=-1,o=xo(e.length-n,0),i=Cu(o);++u<o;)i[u]=e[n+u];for(u=-1,o=Cu(n+1);++u<n;)o[u]=e[u];return o[n]=i,r(t,this,o)}}function lr(t,n,r,e){if(!uu(t))return t;n=ye(n,t)?[n]:Ar(n);for(var u=-1,o=n.length,i=o-1,f=t;null!=f&&++u<o;){var c=Ae(n[u]),a=r;if(u!=i){var l=f[c],a=e?e(l,c,f):P;a===P&&(a=uu(l)?l:ge(n[u+1])?[]:{})}ln(f,c,a),f=f[c]}return t}function sr(t,n,r){var e=-1,u=t.length;for(0>n&&(n=-n>u?0:u+n),r=r>u?u:r,0>r&&(r+=u),u=n>r?0:r-n>>>0,n>>>=0,r=Cu(u);++e<u;)r[e]=t[e+n];return r}function hr(t,n){var r;return Po(t,function(t,e,u){return r=n(t,e,u),!r}),!!r}function pr(t,n,r){var e=0,u=t?t.length:e;if("number"==typeof n&&n===n&&2147483647>=u){for(;e<u;){var o=e+u>>>1,i=t[o];null!==i&&!au(i)&&(r?i<=n:i<n)?e=o+1:u=o}return u}return _r(t,n,Ou,r)}function _r(t,n,r,e){n=r(n);for(var u=0,o=t?t.length:0,i=n!==n,f=null===n,c=au(n),a=n===P;u<o;){var l=po((u+o)/2),s=r(t[l]),h=s!==P,p=null===s,_=s===s,v=au(s);(i?e||_:a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):p||v?0:e?s<=n:s<n)?u=l+1:o=l}return jo(o,4294967294)}function vr(t,n){for(var r=-1,e=t.length,u=0,o=[];++r<e;){var i=t[r],f=n?n(i):i;if(!r||!Ye(f,c)){var c=f;o[u++]=0===i?0:i}}return o}function gr(t){return"number"==typeof t?t:au(t)?q:+t}function dr(t){if("string"==typeof t)return t;if(au(t))return No?No.call(t):"";var n=t+"";return"0"==n&&1/t==-Z?"-0":n}function yr(t,n,r){var e=-1,u=c,o=t.length,i=!0,f=[],l=f;if(r)i=!1,u=a;else if(200<=o){if(u=n?null:Jo(t))return D(u);i=!1,u=R,l=new Kt}else l=n?[]:f;t:for(;++e<o;){var s=t[e],h=n?n(s):s,s=r||0!==s?s:0;if(i&&h===h){for(var p=l.length;p--;)if(l[p]===h)continue t;n&&l.push(h),f.push(s)}else u(l,h,r)||(l!==f&&l.push(h),f.push(s))}return f}function br(t,n,r,e){for(var u=t.length,o=e?u:-1;(e?o--:++o<u)&&n(t[o],o,t););return r?sr(t,e?0:o,e?o+1:u):sr(t,e?o+1:0,e?u:o)}function xr(t,n){var r=t;return r instanceof $t&&(r=r.value()),h(n,function(t,n){return n.func.apply(n.thisArg,s([t],n.args))},r)}function jr(t,n,r){for(var e=-1,u=t.length;++e<u;)var o=o?s(jn(o,t[e],n,r),jn(t[e],o,n,r)):t[e];return o&&o.length?yr(o,n,r):[]}function wr(t,n,r){for(var e=-1,u=t.length,o=n.length,i={};++e<u;)r(i,t[e],e<o?n[e]:P);return i}function mr(t){return Xe(t)?t:[]}function Ar(t){return Fi(t)?t:ei(t)}function kr(t,n,r){var e=t.length;return r=r===P?e:r,!n&&r>=e?t:sr(t,n,r)}function Er(t,n){if(n)return t.slice();var r=new t.constructor(t.length);return t.copy(r),r}function Or(t){var n=new t.constructor(t.byteLength);return new ro(n).set(new ro(t)),n}function Sr(t,n){if(t!==n){var r=t!==P,e=null===t,u=t===t,o=au(t),i=n!==P,f=null===n,c=n===n,a=au(n);if(!f&&!a&&!o&&t>n||o&&i&&c&&!f&&!a||e&&i&&c||!r&&c||!u)return 1;if(!e&&!o&&!a&&t<n||a&&r&&u&&!e&&!o||f&&r&&u||!i&&u||!c)return-1}return 0}function Ir(t,n,r,e){var u=-1,o=t.length,i=r.length,f=-1,c=n.length,a=xo(o-i,0),l=Cu(c+a);for(e=!e;++f<c;)l[f]=n[f];for(;++u<i;)(e||u<o)&&(l[r[u]]=t[u]);for(;a--;)l[f++]=t[u++];return l}function Rr(t,n,r,e){var u=-1,o=t.length,i=-1,f=r.length,c=-1,a=n.length,l=xo(o-f,0),s=Cu(l+a);for(e=!e;++u<l;)s[u]=t[u];for(l=u;++c<a;)s[l+c]=n[c];for(;++i<f;)(e||u<o)&&(s[l+r[i]]=t[u++]);return s}function Wr(t,n){var r=-1,e=t.length;for(n||(n=Cu(e));++r<e;)n[r]=t[r];return n}function Br(t,n,r,e){r||(r={});for(var u=-1,o=n.length;++u<o;){var i=n[u],f=e?e(r[i],t[i],i,r,t):P;ln(r,i,f===P?t[i]:f)}return r}function Lr(t,n){return Br(t,Ho(t),n)}function Cr(t,n){return function(r,u){var o=Fi(r)?e:hn,i=n?n():{};return o(r,t,fe(u,2),i)}}function Ur(t){return ar(function(n,r){var e=-1,u=r.length,o=1<u?r[u-1]:P,i=2<u?r[2]:P,o=3<t.length&&"function"==typeof o?(u--,o):P;for(i&&de(r[0],r[1],i)&&(o=3>u?P:o,u=1),n=Tu(n);++e<u;)(i=r[e])&&t(n,i,e,o);return n})}function Mr(t,n){return function(r,e){if(null==r)return r;if(!Qe(r))return t(r,e);for(var u=r.length,o=n?u:-1,i=Tu(r);(n?o--:++o<u)&&!1!==e(i[o],o,i););return r}}function zr(t){return function(n,r,e){var u=-1,o=Tu(n);e=e(n);for(var i=e.length;i--;){var f=e[t?i:++u];if(!1===r(o[f],f,o))break}return n}}function Dr(t,n,r){function e(){return(this&&this!==Vt&&this instanceof e?o:t).apply(u?r:this,arguments)}var u=1&n,o=Fr(t);return e}function Tr(t){return function(n){n=gu(n);var r=Ut.test(n)?F(n):P,e=r?r[0]:n.charAt(0);return n=r?kr(r,1).join(""):n.slice(1),e[t]()+n}}function $r(t){return function(n){return h(ku(Au(n).replace(Wt,"")),t,"")}}function Fr(t){return function(){var n=arguments;switch(n.length){case 0:return new t;case 1:return new t(n[0]);case 2:return new t(n[0],n[1]);case 3:return new t(n[0],n[1],n[2]);case 4:return new t(n[0],n[1],n[2],n[3]);case 5:return new t(n[0],n[1],n[2],n[3],n[4]);case 6:return new t(n[0],n[1],n[2],n[3],n[4],n[5]);case 7:return new t(n[0],n[1],n[2],n[3],n[4],n[5],n[6])}var r=bn(t.prototype),n=t.apply(r,n);return uu(n)?n:r}}function Nr(t,n,e){function u(){for(var i=arguments.length,f=Cu(i),c=i,a=ie(u);c--;)f[c]=arguments[c];return c=3>i&&f[0]!==a&&f[i-1]!==a?[]:z(f,a),i-=c.length,i<e?Xr(t,n,qr,u.placeholder,P,f,c,P,P,e-i):r(this&&this!==Vt&&this instanceof u?o:t,this,f)}var o=Fr(t);return u}function Pr(t){return function(n,r,e){var u=Tu(n);if(!Qe(n)){var o=fe(r,3);n=bu(n),r=function(t){return o(u[t],t,u)}}return r=t(n,r,e),-1<r?u[o?n[r]:r]:P}}function Zr(t){return ar(function(n){n=kn(n,1);var r=n.length,e=r,u=Lt.prototype.thru;for(t&&n.reverse();e--;){var o=n[e];if("function"!=typeof o)throw new Nu("Expected a function");if(u&&!i&&"wrapper"==oe(o))var i=new Lt([],(!0))}for(e=i?e:r;++e<r;)var o=n[e],u=oe(o),f="wrapper"==u?Yo(o):P,i=f&&be(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?i[oe(f[0])].apply(i,f[3]):1==o.length&&be(o)?i[u]():i.thru(o);return function(){var t=arguments,e=t[0];if(i&&1==t.length&&Fi(e)&&200<=e.length)return i.plant(e).value();for(var u=0,t=r?n[u].apply(this,t):e;++u<r;)t=n[u].call(this,t);return t}})}function qr(t,n,r,e,u,o,i,f,c,a){function l(){for(var d=arguments.length,y=Cu(d),b=d;b--;)y[b]=arguments[b];if(_){var x,j=ie(l),b=y.length;for(x=0;b--;)y[b]===j&&x++}if(e&&(y=Ir(y,e,u,_)),o&&(y=Rr(y,o,i,_)),d-=x,_&&d<a)return j=z(y,j),Xr(t,n,qr,l.placeholder,r,y,j,f,c,a-d);if(j=h?r:this,b=p?j[t]:t,d=y.length,f){x=y.length;for(var w=jo(f.length,x),m=Wr(y);w--;){var A=f[w];y[w]=ge(A,x)?m[A]:P}}else v&&1<d&&y.reverse();return s&&c<d&&(y.length=c),this&&this!==Vt&&this instanceof l&&(b=g||Fr(b)),b.apply(j,y)}var s=128&n,h=1&n,p=2&n,_=24&n,v=512&n,g=p?P:Fr(t);return l}function Vr(t,n){return function(r,e){return Un(r,t,n(e))}}function Kr(t,n){return function(r,e){var u;if(r===P&&e===P)return n;if(r!==P&&(u=r),e!==P){if(u===P)return e;"string"==typeof r||"string"==typeof e?(r=dr(r),e=dr(e)):(r=gr(r),e=gr(e)),u=t(r,e)}return u}}function Gr(t){return ar(function(n){return n=1==n.length&&Fi(n[0])?l(n[0],S(fe())):l(kn(n,1),S(fe())),ar(function(e){var u=this;return t(n,function(t){return r(t,u,e)})})})}function Jr(t,n){n=n===P?" ":dr(n);var r=n.length;return 2>r?r?cr(n,t):n:(r=cr(n,ho(t/$(n))),Ut.test(n)?kr(F(r),0,t).join(""):r.slice(0,t))}function Yr(t,n,e,u){function o(){for(var n=-1,c=arguments.length,a=-1,l=u.length,s=Cu(l+c),h=this&&this!==Vt&&this instanceof o?f:t;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++n];return r(h,i?e:this,s)}var i=1&n,f=Fr(t);return o}function Hr(t){return function(n,r,e){e&&"number"!=typeof e&&de(n,r,e)&&(r=e=P),n=su(n),r===P?(r=n,n=0):r=su(r),e=e===P?n<r?1:-1:su(e);var u=-1;r=xo(ho((r-n)/(e||1)),0);for(var o=Cu(r);r--;)o[t?r:++u]=n,n+=e;return o}}function Qr(t){return function(n,r){return"string"==typeof n&&"string"==typeof r||(n=_u(n),r=_u(r)),t(n,r)}}function Xr(t,n,r,e,u,o,i,f,c,a){var l=8&n,s=l?i:P;i=l?P:i;var h=l?o:P;return o=l?P:o,n=(n|(l?32:64))&~(l?64:32),4&n||(n&=-4),u=[t,n,u,h,s,o,i,f,c,a],r=r.apply(P,u),be(t)&&ti(r,u),r.placeholder=e,ri(r,t,n)}function te(t){var n=Du[t];return function(t,r){if(t=_u(t),r=jo(hu(r),292)){var e=(gu(t)+"e").split("e"),e=n(e[0]+"e"+(+e[1]+r)),e=(gu(e)+"e").split("e");return+(e[0]+"e"+(+e[1]-r))}return n(t)}}function ne(t){return function(n){var r=St(n);return"[object Map]"==r?U(n):"[object Set]"==r?T(n):O(n,t(n))}}function re(t,n,r,e,u,o,i,f){var c=2&n;if(!c&&"function"!=typeof t)throw new Nu("Expected a function");var a=e?e.length:0;if(a||(n&=-97,e=u=P),i=i===P?i:xo(hu(i),0),f=f===P?f:hu(f),a-=u?u.length:0,64&n){var l=e,s=u;e=u=P}var h=c?P:Yo(t);return o=[t,n,r,e,u,l,s,o,i,f],h&&(r=o[1],t=h[1],n=r|t,e=128==t&&8==r||128==t&&256==r&&o[7].length<=h[8]||384==t&&h[7].length<=h[8]&&8==r,131>n||e)&&(1&t&&(o[2]=h[2],n|=1&r?0:4),(r=h[3])&&(e=o[3],o[3]=e?Ir(e,r,h[4]):r,o[4]=e?z(o[3],"__lodash_placeholder__"):h[4]),(r=h[5])&&(e=o[5],o[5]=e?Rr(e,r,h[6]):r,o[6]=e?z(o[5],"__lodash_placeholder__"):h[6]),(r=h[7])&&(o[7]=r),128&t&&(o[8]=null==o[8]?h[8]:jo(o[8],h[8])),null==o[9]&&(o[9]=h[9]),o[0]=h[0],o[1]=n),t=o[0],n=o[1],r=o[2],e=o[3],u=o[4],f=o[9]=null==o[9]?c?0:t.length:xo(o[9]-a,0),!f&&24&n&&(n&=-25),ri((h?Ko:ti)(n&&1!=n?8==n||16==n?Nr(t,n,f):32!=n&&33!=n||u.length?qr.apply(P,o):Yr(t,n,r,e):Dr(t,n,r),o),t,n)}function ee(t,n,r,e,u,o){var i=2&u,f=t.length,c=n.length;if(f!=c&&!(i&&c>f))return!1;if((c=o.get(t))&&o.get(n))return c==n;var c=-1,a=!0,l=1&u?new Kt:P;for(o.set(t,n),o.set(n,t);++c<f;){var s=t[c],h=n[c];if(e)var p=i?e(h,s,c,n,t,o):e(s,h,c,t,n,o);if(p!==P){if(p)continue;a=!1;break}if(l){if(!_(n,function(t,n){if(!l.has(n)&&(s===t||r(s,t,e,u,o)))return l.add(n)})){a=!1;break}}else if(s!==h&&!r(s,h,e,u,o)){a=!1;break}}return o["delete"](t),o["delete"](n),a}function ue(t,n,r,e,u,o,i){switch(r){case"[object DataView]":if(t.byteLength!=n.byteLength||t.byteOffset!=n.byteOffset)break;t=t.buffer,n=n.buffer;case"[object ArrayBuffer]":if(t.byteLength!=n.byteLength||!e(new ro(t),new ro(n)))break;return!0;case"[object Boolean]":case"[object Date]":case"[object Number]":return Ye(+t,+n);case"[object Error]":return t.name==n.name&&t.message==n.message;case"[object RegExp]":case"[object String]":return t==n+"";case"[object Map]":var f=U;case"[object Set]":if(f||(f=D),t.size!=n.size&&!(2&o))break;return(r=i.get(t))?r==n:(o|=1,i.set(t,n),n=ee(f(t),f(n),e,u,o,i),i["delete"](t),n);case"[object Symbol]":if(Fo)return Fo.call(t)==Fo.call(n)}return!1}function oe(t){for(var n=t.name+"",r=Co[n],e=Gu.call(Co,n)?r.length:0;e--;){var u=r[e],o=u.func;if(null==o||o==t)return u.name}return n}function ie(t){return(Gu.call(It,"placeholder")?It:t).placeholder}function fe(){var t=It.iteratee||Su,t=t===Su?Vn:t;return arguments.length?t(arguments[0],arguments[1]):t}function ce(t,n){var r=t.__data__,e=typeof n;return("string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==n:null===n)?r["string"==typeof n?"string":"hash"]:r.map}function ae(t){for(var n=bu(t),r=n.length;r--;){var e=n[r],u=t[e];n[r]=[e,u,u===u&&!uu(u)]}return n}function le(t,n){var r=null==t?P:t[n];return Nn(r)?r:P}function se(t,n,r){n=ye(n,t)?[n]:Ar(n);for(var e,u=-1,o=n.length;++u<o;){var i=Ae(n[u]);if(!(e=null!=t&&r(t,i)))break;t=t[i]}return e?e:(o=t?t.length:0,!!o&&eu(o)&&ge(i,o)&&(Fi(t)||He(t)))}function he(t){var n=t.length,r=t.constructor(n);return n&&"string"==typeof t[0]&&Gu.call(t,"index")&&(r.index=t.index,r.input=t.input),r}function pe(t){return"function"!=typeof t.constructor||xe(t)?{}:bn(eo(t))}function _e(r,e,u,o){var i=r.constructor;switch(e){case"[object ArrayBuffer]":return Or(r);case"[object Boolean]":case"[object Date]":return new i((+r));case"[object DataView]":return e=o?Or(r.buffer):r.buffer,new r.constructor(e,r.byteOffset,r.byteLength);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return e=o?Or(r.buffer):r.buffer,new r.constructor(e,r.byteOffset,r.length);case"[object Map]":return e=o?u(U(r),!0):U(r),h(e,t,new r.constructor);case"[object Number]":case"[object String]":return new i(r);case"[object RegExp]":return e=new r.constructor(r.source,yt.exec(r)),e.lastIndex=r.lastIndex,e;case"[object Set]":return e=o?u(D(r),!0):D(r),h(e,n,new r.constructor);case"[object Symbol]":return Fo?Tu(Fo.call(r)):{}}}function ve(t){return Fi(t)||He(t)||!!(co&&t&&t[co])}function ge(t,n){return n=null==n?9007199254740991:n,!!n&&("number"==typeof t||At.test(t))&&-1<t&&0==t%1&&t<n}function de(t,n,r){if(!uu(r))return!1;
var e=typeof n;return!!("number"==e?Qe(r)&&ge(n,r.length):"string"==e&&n in r)&&Ye(r[n],t)}function ye(t,n){if(Fi(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!au(t))||ut.test(t)||!et.test(t)||null!=n&&t in Tu(n)}function be(t){var n=oe(t),r=It[n];return"function"==typeof r&&n in $t.prototype&&(t===r||(n=Yo(r),!!n&&t===n[0]))}function xe(t){var n=t&&t.constructor;return t===("function"==typeof n&&n.prototype||Zu)}function je(t,n){return function(r){return null!=r&&r[t]===n&&(n!==P||t in Tu(r))}}function we(t,n,r,e,u,o){return uu(t)&&uu(n)&&(o.set(n,t),Xn(t,n,P,we,o),o["delete"](n)),t}function me(t,n){return 1==n.length?t:In(t,sr(n,0,-1))}function Ae(t){if("string"==typeof t||au(t))return t;var n=t+"";return"0"==n&&1/t==-Z?"-0":n}function ke(t){if(null!=t){try{return Ku.call(t)}catch(t){}return t+""}return""}function Ee(t,n){return u(V,function(r){var e="_."+r[0];n&r[1]&&!c(t,e)&&t.push(e)}),t.sort()}function Oe(t){if(t instanceof $t)return t.clone();var n=new Lt(t.__wrapped__,t.__chain__);return n.__actions__=Wr(t.__actions__),n.__index__=t.__index__,n.__values__=t.__values__,n}function Se(t,n,r){var e=t?t.length:0;return e?(r=null==r?0:hu(r),0>r&&(r=xo(e+r,0)),g(t,fe(n,3),r)):-1}function Ie(t,n,r){var e=t?t.length:0;if(!e)return-1;var u=e-1;return r!==P&&(u=hu(r),u=0>r?xo(e+u,0):jo(u,e-1)),g(t,fe(n,3),u,!0)}function Re(t){return t&&t.length?t[0]:P}function We(t){var n=t?t.length:0;return n?t[n-1]:P}function Be(t,n){return t&&t.length&&n&&n.length?or(t,n):t}function Le(t){return t?Ao.call(t):t}function Ce(t){if(!t||!t.length)return[];var n=0;return t=f(t,function(t){if(Xe(t))return n=xo(t.length,n),!0}),E(n,function(n){return l(t,j(n))})}function Ue(t,n){if(!t||!t.length)return[];var e=Ce(t);return null==n?e:l(e,function(t){return r(n,P,t)})}function Me(t){return t=It(t),t.__chain__=!0,t}function ze(t,n){return n(t)}function De(){return this}function Te(t,n){return(Fi(t)?u:Po)(t,fe(n,3))}function $e(t,n){return(Fi(t)?o:Zo)(t,fe(n,3))}function Fe(t,n){return(Fi(t)?l:Yn)(t,fe(n,3))}function Ne(t,n,r){var e=-1,u=lu(t),o=u.length,i=o-1;for(n=(r?de(t,n,r):n===P)?1:vn(hu(n),0,o);++e<n;)t=fr(e,i),r=u[t],u[t]=u[e],u[e]=r;return u.length=n,u}function Pe(t,n,r){return n=r?P:n,n=t&&null==n?t.length:n,re(t,128,P,P,P,P,n)}function Ze(t,n){var r;if("function"!=typeof n)throw new Nu("Expected a function");return t=hu(t),function(){return 0<--t&&(r=n.apply(this,arguments)),1>=t&&(n=P),r}}function qe(t,n,r){return n=r?P:n,t=re(t,8,P,P,P,P,P,n),t.placeholder=qe.placeholder,t}function Ve(t,n,r){return n=r?P:n,t=re(t,16,P,P,P,P,P,n),t.placeholder=Ve.placeholder,t}function Ke(t,n,r){function e(n){var r=c,e=a;return c=a=P,_=n,s=t.apply(e,r)}function u(t){var r=t-p;return t-=_,p===P||r>=n||0>r||g&&t>=l}function o(){var t=Ri();if(u(t))return i(t);var r,e=ni;r=t-_,t=n-(t-p),r=g?jo(t,l-r):t,h=e(o,r)}function i(t){return h=P,d&&c?e(t):(c=a=P,s)}function f(){var t=Ri(),r=u(t);if(c=arguments,a=this,p=t,r){if(h===P)return _=t=p,h=ni(o,n),v?e(t):s;if(g)return h=ni(o,n),e(p)}return h===P&&(h=ni(o,n)),s}var c,a,l,s,h,p,_=0,v=!1,g=!1,d=!0;if("function"!=typeof t)throw new Nu("Expected a function");return n=_u(n)||0,uu(r)&&(v=!!r.leading,l=(g="maxWait"in r)?xo(_u(r.maxWait)||0,n):l,d="trailing"in r?!!r.trailing:d),f.cancel=function(){h!==P&&Go(h),_=0,c=p=a=h=P},f.flush=function(){return h===P?s:i(Ri())},f}function Ge(t,n){function r(){var e=arguments,u=n?n.apply(this,e):e[0],o=r.cache;return o.has(u)?o.get(u):(e=t.apply(this,e),r.cache=o.set(u,e),e)}if("function"!=typeof t||n&&"function"!=typeof n)throw new Nu("Expected a function");return r.cache=new(Ge.Cache||qt),r}function Je(t){if("function"!=typeof t)throw new Nu("Expected a function");return function(){var n=arguments;switch(n.length){case 0:return!t.call(this);case 1:return!t.call(this,n[0]);case 2:return!t.call(this,n[0],n[1]);case 3:return!t.call(this,n[0],n[1],n[2])}return!t.apply(this,n)}}function Ye(t,n){return t===n||t!==t&&n!==n}function He(t){return Xe(t)&&Gu.call(t,"callee")&&(!io.call(t,"callee")||"[object Arguments]"==Hu.call(t))}function Qe(t){return null!=t&&eu(t.length)&&!nu(t)}function Xe(t){return ou(t)&&Qe(t)}function tu(t){return!!ou(t)&&("[object Error]"==Hu.call(t)||"string"==typeof t.message&&"string"==typeof t.name)}function nu(t){return t=uu(t)?Hu.call(t):"","[object Function]"==t||"[object GeneratorFunction]"==t}function ru(t){return"number"==typeof t&&t==hu(t)}function eu(t){return"number"==typeof t&&-1<t&&0==t%1&&9007199254740991>=t}function uu(t){var n=typeof t;return!!t&&("object"==n||"function"==n)}function ou(t){return!!t&&"object"==typeof t}function iu(t){return"number"==typeof t||ou(t)&&"[object Number]"==Hu.call(t)}function fu(t){return!(!ou(t)||"[object Object]"!=Hu.call(t)||C(t))&&(t=eo(t),null===t||(t=Gu.call(t,"constructor")&&t.constructor,"function"==typeof t&&t instanceof t&&Ku.call(t)==Yu))}function cu(t){return"string"==typeof t||!Fi(t)&&ou(t)&&"[object String]"==Hu.call(t)}function au(t){return"symbol"==typeof t||ou(t)&&"[object Symbol]"==Hu.call(t)}function lu(t){if(!t)return[];if(Qe(t))return cu(t)?F(t):Wr(t);if(uo&&t[uo]){t=t[uo]();for(var n,r=[];!(n=t.next()).done;)r.push(n.value);return r}return n=St(t),("[object Map]"==n?U:"[object Set]"==n?D:wu)(t)}function su(t){return t?(t=_u(t),t===Z||t===-Z?1.7976931348623157e308*(0>t?-1:1):t===t?t:0):0===t?t:0}function hu(t){t=su(t);var n=t%1;return t===t?n?t-n:t:0}function pu(t){return t?vn(hu(t),0,4294967295):0}function _u(t){if("number"==typeof t)return t;if(au(t))return q;if(uu(t)&&(t="function"==typeof t.valueOf?t.valueOf():t,t=uu(t)?t+"":t),"string"!=typeof t)return 0===t?t:+t;t=t.replace(at,"");var n=jt.test(t);return n||mt.test(t)?Pt(t.slice(2),n?2:8):xt.test(t)?q:+t}function vu(t){return Br(t,xu(t))}function gu(t){return null==t?"":dr(t)}function du(t,n,r){return t=null==t?P:In(t,n),t===P?r:t}function yu(t,n){return null!=t&&se(t,n,Ln)}function bu(t){return Qe(t)?Yt(t):Kn(t)}function xu(t){return Qe(t)?Yt(t,!0):Gn(t)}function ju(t,n){return null==t?{}:er(t,Rn(t,xu,Qo),fe(n))}function wu(t){return t?I(t,bu(t)):[]}function mu(t){return jf(gu(t).toLowerCase())}function Au(t){return(t=gu(t))&&t.replace(kt,un).replace(Bt,"")}function ku(t,n,r){return t=gu(t),n=r?P:n,n===P?Mt.test(t)?t.match(Ct)||[]:t.match(vt)||[]:t.match(n)||[]}function Eu(t){return function(){return t}}function Ou(t){return t}function Su(t){return Vn("function"==typeof t?t:gn(t,!0))}function Iu(t,n,r){var e=bu(n),o=Sn(n,e);null!=r||uu(n)&&(o.length||!e.length)||(r=n,n=t,t=this,o=Sn(n,bu(n)));var i=!(uu(r)&&"chain"in r&&!r.chain),f=nu(t);return u(o,function(r){var e=n[r];t[r]=e,f&&(t.prototype[r]=function(){var n=this.__chain__;if(i||n){var r=t(this.__wrapped__);return(r.__actions__=Wr(this.__actions__)).push({func:e,args:arguments,thisArg:t}),r.__chain__=n,r}return e.apply(t,s([this.value()],arguments))})}),t}function Ru(){}function Wu(t){return ye(t)?j(Ae(t)):ur(t)}function Bu(){return[]}function Lu(){return!1}w=w?cn.defaults(Vt.Object(),w,cn.pick(Vt,zt)):Vt;var Cu=w.Array,Uu=w.Date,Mu=w.Error,zu=w.Function,Du=w.Math,Tu=w.Object,$u=w.RegExp,Fu=w.String,Nu=w.TypeError,Pu=Cu.prototype,Zu=Tu.prototype,qu=w["__core-js_shared__"],Vu=function(){var t=/[^.]+$/.exec(qu&&qu.keys&&qu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Ku=zu.prototype.toString,Gu=Zu.hasOwnProperty,Ju=0,Yu=Ku.call(Tu),Hu=Zu.toString,Qu=Vt._,Xu=$u("^"+Ku.call(Gu).replace(ft,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),to=Jt?w.Buffer:P,no=w.Symbol,ro=w.Uint8Array,eo=M(Tu.getPrototypeOf,Tu),uo=no?no.iterator:P,oo=Tu.create,io=Zu.propertyIsEnumerable,fo=Pu.splice,co=no?no.isConcatSpreadable:P,ao=w.clearTimeout!==Vt.clearTimeout&&w.clearTimeout,lo=Uu&&Uu.now!==Vt.Date.now&&Uu.now,so=w.setTimeout!==Vt.setTimeout&&w.setTimeout,ho=Du.ceil,po=Du.floor,_o=Tu.getOwnPropertySymbols,vo=to?to.isBuffer:P,go=w.isFinite,yo=Pu.join,bo=M(Tu.keys,Tu),xo=Du.max,jo=Du.min,wo=w.parseInt,mo=Du.random,Ao=Pu.reverse,ko=le(w,"DataView"),Eo=le(w,"Map"),Oo=le(w,"Promise"),So=le(w,"Set"),Io=le(w,"WeakMap"),Ro=le(Tu,"create"),Wo=function(){var t=le(Tu,"defineProperty"),n=le.name;return n&&2<n.length?t:P}(),Bo=Io&&new Io,Lo=!io.call({valueOf:1},"valueOf"),Co={},Uo=ke(ko),Mo=ke(Eo),zo=ke(Oo),Do=ke(So),To=ke(Io),$o=no?no.prototype:P,Fo=$o?$o.valueOf:P,No=$o?$o.toString:P;It.templateSettings={escape:tt,evaluate:nt,interpolate:rt,variable:"",imports:{_:It}},It.prototype=Rt.prototype,It.prototype.constructor=It,Lt.prototype=bn(Rt.prototype),Lt.prototype.constructor=Lt,$t.prototype=bn(Rt.prototype),$t.prototype.constructor=$t,Ft.prototype.clear=function(){this.__data__=Ro?Ro(null):{}},Ft.prototype["delete"]=function(t){return this.has(t)&&delete this.__data__[t]},Ft.prototype.get=function(t){var n=this.__data__;return Ro?(t=n[t],"__lodash_hash_undefined__"===t?P:t):Gu.call(n,t)?n[t]:P},Ft.prototype.has=function(t){var n=this.__data__;return Ro?n[t]!==P:Gu.call(n,t)},Ft.prototype.set=function(t,n){return this.__data__[t]=Ro&&n===P?"__lodash_hash_undefined__":n,this},Zt.prototype.clear=function(){this.__data__=[]},Zt.prototype["delete"]=function(t){var n=this.__data__;return t=sn(n,t),!(0>t||(t==n.length-1?n.pop():fo.call(n,t,1),0))},Zt.prototype.get=function(t){var n=this.__data__;return t=sn(n,t),0>t?P:n[t][1]},Zt.prototype.has=function(t){return-1<sn(this.__data__,t)},Zt.prototype.set=function(t,n){var r=this.__data__,e=sn(r,t);return 0>e?r.push([t,n]):r[e][1]=n,this},qt.prototype.clear=function(){this.__data__={hash:new Ft,map:new(Eo||Zt),string:new Ft}},qt.prototype["delete"]=function(t){return ce(this,t)["delete"](t)},qt.prototype.get=function(t){return ce(this,t).get(t)},qt.prototype.has=function(t){return ce(this,t).has(t)},qt.prototype.set=function(t,n){return ce(this,t).set(t,n),this},Kt.prototype.add=Kt.prototype.push=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this},Kt.prototype.has=function(t){return this.__data__.has(t)},Gt.prototype.clear=function(){this.__data__=new Zt},Gt.prototype["delete"]=function(t){return this.__data__["delete"](t)},Gt.prototype.get=function(t){return this.__data__.get(t)},Gt.prototype.has=function(t){return this.__data__.has(t)},Gt.prototype.set=function(t,n){var r=this.__data__;if(r instanceof Zt){if(r=r.__data__,!Eo||199>r.length)return r.push([t,n]),this;r=this.__data__=new qt(r)}return r.set(t,n),this};var Po=Mr(En),Zo=Mr(On,!0),qo=zr(),Vo=zr(!0),Ko=Bo?function(t,n){return Bo.set(t,n),t}:Ou,Go=ao||function(t){return Vt.clearTimeout(t)},Jo=So&&1/D(new So([,-0]))[1]==Z?function(t){return new So(t)}:Ru,Yo=Bo?function(t){return Bo.get(t)}:Ru,Ho=_o?M(_o,Tu):Bu,Qo=_o?function(t){for(var n=[];t;)s(n,Ho(t)),t=eo(t);return n}:Bu;(ko&&"[object DataView]"!=St(new ko(new ArrayBuffer(1)))||Eo&&"[object Map]"!=St(new Eo)||Oo&&"[object Promise]"!=St(Oo.resolve())||So&&"[object Set]"!=St(new So)||Io&&"[object WeakMap]"!=St(new Io))&&(St=function(t){var n=Hu.call(t);if(t=(t="[object Object]"==n?t.constructor:P)?ke(t):P)switch(t){case Uo:return"[object DataView]";case Mo:return"[object Map]";case zo:return"[object Promise]";case Do:return"[object Set]";case To:return"[object WeakMap]"}return n});var Xo=qu?nu:Lu,ti=function(){var t=0,n=0;return function(r,e){var u=Ri(),o=16-(u-n);if(n=u,0<o){if(150<=++t)return r}else t=0;return Ko(r,e)}}(),ni=so||function(t,n){return Vt.setTimeout(t,n)},ri=Wo?function(t,n,r){n+="";var e;e=(e=n.match(pt))?e[1].split(_t):[],r=Ee(e,r),e=r.length;var u=e-1;return r[u]=(1<e?"& ":"")+r[u],r=r.join(2<e?", ":" "),n=n.replace(ht,"{\n/* [wrapped with "+r+"] */\n"),Wo(t,"toString",{configurable:!0,enumerable:!1,value:Eu(n)})}:Ou,ei=Ge(function(t){t=gu(t);var n=[];return ot.test(t)&&n.push(""),t.replace(it,function(t,r,e,u){n.push(e?u.replace(gt,"$1"):r||t)}),n}),ui=ar(function(t,n){return Xe(t)?jn(t,kn(n,1,Xe,!0)):[]}),oi=ar(function(t,n){var r=We(n);return Xe(r)&&(r=P),Xe(t)?jn(t,kn(n,1,Xe,!0),fe(r,2)):[]}),ii=ar(function(t,n){var r=We(n);return Xe(r)&&(r=P),Xe(t)?jn(t,kn(n,1,Xe,!0),P,r):[]}),fi=ar(function(t){var n=l(t,mr);return n.length&&n[0]===t[0]?Cn(n):[]}),ci=ar(function(t){var n=We(t),r=l(t,mr);return n===We(r)?n=P:r.pop(),r.length&&r[0]===t[0]?Cn(r,fe(n,2)):[]}),ai=ar(function(t){var n=We(t),r=l(t,mr);return n===We(r)?n=P:r.pop(),r.length&&r[0]===t[0]?Cn(r,P,n):[]}),li=ar(Be),si=ar(function(t,n){n=kn(n,1);var r=t?t.length:0,e=_n(t,n);return ir(t,l(n,function(t){return ge(t,r)?+t:t}).sort(Sr)),e}),hi=ar(function(t){return yr(kn(t,1,Xe,!0))}),pi=ar(function(t){var n=We(t);return Xe(n)&&(n=P),yr(kn(t,1,Xe,!0),fe(n,2))}),_i=ar(function(t){var n=We(t);return Xe(n)&&(n=P),yr(kn(t,1,Xe,!0),P,n)}),vi=ar(function(t,n){return Xe(t)?jn(t,n):[]}),gi=ar(function(t){return jr(f(t,Xe))}),di=ar(function(t){var n=We(t);return Xe(n)&&(n=P),jr(f(t,Xe),fe(n,2))}),yi=ar(function(t){var n=We(t);return Xe(n)&&(n=P),jr(f(t,Xe),P,n)}),bi=ar(Ce),xi=ar(function(t){var n=t.length,n=1<n?t[n-1]:P,n="function"==typeof n?(t.pop(),n):P;return Ue(t,n)}),ji=ar(function(t){function n(n){return _n(n,t)}t=kn(t,1);var r=t.length,e=r?t[0]:0,u=this.__wrapped__;return!(1<r||this.__actions__.length)&&u instanceof $t&&ge(e)?(u=u.slice(e,+e+(r?1:0)),u.__actions__.push({func:ze,args:[n],thisArg:P}),new Lt(u,this.__chain__).thru(function(t){return r&&!t.length&&t.push(P),t})):this.thru(n)}),wi=Cr(function(t,n,r){Gu.call(t,r)?++t[r]:t[r]=1}),mi=Pr(Se),Ai=Pr(Ie),ki=Cr(function(t,n,r){Gu.call(t,r)?t[r].push(n):t[r]=[n]}),Ei=ar(function(t,n,e){var u=-1,o="function"==typeof n,i=ye(n),f=Qe(t)?Cu(t.length):[];return Po(t,function(t){var c=o?n:i&&null!=t?t[n]:P;f[++u]=c?r(c,t,e):Mn(t,n,e)}),f}),Oi=Cr(function(t,n,r){t[r]=n}),Si=Cr(function(t,n,r){t[r?0:1].push(n)},function(){return[[],[]]}),Ii=ar(function(t,n){if(null==t)return[];var r=n.length;return 1<r&&de(t,n[0],n[1])?n=[]:2<r&&de(n[0],n[1],n[2])&&(n=[n[0]]),nr(t,kn(n,1),[])}),Ri=lo||function(){return Vt.Date.now()},Wi=ar(function(t,n,r){var e=1;if(r.length)var u=z(r,ie(Wi)),e=32|e;return re(t,e,n,r,u)}),Bi=ar(function(t,n,r){var e=3;if(r.length)var u=z(r,ie(Bi)),e=32|e;return re(n,e,t,r,u)}),Li=ar(function(t,n){return xn(t,1,n)}),Ci=ar(function(t,n,r){return xn(t,_u(n)||0,r)});Ge.Cache=qt;var Ui=ar(function(t,n){n=1==n.length&&Fi(n[0])?l(n[0],S(fe())):l(kn(n,1),S(fe()));var e=n.length;return ar(function(u){for(var o=-1,i=jo(u.length,e);++o<i;)u[o]=n[o].call(this,u[o]);return r(t,this,u)})}),Mi=ar(function(t,n){var r=z(n,ie(Mi));return re(t,32,P,n,r)}),zi=ar(function(t,n){var r=z(n,ie(zi));return re(t,64,P,n,r)}),Di=ar(function(t,n){return re(t,256,P,P,P,kn(n,1))}),Ti=Qr(Wn),$i=Qr(function(t,n){return t>=n}),Fi=Cu.isArray,Ni=Ht?S(Ht):zn,Pi=vo||Lu,Zi=Qt?S(Qt):Dn,qi=Xt?S(Xt):$n,Vi=tn?S(tn):Pn,Ki=nn?S(nn):Zn,Gi=rn?S(rn):qn,Ji=Qr(Jn),Yi=Qr(function(t,n){return t<=n}),Hi=Ur(function(t,n){if(Lo||xe(n)||Qe(n))Br(n,bu(n),t);else for(var r in n)Gu.call(n,r)&&ln(t,r,n[r])}),Qi=Ur(function(t,n){Br(n,xu(n),t)}),Xi=Ur(function(t,n,r,e){Br(n,xu(n),t,e)}),tf=Ur(function(t,n,r,e){Br(n,bu(n),t,e)}),nf=ar(function(t,n){return _n(t,kn(n,1))}),rf=ar(function(t){return t.push(P,en),r(Xi,P,t)}),ef=ar(function(t){return t.push(P,we),r(af,P,t)}),uf=Vr(function(t,n,r){t[n]=r},Eu(Ou)),of=Vr(function(t,n,r){Gu.call(t,n)?t[n].push(r):t[n]=[r]},fe),ff=ar(Mn),cf=Ur(function(t,n,r){Xn(t,n,r)}),af=Ur(function(t,n,r,e){Xn(t,n,r,e)}),lf=ar(function(t,n){return null==t?{}:(n=l(kn(n,1),Ae),rr(t,jn(Rn(t,xu,Qo),n)))}),sf=ar(function(t,n){return null==t?{}:rr(t,l(kn(n,1),Ae))}),hf=ne(bu),pf=ne(xu),_f=$r(function(t,n,r){return n=n.toLowerCase(),t+(r?mu(n):n)}),vf=$r(function(t,n,r){return t+(r?"-":"")+n.toLowerCase()}),gf=$r(function(t,n,r){return t+(r?" ":"")+n.toLowerCase()}),df=Tr("toLowerCase"),yf=$r(function(t,n,r){return t+(r?"_":"")+n.toLowerCase()}),bf=$r(function(t,n,r){return t+(r?" ":"")+jf(n)}),xf=$r(function(t,n,r){return t+(r?" ":"")+n.toUpperCase()}),jf=Tr("toUpperCase"),wf=ar(function(t,n){try{return r(t,P,n)}catch(t){return tu(t)?t:new Mu(t)}}),mf=ar(function(t,n){return u(kn(n,1),function(n){n=Ae(n),t[n]=Wi(t[n],t)}),t}),Af=Zr(),kf=Zr(!0),Ef=ar(function(t,n){return function(r){return Mn(r,t,n)}}),Of=ar(function(t,n){return function(r){return Mn(t,r,n)}}),Sf=Gr(l),If=Gr(i),Rf=Gr(_),Wf=Hr(),Bf=Hr(!0),Lf=Kr(function(t,n){return t+n},0),Cf=te("ceil"),Uf=Kr(function(t,n){return t/n},1),Mf=te("floor"),zf=Kr(function(t,n){return t*n},1),Df=te("round"),Tf=Kr(function(t,n){return t-n},0);return It.after=function(t,n){if("function"!=typeof n)throw new Nu("Expected a function");return t=hu(t),function(){if(1>--t)return n.apply(this,arguments)}},It.ary=Pe,It.assign=Hi,It.assignIn=Qi,It.assignInWith=Xi,It.assignWith=tf,It.at=nf,It.before=Ze,It.bind=Wi,It.bindAll=mf,It.bindKey=Bi,It.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return Fi(t)?t:[t]},It.chain=Me,It.chunk=function(t,n,r){if(n=(r?de(t,n,r):n===P)?1:xo(hu(n),0),r=t?t.length:0,!r||1>n)return[];for(var e=0,u=0,o=Cu(ho(r/n));e<r;)o[u++]=sr(t,e,e+=n);return o},It.compact=function(t){for(var n=-1,r=t?t.length:0,e=0,u=[];++n<r;){var o=t[n];o&&(u[e++]=o)}return u},It.concat=function(){for(var t=arguments.length,n=Cu(t?t-1:0),r=arguments[0],e=t;e--;)n[e-1]=arguments[e];return t?s(Fi(r)?Wr(r):[r],kn(n,1)):[]},It.cond=function(t){var n=t?t.length:0,e=fe();return t=n?l(t,function(t){if("function"!=typeof t[1])throw new Nu("Expected a function");return[e(t[0]),t[1]]}):[],ar(function(e){for(var u=-1;++u<n;){var o=t[u];if(r(o[0],this,e))return r(o[1],this,e)}})},It.conforms=function(t){return dn(gn(t,!0))},It.constant=Eu,It.countBy=wi,It.create=function(t,n){var r=bn(t);return n?pn(r,n):r},It.curry=qe,It.curryRight=Ve,It.debounce=Ke,It.defaults=rf,It.defaultsDeep=ef,It.defer=Li,It.delay=Ci,It.difference=ui,It.differenceBy=oi,It.differenceWith=ii,It.drop=function(t,n,r){var e=t?t.length:0;return e?(n=r||n===P?1:hu(n),sr(t,0>n?0:n,e)):[]},It.dropRight=function(t,n,r){var e=t?t.length:0;return e?(n=r||n===P?1:hu(n),n=e-n,sr(t,0,0>n?0:n)):[]},It.dropRightWhile=function(t,n){return t&&t.length?br(t,fe(n,3),!0,!0):[]},It.dropWhile=function(t,n){return t&&t.length?br(t,fe(n,3),!0):[]},It.fill=function(t,n,r,e){var u=t?t.length:0;if(!u)return[];for(r&&"number"!=typeof r&&de(t,n,r)&&(r=0,e=u),u=t.length,r=hu(r),0>r&&(r=-r>u?0:u+r),e=e===P||e>u?u:hu(e),0>e&&(e+=u),e=r>e?0:pu(e);r<e;)t[r++]=n;return t},It.filter=function(t,n){return(Fi(t)?f:An)(t,fe(n,3))},It.flatMap=function(t,n){return kn(Fe(t,n),1)},It.flatMapDeep=function(t,n){return kn(Fe(t,n),Z)},It.flatMapDepth=function(t,n,r){return r=r===P?1:hu(r),kn(Fe(t,n),r)},It.flatten=function(t){return t&&t.length?kn(t,1):[]},It.flattenDeep=function(t){return t&&t.length?kn(t,Z):[]},It.flattenDepth=function(t,n){return t&&t.length?(n=n===P?1:hu(n),kn(t,n)):[]},It.flip=function(t){return re(t,512)},It.flow=Af,It.flowRight=kf,It.fromPairs=function(t){for(var n=-1,r=t?t.length:0,e={};++n<r;){var u=t[n];e[u[0]]=u[1]}return e},It.functions=function(t){return null==t?[]:Sn(t,bu(t))},It.functionsIn=function(t){return null==t?[]:Sn(t,xu(t))},It.groupBy=ki,It.initial=function(t){return t&&t.length?sr(t,0,-1):[]},It.intersection=fi,It.intersectionBy=ci,It.intersectionWith=ai,It.invert=uf,It.invertBy=of,It.invokeMap=Ei,It.iteratee=Su,It.keyBy=Oi,It.keys=bu,It.keysIn=xu,It.map=Fe,It.mapKeys=function(t,n){var r={};return n=fe(n,3),En(t,function(t,e,u){r[n(t,e,u)]=t}),r},It.mapValues=function(t,n){var r={};return n=fe(n,3),En(t,function(t,e,u){r[e]=n(t,e,u)}),r},It.matches=function(t){return Hn(gn(t,!0))},It.matchesProperty=function(t,n){return Qn(t,gn(n,!0))},It.memoize=Ge,It.merge=cf,It.mergeWith=af,It.method=Ef,It.methodOf=Of,It.mixin=Iu,It.negate=Je,It.nthArg=function(t){return t=hu(t),ar(function(n){return tr(n,t)})},It.omit=lf,It.omitBy=function(t,n){return ju(t,Je(fe(n)))},It.once=function(t){return Ze(2,t)},It.orderBy=function(t,n,r,e){return null==t?[]:(Fi(n)||(n=null==n?[]:[n]),r=e?P:r,Fi(r)||(r=null==r?[]:[r]),nr(t,n,r))},It.over=Sf,It.overArgs=Ui,It.overEvery=If,It.overSome=Rf,It.partial=Mi,It.partialRight=zi,It.partition=Si,It.pick=sf,It.pickBy=ju,It.property=Wu,It.propertyOf=function(t){return function(n){return null==t?P:In(t,n)}},It.pull=li,It.pullAll=Be,It.pullAllBy=function(t,n,r){return t&&t.length&&n&&n.length?or(t,n,fe(r,2)):t},It.pullAllWith=function(t,n,r){return t&&t.length&&n&&n.length?or(t,n,P,r):t},It.pullAt=si,It.range=Wf,It.rangeRight=Bf,It.rearg=Di,It.reject=function(t,n){return(Fi(t)?f:An)(t,Je(fe(n,3)))},It.remove=function(t,n){var r=[];if(!t||!t.length)return r;var e=-1,u=[],o=t.length;for(n=fe(n,3);++e<o;){var i=t[e];n(i,e,t)&&(r.push(i),u.push(e))}return ir(t,u),r},It.rest=function(t,n){if("function"!=typeof t)throw new Nu("Expected a function");return n=n===P?n:hu(n),ar(t,n)},It.reverse=Le,It.sampleSize=Ne,It.set=function(t,n,r){return null==t?t:lr(t,n,r)},It.setWith=function(t,n,r,e){return e="function"==typeof e?e:P,null==t?t:lr(t,n,r,e)},It.shuffle=function(t){return Ne(t,4294967295)},It.slice=function(t,n,r){var e=t?t.length:0;return e?(r&&"number"!=typeof r&&de(t,n,r)?(n=0,r=e):(n=null==n?0:hu(n),r=r===P?e:hu(r)),sr(t,n,r)):[]},It.sortBy=Ii,It.sortedUniq=function(t){return t&&t.length?vr(t):[]},It.sortedUniqBy=function(t,n){return t&&t.length?vr(t,fe(n,2)):[]},It.split=function(t,n,r){return r&&"number"!=typeof r&&de(t,n,r)&&(n=r=P),r=r===P?4294967295:r>>>0,r?(t=gu(t))&&("string"==typeof n||null!=n&&!Vi(n))&&(n=dr(n),!n&&Ut.test(t))?kr(F(t),0,r):t.split(n,r):[]},It.spread=function(t,n){if("function"!=typeof t)throw new Nu("Expected a function");return n=n===P?0:xo(hu(n),0),ar(function(e){var u=e[n];return e=kr(e,0,n),u&&s(e,u),r(t,this,e)})},It.tail=function(t){var n=t?t.length:0;return n?sr(t,1,n):[]},It.take=function(t,n,r){return t&&t.length?(n=r||n===P?1:hu(n),sr(t,0,0>n?0:n)):[]},It.takeRight=function(t,n,r){var e=t?t.length:0;return e?(n=r||n===P?1:hu(n),n=e-n,sr(t,0>n?0:n,e)):[]},It.takeRightWhile=function(t,n){return t&&t.length?br(t,fe(n,3),!1,!0):[]},It.takeWhile=function(t,n){return t&&t.length?br(t,fe(n,3)):[]},It.tap=function(t,n){return n(t),t},It.throttle=function(t,n,r){var e=!0,u=!0;if("function"!=typeof t)throw new Nu("Expected a function");return uu(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),Ke(t,n,{leading:e,maxWait:n,trailing:u})},It.thru=ze,It.toArray=lu,It.toPairs=hf,It.toPairsIn=pf,It.toPath=function(t){return Fi(t)?l(t,Ae):au(t)?[t]:Wr(ei(t))},It.toPlainObject=vu,It.transform=function(t,n,r){var e=Fi(t)||Gi(t);if(n=fe(n,4),null==r)if(e||uu(t)){var o=t.constructor;r=e?Fi(t)?new o:[]:nu(o)?bn(eo(t)):{}}else r={};return(e?u:En)(t,function(t,e,u){return n(r,t,e,u)}),r},It.unary=function(t){return Pe(t,1)},It.union=hi,It.unionBy=pi,It.unionWith=_i,It.uniq=function(t){return t&&t.length?yr(t):[]},It.uniqBy=function(t,n){return t&&t.length?yr(t,fe(n,2)):[]},It.uniqWith=function(t,n){return t&&t.length?yr(t,P,n):[]},It.unset=function(t,n){var r;if(null==t)r=!0;else{r=t;var e=n,e=ye(e,r)?[e]:Ar(e);r=me(r,e),e=Ae(We(e)),r=!(null!=r&&Gu.call(r,e))||delete r[e]}return r},It.unzip=Ce,It.unzipWith=Ue,It.update=function(t,n,r){return null==t?t:lr(t,n,("function"==typeof r?r:Ou)(In(t,n)),void 0)},It.updateWith=function(t,n,r,e){return e="function"==typeof e?e:P,null!=t&&(t=lr(t,n,("function"==typeof r?r:Ou)(In(t,n)),e)),t},It.values=wu,It.valuesIn=function(t){return null==t?[]:I(t,xu(t))},It.without=vi,It.words=ku,It.wrap=function(t,n){return n=null==n?Ou:n,Mi(n,t)},It.xor=gi,It.xorBy=di,It.xorWith=yi,It.zip=bi,It.zipObject=function(t,n){return wr(t||[],n||[],ln)},It.zipObjectDeep=function(t,n){return wr(t||[],n||[],lr)},It.zipWith=xi,It.entries=hf,It.entriesIn=pf,It.extend=Qi,It.extendWith=Xi,Iu(It,It),It.add=Lf,It.attempt=wf,It.camelCase=_f,It.capitalize=mu,It.ceil=Cf,It.clamp=function(t,n,r){return r===P&&(r=n,n=P),r!==P&&(r=_u(r),r=r===r?r:0),n!==P&&(n=_u(n),n=n===n?n:0),vn(_u(t),n,r)},It.clone=function(t){return gn(t,!1,!0)},It.cloneDeep=function(t){return gn(t,!0,!0)},It.cloneDeepWith=function(t,n){return gn(t,!0,!0,n)},It.cloneWith=function(t,n){return gn(t,!1,!0,n)},It.conformsTo=function(t,n){return null==n||yn(t,n,bu(n))},It.deburr=Au,It.defaultTo=function(t,n){return null==t||t!==t?n:t},It.divide=Uf,It.endsWith=function(t,n,r){t=gu(t),n=dr(n);var e=t.length,e=r=r===P?e:vn(hu(r),0,e);return r-=n.length,0<=r&&t.slice(r,e)==n},It.eq=Ye,It.escape=function(t){return(t=gu(t))&&X.test(t)?t.replace(H,on):t},It.escapeRegExp=function(t){return(t=gu(t))&&ct.test(t)?t.replace(ft,"\\$&"):t},It.every=function(t,n,r){var e=Fi(t)?i:wn;return r&&de(t,n,r)&&(n=P),e(t,fe(n,3))},It.find=mi,It.findIndex=Se,It.findKey=function(t,n){return v(t,fe(n,3),En)},It.findLast=Ai,It.findLastIndex=Ie,It.findLastKey=function(t,n){return v(t,fe(n,3),On)},It.floor=Mf,It.forEach=Te,It.forEachRight=$e,It.forIn=function(t,n){return null==t?t:qo(t,fe(n,3),xu)},It.forInRight=function(t,n){return null==t?t:Vo(t,fe(n,3),xu)},It.forOwn=function(t,n){return t&&En(t,fe(n,3))},It.forOwnRight=function(t,n){return t&&On(t,fe(n,3))},It.get=du,It.gt=Ti,It.gte=$i,It.has=function(t,n){return null!=t&&se(t,n,Bn)},It.hasIn=yu,It.head=Re,It.identity=Ou,It.includes=function(t,n,r,e){return t=Qe(t)?t:wu(t),r=r&&!e?hu(r):0,e=t.length,0>r&&(r=xo(e+r,0)),cu(t)?r<=e&&-1<t.indexOf(n,r):!!e&&-1<d(t,n,r)},It.indexOf=function(t,n,r){var e=t?t.length:0;return e?(r=null==r?0:hu(r),0>r&&(r=xo(e+r,0)),d(t,n,r)):-1},It.inRange=function(t,n,r){return n=su(n),r===P?(r=n,n=0):r=su(r),t=_u(t),t>=jo(n,r)&&t<xo(n,r)},It.invoke=ff,It.isArguments=He,It.isArray=Fi,It.isArrayBuffer=Ni,It.isArrayLike=Qe,It.isArrayLikeObject=Xe,It.isBoolean=function(t){return!0===t||!1===t||ou(t)&&"[object Boolean]"==Hu.call(t)},It.isBuffer=Pi,It.isDate=Zi,It.isElement=function(t){return!!t&&1===t.nodeType&&ou(t)&&!fu(t)},It.isEmpty=function(t){if(Qe(t)&&(Fi(t)||"string"==typeof t||"function"==typeof t.splice||Pi(t)||He(t)))return!t.length;var n=St(t);if("[object Map]"==n||"[object Set]"==n)return!t.size;if(Lo||xe(t))return!bo(t).length;for(var r in t)if(Gu.call(t,r))return!1;return!0},It.isEqual=function(t,n){return Tn(t,n)},It.isEqualWith=function(t,n,r){var e=(r="function"==typeof r?r:P)?r(t,n):P;return e===P?Tn(t,n,r):!!e},It.isError=tu,It.isFinite=function(t){return"number"==typeof t&&go(t)},It.isFunction=nu,It.isInteger=ru,It.isLength=eu,It.isMap=qi,It.isMatch=function(t,n){return t===n||Fn(t,n,ae(n))},It.isMatchWith=function(t,n,r){return r="function"==typeof r?r:P,Fn(t,n,ae(n),r)},It.isNaN=function(t){return iu(t)&&t!=+t},It.isNative=function(t){if(Xo(t))throw new Mu("This method is not supported with core-js. Try https://github.com/es-shims.");return Nn(t)},It.isNil=function(t){return null==t},It.isNull=function(t){return null===t},It.isNumber=iu,It.isObject=uu,It.isObjectLike=ou,It.isPlainObject=fu,It.isRegExp=Vi,It.isSafeInteger=function(t){return ru(t)&&-9007199254740991<=t&&9007199254740991>=t},It.isSet=Ki,It.isString=cu,It.isSymbol=au,It.isTypedArray=Gi,It.isUndefined=function(t){return t===P},It.isWeakMap=function(t){return ou(t)&&"[object WeakMap]"==St(t)},It.isWeakSet=function(t){return ou(t)&&"[object WeakSet]"==Hu.call(t)},It.join=function(t,n){return t?yo.call(t,n):""},It.kebabCase=vf,It.last=We,It.lastIndexOf=function(t,n,r){var e=t?t.length:0;if(!e)return-1;var u=e;if(r!==P&&(u=hu(r),u=(0>u?xo(e+u,0):jo(u,e-1))+1),n!==n)return g(t,b,u-1,!0);for(;u--;)if(t[u]===n)return u;return-1},It.lowerCase=gf,It.lowerFirst=df,It.lt=Ji,It.lte=Yi,It.max=function(t){return t&&t.length?mn(t,Ou,Wn):P},It.maxBy=function(t,n){return t&&t.length?mn(t,fe(n,2),Wn):P},It.mean=function(t){return x(t,Ou)},It.meanBy=function(t,n){return x(t,fe(n,2))},It.min=function(t){return t&&t.length?mn(t,Ou,Jn):P},It.minBy=function(t,n){return t&&t.length?mn(t,fe(n,2),Jn):P},It.stubArray=Bu,It.stubFalse=Lu,It.stubObject=function(){return{}},It.stubString=function(){return""},It.stubTrue=function(){return!0},It.multiply=zf,It.nth=function(t,n){return t&&t.length?tr(t,hu(n)):P},It.noConflict=function(){return Vt._===this&&(Vt._=Qu),this},It.noop=Ru,It.now=Ri,It.pad=function(t,n,r){t=gu(t);var e=(n=hu(n))?$(t):0;return!n||e>=n?t:(n=(n-e)/2,Jr(po(n),r)+t+Jr(ho(n),r))},It.padEnd=function(t,n,r){t=gu(t);var e=(n=hu(n))?$(t):0;return n&&e<n?t+Jr(n-e,r):t},It.padStart=function(t,n,r){t=gu(t);var e=(n=hu(n))?$(t):0;return n&&e<n?Jr(n-e,r)+t:t},It.parseInt=function(t,n,r){return r||null==n?n=0:n&&(n=+n),t=gu(t).replace(at,""),wo(t,n||(bt.test(t)?16:10))},It.random=function(t,n,r){if(r&&"boolean"!=typeof r&&de(t,n,r)&&(n=r=P),r===P&&("boolean"==typeof n?(r=n,n=P):"boolean"==typeof t&&(r=t,t=P)),t===P&&n===P?(t=0,n=1):(t=su(t),n===P?(n=t,t=0):n=su(n)),t>n){var e=t;t=n,n=e}return r||t%1||n%1?(r=mo(),jo(t+r*(n-t+Nt("1e-"+((r+"").length-1))),n)):fr(t,n)},It.reduce=function(t,n,r){var e=Fi(t)?h:m,u=3>arguments.length;return e(t,fe(n,4),r,u,Po)},It.reduceRight=function(t,n,r){var e=Fi(t)?p:m,u=3>arguments.length;return e(t,fe(n,4),r,u,Zo)},It.repeat=function(t,n,r){return n=(r?de(t,n,r):n===P)?1:hu(n),cr(gu(t),n)},It.replace=function(){var t=arguments,n=gu(t[0]);return 3>t.length?n:n.replace(t[1],t[2])},It.result=function(t,n,r){n=ye(n,t)?[n]:Ar(n);var e=-1,u=n.length;for(u||(t=P,u=1);++e<u;){var o=null==t?P:t[Ae(n[e])];o===P&&(e=u,o=r),t=nu(o)?o.call(t):o}return t},It.round=Df,It.runInContext=N,It.sample=function(t){t=Qe(t)?t:wu(t);var n=t.length;return 0<n?t[fr(0,n-1)]:P},It.size=function(t){if(null==t)return 0;if(Qe(t))return cu(t)?$(t):t.length;var n=St(t);return"[object Map]"==n||"[object Set]"==n?t.size:Kn(t).length},It.snakeCase=yf,It.some=function(t,n,r){var e=Fi(t)?_:hr;return r&&de(t,n,r)&&(n=P),e(t,fe(n,3))},It.sortedIndex=function(t,n){return pr(t,n)},It.sortedIndexBy=function(t,n,r){return _r(t,n,fe(r,2))},It.sortedIndexOf=function(t,n){var r=t?t.length:0;if(r){var e=pr(t,n);if(e<r&&Ye(t[e],n))return e}return-1},It.sortedLastIndex=function(t,n){return pr(t,n,!0)},It.sortedLastIndexBy=function(t,n,r){return _r(t,n,fe(r,2),!0)},It.sortedLastIndexOf=function(t,n){if(t&&t.length){var r=pr(t,n,!0)-1;if(Ye(t[r],n))return r}return-1},It.startCase=bf,It.startsWith=function(t,n,r){return t=gu(t),r=vn(hu(r),0,t.length),n=dr(n),t.slice(r,r+n.length)==n},It.subtract=Tf,It.sum=function(t){return t&&t.length?k(t,Ou):0},It.sumBy=function(t,n){return t&&t.length?k(t,fe(n,2)):0},It.template=function(t,n,r){var e=It.templateSettings;r&&de(t,n,r)&&(n=P),t=gu(t),n=Xi({},n,e,en),r=Xi({},n.imports,e.imports,en);var u,o,i=bu(r),f=I(r,i),c=0;r=n.interpolate||Et;var a="__p+='";r=$u((n.escape||Et).source+"|"+r.source+"|"+(r===rt?dt:Et).source+"|"+(n.evaluate||Et).source+"|$","g");var l="sourceURL"in n?"//# sourceURL="+n.sourceURL+"\n":"";if(t.replace(r,function(n,r,e,i,f,l){return e||(e=i),a+=t.slice(c,l).replace(Ot,L),r&&(u=!0,a+="'+__e("+r+")+'"),f&&(o=!0,a+="';"+f+";\n__p+='"),e&&(a+="'+((__t=("+e+"))==null?'':__t)+'"),c=l+n.length,n}),a+="';",(n=n.variable)||(a="with(obj){"+a+"}"),a=(o?a.replace(K,""):a).replace(G,"$1").replace(J,"$1;"),a="function("+(n||"obj")+"){"+(n?"":"obj||(obj={});")+"var __t,__p=''"+(u?",__e=_.escape":"")+(o?",__j=Array.prototype.join;function print(){__p+=__j.call(arguments,'')}":";")+a+"return __p}",n=wf(function(){return zu(i,l+"return "+a).apply(P,f)}),n.source=a,tu(n))throw n;return n},It.times=function(t,n){if(t=hu(t),1>t||9007199254740991<t)return[];var r=4294967295,e=jo(t,4294967295);for(n=fe(n),t-=4294967295,e=E(e,n);++r<t;)n(r);return e},It.toFinite=su,It.toInteger=hu,It.toLength=pu,It.toLower=function(t){return gu(t).toLowerCase()},It.toNumber=_u,It.toSafeInteger=function(t){return vn(hu(t),-9007199254740991,9007199254740991)},It.toString=gu,It.toUpper=function(t){return gu(t).toUpperCase()},It.trim=function(t,n,r){return(t=gu(t))&&(r||n===P)?t.replace(at,""):t&&(n=dr(n))?(t=F(t),r=F(n),n=W(t,r),r=B(t,r)+1,kr(t,n,r).join("")):t},It.trimEnd=function(t,n,r){return(t=gu(t))&&(r||n===P)?t.replace(st,""):t&&(n=dr(n))?(t=F(t),n=B(t,F(n))+1,kr(t,0,n).join("")):t},It.trimStart=function(t,n,r){return(t=gu(t))&&(r||n===P)?t.replace(lt,""):t&&(n=dr(n))?(t=F(t),n=W(t,F(n)),kr(t,n).join("")):t},It.truncate=function(t,n){var r=30,e="...";if(uu(n))var u="separator"in n?n.separator:u,r="length"in n?hu(n.length):r,e="omission"in n?dr(n.omission):e;
t=gu(t);var o=t.length;if(Ut.test(t))var i=F(t),o=i.length;if(r>=o)return t;if(o=r-$(e),1>o)return e;if(r=i?kr(i,0,o).join(""):t.slice(0,o),u===P)return r+e;if(i&&(o+=r.length-o),Vi(u)){if(t.slice(o).search(u)){var f=r;for(u.global||(u=$u(u.source,gu(yt.exec(u))+"g")),u.lastIndex=0;i=u.exec(f);)var c=i.index;r=r.slice(0,c===P?o:c)}}else t.indexOf(dr(u),o)!=o&&(u=r.lastIndexOf(u),-1<u&&(r=r.slice(0,u)));return r+e},It.unescape=function(t){return(t=gu(t))&&Q.test(t)?t.replace(Y,fn):t},It.uniqueId=function(t){var n=++Ju;return gu(t)+n},It.upperCase=xf,It.upperFirst=jf,It.each=Te,It.eachRight=$e,It.first=Re,Iu(It,function(){var t={};return En(It,function(n,r){Gu.call(It.prototype,r)||(t[r]=n)}),t}(),{chain:!1}),It.VERSION="4.15.0",u("bind bindKey curry curryRight partial partialRight".split(" "),function(t){It[t].placeholder=It}),u(["drop","take"],function(t,n){$t.prototype[t]=function(r){var e=this.__filtered__;if(e&&!n)return new $t(this);r=r===P?1:xo(hu(r),0);var u=this.clone();return e?u.__takeCount__=jo(r,u.__takeCount__):u.__views__.push({size:jo(r,4294967295),type:t+(0>u.__dir__?"Right":"")}),u},$t.prototype[t+"Right"]=function(n){return this.reverse()[t](n).reverse()}}),u(["filter","map","takeWhile"],function(t,n){var r=n+1,e=1==r||3==r;$t.prototype[t]=function(t){var n=this.clone();return n.__iteratees__.push({iteratee:fe(t,3),type:r}),n.__filtered__=n.__filtered__||e,n}}),u(["head","last"],function(t,n){var r="take"+(n?"Right":"");$t.prototype[t]=function(){return this[r](1).value()[0]}}),u(["initial","tail"],function(t,n){var r="drop"+(n?"":"Right");$t.prototype[t]=function(){return this.__filtered__?new $t(this):this[r](1)}}),$t.prototype.compact=function(){return this.filter(Ou)},$t.prototype.find=function(t){return this.filter(t).head()},$t.prototype.findLast=function(t){return this.reverse().find(t)},$t.prototype.invokeMap=ar(function(t,n){return"function"==typeof t?new $t(this):this.map(function(r){return Mn(r,t,n)})}),$t.prototype.reject=function(t){return this.filter(Je(fe(t)))},$t.prototype.slice=function(t,n){t=hu(t);var r=this;return r.__filtered__&&(0<t||0>n)?new $t(r):(0>t?r=r.takeRight(-t):t&&(r=r.drop(t)),n!==P&&(n=hu(n),r=0>n?r.dropRight(-n):r.take(n-t)),r)},$t.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},$t.prototype.toArray=function(){return this.take(4294967295)},En($t.prototype,function(t,n){var r=/^(?:filter|find|map|reject)|While$/.test(n),e=/^(?:head|last)$/.test(n),u=It[e?"take"+("last"==n?"Right":""):n],o=e||/^find/.test(n);u&&(It.prototype[n]=function(){function n(t){return t=u.apply(It,s([t],f)),e&&h?t[0]:t}var i=this.__wrapped__,f=e?[1]:arguments,c=i instanceof $t,a=f[0],l=c||Fi(i);l&&r&&"function"==typeof a&&1!=a.length&&(c=l=!1);var h=this.__chain__,p=!!this.__actions__.length,a=o&&!h,c=c&&!p;return!o&&l?(i=c?i:new $t(this),i=t.apply(i,f),i.__actions__.push({func:ze,args:[n],thisArg:P}),new Lt(i,h)):a&&c?t.apply(this,f):(i=this.thru(n),a?e?i.value()[0]:i.value():i)})}),u("pop push shift sort splice unshift".split(" "),function(t){var n=Pu[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",e=/^(?:pop|shift)$/.test(t);It.prototype[t]=function(){var t=arguments;if(e&&!this.__chain__){var u=this.value();return n.apply(Fi(u)?u:[],t)}return this[r](function(r){return n.apply(Fi(r)?r:[],t)})}}),En($t.prototype,function(t,n){var r=It[n];if(r){var e=r.name+"";(Co[e]||(Co[e]=[])).push({name:n,func:r})}}),Co[qr(P,2).name]=[{name:"wrapper",func:P}],$t.prototype.clone=function(){var t=new $t(this.__wrapped__);return t.__actions__=Wr(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Wr(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Wr(this.__views__),t},$t.prototype.reverse=function(){if(this.__filtered__){var t=new $t(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t},$t.prototype.value=function(){var t,n=this.__wrapped__.value(),r=this.__dir__,e=Fi(n),u=0>r,o=e?n.length:0;t=o;for(var i=this.__views__,f=0,c=-1,a=i.length;++c<a;){var l=i[c],s=l.size;switch(l.type){case"drop":f+=s;break;case"dropRight":t-=s;break;case"take":t=jo(t,f+s);break;case"takeRight":f=xo(f,t-s)}}if(t={start:f,end:t},i=t.start,f=t.end,t=f-i,u=u?f:i-1,i=this.__iteratees__,f=i.length,c=0,a=jo(t,this.__takeCount__),!e||200>o||o==t&&a==t)return xr(n,this.__actions__);e=[];t:for(;t--&&c<a;){for(u+=r,o=-1,l=n[u];++o<f;){var h=i[o],s=h.type,h=(0,h.iteratee)(l);if(2==s)l=h;else if(!h){if(1==s)continue t;break t}}e[c++]=l}return e},It.prototype.at=ji,It.prototype.chain=function(){return Me(this)},It.prototype.commit=function(){return new Lt(this.value(),this.__chain__)},It.prototype.next=function(){this.__values__===P&&(this.__values__=lu(this.value()));var t=this.__index__>=this.__values__.length,n=t?P:this.__values__[this.__index__++];return{done:t,value:n}},It.prototype.plant=function(t){for(var n,r=this;r instanceof Rt;){var e=Oe(r);e.__index__=0,e.__values__=P,n?u.__wrapped__=e:n=e;var u=e,r=r.__wrapped__}return u.__wrapped__=t,n},It.prototype.reverse=function(){var t=this.__wrapped__;return t instanceof $t?(this.__actions__.length&&(t=new $t(this)),t=t.reverse(),t.__actions__.push({func:ze,args:[Le],thisArg:P}),new Lt(t,this.__chain__)):this.thru(Le)},It.prototype.toJSON=It.prototype.valueOf=It.prototype.value=function(){return xr(this.__wrapped__,this.__actions__)},It.prototype.first=It.prototype.head,uo&&(It.prototype[uo]=De),It}var P,Z=1/0,q=NaN,V=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],K=/\b__p\+='';/g,G=/\b(__p\+=)''\+/g,J=/(__e\(.*?\)|\b__t\))\+'';/g,Y=/&(?:amp|lt|gt|quot|#39|#96);/g,H=/[&<>"'`]/g,Q=RegExp(Y.source),X=RegExp(H.source),tt=/<%-([\s\S]+?)%>/g,nt=/<%([\s\S]+?)%>/g,rt=/<%=([\s\S]+?)%>/g,et=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ut=/^\w*$/,ot=/^\./,it=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ft=/[\\^$.*+?()[\]{}|]/g,ct=RegExp(ft.source),at=/^\s+|\s+$/g,lt=/^\s+/,st=/\s+$/,ht=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pt=/\{\n\/\* \[wrapped with (.+)\] \*/,_t=/,? & /,vt=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,gt=/\\(\\)?/g,dt=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,yt=/\w*$/,bt=/^0x/i,xt=/^[-+]0x[0-9a-f]+$/i,jt=/^0b[01]+$/i,wt=/^\[object .+?Constructor\]$/,mt=/^0o[0-7]+$/i,At=/^(?:0|[1-9]\d*)$/,kt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Et=/($^)/,Ot=/['\n\r\u2028\u2029\\]/g,St="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?)*",It="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+St,Rt="(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]?|[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])",Wt=RegExp("['â€™]","g"),Bt=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]","g"),Lt=RegExp("\\ud83c[\\udffb-\\udfff](?=\\ud83c[\\udffb-\\udfff])|"+Rt+St,"g"),Ct=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['â€™](?:d|ll|m|re|s|t|ve))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['â€™](?:D|LL|M|RE|S|T|VE))?(?=[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['â€™](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['â€™](?:D|LL|M|RE|S|T|VE))?|\\d+",It].join("|"),"g"),Ut=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]"),Mt=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,zt="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),Dt={};Dt["[object Float32Array]"]=Dt["[object Float64Array]"]=Dt["[object Int8Array]"]=Dt["[object Int16Array]"]=Dt["[object Int32Array]"]=Dt["[object Uint8Array]"]=Dt["[object Uint8ClampedArray]"]=Dt["[object Uint16Array]"]=Dt["[object Uint32Array]"]=!0,Dt["[object Arguments]"]=Dt["[object Array]"]=Dt["[object ArrayBuffer]"]=Dt["[object Boolean]"]=Dt["[object DataView]"]=Dt["[object Date]"]=Dt["[object Error]"]=Dt["[object Function]"]=Dt["[object Map]"]=Dt["[object Number]"]=Dt["[object Object]"]=Dt["[object RegExp]"]=Dt["[object Set]"]=Dt["[object String]"]=Dt["[object WeakMap]"]=!1;var Tt={};Tt["[object Arguments]"]=Tt["[object Array]"]=Tt["[object ArrayBuffer]"]=Tt["[object DataView]"]=Tt["[object Boolean]"]=Tt["[object Date]"]=Tt["[object Float32Array]"]=Tt["[object Float64Array]"]=Tt["[object Int8Array]"]=Tt["[object Int16Array]"]=Tt["[object Int32Array]"]=Tt["[object Map]"]=Tt["[object Number]"]=Tt["[object Object]"]=Tt["[object RegExp]"]=Tt["[object Set]"]=Tt["[object String]"]=Tt["[object Symbol]"]=Tt["[object Uint8Array]"]=Tt["[object Uint8ClampedArray]"]=Tt["[object Uint16Array]"]=Tt["[object Uint32Array]"]=!0,Tt["[object Error]"]=Tt["[object Function]"]=Tt["[object WeakMap]"]=!1;var $t,Ft={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Nt=parseFloat,Pt=parseInt,Zt="object"==typeof global&&global&&global.Object===Object&&global,qt="object"==typeof self&&self&&self.Object===Object&&self,Vt=Zt||qt||Function("return this")(),Kt="object"==typeof exports&&exports&&!exports.nodeType&&exports,Gt=Kt&&"object"==typeof module&&module&&!module.nodeType&&module,Jt=Gt&&Gt.exports===Kt,Yt=Jt&&Zt.g;t:{try{$t=Yt&&Yt.f("util");break t}catch(t){}$t=void 0}var Ht=$t&&$t.isArrayBuffer,Qt=$t&&$t.isDate,Xt=$t&&$t.isMap,tn=$t&&$t.isRegExp,nn=$t&&$t.isSet,rn=$t&&$t.isTypedArray,en=j("length"),un=w({"Ã€":"A","Ã":"A","Ã‚":"A","Ãƒ":"A","Ã„":"A","Ã…":"A","Ã ":"a","Ã¡":"a","Ã¢":"a","Ã£":"a","Ã¤":"a","Ã¥":"a","Ã‡":"C","Ã§":"c","Ã":"D","Ã°":"d","Ãˆ":"E","Ã‰":"E","ÃŠ":"E","Ã‹":"E","Ã¨":"e","Ã©":"e","Ãª":"e","Ã«":"e","ÃŒ":"I","Ã":"I","ÃŽ":"I","Ã":"I","Ã¬":"i","Ã­":"i","Ã®":"i","Ã¯":"i","Ã‘":"N","Ã±":"n","Ã’":"O","Ã“":"O","Ã”":"O","Ã•":"O","Ã–":"O","Ã˜":"O","Ã²":"o","Ã³":"o","Ã´":"o","Ãµ":"o","Ã¶":"o","Ã¸":"o","Ã™":"U","Ãš":"U","Ã›":"U","Ãœ":"U","Ã¹":"u","Ãº":"u","Ã»":"u","Ã¼":"u","Ã":"Y","Ã½":"y","Ã¿":"y","Ã†":"Ae","Ã¦":"ae","Ãž":"Th","Ã¾":"th","ÃŸ":"ss","Ä€":"A","Ä‚":"A","Ä„":"A","Ä":"a","Äƒ":"a","Ä…":"a","Ä†":"C","Äˆ":"C","ÄŠ":"C","ÄŒ":"C","Ä‡":"c","Ä‰":"c","Ä‹":"c","Ä":"c","ÄŽ":"D","Ä":"D","Ä":"d","Ä‘":"d","Ä’":"E","Ä”":"E","Ä–":"E","Ä˜":"E","Äš":"E","Ä“":"e","Ä•":"e","Ä—":"e","Ä™":"e","Ä›":"e","Äœ":"G","Äž":"G","Ä ":"G","Ä¢":"G","Ä":"g","ÄŸ":"g","Ä¡":"g","Ä£":"g","Ä¤":"H","Ä¦":"H","Ä¥":"h","Ä§":"h","Ä¨":"I","Äª":"I","Ä¬":"I","Ä®":"I","Ä°":"I","Ä©":"i","Ä«":"i","Ä­":"i","Ä¯":"i","Ä±":"i","Ä´":"J","Äµ":"j","Ä¶":"K","Ä·":"k","Ä¸":"k","Ä¹":"L","Ä»":"L","Ä½":"L","Ä¿":"L","Å":"L","Äº":"l","Ä¼":"l","Ä¾":"l","Å€":"l","Å‚":"l","Åƒ":"N","Å…":"N","Å‡":"N","ÅŠ":"N","Å„":"n","Å†":"n","Åˆ":"n","Å‹":"n","ÅŒ":"O","ÅŽ":"O","Å":"O","Å":"o","Å":"o","Å‘":"o","Å”":"R","Å–":"R","Å˜":"R","Å•":"r","Å—":"r","Å™":"r","Åš":"S","Åœ":"S","Åž":"S","Å ":"S","Å›":"s","Å":"s","ÅŸ":"s","Å¡":"s","Å¢":"T","Å¤":"T","Å¦":"T","Å£":"t","Å¥":"t","Å§":"t","Å¨":"U","Åª":"U","Å¬":"U","Å®":"U","Å°":"U","Å²":"U","Å©":"u","Å«":"u","Å­":"u","Å¯":"u","Å±":"u","Å³":"u","Å´":"W","Åµ":"w","Å¶":"Y","Å·":"y","Å¸":"Y","Å¹":"Z","Å»":"Z","Å½":"Z","Åº":"z","Å¼":"z","Å¾":"z","Ä²":"IJ","Ä³":"ij","Å’":"Oe","Å“":"oe","Å‰":"'n","Å¿":"ss"}),on=w({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"}),fn=w({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"}),cn=N();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Vt._=cn,define(function(){return cn})):Gt?((Gt.exports=cn)._=cn,Kt._=cn):Vt._=cn}.call(this),function(root,factory){"function"==typeof define&&define.amd?define([],function(){return root.underi18n=factory()}):"undefined"!=typeof module&&module.exports?module.exports=factory():root.underi18n=factory()}(this,function(){var underi18n={MessageFactory:function(){var MessageFactory=function(catalog){this.translate=function(msgid,keywords){var msgstr=catalog[msgid]?catalog[msgid]:msgid;if(keywords)for(var key in keywords)msgstr=msgstr.replace("${"+key+"}",keywords[key]);return msgstr}};return function(catalog){return new MessageFactory(catalog).translate}}(),template:function(str,factory){var s=this.templateSettings;return str.replace(s.translate,function(match,code){return factory(code.replace(/^\s+|\s+$/g,""))}).replace(/\$\{(.*?)\}/g,function(m,c){return s.i18nVarLeftDel+c+s.i18nVarRightDel})},templateSettings:{translate:/<%_([\s\S]+?)%>/g,i18nVarLeftDel:"<%=",i18nVarRightDel:"%>"}};return underi18n}),function(b,c){var a,$=b.jQuery||b.Cowboy||(b.Cowboy={});$.throttle=a=function(e,f,j,i){function g(){function l(){d=+new Date,j.apply(o,n)}function k(){h=c}var o=this,m=+new Date-d,n=arguments;i&&!h&&l(),h&&clearTimeout(h),i===c&&m>e?l():f!==!0&&(h=setTimeout(i?k:l,i===c?e-m:e))}var h,d=0;return"boolean"!=typeof f&&(i=j,j=f,f=c),$.guid&&(g.guid=j.guid=j.guid||$.guid++),g},$.debounce=function(d,e,f){return f===c?a(d,e,!1):a(d,f,e!==!1)}}(this),function(d){var cache={};d.publish=function(topic,args){if("string"==typeof topic&&cache[topic])for(var i=cache[topic].length;i--;)cache[topic][i].apply(d,args||[])},d.subscribe=function(topic,callback){return"string"==typeof topic&&"function"==typeof callback&&(cache[topic]||(cache[topic]=[]),cache[topic].unshift(callback)),[topic,callback]},d.unsubscribe=function(handle){var t=handle[0];cache[t]&&d.each(cache[t],function(idx){this==handle[1]&&cache[t].splice(idx,1)})}}(jQuery),function($){"$:nomunge";var interval_id,last_hash,rm_callback,p_receiveMessage,cache_bust=1,window=this,FALSE=!1,postMessage="postMessage",addEventListener="addEventListener",has_postMessage=window[postMessage];$[postMessage]=function(message,target_url,target){target_url&&(message="string"==typeof message?message:$.param(message),target=target||parent,has_postMessage?target[postMessage](message,target_url.replace(/([^:]+:\/\/[^\/]+).*/,"$1")):target_url&&(target.location=target_url.replace(/#.*$/,"")+"#"+ +new Date+cache_bust++ +"&"+message))},$.receiveMessage=p_receiveMessage=function(callback,source_origin,delay){has_postMessage?(callback&&(rm_callback&&p_receiveMessage(),rm_callback=function(e){return"string"==typeof source_origin&&e.origin!==source_origin||$.isFunction(source_origin)&&source_origin(e.origin)===FALSE?FALSE:void callback(e)}),window[addEventListener]?window[callback?addEventListener:"removeEventListener"]("message",rm_callback,FALSE):window[callback?"attachEvent":"detachEvent"]("onmessage",rm_callback)):(interval_id&&clearInterval(interval_id),interval_id=null,callback&&(delay="number"==typeof source_origin?source_origin:"number"==typeof delay?delay:100,interval_id=setInterval(function(){var hash=document.location.hash,re=/^#?\d+&/;hash!==last_hash&&re.test(hash)&&(last_hash=hash,callback({data:hash.replace(re,"")}))},delay)))}}(jQuery),!function(root,factory){"object"==typeof exports?factory(module.exports):"function"==typeof define&&define.amd?define(["exports"],factory):(root.jsonpatch={},root.returnExports=factory(root.jsonpatch))}(this,function(exports){function InvalidPatch(message){Error.call(this,message),this.message=message}function PatchApplyError(message){Error.call(this,message),this.message=message}function clone(o){var cloned,key;if(isArray(o))return o.slice();if(null===o)return o;if("object"==typeof o){cloned={};for(key in o)Object.hasOwnProperty.call(o,key)&&(cloned[key]=o[key]);return cloned}return o}function deepEqual(a,b){var key;if(a===b)return!0;if(typeof a!=typeof b)return!1;if("object"!=typeof a)return!1;var aIsArray=isArray(a),bIsArray=isArray(b);if(aIsArray!==bIsArray)return!1;if(!aIsArray){for(key in a)if(Object.hasOwnProperty(a,key)&&(!Object.hasOwnProperty(b,key)||!deepEqual(a[key],b[key])))return!1;for(key in b)if(Object.hasOwnProperty(b,key)&&!Object.hasOwnProperty(a,key))return!1;return!0}if(a.length!=b.length)return!1;for(var i=0;i<a.length;i++)return deepEqual(a[i],b[i])}function validateOp(operation){var i,required;if(!operation.op)throw new InvalidPatch("Operation missing!");if(!_operationRequired.hasOwnProperty(operation.op))throw new InvalidPatch("Invalid operation!");if(!("path"in operation))throw new InvalidPatch("Path missing!");for(required=_operationRequired[operation.op],i=0;i<required.length;i++)if(!(required[i]in operation))throw new InvalidPatch(operation.op+" must have key "+required[i])}function compileOperation(operation,mutate){validateOp(operation);var op=operation.op,path=new JSONPointer(operation.path),value=operation.value,from=operation.from?new JSONPointer(operation.from):null;switch(op){case"add":return function(doc){return path.add(doc,value,mutate)};case"remove":return function(doc){return path.remove(doc,mutate)};case"replace":return function(doc){return path.replace(doc,value,mutate)};case"move":if(path.subsetOf(from))throw new InvalidPatch("destination must not be a child of source");return function(doc){var value=from.get(doc),intermediate=from.remove(doc,mutate);return path.add(intermediate,value,mutate)};case"copy":return function(doc){var value=from.get(doc);return path.add(doc,value,mutate)};case"test":return function(doc){if(!deepEqual(path.get(doc),value))throw new PatchApplyError("Test operation failed. Value did not match.");return doc}}}var apply_patch,JSONPatch,JSONPointer,_operationRequired,isArray;isArray=Array.isArray||function(obj){return"[object Array]"==Object.prototype.toString.call(obj)},exports.apply_patch=apply_patch=function(doc,patch){return new JSONPatch(patch).apply(doc)},exports.InvalidPatch=InvalidPatch,InvalidPatch.prototype=new Error,exports.PatchApplyError=PatchApplyError,PatchApplyError.prototype=new Error,exports.JSONPointer=JSONPointer=function(pathStr){var i,split,path=[];if(split=pathStr.split("/"),""!==split[0])throw new InvalidPatch("JSONPointer must start with a slash (or be an empty string)!");for(i=1;i<split.length;i++)path[i-1]=split[i].replace(/~1/g,"/").replace(/~0/g,"~");this.path=path,this.length=path.length},JSONPointer.prototype._get_segment=function(index,node){var segment=this.path[index];if(isArray(node))if("-"===segment)segment=node.length;else{if(!segment.match(/^[0-9]*$/))throw new PatchApplyError("Expected a number to segment an array");segment=parseInt(segment,10)}return segment},JSONPointer.prototype._action=function(doc,handler,mutate){function follow_pointer(node,index){var segment,subnode;if(mutate||(node=clone(node)),segment=that._get_segment(index,node),index==that.path.length-1)node=handler(node,segment);else{if(isArray(node)){if(node.length<=segment)throw new PatchApplyError("Path not found in document")}else{if("object"!=typeof node)throw new PatchApplyError("Path not found in document");if(!Object.hasOwnProperty.call(node,segment))throw new PatchApplyError("Path not found in document")}subnode=follow_pointer(node[segment],index+1),mutate||(node[segment]=subnode)}return node}var that=this;return follow_pointer(doc,0)},JSONPointer.prototype.add=function(doc,value,mutate){return 0===this.length?value:this._action(doc,function(node,lastSegment){if(isArray(node)){if(lastSegment>node.length)throw new PatchApplyError("Add operation must not attempt to create a sparse array!");node.splice(lastSegment,0,clone(value))}else node[lastSegment]=clone(value);return node},mutate)},JSONPointer.prototype.remove=function(doc,mutate){return 0===this.length?void 0:this._action(doc,function(node,lastSegment){if(!Object.hasOwnProperty.call(node,lastSegment))throw new PatchApplyError("Remove operation must point to an existing value!");return isArray(node)?node.splice(lastSegment,1):delete node[lastSegment],node},mutate)},JSONPointer.prototype.replace=function(doc,value,mutate){return 0===this.length?value:this._action(doc,function(node,lastSegment){if(!Object.hasOwnProperty.call(node,lastSegment))throw new PatchApplyError("Replace operation must point to an existing value!");return isArray(node)?node.splice(lastSegment,1,clone(value)):node[lastSegment]=clone(value),node},mutate)},JSONPointer.prototype.get=function(doc){var value;return 0===this.length?doc:(this._action(doc,function(node,lastSegment){return value=node[lastSegment],node},!0),value)},JSONPointer.prototype.subsetOf=function(otherPointer){if(this.length<=otherPointer.length)return!1;for(var i=0;i<otherPointer.length;i++)if(otherPointer.path[i]!==this.path[i])return!1;return!0},_operationRequired={add:["value"],replace:["value"],test:["value"],remove:[],move:["from"],copy:["from"]},exports.JSONPatch=JSONPatch=function(patch,mutate){this._compile(patch,mutate)},JSONPatch.prototype._compile=function(patch,mutate){var i,_this=this;if(this.compiledOps=[],"string"==typeof patch&&(patch=JSON.parse(patch)),!isArray(patch))throw new InvalidPatch("Patch must be an array of operations");for(i=0;i<patch.length;i++){var compiled=compileOperation(patch[i],mutate);_this.compiledOps.push(compiled)}},exports.JSONPatch.prototype.apply=function(doc){var i;for(i=0;i<this.compiledOps.length;i++)doc=this.compiledOps[i](doc);return doc}}),function(){function strToLongs(s){var i,l=new Array(Math.ceil(s.length/4));for(i=0;i<l.length;i++)l[i]=s.charCodeAt(4*i)+(s.charCodeAt(4*i+1)<<8)+(s.charCodeAt(4*i+2)<<16)+(s.charCodeAt(4*i+3)<<24);return l}function longsToStr(l){var i,a=new Array(l.length);for(i=0;i<l.length;i++)a[i]=String.fromCharCode(255&l[i],l[i]>>>8&255,l[i]>>>16&255,l[i]>>>24&255);return a.join("")}function escCtrlCh(str){return str.replace(/[\0\t\n\v\f\r\xa0'"!]/g,function(c){return"!"+c.charCodeAt(0)+"!"})}function unescCtrlCh(str){return str.replace(/!\d\d?\d?!/g,function(c){return String.fromCharCode(c.slice(1,-1))})}this.TEAencrypt=function(plaintext,password){if(0===plaintext.length)return"";var k,n,z,y,delta,mx,e,q,sum,p,ciphertext,asciitext=escape(plaintext).replace(/%20/g," "),v=strToLongs(asciitext);for(v.length<=1&&(v[1]=0),k=strToLongs(password.slice(0,16)),n=v.length,z=v[n-1],y=v[0],delta=2654435769,q=Math.floor(6+52/n),sum=0;q-- >0;)for(sum+=delta,e=sum>>>2&3,p=0;p<n;p++)y=v[(p+1)%n],mx=(z>>>5^y<<2)+(y>>>3^z<<4)^(sum^y)+(k[3&p^e]^z),z=v[p]+=mx;return ciphertext=longsToStr(v),escCtrlCh(ciphertext)},this.TEAdecrypt=function(ciphertext,password){if(0===ciphertext.length)return"";for(var mx,e,p,plaintext,v=strToLongs(unescCtrlCh(ciphertext)),k=strToLongs(password.slice(0,16)),n=v.length,z=v[n-1],y=v[0],delta=2654435769,q=Math.floor(6+52/n),sum=q*delta;0!==sum;){for(e=sum>>>2&3,p=n-1;p>=0;p--)z=v[p>0?p-1:n-1],mx=(z>>>5^y<<2)+(y>>>3^z<<4)^(sum^y)+(k[3&p^e]^z),y=v[p]-=mx;sum-=delta}return plaintext=longsToStr(v),plaintext=plaintext.replace(/\0+$/,""),unescape(plaintext)}}(),FABridge.TYPE_ASINSTANCE=1,FABridge.TYPE_ASFUNCTION=2,FABridge.TYPE_JSFUNCTION=3,FABridge.TYPE_ANONYMOUS=4,FABridge.initCallbacks={},FABridge.argsToArray=function(args){for(var result=[],i=0;i<args.length;i++)result[i]=args[i];return result},FABridge.addInitializationCallback=function(bridgeName,callback){var inst=FABridge.instances[bridgeName];if(void 0!=inst)return void callback.call(inst);var callbackList=FABridge.initCallbacks[bridgeName];null==callbackList&&(FABridge.initCallbacks[bridgeName]=callbackList=[]),callbackList.push(callback)},FABridge.nextBridgeID=0,FABridge.instances={},FABridge.idMap={},FABridge.refCount=0,FABridge.extractBridgeFromID=function(id){var bridgeID=id>>16;return FABridge.idMap[bridgeID]},FABridge.attachBridge=function(instance,bridgeName){var newBridgeInstance=new FABridge(instance,bridgeName);FABridge[bridgeName]=newBridgeInstance;var callbacks=FABridge.initCallbacks[bridgeName];if(null!=callbacks){for(var i=0;i<callbacks.length;i++)callbacks[i].call(newBridgeInstance);delete FABridge.initCallbacks[bridgeName]}},FABridge.blockedMethods={toString:!0,get:!0,set:!0,call:!0},FABridge.prototype={root:function(){return this.deserialize(this.target.getRoot())},releaseASObjects:function(){return this.target.releaseASObjects()},releaseNamedASObject:function(value){if("object"!=typeof value)return!1;var ret=this.target.releaseNamedASObject(value.fb_instance_id);return ret},create:function(className){return this.deserialize(this.target.create(className))},makeID:function(token){return(this.bridgeID<<16)+token},getPropertyFromAS:function(objRef,propName){if(FABridge.refCount>0)throw new Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");return FABridge.refCount++,retVal=this.target.getPropFromAS(objRef,propName),retVal=this.handleError(retVal),FABridge.refCount--,retVal},setPropertyInAS:function(objRef,propName,value){if(FABridge.refCount>0)throw new Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");return FABridge.refCount++,retVal=this.target.setPropInAS(objRef,propName,this.serialize(value)),retVal=this.handleError(retVal),FABridge.refCount--,retVal},callASFunction:function(funcID,args){if(FABridge.refCount>0)throw new Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");return FABridge.refCount++,retVal=this.target.invokeASFunction(funcID,this.serialize(args)),retVal=this.handleError(retVal),FABridge.refCount--,retVal},callASMethod:function(objID,funcName,args){if(FABridge.refCount>0)throw new Error("You are trying to call recursively into the Flash Player which is not allowed. In most cases the JavaScript setTimeout function, can be used as a workaround.");return FABridge.refCount++,args=this.serialize(args),retVal=this.target.invokeASMethod(objID,funcName,args),retVal=this.handleError(retVal),FABridge.refCount--,retVal},invokeLocalFunction:function(funcID,args){var result,func=this.localFunctionCache[funcID];return void 0!=func&&(result=this.serialize(func.apply(null,this.deserialize(args)))),result},getTypeFromName:function(objTypeName){return this.remoteTypeCache[objTypeName]},createProxy:function(objID,typeName){var objType=this.getTypeFromName(typeName);instanceFactory.prototype=objType;var instance=new instanceFactory(objID);return this.remoteInstanceCache[objID]=instance,instance},getProxy:function(objID){return this.remoteInstanceCache[objID]},addTypeDataToCache:function(typeData){newType=new ASProxy(this,typeData.name);for(var accessors=typeData.accessors,i=0;i<accessors.length;i++)this.addPropertyToType(newType,accessors[i]);for(var methods=typeData.methods,i=0;i<methods.length;i++)void 0==FABridge.blockedMethods[methods[i]]&&this.addMethodToType(newType,methods[i]);return this.remoteTypeCache[newType.typeName]=newType,newType},addPropertyToType:function(ty,propName){var setterName,getterName,c=propName.charAt(0);c>="a"&&c<="z"?(getterName="get"+c.toUpperCase()+propName.substr(1),setterName="set"+c.toUpperCase()+propName.substr(1)):(getterName="get"+propName,setterName="set"+propName),ty[setterName]=function(val){this.bridge.setPropertyInAS(this.fb_instance_id,propName,val)},ty[getterName]=function(){return this.bridge.deserialize(this.bridge.getPropertyFromAS(this.fb_instance_id,propName))}},addMethodToType:function(ty,methodName){ty[methodName]=function(){return this.bridge.deserialize(this.bridge.callASMethod(this.fb_instance_id,methodName,FABridge.argsToArray(arguments)))}},getFunctionProxy:function(funcID){var bridge=this;return null==this.remoteFunctionCache[funcID]&&(this.remoteFunctionCache[funcID]=function(){bridge.callASFunction(funcID,FABridge.argsToArray(arguments))}),this.remoteFunctionCache[funcID]},getFunctionID:function(func){return void 0==func.__bridge_id__&&(func.__bridge_id__=this.makeID(this.nextLocalFuncID++),this.localFunctionCache[func.__bridge_id__]=func),func.__bridge_id__},serialize:function(value){var result={},t=typeof value;if("number"==t||"string"==t||"boolean"==t||null==t||void 0==t)result=value;else if(value instanceof Array){result=[];for(var i=0;i<value.length;i++)result[i]=this.serialize(value[i])}else"function"==t?(result.type=FABridge.TYPE_JSFUNCTION,result.value=this.getFunctionID(value)):value instanceof ASProxy?(result.type=FABridge.TYPE_ASINSTANCE,result.value=value.fb_instance_id):(result.type=FABridge.TYPE_ANONYMOUS,result.value=value);return result},deserialize:function(packedValue){var result,t=typeof packedValue;if("number"==t||"string"==t||"boolean"==t||null==packedValue||void 0==packedValue)result=this.handleError(packedValue);else if(packedValue instanceof Array){result=[];for(var i=0;i<packedValue.length;i++)result[i]=this.deserialize(packedValue[i])}else if("object"==t){for(var i=0;i<packedValue.newTypes.length;i++)this.addTypeDataToCache(packedValue.newTypes[i]);for(var aRefID in packedValue.newRefs)this.createProxy(aRefID,packedValue.newRefs[aRefID]);packedValue.type==FABridge.TYPE_PRIMITIVE?result=packedValue.value:packedValue.type==FABridge.TYPE_ASFUNCTION?result=this.getFunctionProxy(packedValue.value):packedValue.type==FABridge.TYPE_ASINSTANCE?result=this.getProxy(packedValue.value):packedValue.type==FABridge.TYPE_ANONYMOUS&&(result=packedValue.value)}return result},addRef:function(obj){this.target.incRef(obj.fb_instance_id)},release:function(obj){this.target.releaseRef(obj.fb_instance_id)},handleError:function(value){if("string"==typeof value&&0==value.indexOf("__FLASHERROR")){var myErrorMessage=value.split("||");throw FABridge.refCount>0&&FABridge.refCount--,new Error(myErrorMessage[1])}return value}},ASProxy=function(bridge,typeName){return this.bridge=bridge,this.typeName=typeName,this},ASProxy.prototype={get:function(propName){return this.bridge.deserialize(this.bridge.getPropertyFromAS(this.fb_instance_id,propName))},set:function(propName,value){this.bridge.setPropertyInAS(this.fb_instance_id,propName,value)},call:function(funcName,args){this.bridge.callASMethod(this.fb_instance_id,funcName,args)},addRef:function(){this.bridge.addRef(this)},release:function(){this.bridge.release(this)}},"undefined"==typeof window.console&&(window.console={log:function(){},error:function(){}}),Object.observe||function(O,A,root,_undefined){"use strict";var observed,handlers,defaultAcceptList=["add","update","delete","reconfigure","setPrototype","preventExtensions"],isArray=A.isArray||function(toString){return function(object){return"[object Array]"===toString.call(object)}}(O.prototype.toString),inArray=A.prototype.indexOf?A.indexOf||function(array,pivot,start){
return A.prototype.indexOf.call(array,pivot,start)}:function(array,pivot,start){for(var i=start||0;i<array.length;i++)if(array[i]===pivot)return i;return-1},createMap=root.Map!==_undefined&&Map.prototype.forEach?function(){return new Map}:function(){var keys=[],values=[];return{size:0,has:function(key){return inArray(keys,key)>-1},get:function(key){return values[inArray(keys,key)]},set:function(key,value){var i=inArray(keys,key);i===-1?(keys.push(key),values.push(value),this.size++):values[i]=value},"delete":function(key){var i=inArray(keys,key);i>-1&&(keys.splice(i,1),values.splice(i,1),this.size--)},forEach:function(callback){for(var i=0;i<keys.length;i++)callback.call(arguments[1],values[i],keys[i],this)}}},getProps=O.getOwnPropertyNames?function(){var func=O.getOwnPropertyNames;try{arguments.callee}catch(e){var avoid=(func(inArray).join(" ")+" ").replace(/prototype |length |name /g,"").slice(0,-1).split(" ");avoid.length&&(func=function(object){var props=O.getOwnPropertyNames(object);if("function"==typeof object)for(var j,i=0;i<avoid.length;)(j=inArray(props,avoid[i++]))>-1&&props.splice(j,1);return props})}return func}():function(object){var prop,hop,props=[];if("hasOwnProperty"in object)for(prop in object)object.hasOwnProperty(prop)&&props.push(prop);else{hop=O.hasOwnProperty;for(prop in object)hop.call(object,prop)&&props.push(prop)}return isArray(object)&&props.push("length"),props},nextFrame=root.requestAnimationFrame||root.webkitRequestAnimationFrame||function(){var initial=+new Date,last=initial;return function(func){return setTimeout(function(){func((last=+new Date)-initial)},17)}}(),doObserve=function(object,handler,acceptList){var data=observed.get(object);data?setHandler(object,data,handler,acceptList):(data=createObjectData(object),setHandler(object,data,handler,acceptList),1===observed.size&&nextFrame(runGlobalLoop))},createObjectData=function(object,data){for(var props=getProps(object),values=[],i=0,data={handlers:createMap(),properties:props,values:values,notifier:retrieveNotifier(object,data)};i<props.length;)values[i]=object[props[i++]];return observed.set(object,data),data},performPropertyChecks=function(data,object,except){if(data.handlers.size){var props,proplen,keys,idx,key,value,ovalue,values=data.values,i=0;for(props=data.properties.slice(),proplen=props.length,keys=getProps(object);i<keys.length;)key=keys[i++],idx=inArray(props,key),value=object[key],idx===-1?(addChangeRecord(object,data,{name:key,type:"add",object:object},except),data.properties.push(key),values.push(value)):(ovalue=values[idx],props[idx]=null,proplen--,(ovalue===value?0===ovalue&&1/ovalue!==1/value:ovalue===ovalue||value===value)&&(addChangeRecord(object,data,{name:key,type:"update",object:object,oldValue:ovalue},except),data.values[idx]=value));for(i=props.length;proplen&&i--;)null!==props[i]&&(addChangeRecord(object,data,{name:props[i],type:"delete",object:object,oldValue:values[i]},except),data.properties.splice(i,1),data.values.splice(i,1),proplen--)}},runGlobalLoop=function(){observed.size&&(observed.forEach(performPropertyChecks),handlers.forEach(deliverHandlerRecords),nextFrame(runGlobalLoop))},deliverHandlerRecords=function(hdata,handler){hdata.changeRecords.length&&(handler(hdata.changeRecords),hdata.changeRecords=[])},retrieveNotifier=function(object,data){return arguments.length<2&&(data=observed.get(object)),data&&data.notifier||{notify:function(changeRecord){changeRecord.type;var data=observed.get(object);if(data){var prop,recordCopy={object:object};for(prop in changeRecord)"object"!==prop&&(recordCopy[prop]=changeRecord[prop]);addChangeRecord(object,data,recordCopy)}},performChange:function(changeType,func){if("string"!=typeof changeType)throw new TypeError("Invalid non-string changeType");if("function"!=typeof func)throw new TypeError("Cannot perform non-function");var prop,changeRecord,data=observed.get(object),thisObj=arguments[2],result=thisObj===_undefined?func():func.call(thisObj);if(data&&performPropertyChecks(data,object,changeType),data&&result&&"object"==typeof result){changeRecord={object:object,type:changeType};for(prop in result)"object"!==prop&&"type"!==prop&&(changeRecord[prop]=result[prop]);addChangeRecord(object,data,changeRecord)}}}},setHandler=function(object,data,handler,acceptList){var hdata=handlers.get(handler);hdata||handlers.set(handler,hdata={observed:createMap(),changeRecords:[]}),hdata.observed.set(object,{acceptList:acceptList.slice(),data:data}),data.handlers.set(handler,hdata)},addChangeRecord=function(object,data,changeRecord,except){data.handlers.forEach(function(hdata){var acceptList=hdata.observed.get(object).acceptList;("string"!=typeof except||inArray(acceptList,except)===-1)&&inArray(acceptList,changeRecord.type)>-1&&hdata.changeRecords.push(changeRecord)})};observed=createMap(),handlers=createMap(),O.observe=function(object,handler,acceptList){if(!object||"object"!=typeof object&&"function"!=typeof object)throw new TypeError("Object.observe cannot observe non-object");if("function"!=typeof handler)throw new TypeError("Object.observe cannot deliver to non-function");if(O.isFrozen&&O.isFrozen(handler))throw new TypeError("Object.observe cannot deliver to a frozen function object");if(acceptList===_undefined)acceptList=defaultAcceptList;else if(!acceptList||"object"!=typeof acceptList)throw new TypeError("Third argument to Object.observe must be an array of strings.");return doObserve(object,handler,acceptList),object},O.unobserve=function(object,handler){if(null===object||"object"!=typeof object&&"function"!=typeof object)throw new TypeError("Object.unobserve cannot unobserve non-object");if("function"!=typeof handler)throw new TypeError("Object.unobserve cannot deliver to non-function");var odata,hdata=handlers.get(handler);return hdata&&(odata=hdata.observed.get(object))&&(hdata.observed.forEach(function(odata,object){performPropertyChecks(odata.data,object)}),nextFrame(function(){deliverHandlerRecords(hdata,handler)}),1===hdata.observed.size&&hdata.observed.has(object)?handlers["delete"](handler):hdata.observed["delete"](object),1===odata.data.handlers.size?observed["delete"](object):odata.data.handlers["delete"](handler)),object},O.getNotifier=function(object){if(null===object||"object"!=typeof object&&"function"!=typeof object)throw new TypeError("Object.getNotifier cannot getNotifier non-object");return O.isFrozen&&O.isFrozen(object)?null:retrieveNotifier(object)},O.deliverChangeRecords=function(handler){if("function"!=typeof handler)throw new TypeError("Object.deliverChangeRecords cannot deliver to non-function");var hdata=handlers.get(handler);hdata&&(hdata.observed.forEach(function(odata,object){performPropertyChecks(odata.data,object)}),deliverHandlerRecords(hdata,handler))}}(Object,Array,this),String.prototype.namespace=function(separator){var i,len,ns=this.split(separator||"."),p=window;for(i=0,len=ns.length;i<len;i++)p=p[ns[i]]=p[ns[i]]||{}},jQuery.ajaxSetup({cache:!0}),jQuery.cookie=function(key,value,options){var regex,r,date,expires,settings=jQuery.extend({domain:window.location.href.match("espn.com")?".espn.com":document.domain,path:"/",secure:"https:"===window.location.protocol,expires:null},options),path=null!==settings.path?"; path="+settings.path:"",domain=settings.domain&&"localhost"!==settings.domain?"; domain="+settings.domain:"",secure=settings.path===!0?"; secure=":"";return"undefined"==typeof value?(regex=new RegExp("(^|;) ?"+key+"=([^;]+)(;|$)","g"),r=regex.exec(document.cookie),null!==r?decodeURIComponent(r[2]):null):(null===settings.expires||"number"!=typeof settings.expires&&!settings.expires.toUTCString||("number"==typeof settings.expires?(date=new Date,date.setTime(date.getTime()+24*settings.expires*60*60*1e3)):date=settings.expires,expires="; expires="+date.toUTCString()),document.cookie=[key,"=",encodeURIComponent(value),expires,path,domain,secure].join(""),document.cookie)};var espn=window.espn||{};if("espn.core".namespace(),espn.core.SWID=jQuery.cookie("SWID")||"",espn&&espn.i18n&&espn.i18n.personalization?espn.core.loggedIn=/^\{[\w\-]+\}/.test(espn.core.SWID):espn.core.loggedIn=!1,function(){var siteTypes=["data-lite","full"];espn.setSiteType=function(newSiteType,expires,reload){if(siteTypes.indexOf(newSiteType)===-1||espn.siteType===newSiteType)return!1;expires=expires||14,reload="boolean"!=typeof reload||reload;var date=new Date;date.setTime(date.getTime()+24*expires*60*60*1e3),document.cookie="connectionspeed="+newSiteType+"; expires="+date+"; path=/";var next=reload?function(){window.location.reload()}:function(){espn.siteType=newSiteType};return espn.core.loggedIn&&"data-lite"===newSiteType&&window.did?window.did.logout().then(next):next(),!0}}(),function($){"use strict";var appendQA=(window.location.search||"").indexOf("useqa=true")!==-1||"dev.espn.in"===window.location.host,useQA=appendQA||espn&&espn.i18n&&"qa"==espn.i18n.environment,cdnHost=useQA?"cdn.espnqa.com/core":"cdn.espn.com/core",device=espn_ui.deviceType,host=window.location.host,editionHost="",userab=$.cookie("userab")||0,country=$.cookie("country"),protocol=window.location.protocol,useCDN=!0,debug=(window.location.search||"").indexOf("ajaxCdnTest=1")!==-1,hostMap={"www.espn.com":cdnHost,"espndeportes.espn.com":cdnHost,"sports-ak.espn.go.com":cdnHost,"kwese.espn.com":cdnHost,"www.espnqa.com":"cdn.espnqa.com/core","core-uat.espn.com":"core-uat.espn.com/core","insider.espn.com":"insider.espn.com/core","proxy.espn.com":"proxy.espn.com/core","scores.espn.com":"scores.espn.com/core"};espn&&espn.i18n&&("prod"!==espn.i18n.environment&&"qa"!==espn.i18n.environment&&(useCDN=!1),useCDN?hostMap[document.location.host]=cdnHost:hostMap[document.location.host]=document.location.host+"/core","espn-en"!==espn.i18n.editionKey&&(editionHost=espn.i18n.domain.replace("www.",""),hostMap[editionHost]=hostMap["www."+editionHost]=cdnHost)),debug&&($.ajaxPrefilter(function(options){0===options.url.indexOf("http://api-app.espn.com")&&window.console.log("%c%s","color: #f0f; font-weight: bold;","WARNING: "+options.url+" still using old API endpoint")}),hostMap[host]=cdnHost);var hostRegEx=/^.*\/\/[^\/]+/,blacklistUrl=/\/(videohub|espn360|insider|static)\//,BLANK_FUNCTION=function(){};espn_ui&&espn_ui.Helpers&&espn_ui.Helpers.nav&&espn_ui.Helpers.nav.isNavExternal||$.ajaxPrefilter(function(options,originalOptions){if(!originalOptions._noCdn&&!(options.url.match(blacklistUrl)||espn.core.loggedIn&&"/"===options.url)){var requestHost=function(){var matches=hostRegEx.exec(options.url);return matches instanceof Array&&matches[0]?matches[0]:host}().replace(protocol+"//",""),targetHost=requestHost in hostMap?hostMap[requestHost]:void 0;if(targetHost){originalOptions.canUseCDN&&useCDN&&(targetHost=cdnHost);var requestPath=options.url.replace(hostRegEx,""),originalErrorHandler="function"==typeof options.error?options.error.bind(options.error):BLANK_FUNCTION;if(device&&(options.data=("string"==typeof options.data&&options.data.length?options.data+"&":"")+"device="+device),country&&(options.data=("string"==typeof options.data&&options.data.length?options.data+"&":"")+"country="+country),espn.i18n&&espn.i18n.lang&&espn.i18n.country&&espn.i18n.site&&(options.data=("string"==typeof options.data&&options.data.length?options.data+"&":"")+"lang="+espn.i18n.lang+"&region="+espn.i18n.country+"&site="+espn.i18n.site),espn.i18n&&espn.i18n.domain&&(options.data=("string"==typeof options.data&&options.data.length?options.data+"&":"")+"edition-host="+espn.i18n.domain.replace("www.","")),espn.isOneSite===!0&&(options.data=("string"==typeof options.data&&options.data.length?options.data+"&":"")+"one-site=true"),espn.siteType&&(options.data=("string"==typeof options.data&&options.data.length?options.data+"&":"")+"site-type="+espn.siteType),appendQA&&(options.data=("string"==typeof options.data&&options.data.length?options.data+"&":"")+"useqa=true"),options.url.match(/\/(index|minifeed|story|post)?((\?|\/_\/).+)?$/)&&(options.data=("string"==typeof options.data&&options.data.length?options.data+"&":"")+"userab="+userab),espn.api&&espn.api.disasterURLs&&targetHost in espn.api.disasterURLs&&targetHost!==espn.api.disasterURLs[targetHost]&&(targetHost=espn.api.disasterURLs[targetHost],"GET"===options.type)){if(requestPath.indexOf("?")!==-1){var pathParts=requestPath.split("?"),pathParams="";pathParts.length&&(requestPath=pathParts[0],pathParams=pathParts[1]||""),options.data=$.trim([pathParams,options.data||""].join("&"),"&")}if(options.data){for(;options.data!==decodeURIComponent(options.data);)options.data=decodeURIComponent(options.data);requestPath+=encodeURIComponent(encodeURIComponent(options.data?"?"+options.data:"")),options.data=""}}options.url=protocol+"//"+targetHost+requestPath,options.crossDomain=!0,options.error=function(){$.ajax($.extend(originalOptions,{_noCdn:!0,error:originalErrorHandler}))}}}});$.subscribe("espn.defer.ready",function(){if(window.moment){var localeSlug=_.get(espn,["i18n","lang"],"us"),defaultDateTimeConfig={relativeTime:{future:"in %s",past:"%s ago",s:"now",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1M",MM:"%dM",y:"1y",yy:"%dy"}},dateTimeConfig=defaultDateTimeConfig;if(espn.i18n){var mapFromI18n={months:"monthNamesLong",monthsShort:"monthNamesShort",weekdays:"dayNamesLong",weekdaysShort:"dayNamesMedium",weekdaysMin:"dayNamesShort",relativeTime:"relativeTime"},localeDateTimeConfig={};Object.keys(mapFromI18n).forEach(function(key){var i18nValue=espn.i18n.dateTime[mapFromI18n[key]];i18nValue&&(localeDateTimeConfig[key]=i18nValue)}),_.merge(dateTimeConfig,localeDateTimeConfig)}_.indexOf(moment.locales(),localeSlug)>-1?moment.updateLocale(localeSlug,dateTimeConfig):moment.defineLocale(localeSlug,dateTimeConfig)}})}(window.jQuery),!jQuery.support.cors){var stripSymbolsRegEx=/[^\w\s]/gi;jQuery.ajaxPrefilter("json *",function(options,originalOptions){if(options.crossDomain&&"script"!==options.dataType){if("cache"in originalOptions&&originalOptions.cache===!1||(options.cache=!0),!("jsonpCallback"in originalOptions)){var temp=null;options.data&&options.data.match(/rand=/)&&(temp=options.data.match(/rand=([0-9]+)/)[0],options.data=options.data.replace(temp,"")),options.jsonpCallback="func"+(options.url||"").replace(stripSymbolsRegEx,"")+(options.data||"").replace(stripSymbolsRegEx,""),temp&&(options.data=temp+options.data)}return"jsonp"}})}jQuery.cachedScript=function(url,options){return options=jQuery.extend(options||{},{dataType:"script",cache:!0,url:url}),jQuery.ajax(options)},jQuery.getScriptCache=function(url,callback){var options={};callback&&(options={success:callback}),jQuery.cachedScript(url,options)},jQuery.parseUri=function(str){str=unRewriteURL(str);for(var o=jQuery.parseUri.options,m=o.parser[o.strictMode?"strict":"loose"].exec(str),uri={},i=14;i--;)uri[o.key[i]]=m[i]||"";return uri[o.q.name]={},uri[o.key[12]].replace(o.q.parser,function($0,$1,$2){$1&&(uri[o.q.name][$1]=$2)}),uri},jQuery.parseUri.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},"undefined"!=typeof debug&&debug.setLevel&&(debug.setLevel(0),(jQuery.parseUri(window.location).queryKey.debug||jQuery.parseUri(window.location).queryKey.development)&&debug.setLevel(5));var loggedIn=espn.core.loggedIn,queryKey=jQuery.parseUri(window.location).queryKey;queryKey&&queryKey.login&&(loggedIn=queryKey.login),null!=loggedIn&&0!=JSON.parse(loggedIn.toString())||(espn.core.loggedIn=!1),"espn.refresh".namespace(),espn.refresh.active=!1,espn.refresh.stop=window.ESPN_refresh_stop=function(){"undefined"!=typeof window.ESPN_refresh&&(clearTimeout(window.ESPN_refresh),espn.refresh.active=!1)},espn.refresh.start=window.ESPN_refresh_start=function(msec){espn.refresh.active=!0,window.ESPN_refresh=window.setTimeout(function(){window.location.href=window.location.href},msec||9e5)},function($){var $body=$("body"),isBoxingSpecial=!1;isCricinfo="espncricinfo"===espn.i18n.site,espn.refresh.watchPlaying=!1,$(document).on("page.render ready",function(){if(setTimeout(function(){$body.hasClass("index")&&$body.hasClass("page-context-top")?(isCricinfo?espn.refresh.start(18e5):espn.refresh.start(),espn.refresh.watchPlaying=!1):espn.refresh.stop()},5e3),(window.location.hostname.indexOf("qa")>-1||window.location.hostname.indexOf("local")>-1)&&"en"===espn.i18n.lang&&window.location.pathname.match(/^\/(boxing|live)\/(index)?$/)){var startDate=new Date(2017,5,29,12,0,0),endDate=new Date(2017,5,30,12,0,0,0),now=new Date;isBoxingSpecial=!0,now>=startDate&&now<=endDate&&espn.refresh.start(18e4)}else if("en"===espn.i18n.lang&&window.location.pathname.match(/^\/(boxing|live)\/(index)?$/)){var startDate=new Date(2017,6,1,12,0,0),endDate=new Date(2017,6,2,12,0,0,0),now=new Date;isBoxingSpecial=!0,now>=startDate&&now<=endDate&&espn.refresh.start(18e4)}}),"function"==typeof jQuery.subscribe&&($.subscribe("espn.watchespn.play",function(){espn.refresh.watchPlaying=!0,espn.refresh.stop()}),$.subscribe("espn.video.play",function(){espn.refresh.stop()}));var scroll_timeout;$(window).load(function(){$(window).on("click windowscroll.debounce.refresh",function(){espn.refresh.active&&espn.refresh.stop(),clearTimeout(scroll_timeout),scroll_timeout=setTimeout(function(){$body.hasClass("index")&&$body.hasClass("page-context-top")&&espn.video&&(espn.video.player&&!espn.video.player.isPlaying||!espn.video.player)&&!espn.refresh.watchPlaying?isCricinfo?espn.refresh.start(18e5):espn.refresh.start():isBoxingSpecial&&espn.video&&(espn.video.player&&!espn.video.player.isPlaying||!espn.video.player)&&!espn.refresh.watchPlaying&&espn.refresh.start(18e4)},6e4)})})}(jQuery),espn.core.addVividTrackingVars=function(url){if(url.match(/https?:\/\/(www\.)?vividseats/)&&($.parseUri(url).queryKey.wsUser||(url+=(url.indexOf("?")!==-1?"&":"?")+"wsUser=717"),!$.parseUri(url).queryKey.wsVar)){var wsVar=[],sport=espn.sports.getLeagueBySportAbbrev(espn.sports.getSport()),teamName=espn&&espn.clubhouse&&espn.clubhouse.teamName,awayTeamName=espn&&espn.gamepackage&&espn.gamepackage.awayTeamName,homeTeamName=espn&&espn.gamepackage&&espn.gamepackage.homeTeamName,pageType=$("body").attr("data-pagetype"),device=espn_ui&&espn_ui.Helpers&&espn_ui.Helpers.get_media_query_in_use&&espn_ui.Helpers.get_media_query_in_use(),lang=espn&&espn.i18n&&espn.i18n.lang||"en",isWebview=espn_ui&&espn_ui.webview;sport&&"top"!==sport?pageType?isWebview?wsVar.push(sport+"~"+pageType+"~ESPNApp"):wsVar.push(sport+"~"+pageType):wsVar.push(sport):pageType&&(isWebview?wsVar.push(pageType+"~ESPNApp"):wsVar.push(pageType)),"index"!==pageType&&"schedule"!==pageType&&"scoreboard"!==pageType||!sport?"clubhouse"===pageType?wsVar.push(teamName):"gamepackage"===pageType&&wsVar.push(awayTeamName+"~"+homeTeamName):wsVar.push(sport),device&&("mobile"===device&&(device="handset"),wsVar.push(device.split("-")[0])),wsVar.push(lang),wsVar=wsVar.join(","),url+=(url.indexOf("?")!==-1?"&":"?")+"wsVar="+wsVar}return url},espn.core.ad_segments=function(){var o="",c=jQuery.cookie("CRBLM");if(c)for(var c=c.substring(9),index=0,value=0,key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=0,n=c.length,nn=n-n%4;i<nn;){var enc1=key.indexOf(c.charAt(i++)),enc2=key.indexOf(c.charAt(i++));value|=(enc1<<2|enc2>>4)<<(index++?0:8),index-2||!value||(o+="seg="+value+";"),value*=(index%=6)&&index-2?1:0;var enc3=key.indexOf(c.charAt(i++));64!=enc3&&(value|=((15&enc2)<<4|enc3>>2)<<(index++?0:8),index-2||!value||(o+="seg="+value+";"),value*=(index%=6)&&index-2?1:0);var enc4=key.indexOf(c.charAt(i++));64!=enc4&&(value|=((3&enc3)<<6|enc4)<<(index++?0:8),index-2||!value||(o+="seg="+value+";"),value*=(index%=6)&&index-2?1:0)}return o},"espn.cookie".namespace(),espn.cookie={get:function(key){return jQuery.cookie(key)},set:function(key,value,days,options){jQuery.cookie(key,value,jQuery.extend({},options,{expires:days}))},del:function(key,options){jQuery.cookie(key,"",jQuery.extend({},options,{expires:-1}))}},window.newWin=function(url){var subWindow,sNewWin="newWin",options="width=800,height=525,resizable=yes,scrollbars=yes,location=yes,status=yes,toolbar=yes,menubar=yes,directories=yes",w=window;return url.indexOf("http")<0&&(url="http://games.espn.com"+url),window.location.href.indexOf("/fantasy/")>-1&&url.indexOf("/player")>-1?void(window.location.href=url):void(!subWindow||subWindow.closed?subWindow=w.open(url,sNewWin,options):(subWindow.focus(),subWindow=w.open(url,sNewWin,options)))},"espn.block".namespace(),espn.block.ads=!0,espn.block.tracking=!0,jQuery.subscribe("espn.defer.ready",function(){var html=document.querySelector("html");html.className=html.className.replace("no-icon-fonts","")}),jQuery("#header-wrapper").on("click","[href='#']",function(e){e.preventDefault()}),function($,window,document,undefined){function ESPN_WindowNameStorage(){function __getKey(){var i=64,a=[],s=$.cookie("ESPN_WindowNameStorage")||"",charMap="0123456789abcdefghijklmnopqrstuvwxyz".split("");if(""!==s)return s;for(;i--;){var c=charMap[~~(Math.random()*charMap.length)];a.push(~~(2*Math.random())?c.toUpperCase():c)}return s=a.join(""),$.cookie("ESPN_WindowNameStorage",s,{domain:".espn.go.com"}),s}this.SWID=espn.core.SWID||__getKey(),this._storedData=function(){var data={};try{data=window.name.length?TEAdecrypt(window.name,this.SWID):"",data.length&&(data=JSON.parse(data),data="object"==typeof data?data:{})}catch(e){}return data}}function ESPN_SessionStorage(){}function ESPN_LocalStorage(){}ESPN_WindowNameStorage.prototype={getItem:function(key){var data=this._storedData();return data[key]||null},setItem:function(key,val){var data=this._storedData();data[key]=val,window.name=TEAencrypt(JSON.stringify(data),this.SWID)},removeItem:function(key){var data=this._storedData();try{delete data[key]}catch(e){}window.name=TEAencrypt(JSON.stringify(data),this.SWID)}},ESPN_SessionStorage.prototype={getItem:function(key){var val=null;try{val=window.sessionStorage[key].value?window.sessionStorage[key].value:window.sessionStorage[key],val=JSON.parse(val)}catch(e){}return val},setItem:function(key,val){window.sessionStorage[key]=JSON.stringify(val)},removeItem:function(key){window.sessionStorage.removeItem(key)}};var proto={setItem:function(){},getItem:function(){},removeItem:function(){}};try{Modernizr.localstorage&&(proto={getItem:function(k){var val=null;try{val=window.localStorage[k]||null,val&&(val=JSON.parse(val))}catch(e){}return val},setItem:function(k,v){try{window.localStorage[k]=JSON.stringify(v)}catch(e){}},removeItem:function(k){try{window.localStorage.removeItem(k)}catch(e){}}})}catch(e){}ESPN_LocalStorage.prototype=proto,"espn.storage".namespace(),function(){var useSessionStorage=function(){try{return"sessionStorage"in window&&null!==window.sessionStorage&&((window.sessionStorage.__testSetter=1)||!0)}catch(e){return!1}}();$&&$.support&&($.support.sessionStorage=useSessionStorage);var store=useSessionStorage?new ESPN_SessionStorage:new ESPN_WindowNameStorage,permStore=new ESPN_LocalStorage;espn.storageFactory={getTransient:function(){return store},getMostPermanent:function(){return Modernizr.localstorage?permStore:store}},espn.storage={getItem:function(key){return store.getItem(key)},getPermItem:function(key){return permStore.getItem(key)},setItem:function(key,val){return store.setItem(key,val)},setPermItem:function(key,val){return permStore.setItem(key,val)},removeItem:function(key){return store.removeItem(key)},removePermItem:function(key){return permStore.removeItem(key)}},jQuery.publish("espn.storage_initialized")}()}(this.jQuery,this,this.document),!function(e){function o(s){if(n[s])return n[s].exports;var a=n[s]={exports:{},id:s,loaded:!1};return e[s].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}var n={};return o.m=e,o.c=n,o.p="",o(0)}([function(e,o,n){(function(o){o.espn||(o.espn={}),e.exports=o.espn.URL=n(1)}).call(o,function(){return this}())},function(e,o,n){function s(e,o,n,s,a){var t=this.window?this.window.location:{protocol:"http:",host:l.espn};0===arguments.length&&(o="espn"),"string"!=typeof e?e=t.protocol:/[^:]$/.test(e)&&(e+=":"),"https:"===e&&o+"-secure"in l&&(o+="-secure");var c=l[o];n?/^[^\/]/.test(n)&&(n="/"+n):n="";var i="";return"string"==typeof s?i=s:s&&"object"==typeof s&&(i=Object.keys(s).map(function(e){return null!=s[e]?encodeURIComponent(e)+"="+encodeURIComponent(s[e]):encodeURIComponent(e)}).join("&")),/^[^?]/.test(i)&&(i="?"+i),"string"!=typeof a?a="":/^[^#]/.test(a)&&(a="#"+encodeURIComponent(a)),!i&&!a||n||(n="/"),e+"//"+c+n+i+a}function a(e){return e.replace(/\/?\?/,"/_/").replace(/&|=/g,"/")}function t(e,o){if(e||(e=this.window?this.window.location.host:o),f[e])return f[e];for(var n in m){var s=new RegExp(m[n],"i");if(s.test(e))return f[e]=n,n}}function c(e,o){for(var n=0;n<o.length;n++){var s=o[n];g.map(function(o){for(var n in s.roots[o]){var a=s.roots[o][n];e=e.replace(n,a)}for(var t in s.pathSegments[o]){var c=s.pathSegments[o][t],i=new RegExp("/"+t+"$","i");e=e.replace(i,"/"+c)}})}return e}function i(e,o){for(var n=0;n<o.length;n++){var s=o[n];g.map(function(o){var n={};for(var a in e)if(a=decodeURIComponent(a),e.hasOwnProperty(a)){var t=s.paramKeys[o][a]||a,c=null==e[a]?null:decodeURIComponent(e[a]),i=s.paramValues[o][c]||c;n[t]=i}e=n})}return e}function r(e,o){for(var n=0;n<o.length;n++){var s=o[n];g.map(function(o){for(var n in s.urls[o]){var a=s.urls[o][n];e=e.replace(n,a)}})}return e=e.replace(/%2C/g,",")}function p(e,o){var n,p=b(e),l=t.call(this,o,p.host),m=p.path,g=p.queryKey,f=p.anchor,w=m.indexOf("/_/"),A=[],y=d[l],E=!0;if(!l)return e;void 0!==y&&(n=y.rewrites);var h=t(p.host||o);if(!h)return e;var x=d[h];if(x&&void 0!==x.seo&&(E=x.seo),y&&y.notActuallyAnEdition||x&&x.notActuallyAnEdition){n=void 0;var v=h.replace(/-(go|qa)$/,"");l=/-qa$/.test(l)&&d[v+"-qa"]?v+"-qa":/-go$/.test(l)&&d[v+"-go"]?v+"-go":v}if(w>-1){var k=m.substring(w+3);m=m.substring(0,w);for(var $=k.split("/");$.length>1;)g[$.shift()]=$.shift();1==$.length&&(g[$.shift()]=null)}if(void 0!==n){g=i(g,A);for(var j in n)if(n.hasOwnProperty(j)){var y=u[n[j]];void 0!==y&&A.push(y)}for(var I in q)if(q.hasOwnProperty(I)&&p.host.match(new RegExp(I,"i"))&&!m.match(new RegExp("^"+q[I]),"i")){m=q[I]+m;break}m=c(m,A),g=i(g,A)}f&&(f="#"+f);var R=s(p.protocol,l,m,g,f);return E&&(R=a(R)),r(R,A)}var l=n(2),m=n(3),d=n(4),u=n(5),g=n(6),q=n(7),b=n(8),f={};e.exports=function(e,o){return"string"!=typeof e&&(e="http://www.espn.com"),p(e,o)}},function(e,o){e.exports={admin:"admin.espn.com","admin-go":"admin.espn.go.com","admin-qa":"admin.espnqa.com","api-app":"api-app.espn.com","api-app-qa":"api-app.espnqa.com",app:"x-callback-url",broadband:"broadband.espn.com","broadband-go":"broadband.espn.go.com","broadband-qa":"broadband.espnqa.com",cdn:"cdn.espn.com","cdn-qa":"cdn.espnqa.com","cdn-qa-secure":"secure.espnqa.com","cdn-secure":"secure.espn.com","cdn-assets":"a.espncdn.com","cdn-assets-secure":"secure.espncdn.com","cdn-games":"g.espncdn.com","cdn-games-secure":"g.secure.espncdn.com","cdn-s":"s.espncdn.com","cdn-s-secure":"s.secure.espncdn.com",cricinfo:"www.espncricinfo.com",deportes:"espndeportes.espn.com","deportes-go":"espndeportes.espn.go.com","deportes-qa":"espndeportes.espnqa.com",espn:"www.espn.com","espn-go":"espn.go.com","espn-qa":"www.espnqa.com","espn-ar":"www.espn.com.ar","espn-ar-qa":"qa.espn.com.ar","espn-au":"www.espn.com.au","espn-au-qa":"qa.espn.com.au","espn-cl":"www.espn.cl","espn-cl-qa":"qa.espn.cl","espn-co":"www.espn.com.co","espn-co-qa":"qa.espn.com.co","espn-in":"www.espn.in","espn-in-qa":"qa.espn.in","espn-mx":"www.espn.com.mx","espn-mx-qa":"qa.espn.com.mx","espn-uk":"www.espn.co.uk","espn-uk-qa":"qa.espn.co.uk","espn-ve":"www.espn.com.ve","espn-ve-qa":"qa.espn.com.ve","espn-za":"kwese.espn.com","espn-za-qa":"kwese.espnqa.com","fan-api":"fan.api.espn.com","fan-api-qa":"fan.api.qa.espnqa.com","fan-api-go":"fan.api.espn.go.com","fan-core":"fan.core.api.espn.com","fan-core-qa":"fan.core.api.qa.espnqa.com","fan-core-go":"fan.core.api.espn.go.com",fc:"www.espnfc.com","fc-asia":"www.espnfcasia.com","fc-asia-qa":"qa.espnfcasia.com","fc-au":"www.espnfc.com.au","fc-au-qa":"qa.espnfc.com.au","fc-qa":"qa.espnfc.com","fc-uk":"www.espnfc.co.uk","fc-uk-qa":"qa.espnfc.co.uk","fc-us":"www.espnfc.us","fc-us-qa":"qa.espnfc.us",games:"games.espn.com","games-go":"games.espn.go.com","games-qa":"games.espnqa.com",insider:"insider.espn.com","insider-go":"insider.espn.go.com","insider-qa":"insider.espnqa.com",log:"log.espn.com","log-go":"log.go.com","log-qa":"log.espnqa.com",m:"m.espn.com","m-go":"m.espn.go.com","m-qa":"m.espnqa.com",proxy:"proxy.espn.com","proxy-go":"proxy.espn.go.com","proxy-qa":"proxy.espnqa.com",r:"r.espn.com","r-go":"r.espn.go.com","r-qa":"r.espnqa.com",search:"search.espn.com",send:"sendtofriend.espn.com","send-go":"sendtofriend.espn.go.com",sportscenter:"sportscenter.api.espn.com","sportscenter-qa":"sportscenter.api.qa.espn.com",streak:"streak.espn.com","streak-qa":"streak.espnqa.com",sw88:"sw88.espn.com","sw88-go":"sw88.go.com","sw88-qa":"sw88.espnqa.com",tredir:"tredir.espn.com","tredir-go":"tredir.go.com","tredir-qa":"tredir.espnqa.com",w88:"w88.espn.com","w88-go":"w88.go.com","w88-qa":"w88.espnqa.com","w88-qa-secure":"sw88.espn.com","w88-secure":"sw88.espn.com",xgames:"xgames.espn.com","xgames-go":"xgames.espn.go.com","xgames-qa":"xgames.espnqa.com"}},function(e,o){e.exports={admin:"admin.espn.com","admin-go":"admin.espn.go.com","admin-qa":"admin.espnqa.com","api-backchannel":"NOMATCHapi(-app)?.prod.espninfra.starwave.com$","api-backchannel-qa":"api(-app)?.qa.espninfra.starwave.com$","api-app":"api-app.espn.(go.)?com","api-app-qa":"(api-app.espnqa|api-dev.espn).com",app:"x-callback-url",broadband:"broadband.espn.com","broadband-go":"broadband(-qa)?.espn.go.com","broadband-qa":"broadband.espnqa.com",cdn:"^cdn.espn.com$|^(sports-ak|scores|cdn)\\.espn\\.go\\.com$","cdn-qa":"^cdn.espnqa.com$","cdn-secure":"secure.espn.(go.)?com","cdn-qa-secure":"secure.espnqa.com","cdn-assets":"^a\\d?\\.espncdn\\.com$|^assets\\.espn\\.go\\.com$","cdn-assets-secure":"^secure\\.espncdn\\.com$","cdn-games":"^g\\.espncdn\\.com$|^games-ak\\.espn\\.go\\.com$","cdn-games-secure":"^g\\.secure\\.espncdn\\.com$","cdn-s":"^s\\.espncdn\\.com$","cdn-s-secure":"^s\\.secure\\.espncdn\\.com$",cricinfo:"www.espncricinfo.com",deportes:"espndeportes.espn.com","deportes-go":"espndeportes.espn.go.com","deportes-qa":"(espndeportes.espnqa|qa.espndeportes|espndeportes-qa.espn.go).com",espn:"^www.espn.com$","espn-go":"^espn.go.com$","espn-qa":"^(www|local).espnqa.com","espn-ar":"www.espn.com.ar","espn-ar-qa":"qa.espn.com.ar","espn-au":"www.espn.com.au","espn-au-qa":"qa.espn.com.au","espn-cl":"www.espn.cl","espn-cl-qa":"qa.espn.cl","espn-co":"www.espn.com.co","espn-co-qa":"qa.espn.com.co","espn-in":"www.espn.in","espn-in-qa":"qa.espn.in","espn-mx":"www.espn.com.mx","espn-mx-qa":"qa.espn.com.mx","espn-uk":"www.espn.co.uk","espn-uk-qa":"qa.espn.co.uk","espn-ve":"www.espn.com.ve","espn-ve-qa":"qa.espn.com.ve","espn-za":"kwese.espn.com","espn-za-qa":"kwese.espnqa.com","fan-api":"fan.api.espn.com","fan-api-qa":"fan.api.qa.(espnqa|espn.go).com","fan-api-go":"fan.api.espn.go.com","fan-core":"fan.core.api.espn.com","fan-core-qa":"fan.core.api.qa.(espnqa|espn.go).com","fan-core-go":"fan.core.api.espn.go.com",fc:"www.espnfc.com$","fc-qa":"qa.espnfc.com$","fc-asia":"www.espnfcasia.com","fc-asia-qa":"qa.espnfcasia.com","fc-au":"www.espnfc.com.au","fc-au-qa":"qa.espnfc.com.au","fc-uk":"www.espnfc.co.uk","fc-uk-qa":"qa.espnfc.co.uk","fc-us":"www.espnfc.us","fc-us-qa":"qa.espnfc.us",games:"games.espn.com","games-go":"games.espn.go.com","games-qa":"^games(\\.qa\\.espn\\.go|\\.espnqa)\\.com$",
insider:"insider.espn.com","insider-go":"insider.espn.go.com","insider-qa":"insider.espnqa.com",log:"log.espn.com","log-go":"log.go.com","log-qa":"log.espnqa.com",m:"^m.espn.com","m-go":"^m.espn.go.com","m-qa":"^m.espnqa.com",proxy:"proxy.espn.com","proxy-go":"proxy.espn.go.com","proxy-qa":"proxy.espnqa.com",r:"^r.espn.com","r-go":"^r.espn.go.com","r-qa":"^(r.espnqa|rqa.espn.go).com",sportscenter:"sportscenter.api.espn.(go.)?com","sportscenter-qa":"sportscenter.api.qa.espn.(go.)?com",search:"^search\\.espn\\.(go\\.)?com$",send:"sendtofriend.espn.com","send-go":"sendtofriend.espn.go.com",streak:"streak\\.espn\\.(go\\.)?com","streak-qa":"streak.espnqa.com",sw88:"^sw88\\.(go|espn)\\.com$","sw88-qa":"^sw88\\.espnqa\\.com$",tredir:"tredir.espn.com","tredir-go":"tredir.go.com","tredir-qa":"tredir.espnqa.com",w88:"^w88\\.(go|espn)\\.com$","w88-qa":"^w88\\.espnqa\\.com$",xgames:"xgames.espn.com","xgames-go":"xgames.espn.go.com","xgames-qa":"xgames.espnqa.com"}},function(e,o){e.exports={admin:{seo:!1,notActuallyAnEdition:!0},"admin-go":{seo:!1,notActuallyAnEdition:!0},"admin-qa":{seo:!1,notActuallyAnEdition:!0},"api-app":{seo:!1,notActuallyAnEdition:!0},"api-app-qa":{seo:!1,notActuallyAnEdition:!0},"api-backchannel":{seo:!1,notActuallyAnEdition:!0},"api-backchannel-qa":{seo:!1,notActuallyAnEdition:!0},app:{seo:!1,notActuallyAnEdition:!0},broadband:{seo:!1,notActuallyAnEdition:!0},"broadband-go":{seo:!1,notActuallyAnEdition:!0},"broadband-qa":{seo:!1,notActuallyAnEdition:!0},cdn:{seo:!1,notActuallyAnEdition:!0},"cdn-qa":{seo:!1,notActuallyAnEdition:!0},"cdn-secure":{seo:!1,notActuallyAnEdition:!0},"cdn-qa-secure":{seo:!1,notActuallyAnEdition:!0},"cdn-assets":{seo:!1,notActuallyAnEdition:!0},"cdn-assets-secure":{seo:!1,notActuallyAnEdition:!0},"cdn-games":{seo:!1,notActuallyAnEdition:!0},"cdn-games-secure":{seo:!1,notActuallyAnEdition:!0},"cdn-s":{seo:!1,notActuallyAnEdition:!0},"cdn-s-secure":{seo:!1,notActuallyAnEdition:!0},cricinfo:{seo:!1,notActuallyAnEdition:!0},deportes:{rewrites:["spanish"]},"deportes-go":{rewrites:["spanish"]},"deportes-qa":{rewrites:["spanish"]},espn:{rewrites:["espn"]},"espn-ar":{rewrites:["spanish"]},"espn-ar-qa":{rewrites:["spanish"]},"espn-au":{rewrites:["queens","au"]},"espn-au-qa":{rewrites:["queens","au"]},"espn-cl":{rewrites:["spanish"]},"espn-cl-qa":{rewrites:["spanish"]},"espn-co":{rewrites:["spanish"]},"espn-co-qa":{rewrites:["spanish"]},"espn-go":{rewrites:["espn"]},"espn-in":{rewrites:["queens"]},"espn-in-qa":{rewrites:["queens"]},"espn-mx":{rewrites:["spanish"]},"espn-mx-qa":{rewrites:["spanish"]},"espn-qa":{rewrites:["espn"]},"espn-uk":{rewrites:["queens"]},"espn-uk-qa":{rewrites:["queens"]},"espn-ve":{rewrites:["spanish"]},"espn-ve-qa":{rewrites:["spanish"]},"espn-za":{rewrites:["queens"]},"espn-za-qa":{rewrites:["queens"]},"fan-api":{seo:!1,notActuallyAnEdition:!0},"fan-api-go":{seo:!1,notActuallyAnEdition:!0},"fan-api-qa":{seo:!1,notActuallyAnEdition:!0},"fan-core":{seo:!1,notActuallyAnEdition:!0},"fan-core-go":{seo:!1,notActuallyAnEdition:!0},"fan-core-qa":{seo:!1,notActuallyAnEdition:!0},fc:{seo:!1,notActuallyAnEdition:!0},"fc-asia":{seo:!1,notActuallyAnEdition:!0},"fc-asia-qa":{seo:!1,notActuallyAnEdition:!0},"fc-au":{seo:!1,notActuallyAnEdition:!0},"fc-au-qa":{seo:!1,notActuallyAnEdition:!0},"fc-qa":{seo:!1,notActuallyAnEdition:!0},"fc-uk":{seo:!1,notActuallyAnEdition:!0},"fc-uk-qa":{seo:!1,notActuallyAnEdition:!0},"fc-us":{seo:!1,notActuallyAnEdition:!0},"fc-us-qa":{seo:!1,notActuallyAnEdition:!0},games:{seo:!1,notActuallyAnEdition:!0},"games-go":{seo:!1,notActuallyAnEdition:!0},"games-qa":{seo:!1,notActuallyAnEdition:!0},insider:{seo:!0,notActuallyAnEdition:!0},"insider-go":{seo:!0,notActuallyAnEdition:!0},"insider-qa":{seo:!0,notActuallyAnEdition:!0},log:{seo:!1,notActuallyAnEdition:!0},"log-go":{seo:!1,notActuallyAnEdition:!0},"log-qa":{seo:!1,notActuallyAnEdition:!0},m:{seo:!1,notActuallyAnEdition:!0},"m-go":{seo:!1,notActuallyAnEdition:!0},"m-qa":{seo:!1,notActuallyAnEdition:!0},proxy:{seo:!1,notActuallyAnEdition:!0},"proxy-go":{seo:!1,notActuallyAnEdition:!0},"proxy-qa":{seo:!1,notActuallyAnEdition:!0},r:{seo:!1,notActuallyAnEdition:!0},"r-go":{seo:!1,notActuallyAnEdition:!0},"r-qa":{seo:!1,notActuallyAnEdition:!0},search:{seo:!1,notActuallyAnEdition:!0},send:{seo:!1,notActuallyAnEdition:!0},"send-go":{seo:!1,notActuallyAnEdition:!0},sportscenter:{seo:!1,notActuallyAnEdition:!0},"sportscenter-qa":{seo:!1,notActuallyAnEdition:!0},streak:{seo:!1,notActuallyAnEdition:!0},"streak-qa":{seo:!1,notActuallyAnEdition:!0},sw88:{seo:!1,notActuallyAnEdition:!0},"sw88-go":{seo:!1,notActuallyAnEdition:!0},"sw88-qa":{seo:!1,notActuallyAnEdition:!0},tredir:{seo:!1,notActuallyAnEdition:!0},"tredir-go":{seo:!1,notActuallyAnEdition:!0},"tredir-qa":{seo:!1,notActuallyAnEdition:!0},w88:{seo:!1,notActuallyAnEdition:!0},"w88-go":{seo:!1,notActuallyAnEdition:!0},"w88-qa":{seo:!1,notActuallyAnEdition:!0},xgames:{seo:!1,notActuallyAnEdition:!0},"xgames-go":{seo:!1,notActuallyAnEdition:!0},"xgames-qa":{seo:!1,notActuallyAnEdition:!0}}},function(e,o){e.exports={queens:{paramKeys:{toEdition:{},toEnglish:{}},pathSegments:{toEdition:{standings:"table"},toEnglish:{table:"standings",fixtures:"schedule"}},roots:{toEdition:{"/horse/":"/horse-racing/","/nascar/":"/racing/nascar/","/ncaa/":"/college-sports/","/ncb/":"/mens-college-basketball/","/ncf/":"/college-football/","/ncw/":"/womens-college-basketball/","/oly/":"/olympics/","/rpm/":"/racing/","/soccer/":"/football/","/soccer/team":"/football/club","/womenbb/":"/womens-basketball/"},toEnglish:{"/american-fb/":"/nfl/","/college-sports/":"/ncaa/","/football/":"/soccer/","/football/club":"/soccer/team","/horse-racing/":"/horse/","/mens-college-basketball/":"/ncb/","/olympics/":"/oly/","/racing/":"/rpm/","/racing/nascar/":"/nascar/","/sports/horse/":"/horse/","/sports/womenbb/":"/womenbb/","/womens-basketball/":"/womenbb/","/womens-college-basketball/":"/ncw/"}},urls:{toEdition:{},toEnglish:{}},paramValues:{toEdition:{},toEnglish:{}}},espn:{paramKeys:{toEdition:{},toEnglish:{ano:"year",fecha:"date",juegoId:"gameId",liga:"league",nombre:"name",partido:"gameID",semana:"week",tipodetemporada:"seasontype"}},pathSegments:{toEdition:{},toEnglish:{alineacion:"lineups",bateo:"batting",calendario:"schedule",comentario:"commentary",conversacion:"conversation",cronica:"recap",duelo:"matchup",equipo:"team",equipos:"teams",estadio:"stadium",estadisticas:"stats",ficha:"boxscore",fotos:"photos",grilla:"grid",juego:"game",jugadas:"playbyplay",jugador:"player",jugadores:"players",lideres:"leaderboard",lesiones:"injuries",liga:"league",nota:"story",numeritos:"matchstats",partido:"match",piloto:"driver",plantel:"roster",posiciones:"standings",previa:"preview",profundidad:"depth",reporte:"report",resultados:"scoreboard"}},roots:{toEdition:{"/football/":"/soccer/","/college-sports/soccer":"/college-sports/football"},toEnglish:{"/artes-marciales-mixtas/":"/mma/","/basquetbol/colegial-hombres/":"/mens-college-basketball/","/basquetbol/colegial-mujeres/":"/womens-college-basketball/","/basquetbol/nba/":"/nba/","/basquetbol/nba/deportes/gamecast":"/nba/gamecast","/basquetbol/nba/estadisticas/":"/nba/statistics/","/basquetbol/nba/estadisticas/equipo":"/nba/statistics/team","/beisbol/mlb/":"/mlb/","/boxeo/":"/boxing/","/college-sports/football":"/college-sports/soccer","/deporte-motor/":"/rpm/","/deporte-motor/f1/":"/f1/","/futbol-americano/colegial/":"/college-football/","/futbol-americano/nfl/":"/nfl/","/futbol/":"/soccer/","/olimpicos/":"/olympics/","/otros-deportes/":"/other-sports/","/otros-deportes/polo/":"/polo/","/panamericanos/":"/panamerican/","/tenis/":"/tennis/"}},urls:{toEdition:{"espn.go.com/soccer/":"espnfc.us/","espn.go.com/cricket/":"www.espncricinfo.com/","www.espn.com/fantasy/soccer/":"www.espn.com/fantasy/football/"},toEnglish:{}},paramValues:{toEdition:{},toEnglish:{liga:"league",todo:"all"}}},au:{paramKeys:{toEdition:{},toEnglish:{}},pathSegments:{toEdition:{},toEnglish:{}},roots:{toEdition:{},toEnglish:{}},urls:{toEdition:{"www.espn.com.au/cricket/":"www.espncricinfo.com/"},toEnglish:{}},paramValues:{toEdition:{},toEnglish:{}}},spanish:{paramKeys:{toEdition:{date:"fecha",gameID:"partido",gameId:"juegoId",league:"liga",name:"nombre",seasontype:"tipodetemporada",tournamentId:"torneo",week:"semana",year:"ano"},toEnglish:{ano:"year",fecha:"date",juegoId:"gameId",liga:"league",nombre:"name",partido:"gameID",semana:"week",torneo:"tournamentId",tipodetemporada:"seasontype"}},pathSegments:{toEdition:{batting:"bateo",boxscore:"ficha",commentary:"comentario",conversation:"conversacion",depth:"profundidad",driver:"piloto",game:"juego",grid:"grilla",injuries:"lesiones",leaderboard:"lideres",league:"liga",lineups:"alineacion",match:"partido",matchstats:"numeritos",matchup:"duelo",photos:"fotos",playbyplay:"jugadas",player:"jugador",players:"jugadores",preview:"previa",recap:"cronica",report:"reporte",roster:"plantel",schedule:"calendario",scoreboard:"resultados",stadium:"estadio",standings:"posiciones",stats:"estadisticas",story:"nota",team:"equipo"},toEnglish:{alineacion:"lineups",bateo:"batting",calendario:"schedule",comentario:"commentary",conversacion:"conversation",cronica:"recap",duelo:"matchup",equipo:"team",estadio:"stadium",estadisticas:"stats",ficha:"boxscore",fotos:"photos",grilla:"grid",juego:"game",jugadas:"playbyplay",jugador:"player",jugadores:"players",lesiones:"injuries",liga:"league",nota:"story",numeritos:"matchstats",partido:"match",piloto:"driver",plantel:"roster",posiciones:"standings",previa:"preview",profundidad:"depth",reporte:"report",resultados:"scoreboard"}},roots:{toEdition:{"/baseball/":"/beisbol/","/basketball/":"/basquetbol/","/boxing/":"/boxeo/","/college-football/":"/futbol-americano/colegial/","/f1/":"/deporte-motor/f1/","/football/":"/futbol-americano/","/mens-college-basketball/":"/basquetbol/colegial-hombres/","/mlb/":"/beisbol/mlb/","/mma/":"/artes-marciales-mixtas/","/nba/":"/basquetbol/nba/","/nba/gamecast":"/basquetbol/nba/deportes/gamecast","/nba/statistics/":"/basquetbol/nba/estadisticas/","/nba/statistics/team":"/basquetbol/nba/estadisticas/equipo","/nfl/":"/futbol-americano/nfl/","/olympics/":"/olimpicos/","/other-sports/":"/otros-deportes/","/panamerican/":"/panamericanos/","/rpm/":"/deporte-motor/","/soccer/":"/futbol/","/tennis/":"/tenis/","/womens-college-basketball/":"/basquetbol/colegial-mujeres/"},toEnglish:{"/artes-marciales-mixtas/":"/mma/","/basquetbol/colegial-hombres/":"/mens-college-basketball/","/basquetbol/colegial-mujeres/":"/womens-college-basketball/","/basquetbol/nba/":"/nba/","/basquetbol/nba/deportes/gamecast":"/nba/gamecast","/basquetbol/nba/estadisticas/":"/nba/statistics/","/basquetbol/nba/estadisticas/equipo":"/nba/statistics/team","/beisbol/mlb/":"/mlb/","/boxeo/":"/boxing/","/deporte-motor/f1/":"/f1/","/futbol-americano/colegial/":"/college-football/","/futbol-americano/nfl/":"/nfl/","/futbol/":"/soccer/","/olimpicos/":"/olympics/","/otros-deportes/":"/other-sports/","/panamericanos/":"/panamerican/","/tenis/":"/tennis/"}},urls:{toEdition:{},toEnglish:{"/nfl/index":"/football/index","/nba/index":"/basketball/index","/mlb/index":"/baseball/index"}},paramValues:{toEdition:{all:"todo",league:"liga"},toEnglish:{liga:"league",todo:"all"}}}}},function(e,o){e.exports=["toEnglish","toEdition"]},function(e,o){e.exports={"(^|\\.)espnfc\\.":"/football","(^|\\.)espncricinfo\\.":"/cricket"}},function(e,o){"use strict";function n(e){for(var o=n.options,s=o.parser[o.strictMode?"strict":"loose"].exec(e),a={},t=14;t--;)a[o.key[t]]=s[t]||"";return a[o.q.name]={},a[o.key[12]].replace(o.q.parser,function(e,n,s){n&&(a[o.q.name][n]=s)}),a}n.options={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},e.exports=n}]),espn=espn||{},function(_){espn.sports={getSportAbbrevByLeague:function(league){var sportAbbrev=league;return"mens-college-basketball"===league&&(sportAbbrev="ncb"),"womens-college-basketball"===league&&(sportAbbrev="ncw"),"college-football"===league&&(sportAbbrev="ncf"),sportAbbrev},getLeagueBySportAbbrev:function(sportAbbrev){var league=sportAbbrev;return"ncb"!==sportAbbrev&&"ncaab"!==sportAbbrev&&"ncaam"!==sportAbbrev||(league="mens-college-basketball"),"ncw"!==sportAbbrev&&"ncaaw"!==sportAbbrev||(league="womens-college-basketball"),"ncf"!==sportAbbrev&&"ncaaf"!==sportAbbrev||(league="college-football"),league},getSportByLeague:function(sportAbbrev){switch(sportAbbrev){case"nba":case"wnba":case"mens-college-basketball":case"womens-college-basketball":return"basketball";case"nfl":case"college-football":return"football";case"nhl":return"hockey";case"mlb":return"baseball";default:return sportAbbrev}},getSportAbbrev:function(sportAbbrev){return"ncb"===sportAbbrev&&(sportAbbrev="ncaam"),"ncw"===sportAbbrev&&(sportAbbrev="ncaaw"),"ncf"===sportAbbrev&&(sportAbbrev="ncaaf"),sportAbbrev},getSportAbbrevInternal:function(sportAbbrev){return"ncaam"===sportAbbrev&&(sportAbbrev="ncb"),"ncaaw"===sportAbbrev&&(sportAbbrev="ncw"),"ncaaf"===sportAbbrev&&(sportAbbrev="ncf"),sportAbbrev},getSportAbbrevBySportText:function(sportAbbrev){return"recruitingnation"===sportAbbrev&&(sportAbbrev="recruitingfb"),"recruitingnation fb"!==sportAbbrev&&"rn football"!==sportAbbrev||(sportAbbrev="recruitingfb"),"recruitingnation bb"!==sportAbbrev&&"rn basketball"!==sportAbbrev||(sportAbbrev="recruitingbb"),"college sports"===sportAbbrev&&(sportAbbrev="ncaa"),"horse racing"===sportAbbrev&&(sportAbbrev="horse"),"olympic sports"===sportAbbrev&&(sportAbbrev="olympics"),"endurance sports"===sportAbbrev&&(sportAbbrev="endurance"),sportAbbrev},getSportLabelBySportId:function(sportId){var translateKey="preferences.sport_labels."+sportId,label=_.translate(translateKey);return label===translateKey?"":label},getSportLabelBySportAbbrev:function(sportAbbrev){if(sportAbbrev)switch(sportAbbrev.toLowerCase()){case"ncb":case"ncaam":case"men's college basketball":return"NCAAM";case"ncf":case"ncaaf":case"college football":return"NCAAF";case"ncw":case"ncaaw":case"women's college basketball":return"NCAAW"}return 3===sportAbbrev.length?sportAbbrev.toUpperCase():sportAbbrev.replace(/\w\S*/g,function(t){return t.charAt(0).toUpperCase()+t.substr(1).toLowerCase()})},getSportAbbrevBySportId:function(sportId){var sports={10:"mlb",23:"ncf",28:"nfl",33:"cfl",41:"ncb",46:"nba",54:"ncw",59:"wnba",90:"nhl",200:"cricket",300:"rugby",600:"soccer",850:"tennis",1e3:"boxing",1106:"golf",1200:"horse",1652:"wwe",2e3:"rpm",2020:"nascar",2030:"f1",2040:"rpm",3170:"ncaa",3301:"mma",3520:"poker",3540:"recruitingncf",3550:"recruitingncb",3700:"oly",8300:"ncaa",8367:"esports"};return sportId=parseInt(sportId,10),espn.sports.isSoccer(sportId)?sports[600]:sports[sportId]},isSoccer:function(sportId){return sportId>=600&&sportId<800||sportId>3900&&sportId<3999||_.includes([5454,5501,8309],sportId)},isCricket:function(sportId){return 200===sportId},isWomensBB:function(sportAbbrev){return!(!sportAbbrev||!sportAbbrev.match(/wnba|ncaaw|womens-college-basketball/i))},isLocalSite:function(sport){return sport=sport||espn.sports.getSport(),_.includes(["boston","chicago","cleveland","dallas","losangeles","milwaukee","newyork"],espn.sports.getLeagueBySportAbbrev(sport))},isCollege:function(leagueId){var _collegeLeagues={41:!0,54:!0,23:!0,91:!0,92:!0,14:!0,102:!0,602:!0,601:!0};return _collegeLeagues[parseInt(leagueId,10)]===!0},isOlympics:function(leagueId){var _olympicsLeagues={10743:!0,10729:!0,3924:!0,5338:!0,5342:!0,3925:!0,3766:!0,3767:!0};return _olympicsLeagues[parseInt(leagueId,10)]===!0},sportReplaces:function(sportString){var sport="";if(sportString){var sportArray=sportString.split("/");sportArray&&(sport=sportArray[0],"boston"===sport||"new-york"===sport||"chicago"===sport||"los-angeles"===sport||"dallas"===sport||"milwaukee"===sport||"cleveland"===sport?sportArray.length>1&&(sport=sportArray[1]):"oly"===sport?sportString=sport:"fantasy"===sport&&sportArray.length>1?sportString=sport+"/"+sportArray[1]:sportArray.length>1&&(sport=(sport+"/"+sportArray[1]).replace("/","-")));var replaces={oly:"olympics",rpm:"racing","rpm/nascar":"nascar","ncaa/football/recruiting":"recruitingfb","ncaa/basketball/recruiting":"recruitingbb",womenbb:"ncaaw","sports/endurance":"endurance","fantasy/baseball":"flb","fantasy/football":"ffl","fantasy/basketball":"fba","fantasy/hockey":"fhl","new-york":"newyork","los-angeles":"losangeles",football:"nfl",basketball:"nba",baseball:"mlb",autos:"racing",wc:"racing",bgn:"racing",cts:"racing",cart:"racing",champ:"racing",f1:"racing",nhra:"racing",alms:"racing",others:"racing",ilights:"racing",iroc:"racing",mx:"racing",sx:"racing",irl:"racing",auto:"racing",cycling:"olympics",figureskating:"olympics",gymnastics:"olympics",skiing:"olympics",swimming:"olympics",trackandfield:"olympics"};_.merge(replaces,window.espn_util.find(espn,["i18n","sportReplacements"])||{}),replaces.hasOwnProperty(sportString)&&(sport=replaces[sportString])}return sport},getSport:function(sport){var sport=sport||document.body.getAttribute("data-sport")||"";return isNaN(parseInt(sport,10))||(sport=espn.sports.getSportAbbrevBySportId(parseInt(sport,10))),sport=espn.sports.sportReplaces(sport),sport||(sport="top"),sport=espn.sports.getSportAbbrev(sport),espn.sports.isWomensBB(sport)&&(sport="ncaaw"),sport},normalizeURLSlug:function(slug){return mappings={"nba-summer":"nba-summer-league"},mappings[slug]?mappings[slug]:slug},getSportIconClass:function(sportId){var htmlClass;switch(sportId){case 10:htmlClass="baseball";break;case 23:htmlClass="football-college";break;case 28:case 33:htmlClass="football";break;case 41:case 46:case 54:case 59:htmlClass="basketball";break;case 90:htmlClass="hockey";break;case 200:htmlClass="cricket";break;case 300:htmlClass="rugby";break;case 600:case 640:case 650:case 660:case 700:case 715:case 720:case 730:case 740:case 745:case 775:case 760:case 770:case 776:case 781:case 3918:case 3920:case 3949:case 5454:case 5501:case 8309:htmlClass="soccer";break;case 850:htmlClass="tennis";break;case 1e3:htmlClass="boxing";break;case 1106:htmlClass="golf";break;case 1200:htmlClass="equestrian";break;case 1700:htmlClass="logo-track-field";break;case 2e3:case 2020:case 2030:case 2040:htmlClass="nascar";break;case 3301:htmlClass="mma";break;case 3700:htmlClass="olympics";break;case 8367:htmlClass="esports";break;case 800:htmlClass="logo-field-hockey";break;case 1650:htmlClass="logo-wrestling";break;case 8372:htmlClass="logo-chess";break;case 8373:htmlClass="logo-badminton";break;case 8374:htmlClass="logo-kabaddi";break;case 8319:htmlClass="logo-snooker";break;case 3170:htmlClass="all-sports-college";break;case 8098:htmlClass="xgames";break;default:htmlClass="logo-pennant"}return htmlClass}}}(window._),function($){"use strict";var espn_ui=window.espn_ui||{},_=window._,console=window.console;espn_ui.Behaviors=espn_ui.Behaviors||{},espn_ui.Helpers=espn_ui.Helpers||{},espn_ui.Helpers.get_media_query_in_use=function(){function parse(str){return str.replace(/'/gi,"").replace(/"/gi,"")}return window.espn_ui.device.isMobile?"mobile":window.opera?parse(window.getComputedStyle(document.body,":after").getPropertyValue("content")):window.getComputedStyle?parse(window.getComputedStyle(document.head,null).getPropertyValue("font-family")):espn_ui.media_query_in_use||"desktop"},espn_ui.media_query_in_use=espn_ui.Helpers.get_media_query_in_use(),espn_ui.ie8=!1,espn_ui.userParsed=!1,espn.i18n&&espn.i18n.personalization?$(document).on("user.parsed",function(){espn_ui.userParsed=!0,$.publish("user.parsed")}):espn_ui.userParsed=!0,espn_ui.externalRef="";var disableBehaviors=decodeURIComponent((new RegExp("[?|&]_disable_behaviors=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null,disableBehaviorsHash={},behaviorsOn=!0,disableBehaviorsArray=[];if("all"!==disableBehaviors&&(disableBehaviorsHash={},disableBehaviors)){disableBehaviorsArray=disableBehaviors.split(",");for(var d=0;d<=disableBehaviorsArray.length-1;++d)disableBehaviorsHash[disableBehaviorsArray[d]]=!0,behaviorsOn=!1}var fetchAndLoadBehavior=function(){function instantiateBehavior(behaviorObj){var BehaviorClass=espn_ui.Behaviors[behaviorObj.behaviorName];if("function"==typeof BehaviorClass){var instantiatedBehavior,$els=$(behaviorObj.behaviorEl?behaviorObj.behaviorEl:[void 0]);return $els.each(function(i,behaviorEl){var $el;behaviorEl&&($el=$(behaviorEl),instantiatedBehavior=new BehaviorClass($el)),"function"==typeof behaviorObj.cbk&&behaviorObj.cbk(instantiatedBehavior,$el)}),!0}return!1}function handleCurrentQueueOfBehaviors(){drainBehaviorsToFetch(behaviorsToFetch),behaviorsToFetch=[]}function instantiateOrQueueBehavior(behaviorObj){instantiateBehavior(behaviorObj)||(behaviorsToFetch.push(behaviorObj),null!==drainBehaviorsToFetchTimeout&&(clearTimeout(drainBehaviorsToFetchTimeout),drainBehaviorsToFetchTimeout=null),drainBehaviorsToFetchTimeout=setTimeout(handleCurrentQueueOfBehaviors,50))}var drainBehaviorsToFetchTimeout,behaviorsToFetch=[],buildVersion=espn.build,behaviorsCombinerVersion=(window.location.search.match(/behaviorsCombinerVersion=([^\&]+)/)||[])[1],fetchBehaviorsFromCombiner=behaviorsCombinerVersion||"local"!==espn.i18n.environment;behaviorsCombinerVersion=behaviorsCombinerVersion||buildVersion;var drainBehaviorsToFetch=fetchBehaviorsFromCombiner?function(behaviorsToFetch){var combinerScriptPath="/redesign/"+behaviorsCombinerVersion+"/js/behaviors/",combinedFetchUrl="http://a.espncdn.com/combiner/c?js="+_.uniqBy(behaviorsToFetch,"behaviorName").map(function(b){return combinerScriptPath+b.behaviorName+".js"}).sort().join(",");$.getScriptCache(combinedFetchUrl,function(){behaviorsToFetch.forEach(instantiateBehavior)})}:function(){function getScript(scriptHref,cbk){getScripts[scriptHref]instanceof Array?getScripts[scriptHref].push(cbk):(getScripts[scriptHref]=[cbk],$.getScriptCache(scriptHref,function(){getScripts[scriptHref].forEach(function(cbk){cbk()}),getScripts[scriptHref]=null}))}function getBehaviorClass(behaviorName,cbk){var BehaviorClass=espn_ui.Behaviors[behaviorName];BehaviorClass?cbk(BehaviorClass):getScript("/static/js/behaviors/"+behaviorName+".js",function(){cbk(espn_ui.Behaviors[behaviorName])})}var getScripts={};return function(behaviorsToFetch){behaviorsToFetch.forEach(function(b){getBehaviorClass(b.behaviorName,function(){instantiateBehavior(b)})})}}();return instantiateOrQueueBehavior}(),invalidBehaviors=("update_favorite,search_favorites,clear_favorites_search,edit_favorites,commit_favorites,set_favorites_order,fav_list_sortable,manage_alerts,none,shorten_athlete_name,open-favs,fix_broken_images"+("data-lite"===espn.siteType?",favorites_mgmt,fav_feed,clubhouse_favorite":"")).split(",");espn_ui.loadBehaviorNamed=function(behaviorName,behaviorEl,cbk){behaviorName&&behaviorsOn&&!disableBehaviorsHash[behaviorName]&&invalidBehaviors.indexOf(behaviorName)===-1?fetchAndLoadBehavior({behaviorName:behaviorName,behaviorEl:behaviorEl,cbk:cbk}):"function"==typeof cbk&&cbk()},espn_ui.LoadBehavior=function(context){if("all"!==disableBehaviors){var behaviors="";if("undefined"!=typeof document.querySelectorAll){if(void 0===context)context=document;else{if(!(context.length>0))return!1;context=context[0]}for(var all=context.querySelectorAll("[data-behavior]"),i=-1,currentElement=null,splitted_behaviors=[],v=0,j=0;all[++i];)for(currentElement=all[i],behaviors=currentElement.getAttribute("data-behavior"),splitted_behaviors=behaviors?behaviors.split(" "):[],v=0,j=splitted_behaviors.length;v<j;++v)espn_ui.loadBehaviorNamed(splitted_behaviors[v],currentElement)}else void 0===context&&(context=$(document)),context.find("*[data-behavior]").each(function(i,el){behaviors=$(el).attr("data-behavior"),$.each(behaviors?behaviors.split(" "):[],function(index,behaviorName){espn_ui.loadBehaviorNamed(behaviorName,el)})})}else console.log("Disabling all behaviors");$(document).trigger("behavior.load",[context])},espn_ui.LazyLoadBehavior=function(context){context=context||(context=$(document)),context.find("[data-lazy-behavior]").each(function(){var $this=$(this),behaviorName=$this.attr("data-lazy-behavior");$this.attr("data-behavior",behaviorName).removeAttr("data-lazy-behavior")}),this.LoadBehavior(context)},espn_ui.onReady=function(){setTimeout(function(){window.scrollTo(0,1)},0),espn_ui.LoadBehavior()},$(document).ready(function(){espn_ui&&espn_ui.Helpers&&espn_ui.Helpers.history&&espn_ui.Helpers.history.init()}),$(window).load(function(){setTimeout(function(){espn_ui.loadReady=!0},0)}),$.subscribe("espn.defer.ready",function(){function runNav(){!espn_ui.Helpers.nav||navRan||isWebview||(navRan=!0,espn_ui.Helpers.nav.init())}window.FastClick.attach(document.body),espn_ui.media_query_in_use=espn_ui.Helpers.get_media_query_in_use(),espn_ui.Helpers.breakpoint_css_class(),espn_ui.onReady(),espn_ui.Helpers.page&&espn_ui.Helpers.page.setContentPreBehavior(),espn_ui.Helpers.links&&espn_ui.Helpers.links.init(),espn_ui.Helpers.window_scroll&&espn_ui.Helpers.window_scroll.init();var navRan=!1,isWebview="undefined"!=typeof espn_ui.webview&&espn_ui.webview===!0;if(!$("body").hasClass("static-nav")){var vp=$("#global-viewport");$("#global-nav-secondary li").length>0&&(vp.addClass("interior"),$("#global-nav-secondary ul.tertiary").length>0?vp.addClass("tertiary"):vp.addClass("secondary")),espn_ui.device.isMobile!==!0||espn_ui.loadReady?runNav():($(window).load(function(){setTimeout(runNav,0)}),setTimeout(runNav,5e3)),$("#global-nav-mobile-trigger").on("click.mobile.init",function(){$("#global-nav-mobile-trigger").off("click.mobile.init"),runNav()})}$(window).on("windowresize.debounce",function(){var new_media_query=espn_ui.Helpers.get_media_query_in_use();espn_ui.media_query_in_use!==new_media_query&&(espn_ui.media_query_in_use=new_media_query,$.event.trigger({type:"media_query_updated"}))}),espn_ui.ie8&&espn_ui.Helpers.ie8()})}(window.jQuery),window.espn=window.espn||{},function($,scope){function getGmtOffset(offset){var minuteOffset;if(offset=parseInt(offset),!isNaN(offset)){var minutes=offset%100;hours=(offset-minutes)/100,minuteOffset=60*hours+minutes}return minuteOffset}var STORAGE_KEY="geo",UNLOCATED=!1,countryMap={ABW:"AW",AFG:"AF",AGO:"AO",AIA:"AI",ALA:"AX",ALB:"AL",AND:"AD",ANT:"AN",ARE:"AE",ARG:"AR",ARM:"AM",ASM:"AS",ATA:"AQ",ATF:"TF",ATG:"AG",AUS:"AU",AUT:"AT",AZE:"AZ",BDI:"BI",BEL:"BE",BEN:"BJ",BFA:"BF",BGD:"BD",BGR:"BG",BHR:"BH",BHS:"BS",BIH:"BA",BLM:"BL",BLR:"BY",BLZ:"BZ",BMU:"BM",BOL:"BO",BRA:"BR",BRB:"BB",BRN:"BN",BTN:"BT",BVT:"BV",BWA:"BW",CAF:"CF",CAN:"CA",CCK:"CC",CHE:"CH",CHL:"CL",CHN:"CN",CIV:"CI",CMR:"CM",COD:"CD",COG:"CG",COK:"CK",COL:"CO",COM:"KM",CPV:"CV",CRI:"CR",CUB:"CU",CXR:"CX",CYM:"KY",CYP:"CY",CZE:"CZ",DEU:"DE",DJI:"DJ",DMA:"DM",DNK:"DK",DOM:"DO",DZA:"DZ",ECU:"EC",EGY:"EG",ERI:"ER",ESH:"EH",ESP:"ES",EST:"EE",ETH:"ET",FIN:"FI",FJI:"FJ",FLK:"FK",FRA:"FR",FRO:"FO",FSM:"FM",GAB:"GA",GBR:"GB",GEO:"GE",GGY:"GG",GHA:"GH",GIB:"GI",GIN:"GN",GLP:"GP",GMB:"GM",GNB:"GW",GNQ:"GQ",GRC:"GR",GRD:"GD",GRL:"GL",GTM:"GT",GUF:"GF",GUM:"GU",GUY:"GY",HKG:"HK",HMD:"HM",HND:"HN",HRV:"HR",HTI:"HT",HUN:"HU",IDN:"ID",IMN:"IM",IND:"IN",IOT:"IO",IRL:"IE",IRN:"IR",IRQ:"IQ",ISL:"IS",ISR:"IL",ITA:"IT",JAM:"JM",JEY:"JE",JOR:"JO",JPN:"JP",KAZ:"KZ",KEN:"KE",KGZ:"KG",KHM:"KH",KIR:"KI",KNA:"KN",KOR:"KR",KWT:"KW",LAO:"LA",LBN:"LB",LBR:"LR",LBY:"LY",LCA:"LC",LIE:"LI",LKA:"LK",LSO:"LS",LTU:"LT",LUX:"LU",LVA:"LV",MAC:"MO",MAF:"MF",MAR:"MA",MCO:"MC",MDA:"MD",MDG:"MG",MDV:"MV",MEX:"MX",MHL:"MH",MKD:"MK",MLI:"ML",MLT:"MT",MMR:"MM",MNE:"ME",MNG:"MN",MNP:"MP",MOZ:"MZ",MRT:"MR",MSR:"MS",MTQ:"MQ",MUS:"MU",MWI:"MW",MYS:"MY",MYT:"YT",NAM:"NA",NCL:"NC",NER:"NE",NFK:"NF",NGA:"NG",NIC:"NI",NIU:"NU",NLD:"NL",NOR:"NO",NPL:"NP",NRU:"NR",NZL:"NZ",OMN:"OM",PAK:"PK",PAN:"PA",PCN:"PN",PER:"PE",PHL:"PH",PLW:"PW",PNG:"PG",POL:"PL",PRI:"PR",PRK:"KP",PRT:"PT",PRY:"PY",PSE:"PS",PYF:"PF",QAT:"QA",REU:"RE",ROU:"RO",RUS:"RU",RWA:"RW",SAU:"SA",SDN:"SD",SEN:"SN",SGP:"SG",SGS:"GS",SHN:"SH",SJM:"SJ",SLB:"SB",SLE:"SL",SLV:"SV",SMR:"SM",SOM:"SO",SPM:"PM",SRB:"RS",SSD:"SS",STP:"ST",SUR:"SR",SVK:"SK",SVN:"SI",SWE:"SE",SWZ:"SZ",SYC:"SC",SYR:"SY",TCA:"TC",TCD:"TD",TGO:"TG",THA:"TH",TJK:"TJ",TKL:"TK",TKM:"TM",TLS:"TL",TON:"TO",TTO:"TT",TUN:"TN",TUR:"TR",TUV:"TV",TWN:"TW",TZA:"TZ",UGA:"UG",UKR:"UA",UMI:"UM",URY:"UY",USA:"US",UZB:"UZ",VAT:"VA",VCT:"VC",VEN:"VE",VGB:"VG",VIR:"VI",VNM:"VN",VUT:"VU",WLF:"WF",WSM:"WS",YEM:"YE",ZAF:"ZA",ZMB:"ZM",ZWE:"ZW"};scope.geo={countryMap:countryMap,getLocation:function(reload){if(!reload&&scope.geo.promise)return scope.geo.promise;var deferred=new $.Deferred,storedLocation=espn.storage.getItem(STORAGE_KEY),alpha2Cookie=espn.cookie.get("isoCodeAlpha2");if(!reload&&$.isPlainObject(storedLocation))deferred.resolve(storedLocation);else if(alpha2Cookie)deferred.resolve({country:{isoCodeAlpha2:alpha2Cookie}});else if(reload||storedLocation!==!1){var tredirTimeout=setTimeout(function(){deferred.reject(),espn.storage.setItem(STORAGE_KEY,UNLOCATED)},5e3);$.getScript("//tredir.espn.com/capmon/GetDE?set=j&param=country&param=countryisocode&param=state&param=metro&param=metrocode&param=postcode&param=offset&param=dst&param=countrycode&param=connection").done(function(){if(clearTimeout(tredirTimeout),"string"==typeof country&&country.length>0&&"string"==typeof countryisocode&&countryisocode.length>0){var geoLocation={country:{name:country,isoCode:countryisocode}},lookupKey=countryisocode.toUpperCase();if(void 0!==countryMap&&void 0!==countryMap[lookupKey]){geoLocation.country.isoCodeAlpha2=countryMap[lookupKey].toLowerCase();var date=new Date;date.setTime(date.getTime()+6048e5),document.cookie="country="+geoLocation.country.isoCodeAlpha2+"; expires="+date.toGMTString()+"; path=/"}if("string"==typeof state&&state.length>0&&"no state"!==state&&(geoLocation.state=state),"string"==typeof metro&&metro.length>0&&"no metro"!==metro&&(geoLocation.metro=metro),"string"==typeof metrocode&&metrocode.length>0&&"0"!==metrocode&&(geoLocation.dma=metrocode),"string"==typeof postcode&&postcode.length>0&&"0"!==postcode&&(geoLocation.postCode=postcode),"string"==typeof countrycode&&countrycode.length>0&&"0"!==countrycode&&(geoLocation.countryCode=countrycode),"string"==typeof offset&&offset.length>0){var gmtOffset=getGmtOffset(offset);gmtOffset&&(geoLocation.gmtOffset=gmtOffset)}"string"==typeof dst&&dst.length>0&&(geoLocation.dst="y"===dst),"string"==typeof connection&&connection.length>0&&(geoLocation.connection=connection),deferred.resolve(geoLocation),espn.storage.setItem(STORAGE_KEY,geoLocation)}else deferred.reject(),espn.storage.setItem(STORAGE_KEY,UNLOCATED)}).fail(function(){clearTimeout(tredirTimeout),deferred.reject(),espn.storage.setItem(STORAGE_KEY,UNLOCATED)})}else deferred.reject();return scope.geo.promise=deferred.promise()}}}(jQuery,window.espn),window.admgr=function($,window,document,undefined){function _init(config){if(config){var apstag=window.apstag,amznTimeout=1e4,configTimeout=config.amznAdConfig&&config.amznAdConfig[edition],edition=espn.i18n.editionKey,useAmznBids=config.amznAdConfig&&config.amznAdConfig.useAmznBids;"/racing/nascar/"===window.location.pathname&&(config.useAmzn=!0),"number"==typeof configTimeout&&configTimeout>=1e3&&configTimeout<=6e4&&(amznTimeout=configTimeout),self.config=config,self.startTime=Date.now(),self.loadTime=0;var network=config.network,level=config.level,sizeConfig=config.sizes,selector=config.selector||".ad-slot",amznKeysToTarget=["amznbid","amzniid"];self.independentLoaded=!1,useAmznBids&&config.useAmzn&&!self.apstagInitialized&&(apstag.init({pubID:config.id}),self.apstagInitialized=!0),defineBreakpoints(),
network&&level&&sizeConfig&&(self.slots=[],self.additionalSlots=[],$(selector).not('[data-disabled="true"]').empty().each(function(){defineSlot(this)}),googletag.cmd.push(function(){var $slots=$(self.slots);self.gptadslots={},self.hasOutOfPageAdSlot=!1,self.hasCategoryExclusionAdSlot=!1,clearTargeting(),$slots.each(function(){defineGPTSlot(this,self.config)});var amznSlots=keyGoogletagSlots(self.slots.filter(function(slot){return"incontent"===slot.type}));addTargeting(config),useAmznBids&&config.useAmzn&&(apstag.fetchBids({slots:amznSlots,timeout:amznTimeout},function(bids){bids.forEach(function(bid){var googletagSlot=self.gptadslots[bid.slotID];googletagSlot&&amznKeysToTarget.forEach(function(key){googletagSlot.setTargeting(key,bid[key]),self.targetingKeys.push(key)})}),$slots.each(function(){googletag.display(this.id)}).bind(this)}),_refreshAll()),self.initialized!==!0&&(googletag.pubads().addEventListener("slotRenderEnded",function(event){var slots=self.gptadslots;for(var key in slots)if(slots.hasOwnProperty(key)&&slots[key]===event.slot){$.publish("ad.rendered",[key,event]);break}}),config.setCentering!==!1&&googletag.pubads().setCentering(!0),config.collapseEmptyDivs!==!1&&googletag.pubads().collapseEmptyDivs(!!config.collapseBeforeLoad),config.enableSingleRequest!==!1&&googletag.pubads().enableSingleRequest(),config.disableInitialLoad!==!0&&config.supportDynamicPageLoad!==!0||googletag.pubads().disableInitialLoad(),config.onSlotRenderEnded&&"function"==typeof config.onSlotRenderEnded&&googletag.pubads().addEventListener("slotRenderEnded",config.onSlotRenderEnded),googletag.enableServices(),self.initialized=!0),config.useAmzn||$slots.each(function(){googletag.display(this.id)}),config.supportDynamicPageLoad===!0&&config.disableInitialLoad!==!0&&(self.hasOutOfPageAdSlot===!0&&config.delayInPageAdSlots===!0?_refreshOutOfPageAdSlots():_refreshAll())}))}}function _registerSlot(el,config){el&&googletag.cmd.push(function(){var gptSlot,slot=defineSlot(el);slot&&(gptSlot=defineGPTSlot(slot,config),addTargeting(config),config.supportDynamicPageLoad===!0&&googletag.display(slot.id))})}function _initSlot(el,config,callback){el&&(self.independentLoaded=!1,googletag.cmd.push(function(){var id=el.id,arr=[],slot=el.isIndependent?el:defineSlot(el);if(callback&&"function"==typeof callback||(callback=function(){}),slot){untrackSlot(id),clearTargeting();var gptSlot=defineGPTSlot(slot,config);arr.push(gptSlot),addTargeting(config),googletag.pubads().updateCorrelator(),googletag.display(slot.id),config.supportDynamicPageLoad===!0&&config.disableInitialLoad!==!0&&_refresh(arr),self.config=config,callback(slot)}else callback(undefined)}))}function _refresh(arr){arr&&arr instanceof Array&&googletag.cmd.push(function(){googletag.pubads().refresh(arr)})}function _refreshAll(){var arr=getGPTArray({independent:!1});googletag.cmd.push(function(){googletag.pubads().refresh(arr)})}function _refreshOutOfPageAdSlots(){var arr=getGPTArray({outOfPage:!0});googletag.cmd.push(function(){googletag.pubads().refresh(arr)})}function _refreshInPageAdSlots(){var arr=getGPTArray({inPage:!0,independent:!1});googletag.cmd.push(function(){googletag.pubads().refresh(arr)})}function _refreshIndependentAdSlots(){self.additionalSlots.length>0&&($(self.additionalSlots).each(function(){_initSlot(this,self.config)}),self.independentLoaded=!0)}function _clear(){googletag.cmd.push(function(){if(self.disabledTypes&&self.disabledTypes.length>0){for(var gptObj,gptArr=getGPTArray(),arr=[],i=0,l=gptArr.length;i<l;i++)gptObj=gptArr[i],self.disabledTypes.indexOf(gptObj.type)===-1&&arr.push(gptObj);googletag.pubads().clear(arr)}else googletag.pubads().clear()})}function _debug(){window.console.log("version: "+self.version),window.console.log("network id: "+self.config.network),window.console.log("level: "+self.config.level),$(self.config.kvps).each(function(i){window.console.log("kvp "+(i+1)+": "+this.name+"="+this.value)}),window.console.log("selector: "+self.config.selector),window.console.log("current breakpoint: "+getCurrentBreakpoint()),$(self.slots).each(function(i){window.console.log("slot "+(i+1)+": "),window.console.log("\tid: "+this.id),window.console.log("\ttype: "+this.type),window.console.log("\tdefaultSize: "+this.defaultSize),window.console.log("\toutOfPage: "+this.isOutOfPage),window.console.log("\toutOfPage: "+this.isCatExclusion),$(this.mappings).each(function(){window.console.log("\tviewport: "+this.viewport+" -> "+this.slot.join(" "))}),$(this.kvps).each(function(i){window.console.log("\tkvp "+(i+1)+": "+this.name+"="+this.value)})})}function _updateKeyValue(key,value){if(self.config&&self.config.kvps){var found=!1;$(self.config.kvps).each(function(){if(this.name===key)return this.value=value,found=!0,!1}),found===!1&&self.config.kvps.push({name:key,value:value})}}function _removeKeyValue(key){if(self.config&&self.config.kvps)for(var i=self.config.kvps.length-1;i>=0;i--)self.config.kvps&&self.config.kvps[i].name===key&&self.config.kvps.splice(i,1)}function keyGoogletagSlots(slots){var amznKeyedSlots=slots.map(function(slot){var slotObj={};return slotObj.slotID=slot.id,slotObj.sizes=[slot.defaultSize],slotObj});return amznKeyedSlots}function addTargeting(config){var kvps=config.kvps||[];config.dynamicKeyValues&&config.dynamicKeyValues.profile&&config.dynamicKeyValues.profile.key&&self.profiles&&self.profiles.currentProfile&&_updateKeyValue(config.dynamicKeyValues.profile.key,self.profiles.currentProfile),$(kvps).each(function(){this.name!==undefined&&this.value!==undefined&&(googletag.pubads().setTargeting(this.name,this.value),self.targetingKeys.push(this.name))})}function clearTargeting(){if(self.targetingKeys&&self.targetingKeys.length>0){for(var i=0,l=self.targetingKeys.length;i<l;i++)googletag.pubads().clearTargeting(self.targetingKeys[i]);self.targetingKeys=[]}}function defineSlot(el){if(el){var obj,shouldShow=shouldShowSlotForBreakpoint(el),type=el.getAttribute("data-slot-type"),slotKvps=getSlotKvps(el),slotKvpos=getSlotKvpos(el),id=getSlotId(type),slotConfig=self.config.sizes[type],mappings=slotConfig&&slotConfig.mappings,defaultSize=slotConfig&&slotConfig.defaultSize,isOutOfPage=!1,isCatExclusion=!1,isIndependent=!1,collapseBeforeLoad="true"===el.getAttribute("data-collapse-before-load");if("true"===el.getAttribute("data-out-of-page")&&(isOutOfPage=!0),"true"===el.getAttribute("data-category-exclusion")&&(isCatExclusion=!0),"true"===el.getAttribute("data-independent")&&(isIndependent=!0),shouldShow&&type&&slotConfig&&mappings&&defaultSize)return obj={id:id,type:type,defaultSize:defaultSize,mappings:mappings,kvps:slotKvps,kvpos:slotKvpos,isOutOfPage:isOutOfPage,collapseBeforeLoad:collapseBeforeLoad,isCatExclusion:isCatExclusion,isIndependent:isIndependent},isIndependent?self.additionalSlots[0]=obj:self.slots.push(obj),el.id=id,obj}}function defineGPTSlot(slot,config){var gptSlot,sizeMapping=getSizeMapping(slot.mappings),target="/"+config.network+"/"+config.level;return slot.isCatExclusion===!0?(gptSlot=googletag.defineSlot(target,slot.defaultSize,slot.id).addService(googletag.pubads()),self.hasCategoryExclusionAdSlot=!0):slot.isOutOfPage===!0?(gptSlot=googletag.defineOutOfPageSlot(target,slot.id).addService(googletag.pubads()).setTargeting("slotId",slot.id),self.hasOutOfPageAdSlot=!0):gptSlot=googletag.defineSlot(target,slot.defaultSize,slot.id).addService(googletag.pubads()).defineSizeMapping(sizeMapping),slot.collapseBeforeLoad===!0&&gptSlot.setCollapseEmptyDiv(!0,!0),slot.kvps&&slot.kvps.length>0&&$(slot.kvps).each(function(){this.name!==undefined&&this.value!==undefined&&gptSlot.setTargeting(this.name,this.value)}),config.base.indexOf("cricinfo.com")!=-1&&slot.kvpos&&gptSlot.setTargeting("kvpos",slot.kvpos),gptSlot.type=slot.type,gptSlot.isOutOfPage=slot.isOutOfPage,gptSlot.isCatExclusion=slot.isCatExclusion,gptSlot.isIndependent=slot.isIndependent,self.gptadslots[slot.id]=gptSlot,gptSlot}function untrackSlot(slotId){for(var i=0,l=self.slots.length;i<l;i++)if(self.slots[i].id===slotId){self.slots.splice(i,1);break}self.gptadslots&&self.gptadslots[slotId]&&delete self.gptadslots[slotId]}function _handleResize(){var bp=getCurrentBreakpoint();bp!==self.profiles.currentProfile&&(self.profiles.currentProfile=bp,refreshForBreakpointChange())}function defineBreakpoints(){if(self.config.breakpoints){self.profiles={},self.profiles.widths={};var min,max;for(var profile in self.config.breakpoints)if(self.config.breakpoints.hasOwnProperty(profile)){var sizes=self.config.breakpoints[profile];if(2===sizes.length){if(min=parseInt(sizes[0],10),max=parseInt(sizes[1],10),!isNaN(min)&&!isNaN(max)&&min<max)for(var i=min;i<=max;i++)self.profiles.widths[i]=profile}else 1===sizes.length&&(max=parseInt(sizes[0],10),isNaN(max)||(self.profiles.maxProfile=profile,self.profiles.max=sizes[0]))}self.profiles.currentProfile=getCurrentBreakpoint(),self.config.refreshOnBreakpointChange===!0&&self.listeningForBreakpointChange!==!0&&($window.on("resize",_handleResize),self.listeningForBreakpointChange=!0)}}function _disableDynamicRefresh(types){types&&types instanceof Array&&types.length>0?(types.forEach(function(type){$('[data-slot-type="'+type+'"]').attr("data-disabled","true")}),self.disabledTypes=types):($window.off("resize",_handleResize),self.listeningForBreakpointChange=!1)}function getCurrentBreakpoint(){var w=$window.width();return w>=self.profiles.max?self.profiles.maxProfile:self.profiles.widths[w]}function refreshForBreakpointChange(){clearTimeout(self.timeoutHook),self.timeoutHook=setTimeout(function(){_clear(),_init(self.config)},250)}function getSlotId(type){return"ad-slot-"+type+"-"+Math.floor(999999*Math.random())}function getSlotKvps(div){var slotKvps=[];if(div){var dataKvps=div.getAttribute("data-slot-kvps");if(dataKvps){var pairs=dataKvps.split(",");pairs.length>0&&$(pairs).each(function(){var parts=this.split("=");2===parts.length&&slotKvps.push({name:parts[0],value:parts[1]})})}}return slotKvps}function getSlotKvpos(div){var slotKvpos="";return div&&div.getAttribute("data-kvpos")&&(slotKvpos=div.getAttribute("data-kvpos")),slotKvpos}function getGPTArray(obj){var slot,slots=self.gptadslots||{},arr=[];obj||(obj={});for(var key in slots)if(slots.hasOwnProperty(key)){if(slot=slots[key],obj.independent===!1&&slot.isIndependent===!0)continue;obj.inPage===!0&&slot.isOutOfPage!==!0?arr.push(slot):obj.outOfPage!==!0||slot.isOutOfPage!==!0&&slot.isCatExclusion!==!0?obj.inPage!==!0&&obj.outOfPage!==!0&&arr.push(slot):arr.push(slot)}return arr}function getSizeMapping(mappings){var sizeMapping=googletag.sizeMapping();return $(mappings).each(function(){sizeMapping.addSize(this.viewport,this.slot)}),sizeMapping.build()}function shouldShowSlotForBreakpoint(slot){if(!slot||!self.profiles||!self.profiles.currentProfile)return!0;var include=slot.getAttribute("data-include-bp"),exclude=slot.getAttribute("data-exclude-bp"),shouldShow=!0;return include&&include.split(",").indexOf(self.profiles.currentProfile)===-1&&(shouldShow=!1),exclude&&exclude.split(",").indexOf(self.profiles.currentProfile)!==-1&&(shouldShow=!1),shouldShow}window.googletag=window.googletag||{},googletag.cmd=googletag.cmd||[];var self={},$window=$(window);return self.version="0.0.1",self.targetingKeys=[],self.apstagInitialized=!1,{init:function(config){_init(config)},initSlot:function(el,config,callback){_initSlot(el,config,callback)},defineSlot:function(el){defineSlot(el)},untrackSlot:function(slotId){untrackSlot(slotId)},registerSlot:function(el,config){_registerSlot(el,config)},refresh:function(arr){_refresh(arr)},refreshAll:function(){_refreshAll()},refreshInPageAdSlots:function(){_refreshInPageAdSlots()},refreshIndependentAdSlots:function(){_refreshIndependentAdSlots()},refreshOutOfPageAdSlots:function(){_refreshOutOfPageAdSlots()},clear:function(){_clear()},debug:function(){_debug()},getVersion:function(){return self.version},getSlots:function(){return self.slots},getGPTSlots:function(){return self.gptadslots},getGPTArray:function(){return getGPTArray()},updateKeyValue:function(key,value){_updateKeyValue(key,value)},removeKeyValue:function(key){_removeKeyValue(key)},disableDynamicRefresh:function(types){_disableDynamicRefresh(types)},resetDisabledTypes:function(){self.disabledTypes=null},getStartTime:function(){return self.startTime},getLoadTime:function(){return self.loadTime},getIndependentLoaded:function(){return self.independentLoaded},setLoadTime:function(time){self.loadTime=time}}}(jQuery,this,this.document);var espn=espn||{};espn.ads=espn.ads||{},function($,espn_ui,admgr,document,window,undefined){function isAdInViewport(el){var rect=el.getBoundingClientRect();return(0!==rect.top||0!==rect.bottom)&&(rect.top>=0&&rect.top<=(window.innerHeight||document.documentElement.clientHeight)||rect.bottom>=0&&rect.bottom<=(window.innerHeight||document.documentElement.clientHeight))}function positionFavoritesAd(){var incontentPositionsAll=espn.ads.config.incontentPositions||{},$ad=$("#favfeed").find(".ad-slot-inview"),sport=$("body").attr("data-sport"),favPosition=incontentPositionsAll.index&&incontentPositionsAll.index[sport]&&incontentPositionsAll.index[sport].favorites,defaultPosition=incontentPositionsAll.defaults&&incontentPositionsAll.defaults.favorites;if(favPosition===undefined&&defaultPosition!==undefined&&(favPosition=defaultPosition),favPosition=parseInt(favPosition,10),favPosition>=0){if($ad.length>0){var cardCount=$("#favfeed-items .favfeed_item").length;cardCount<favPosition&&(favPosition=cardCount),favPosition>0?($ad.detach().insertAfter("#favfeed-items >.favfeed_item:eq("+(favPosition-1)+")"),$ad.removeClass("favorites-pending")):0===favPosition&&($ad.detach(),$("#favfeed-items").prepend($ad),$ad.removeClass("favorites-pending"))}}else $ad.remove()}function pageRender(){if(_inview=$("body").find(".ad-slot-inview"),_inview.length>0){var found=registerInviewAds({preInitialRequest:!0});$window.off("windowscroll.debounce.ads",initInviewAds),found||$window.on("windowscroll.debounce.ads",initInviewAds)}}function pageTab(){if($(".main-content").find(".ad-slot-mobile-incontent").each(function(i,el){var $el=$(el);$el.attr("id")&&$el.is(":not(:visible)")&&(admgr.untrackSlot($el.attr("id")),$el.empty().addClass("ad-slot-inview").removeClass("loaded ad-slot").removeAttr("id"))}),_inview=$("body").find(".ad-slot-inview"),_inview.length>0){var found=registerInviewAds({refresh:!0});admgr.refreshInPageAdSlots(),$window.off("windowscroll.debounce.ads",initInviewAds),found||$window.on("windowscroll.debounce.ads",initInviewAds)}}function initInviewAds(force){for(var $el,found=!1,i=0,l=_inview.length;i<l;i++)if($el=$(_inview[i]),1===$el.length&&!$el.hasClass("loaded")&&!$el.hasClass("favorites-pending")&&(isAdInViewport($el[0])||force===!0)){$el.addClass("ad-slot loaded").removeClass("ad-slot-inview"),admgr.initSlot($el[0],espn.ads.config),_inview.splice(i,1),found=!0,0===_inview.length&&$window.off("windowscroll.debounce.ads",initInviewAds);break}return found}function registerInviewAds(obj){for(var $el,found=!1,i=0,l=_inview.length;i<l;i++)if($el=$(_inview[i]),1===$el.length&&!$el.hasClass("loaded")&&!$el.hasClass("favorites-pending")&&isAdInViewport($el[0])){$el.addClass("ad-slot loaded").removeClass("ad-slot-inview"),obj&&obj.refresh===!0&&admgr.registerSlot($el[0],espn.ads.config),_inview.splice(i,1),found=!0;break}return found}function init(){if(_inview=$("body").find(".ad-slot-inview"),_inview.length>0){var found=registerInviewAds({preInitialReqest:!0});$window.off("windowscroll.debounce.ads",initInviewAds),found||$window.on("windowscroll.debounce.ads",initInviewAds)}}var _inview=[],$document=$(document),$window=$(window);$.subscribe("page.tab",pageTab),$.subscribe("favorites.done",positionFavoritesAd),$.subscribe("mobile.page.render",pageRender),$document.on("media_query_updated",function(){var mq=espn_ui.media_query_in_use;"mobile"!==mq?$window.off("windowscroll.debounce.ads",initInviewAds):init()}),"mobile"===espn_ui.media_query_in_use&&init(),espn.ads.mobile={init:function(){initInviewAds(!0)}}}(window.jQuery,window.espn_ui,window.admgr,document,window);var espn=espn||{};espn.ads=espn.ads||{},espn.ads.rendered=espn.ads.rendered||{},espn.ads.refreshedSlots=espn.ads.refreshedSlots||[],function($,window,document,undefined){function getReferrer(ref){ref||(ref=document.referrer);var referrer,_referrers={"facebook.com":"facebook","twitter.com":"twitter","t.co":"twitter","plus.google.com":"googleplus","plus.url.google.com":"googleplus","google.*":"google","bing.com":"bing","yahoo.com":"yahoo","m.espn.com":"espn","espn.com":"espn","espndeportes.espn.com":"espndeportes","espn.com.mx":"espndeportes","espn.com.co":"espndeportes","espn.com.ar":"espndeportes","espn.com.ve":"espndeportes","instagram.com":"instagram","reddit.com":"reddit","bleacherreport.com":"bleacherreport","tumblr.com":"tumblr","t.umblr.com":"tumblr"};if(ref)for(var r in _referrers)if(_referrers.hasOwnProperty(r)&&ref.match(new RegExp("^https?:\\/\\/(?:(?:[a-zA-Z0-9]+\\.)+)?"+r.replace(/\./g,"\\.").replace(/\*/g,".*")+"(?:$|\\/$|\\/.*|\\?.*)","i"))){referrer=_referrers[r];break}return referrer}function getSegmentsArray(){var arr=[],c=$.cookie("CRBLM");if(c){c=c.substring(9);for(var index=0,value=0,key="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",i=0,n=c.length,nn=n-n%4;i<nn;){var enc1=key.indexOf(c.charAt(i++)),enc2=key.indexOf(c.charAt(i++));value|=(enc1<<2|enc2>>4)<<(index++?0:8),2===index&&value&&arr.push(value),value*=(index%=6)&&index-2?1:0;var enc3=key.indexOf(c.charAt(i++));64!==enc3&&(value|=((15&enc2)<<4|enc3>>2)<<(index++?0:8),2===index&&value&&arr.push(value),value*=(index%=6)&&index-2?1:0);var enc4=key.indexOf(c.charAt(i++));64!==enc4&&(value|=((3&enc3)<<6|enc4)<<(index++?0:8),2===index&&value&&arr.push(value),value*=(index%=6)&&index-2?1:0)}}return arr}function _extendLiveSegments(callback){var geoCountry=$.cookie("country");geoCountry?requestLiveSegments(geoCountry,callback):espn.geo.getLocation().always(function(loc){loc=loc||{},geoCountry=loc.country&&loc.country.isoCodeAlpha2,requestLiveSegments(geoCountry,callback)})}function requestLiveSegments(geoCountry,callback){if(callback=callback||function(){},geoCountry&&"us"===geoCountry){var siteProp="GM87FR",apiURL="http://sds.livesegmentservice.com/segments?prop="+siteProp+"&swid="+encodeURIComponent(_getSWID());if(document.location.href.match(/livesport=([^&]*)/)){var testing=Math.floor(10*Math.random())%2===0?"":"2";apiURL="/static/example/segments"+testing+".json"}$.ajax({url:apiURL,timeout:500}).done(function(data){if(data)for(var key in data)data.hasOwnProperty(key)&&espn.ads.config.kvps.push({name:key,value:data[key]})}).always(function(){callback()})}else callback()}function _extendConfig(config){return config||(config={}),config.extended===!0?config:(config=_extendKvps(config),config.extended=!0,config)}function _getSWID(){return $.cookie("SWID")}function _extendKvps(config){config||(config={});var kvps=config.kvps||[],segments=getSegmentsArray();segments&&segments.length>0&&kvps.push({name:"seg",value:segments});var swid=_getSWID();swid&&kvps.push({name:"swid",value:swid});var mnr="f";document.cookie.indexOf("grif=1")>-1&&(mnr="t"),kvps.push({name:"mnr",value:mnr});var ref=getReferrer();ref&&kvps.push({name:"ref",value:ref});var lab=$.cookie("labadv");return lab&&kvps.push({name:"pgtyp",value:lab}),config.kvps=kvps,config}function pageRender(e,url,html,data){data&&data.ads&&isWebView===!1&&(adRenderedCount=0,"mobile"===espn_ui.media_query_in_use&&$.publish("mobile.page.render",[e,url,html,data]),espn.ads.config=_extendConfig(data.ads),_extendLiveSegments(function(){admgr.init(espn.ads.config)}))}function getPadding($el){var paddingTop=parseInt(($el.css("padding-top")||"").split("px")[0],10),paddingBottom=parseInt(($el.css("padding-bottom")||"").split("px")[0],10);_incontentPadding=0,isNaN(paddingTop)||(_incontentPadding+=paddingTop),isNaN(paddingBottom)||(_incontentPadding+=paddingBottom)}function loadPresbyAds(){var $presbyEls=$("#news-feed").find(".ad-slot-presby");$presbyEls.length>0&&$presbyEls.each(function(index,iel){var $iel=$(iel);$iel.length>0&&(admgr.defineSlot($iel[0]),admgr.initSlot($iel[0],espn.ads.config))})}function pageScroll(e,data){if(data&&data.ads){var $els=$("#news-feed,#article-feed article[data-id='"+data.uid+"'],#now-feed").find(".ad-slot:not(.ad-slot-incontent2):not(.ad-slot-instream)"),$independentEls=$("#article-feed article[data-id='"+data.uid+"']").find(".ad-slot-incontent2, .ad-slot-instream");espn.ads.config=_extendConfig(data.ads),$els.length>0&&$els.each(function(index,el){var $el=$(el),$placeholder=$el.closest("article"),$adHeight=$el.height(),$adWidth=$el.width(),padding=_incontentPadding||getPadding($el);$el.length>0&&admgr.initSlot($el[0],espn.ads.config,function(slot){slot&&(espn.ads.refreshedSlots.push(slot.id),$placeholder.addClass("dimensions").css({height:$adHeight+padding,width:$adWidth}))})}),$independentEls.length>0&&$independentEls.each(function(index,iel){var $iel=$(iel);$iel.length>0&&(admgr.defineSlot($iel[0]),"instream"===$iel.data("slot-type")&&admgr.initSlot($iel[0],espn.ads.config))}),loadPresbyAds()}}function pageBeforeLoad(){isWebView===!1&&($(".ad-slot").removeAttr("data-disabled").empty(),admgr.resetDisabledTypes())}function initScoresDrawerAd(){if("mobile"===espn_ui.media_query_in_use&&"topEvents"===espn.scoreboard.activeLeague){for(var $ad,$allGames=$("#leagues .league.active .cscore"),adPos=2,i=adPos;i>0;i--)if($allGames[i-1]){adPos=i;break}$ad=$(".scoreboard-ad"),0===$ad.length&&($ad=$('<div class="ad-slot-inview ad-slot-mobile-incontent ad-wrapper scoreboard-ad" data-slot-type="incontent" data-include-bp="s" data-slot-kvps="pos=incontent,pos='+(adPos+1)+'" data-refresh-if-visible="true"></div>'),$($allGames[adPos-1]).is(".golf, .racing, .f1, .nascar")?$ad.insertAfter($($allGames[adPos-1]).closest("li.league")):$ad.insertAfter($allGames[adPos-1])),admgr.initSlot($ad[0],espn.ads.config)}}function adInitCall(){_extendLiveSegments(function(){adsInitted||(adsInitted=!0,espn_ui.pageShell||admgr.init(espn.ads.config))})}var $document=$(document),_incontentPadding=0,adRenderedCount=0,isWebView=espn_ui.webview===!0;$document.off("page.beforeload",pageBeforeLoad),$document.on("page.beforeload",pageBeforeLoad),$document.off("page.render",pageRender),$document.on("page.render",pageRender),$document.off("page.scroll",pageScroll),$document.on("page.scroll",pageScroll),$document.on("ads.incontent.moved",function(e,data){pageScroll(e,data)}),$.subscribe("ad.rendered",function(key,event){espn.ads.rendered[key]=event;var refreshedSlot=espn.ads.refreshedSlots.indexOf(key);if(refreshedSlot>-1){var $els=$("#news-feed,#article-feed article").find(".ad-slot");$els.length>0&&$els.each(function(index,el){var $ad=$(el).closest("article");$ad.hasClass("dimensions")&&$ad.removeClass("dimensions").css({width:"auto",height:"auto"}),espn.ads.refreshedSlots.splice(refreshedSlot,1)})}event.isEmpty===!0&&"overlay"===event.slot.type&&espn.ads.config.delayInPageAdSlots===!0&&(admgr.refreshInPageAdSlots(),loadPresbyAds());var iFrameAds=$("#"+key).find(" > iframe");if(iFrameAds.length>0){var iFrame=iFrameAds[0];$(iFrame).load(function(){adRenderedCount++,adRenderedCount===admgr.getSlots().length&&admgr.setLoadTime(Date.now()-admgr.getStartTime())})}else adRenderedCount++});var ignoreChangeTopic=!0;$.subscribe("global-scoreboard.drawer-open",function(){ignoreChangeTopic=!1,initScoresDrawerAd()}),$.subscribe("global-scoreboard.change-topics",function(){ignoreChangeTopic||initScoresDrawerAd()}),$.subscribe("ad.overlay.close",function(){espn.ads.config.delayInPageAdSlots===!0&&(admgr.refreshInPageAdSlots(),loadPresbyAds())});var adsInitted=!1;espn.ads.config=_extendConfig(espn.ads.config);var pageKey=$("body").data("pagetype");"index"!==pageKey||$("body").data("sport")&&"top"!==$("body").data("sport")||(pageKey="frontpage");var deviceKey="";deviceKey=espn_ui.device.isMobile===!0?"mobile":espn_ui.device.isTablet===!0?"tablet":"desktop";var pageObj,loadType="start";if(espn.ads.config.load&&(espn.ads.config.load[pageKey]||(pageKey="defaults"),pageObj=espn.ads.config.load[pageKey],pageObj[deviceKey]&&(loadType=pageObj[deviceKey])),"window.load"===loadType){var adFallBackTime=window.espn_ui.device.isMobile||window.espn_ui.device.isTablet?5e3:3e3;$(window).load(function(){setTimeout(adInitCall,0)}),setTimeout(adInitCall,adFallBackTime)}else adInitCall(),$(window).load(function(){"undefined"!=typeof window.newrelic&&window.newrelic.setCustomAttribute("ads",admgr.getLoadTime())})}(jQuery,this,this.document),window.espn_util=window.espn_util||{},window.espn_util.find=function(obj,keys){if(keys)if(keys instanceof Array)for(var i=0;i<keys.length;i++){var key=keys[i];if(!obj)break;if(obj instanceof Array&&"number"==typeof key){var k=key;key<0&&(k=obj.length+key),obj=k>=0&&k<obj.length?obj[k]:null}else obj=obj[key]}else obj=obj[keys];else obj=null;return obj},window.espn_ui.Helpers=window.espn_ui.Helpers||{},window.espn_ui.Helpers.util=function(window){function getPath(url){var anchor=document.createElement("a");return anchor.href=url,anchor.pathname}return{getPageTypeFromURL:function(url){var pageCSSName="";url=url.split("/_/")[0];var path=getPath(url);return path=espn_ui.Helpers.translate.uriLocalizeTo(path,"English"),path.match(/\/index$|\/$/)?(pageCSSName="one-feed-v1",path.match(/(fantasy|insider|boston|new-york|chicago|dallas|los-angeles|cleveland|milwaukee)/)&&(pageCSSName="index"),path.match(/\/(cricket)\/(.*)(game|summary|report|preview|video)/)?pageCSSName="game-package-cricket":path.match(/\/(cricket)\/(scoreboard|scores)/)&&(pageCSSName="scoreboards")):pageCSSName=path.match(/\/(cricket)\/(.*)(game|summary|report|preview|video)/)?"game-package-cricket":path.match(/\/(standings|rankings)$/)?"standings":path.match(/\/(team|club)$/)?"clubhouses":path.match(/\/(?:scoreboard|scores)($|\/(team|series))/)?"scoreboards":path.match(/\/(schedule)$/)?"schedules":path.match(/\/(video\/clip)$/)?"watch":path.match(/\/(?:nfl|ncf|college-football|)\/(?:boxscore|playbyplay|summary|game|matchup|conversation|video|recap|preview)$/)?"game-package-football":path.match(/\/soccer\/(?:summary|preview|match|stats|report|commentary|match-table|lineups|conversation)$/)?"game-package-soccer":path.match(/\/(?:nba|mens-college-basketball|womens-college-basketball|wnba|ncb|ncw|mens-olympic-basketball|womens-olympic-basketball|nba-summer-league|nba-summer|nba\/summerleague)\/(?:game|preview|recap|boxscore|teamstats|matchup|playbyplay|video|conversation)$/)?"game-package-basketball":path.match(/\/(leaderboard)$/)?"game-package-golf":path.match(/\/(?:nba|nfl)\/draft\/(?:index|live|round|teams|position|bestavailable|news)?/)?path.match(/\/news/)?"draftcast-news":"draftcast":"story",path.match(/\/blog\//)&&(pageCSSName="story"),pageCSSName},getSportIdFromURL:function(url){return this.sportToSportId(this.getSportFromURL(url))},getSportFromURL:function(url){var ilen,jlen,sport=null,i=0,j=0;if("string"==typeof url){var urlArray=url.split("/"),sportTypes=["nfl","nhl","mlb","wnba","ncf","ncb","ncw","rpm","soccer","golf","ncaa","nba","tennis","mma"];for(ilen=urlArray.length;i<ilen;i++){var chunk=urlArray[i],root=chunk;for("mens-college-basketball"===chunk?root="ncb":"college-football"===chunk?root="ncf":"womens-college-basketball"===chunk?root="ncw":"olympics"===chunk?root="oly":"auto-racing"===chunk?root="rpm":"boston"!==chunk&&"dallas"!==chunk&&"chicago"!==chunk||(root="stations"),j=0,jlen=sportTypes.length;j<jlen;j++){var sportType=sportTypes[j];if(root.indexOf(sportType)>-1){sport=sportType;break}}null===sport&&urlArray.length>2&&(sport=urlArray[2])}}return sport},sportToSportId:function(sport){var sports={golf:1106,mlb:10,nba:46,ncb:41,ncf:23,ncw:54,nfl:28,nhl:90,mma:3301,rpm:2e3,tennis:850,wnba:59};return sports[sport.toLowerCase()]},getParameterByName:function(name,url){name=name.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var regex=new RegExp("[\\?&]"+name+"=([^&#]*)"),results=regex.exec(url);return null===results?"":decodeURIComponent(results[1].replace(/\+/g," "))},shortenPlayerName:function(options){var displayName=options.displayName,firstName=options.firstName,lastName=options.lastName,type=options.type;if("string"==typeof displayName&&!firstName&&!lastName){lastName="";var token=displayName.split(" ");if(token.length>1){firstName=token[0];for(var i=1;i<token.length;i++)lastName=lastName+(lastName.length?" ":"")+token[i]}else firstName=displayName}return type||(type="firstInitial"),"firstInitial"===type&&firstName.indexOf(".")===-1&&(firstName=firstName.substring(0,1)+". "),firstName+" "+lastName},regularImage:function(options){var defaultSrc="",src=options.src,width=options.width,height=options.height,lazyload=options.lazyload===!0||void 0===options.lazyload;"string"==typeof src&&((src.indexOf("http://a.espncdn.com")>-1||src.indexOf("http://media.video-cdn.espn.com")>-1)&&(src=src.replace("a.espncdn.com","a1.espncdn.com/combiner/i?img="),src=src.replace("media.video-cdn.espn.com","a2.espncdn.com/combiner/i?img=/media"),src+=src.indexOf("?")<=0?"?h=":"&h=",src=src+height+"&scale=crop&w="+width),defaultSrc=src);var classStr=lazyload?'class="lazyload"':"",imageAttr=lazyload?"data-src":"src";return"<img "+classStr+" "+imageAttr+'="'+defaultSrc+'">'},getCookieDomain:function(hostname){hostname=hostname||window.location.hostname;var match=hostname.match(/[^.]+(?:\.com?(?:\.[a-z]{2})?|(?:\.[a-z]+))?$/i);return window._.isArray(match)?match[0]:document.domain}}}(this),function($){window.espn_ui.Helpers.build_or_destroy=function(params,build,destroy,requires_reinit){function checkParams(){var decision=!0,mq=espn_ui.media_query_in_use;return(window.Modernizr.touch&&!opts.touch||!window.Modernizr.touch&&!opts.notouch)&&(decision=!1),"mobile"!==mq||opts.mobile||(decision=!1),"tablet"!==mq||opts.tablet||(decision=!1),"desktop-lg"!==mq||opts["desktop-lg"]&&opts.desktop||(decision=!1),"mobile"===mq||"tablet"===mq||"desktop-lg"===mq||opts.desktop||(decision=!1),decision}function doDestroy(){void 0!==destroy&&"function"==typeof destroy&&built&&(destroy(),built=!1)}function doBuild(){void 0===build||"function"!=typeof build||built&&!rebuild||(rebuild&&doDestroy(),build(),built=!0)}function build_or_destroy(){checkParams()?doBuild():doDestroy()}var espn_ui=window.espn_ui,defaults={touch:!0,notouch:!0,mobile:!0,tablet:!0,desktop:!0,"desktop-lg":!0},opts=$.extend({},defaults,params),built=!1,rebuild=void 0!==requires_reinit&&requires_reinit===!0;$(document).on("media_query_updated",function(){build_or_destroy()}),build_or_destroy()}}(jQuery),function($){var espn_ui=window.espn_ui;espn_ui.Helpers.breakpoint_css_class=function(){function updateClass(){insert_class="mobile"!==espn_ui.media_query_in_use&&"tablet"!==espn_ui.media_query_in_use?"desktop":espn_ui.media_query_in_use,$html.removeClass(old_class).addClass(insert_class),old_class=insert_class}var $html=$("html"),old_class="",insert_class="";$(document).on("media_query_updated",function(){updateClass()}),updateClass()}}(window.jQuery),window.espn_ui.Helpers.translate=function(window){"use strict";var translate,espn=window.espn||{},_=window._||{},doTranslation=function(str,keywords){return translate?translate(str,keywords):str};window.location.search.indexOf("_translate=true")!==-1&&(doTranslation=function(str,keywords){var translations=espn.i18n.translations||{};return translate&&str in translations?translate(str,keywords):"{{{"+str+":"+str+"}}}"});var withPrefixedKey=function(toTranslate,prefixKey){var key=prefixKey+"."+toTranslate,translated=window.espn_ui.Helpers.translate.t(key);return key!==translated&&""!==translated||(translated=toTranslate),translated};return{t:doTranslation,init:function(){window.underi18n&&espn&&espn.i18n&&espn.i18n.translations&&(translate=window.underi18n.MessageFactory(espn.i18n.translations))},withPrefixedKey:withPrefixedKey,uriLocalizeTo:function(translatedLink,targetVersion){var targetUrls=(espn.i18n.uriRewrites.urls||{})["to"+targetVersion]||{},targetRoots=(espn.i18n.uriRewrites.roots||{})["to"+targetVersion]||{},targetPathSegments=(espn.i18n.uriRewrites.pathSegments||{})["to"+targetVersion]||{},targetParamKeys=(espn.i18n.uriRewrites.paramKeys||{})["to"+targetVersion]||{},targetParamValues=(espn.i18n.uriRewrites.paramValues||{})["to"+targetVersion]||{},relativeLink=translatedLink.replace(/^(http|https):\/\/([_a-z0-9\-.:]+)/,""),root=translatedLink.replace(relativeLink,""),uriPath="",fancyQueryStart=relativeLink.indexOf("/_/"),queryStart=relativeLink.indexOf("?"),pathEnd=Math.max(fancyQueryStart,queryStart);
uriPath=pathEnd===-1?relativeLink:relativeLink.substring(0,pathEnd),_.each(Object.keys(targetRoots).reverse(),function(sourceRoot){if(0===uriPath.indexOf(sourceRoot))return uriPath=uriPath.replace(sourceRoot,targetRoots[sourceRoot]),!1});var localizedUrl=_.map(uriPath.split("/"),function(pathSegment){return targetPathSegments[pathSegment]||pathSegment}).join("/");if(localizedUrl=targetUrls[localizedUrl]||localizedUrl,fancyQueryStart!==-1){var uriFancyQuery=queryStart===-1?relativeLink.substring(fancyQueryStart+3):relativeLink.substring(fancyQueryStart+3,queryStart),uriFancyQueryParts=uriFancyQuery.split("/"),translatedUriFancyQueryParts=[],targetParamGroups=[targetParamKeys,targetParamValues];uriFancyQueryParts.forEach(function(uriFancyQueryPart,i){translatedUriFancyQueryParts.push(targetParamGroups[i%2][uriFancyQueryPart]||uriFancyQueryPart)}),translatedUriFancyQueryParts.length>0&&(localizedUrl=localizedUrl+"/_/"+translatedUriFancyQueryParts.join("/"))}if(queryStart!==-1){var queryParts=[],queryString=relativeLink.substring(queryStart+1),query=function(){var q={},queryStringParts=queryString.split("&");return queryStringParts.forEach(function(queryStringPart){var queryStringKeyValue=queryStringPart.split("=");q[queryStringKeyValue[0]]=queryStringKeyValue[1]||""}),q}();query=espn_ui.Helpers.translate.uriParamsLocalizeTo(query,targetVersion),Object.keys(query).forEach(function(key){queryParts.push(key+"="+query[key])}),queryParts.length>0&&(localizedUrl=localizedUrl+"?"+queryParts.join("&"))}return""!==root&&(localizedUrl=root+localizedUrl),localizedUrl},uriParamsLocalizeTo:function(translatedQuery,targetVersion){var untranslatedQuery={},targetParamKeys=(espn.i18n.uriRewrites.paramKeys||{})["to"+targetVersion]||{},targetParamValues=(espn.i18n.uriRewrites.paramValues||{})["to"+targetVersion]||{};return Object.keys(translatedQuery||{}).forEach(function(translatedKey){var translatedValue=translatedQuery[translatedKey],untranslatedKey=targetParamKeys[translatedKey]||translatedKey,untranslatedValue=null;untranslatedValue="string"==typeof translatedValue?targetParamValues[translatedValue]||translatedValue:translatedValue,untranslatedQuery[untranslatedKey]=untranslatedValue}),untranslatedQuery}}}(this),window._.mixin({translate:function(str,keywords){return window.espn_ui.Helpers.translate.t(str,keywords)}}),function(root,factory){"function"==typeof define&&define.amd?define(["jquery","underscore"],function($,_){return root.espn.fanapi=factory($,_)}):"object"==typeof module&&module.exports?module.exports=factory(require("jquery"),require("underscore")):root.espn.fanapi=factory(root.jQuery,root._)}(this,function($,_){function getCoreFanAPIHost(){var host="qa"===$.cookie("FAN_API_ENV")?"fan.core.api.qa.":"fan.core.api.",context=getEditionContext();if(context&&context.indexOf("cricinfo")>-1)return host+"espncricinfo.com";if(espn.isOneSite===!0&&"espn"===espnI18n.site)return host+rootDomain;switch(context){case"uk":return host+"espn.co.uk";case"india":return host+"espn.in";case"australia":return host+"espn.com.au";case"argentina":return host+"espn.com.ar";case"chile":return host+"espn.cl";case"columbia":return host+"espn.com.co";case"mexico":return host+"espn.com.mx";case"venezuela":return host+"espn.com.ve";default:return host+rootDomain}}function getProductFanAPIHost(){return"qa"===$.cookie("FAN_API_ENV")?"fan.api.qa."+rootDomain:"fan.api."+rootDomain}function getStore(cacheKey){return cacheKey===KEYS_CACHE_KEY?espn.storageFactory.getMostPermanent():cacheKey.toString().match(/displayEvents=true/)?espn.storageFactory.getTransient():espn.storageFactory.getMostPermanent()}function getStorageItem(cacheKey){return getStore(cacheKey).getItem(cacheKey)}function setStorageItem(cacheKey,item){return getStore(cacheKey).setItem(cacheKey,item)}function removeStorageItem(cacheKey){return getStore(cacheKey).removeItem(cacheKey)}function handleSuccess(callback,scopeObj,data,jqXHR){callback&&callback.success&&callback.success.apply(scopeObj,[data,jqXHR])}function handleError(callback,scopeObj,jqXHR){callback&&callback.error&&callback.error.call(scopeObj,jqXHR)}function cacheItem(cacheKey,item){setStorageItem(cacheKey,{item:item,expiresAt:(new Date).getTime()+6e5});var allCacheKeys=getStorageItem(KEYS_CACHE_KEY)||[];allCacheKeys.push(cacheKey),setStorageItem(KEYS_CACHE_KEY,_.uniq(allCacheKeys))}function stripContent(data){return data=$.extend(!0,{},data),data&&_.each([data.preferences,data.recommendations],function(collection){_.isArray(collection)&&_.each(collection,function(preference){if(preference){var metadata=preference.metaData;metadata&&(delete metadata.events,delete metadata.nowFeed,metadata.entry&&(delete metadata.entry.scoreboardFeedURL,delete metadata.entry.points))}})}),data}function filterFetchResponse(fanData){var rejectedTeams=espn.storage.getPermItem("favTeamReject");if(_.isArray(fanData&&fanData.recommendations)&&_.isArray(rejectedTeams))for(var i=fanData.recommendations.length-1;i>=0;i--){var recommendation=fanData.recommendations[i];if(recommendation&&recommendation.type&&2===recommendation.type.id){for(var rejectedTeamFound=!1,j=0;j<rejectedTeams.length;j++){var rejectedTeam=rejectedTeams[j];if((rejectedTeam.sportId&&rejectedTeam.sportId.toString())===recommendation.metaData.sportId.toString()&&(rejectedTeam.teamId&&rejectedTeam.teamId.toString())===recommendation.metaData.teamId.toString()){rejectedTeamFound=!0;break}}rejectedTeamFound&&fanData.recommendations.splice(i,1)}}return fanData}function getEditionContext(){var editionKey=espnI18n.editionKey,contexts={"espnuk-en":"uk","espnin-en":"india","espnau-en":"australia","espnww-en":"global_en","espnza-en":"southafrica","espn-pt-br":"brazil","espn-es-us":"deportes","espn-es-ar":"argentina","espn-es-cl":"chile","espn-es-co":"columbia","espn-es-mx":"mexico","espn-es-ve":"venezuela","espncricinfo-en-ww":"espncricinfo-en-ww","espncricinfo-en-za":"espncricinfo-en-za","espncricinfo-en-au":"espncricinfo-en-au","espncricinfo-en-bd":"espncricinfo-en-bd","espncricinfo-en-in":"espncricinfo-en-in","espncricinfo-en-nz":"espncricinfo-en-nz","espncricinfo-en-pk":"espncricinfo-en-pk","espncricinfo-en-lk":"espncricinfo-en-lk","espncricinfo-en-uk":"espncricinfo-en-uk","espncricinfo-en-us":"espncricinfo-en-us"};return contexts[editionKey]}function getPersonalizationSource(){var sport="",editionContext=getEditionContext();return espn&&espn.sports&&(sport=espn.sports.getSport()),"fantasy"===sport?"espncom-fantasy":editionContext?"espncom-"+editionContext:"ESPN.com - FAM"}function executeCreateFanRequest(callback){if(!espn.core.loggedIn)return void handleError(callback,this,{status:401,statusText:"Unauthorized",statusCode:function(){return 401}});if(!espnI18n.personalization)return void handleError(callback,this,{status:403,statusText:"Forbidden",statusCode:function(){return 403}});var fanData={id:espn.core.SWID,profile:{settings:{videoAutoStart:{value:"1"}},useSortGlobal:!1}},createFan=function(data,callback){$.ajax("http://"+getCoreFanAPIHost()+"/apis/v2/fans/"+encodeURIComponent(espn.core.SWID),{type:"POST",data:JSON.stringify(data),contentType:"application/json",cache:!1,xhrFields:{withCredentials:!0},beforeSend:function(jqXHR){jqXHR.setRequestHeader("X-Personalization-Source",getPersonalizationSource())}}).done(function(createFanData,textStatus,jqXHR){handleSuccess(callback,this,createFanData,jqXHR)}).fail(function(jqXHR){handleError(callback,this,jqXHR)})};$.when(espn.geo.getLocation()).done(function(locationData){locationData&&locationData.postCode?(fanData.profile.postalCode=locationData.postCode,createFan(fanData,callback)):createFan(fanData,callback)}).fail(function(){createFan(fanData,callback)})}function executeRequest(type,endpoint,data,callback,force){if(force||!isExecutingRequest){if(!espn.core.loggedIn)return handleError(callback,this,{status:401,statusText:"Unauthorized",statusCode:function(){return 401}}),void(requestQueue=[]);if(!espnI18n.personalization)return handleError(callback,this,{status:403,statusText:"Forbidden",statusCode:function(){return 403}}),void(requestQueue=[]);isExecutingRequest=!0;var ajaxOptions={};navigator.userAgent.match(/MSIE 9\.0/)?ajaxOptions={url:"/core/api/v0/favorites/proxyFanAPIRequest",type:"POST",data:{espn_s2:$.cookie("espn_s2"),SWID:espn.core.SWID,endpoint:endpoint,type:type,data:data,personalizationSource:getPersonalizationSource()},dataType:"html",cache:!1,_noCdn:!0}:(ajaxOptions={url:"http://"+getCoreFanAPIHost()+"/apis/v2/fans/"+encodeURIComponent(espn.core.SWID)+endpoint,type:type,data:data,dataType:"html",xhrFields:{withCredentials:!0},cache:!1,beforeSend:function(jqXHR){jqXHR.setRequestHeader("X-Personalization-Source",getPersonalizationSource())}},"string"==typeof data&&data.match(/^[{[].*[\]}]$/)&&(ajaxOptions.contentType="application/json")),$.ajax(ajaxOptions).done(function(data,textStatus,jqXHR){espn.fanapi.emptyCache(),handleSuccess(callback,this,data,jqXHR),"function"==typeof window.postMessage&&window!==window.parent&&$.postMessage("fanapi_change","*",window.parent)}).fail(function(jqXHR){404===jqXHR.status?executeCreateFanRequest({success:function(){executeRequest(type,endpoint,data,callback,force)},error:function(jqXHR){handleError(callback,this,jqXHR)}}):handleError(callback,this,jqXHR)}).always(function(){if(requestQueue.length){var params=requestQueue.shift();executeRequest(params[0],params[1],params[2],params[3],!0)}else isExecutingRequest=!1,$.publish("fanapi_request_queue_cleared")})}else requestQueue.push([type,endpoint,data,callback])}function getEditionParams(){var editionParams={},editionContext=getEditionContext();return editionContext&&(editionParams.context=editionContext),espnI18n.lang&&(editionParams.lang=espnI18n.lang),espnI18n.site&&(editionParams.section=sectionsBySite[espnI18n.site]||espnI18n.site),espnI18n.country&&(editionParams.region=espnI18n.country),editionParams}function executeFetch(data,cacheKey){function getAJAXOptions(){var ajaxURL="http://"+getProductFanAPIHost()+"/apis/v2/";ajaxURL+=_.has(data,"SWID")?"cached/fans/"+encodeURIComponent(data.SWID):"fans/"+encodeURIComponent(espn.core.SWID);var ajaxData=_.extend({},data,{source:getPersonalizationSource()},getEditionParams()),ajaxOptions={url:ajaxURL,data:ajaxData,dataType:"json"};return ajaxURL.match(/cached/)||_.extend(ajaxOptions,{xhrFields:{withCredentials:!0}}),ajaxOptions}var getDeferredObject=getDeferredObjects[cacheKey];if(getDeferredObject){if(!espn.core.loggedIn&&!data.hasOwnProperty("SWID"))return void getDeferredObject.reject({status:401,statusText:"Unauthorized",statusCode:function(){return 401}});if(!espnI18n.personalization)return void getDeferredObject.reject({status:403,statusText:"Forbidden",statusCode:function(){return 403}});$.ajax(getAJAXOptions()).done(function(data,textStatus,jqXHR){cacheItem(cacheKey,data),getDeferredObject.resolve(filterFetchResponse(data),jqXHR),espn.storage.setPermItem(BASE_CACHE_KEY+"_lastGoodFavorites",stripContent(data))}).fail(function(jqXHR){var savedFavorites=espn.storage.getPermItem(BASE_CACHE_KEY+"_lastGoodFavorites");savedFavorites?getDeferredObject.resolve(filterFetchResponse(savedFavorites),jqXHR):getDeferredObject.reject(jqXHR)})}}var BASE_CACHE_KEY="fanapi_fan",KEYS_CACHE_KEY=BASE_CACHE_KEY+"_keys",requestQueue=[],isExecutingRequest=!1,getDeferredObjects={},pageHost=window.location.hostname,espnI18n=espn.i18n||{},rootDomain="espn.com";if(/espn\.com$/.test(pageHost)?rootDomain="espn.com":/espnqa\.com$/.test(pageHost)&&(rootDomain="espnqa.com"),"espncricinfo"===espnI18n.site){var cricS2=$.cookie("espncricinfo_s2");cricS2&&$.cookie("espn_s2",cricS2,{domain:".espncricinfo.com"})}var sectionsBySite={espncricinfo:"cricinfo"};return $.subscribe("favorite-game:update",function(updatedEvent){var allCacheKeys=getStorageItem(KEYS_CACHE_KEY)||[];_.each(_.filter(allCacheKeys,function(key){return key.toString().match(/displayEvents=true/)}),function(key){var flag=!1,cache=getStorageItem(key);if(cache&&cache.item){var preferences=cache.item.preferences||[];_.each(preferences,function(preference){if(preference.metaData&&_.isArray(preference.metaData.events))for(var events=preference.metaData.events,eventIndex=0;eventIndex<events.length;eventIndex++){var event=events[eventIndex];if(event.id.toString()===updatedEvent.id.toString()){events[eventIndex]=$.extend(updatedEvent,{league:event.league}),flag=!0;break}}}),flag&&(setStorageItem(key,{item:cache.item,expiresAt:cache.expiresAt}),getDeferredObjects[key]=null)}})}),{get:function(optionsSetOrOptions){var options={};optionsSetOrOptions&&"object"==typeof optionsSetOrOptions&&(options=optionsSetOrOptions),_.isEmpty(options)&&("/preferences/favorites_management"===window.location.pathname?optionsSetOrOptions="fam":$("body").hasClass("index")&&"index"===$("body").data("pagetype")&&(optionsSetOrOptions="index"),"string"==typeof optionsSetOrOptions&&(options=espn.fanapi.getOptions(optionsSetOrOptions)));var cacheKey=null;if(_.isEmpty(options)){var allCacheKeys=getStorageItem(KEYS_CACHE_KEY);_.isArray(allCacheKeys)&&$.each(allCacheKeys,function(){if("string"==typeof this&&!this.match(/displayHiddenPrefs/))return cacheKey=this,!1})}null===cacheKey&&(cacheKey=espn.fanapi.buildCacheKey(options));var cache=getStorageItem(cacheKey),getDeferredObject=getDeferredObjects[cacheKey];if(cache){if(cache.expiresAt>(new Date).getTime())return getDeferredObject||(getDeferredObject=new $.Deferred,getDeferredObjects[cacheKey]=getDeferredObject),getDeferredObject.resolve(filterFetchResponse(cache.item)),getDeferredObject.promise();removeStorageItem(cacheKey),getDeferredObject=getDeferredObjects[cacheKey]=null}return getDeferredObject&&"rejected"!==getDeferredObject.state()||(getDeferredObject=new $.Deferred,getDeferredObjects[cacheKey]=getDeferredObject,isExecutingRequest?$.subscribe("fanapi_request_queue_cleared",function onRequestQueueCleared(){executeFetch(options,cacheKey),window.setTimeout(function(fxn){return function(){$.unsubscribe(["fanapi_request_queue_cleared",fxn])}}(onRequestQueueCleared),0)}):executeFetch(options,cacheKey)),getDeferredObject.promise()},getAsP13n:function(optionsSetOrOptions){if(window.espn_ui.webview!==!0){var deferred=new $.Deferred;return $.when(espn.fanapi.get(optionsSetOrOptions)).done(function(data,jqXHR){var p13nData={myPreferences:data&&data.preferences,myFantasy:{entries:{favorites:[]}},myPlayers:[],mySettings:{},mySports:[],myTeams:[]},tmpSports=[];if(data&&data.profile&&$.extend(p13nData.mySettings,{hasNotificationPreferences:data.profile.hasNotificationPreferences,videoAutoStart:data.profile.settings&&data.profile.settings.videoAutoStart&&data.profile.settings.videoAutoStart.value}),data&&_.isArray(data.preferences)){var DRAFT_STATUS_DESCRIPTIONS={0:"PrePreDraft",1:"Undrafted",2:"Drafted",3:"InProgress",4:"Paused"},DRAFT_TYPE_DESCRIPTIONS={0:"Offline",1:"Snake",2:"Autopick",3:"Snail",4:"Auction"};_.each(data.preferences,function(preference){if("object"==typeof preference){var typeId=+preference.typeId||preference.type&&+preference.type.id;switch(typeId){case 1:var sport=preference.metaData&&preference.metaData.sport;sport&&tmpSports.push([preference.sortGlobal,{id:+sport.id||+preference.metaData.sportId,text:sport.abbreviation,sportAbbrev:sport.abbreviation,sportName:sport.name,fanAffinity:0}]);break;case 2:var team=preference.metaData&&preference.metaData.team;team&&p13nData.myTeams.push({sport:+preference.metaData.sportId,id:+preference.metaData.teamId,isFav:!0,text:team.text,sportAbbrev:team.sportAbbreviation,sportName:team.sportName,fanAffinity:0});break;case 3:var player=preference.metaData&&preference.metaData.player;player&&p13nData.myPlayers.push({sport:+preference.metaData.sportId,id:+preference.metaData.playerId,text:player.text,isFav:!0});break;case 9:var entry=preference.metaData&&preference.metaData.entry;if(entry){var favorite=_.find(p13nData.myFantasy.entries.favorites,function(obj){return obj.id===entry.seasonId});favorite||(favorite={id:entry.seasonId,sports:[]},p13nData.myFantasy.entries.favorites.push(favorite));var entryGroups=[],entryRecord="";if(_.isArray(entry.groups)&&entry.groups.length){var entryGroup=entry.groups[0];entryGroups.push({activationDate:new Date(entryGroup.activationDate||0).toISOString(),draftDate:new Date(entryGroup.draftDate||0).toISOString(),draftStatus:DRAFT_STATUS_DESCRIPTIONS[entryGroup.draftStatus]||entryGroup.draftStatus,draftType:DRAFT_TYPE_DESCRIPTIONS[entryGroup.draftType]||entryGroup.draftType,drafting:3===entryGroup.draftStatus||4===entryGroup.draftStatus,fantasyCastHref:entryGroup.fantasyCastHref,groupManager:entryGroup.groupManager,groupRank:entryGroup.rank,groupSize:entryGroup.groupSize,href:entryGroup.href,id:entryGroup.groupId,losses:entryGroup.losses,name:entryGroup.groupName,rankFormatted:entryGroup.rank+"/"+entryGroup.groupSize,ties:entryGroup.ties,wins:entryGroup.wins}),entryRecord=entryGroup.rank+"-"+entryGroup.groupSize}favorite.sports.push({organizations:[{games:[{abbrev:entry.abbrev,entries:[{archived:entry.archived,entryLocation:entry.entryLocation,entryURL:entry.entryURL,groups:entryGroups,id:[entry.entryId,entry.gameId,entryGroups[0]&&entryGroups[0].id||0,entry.seasonId].join(":"),logoId:entry.logoId,logoType:entry.logoType,logoURL:entry.logoUrl,name:entry.entryNickname,points:entry.points,priority:entry.priority,rank:entry.rank,record:entryRecord,scoresFeedURL:entry.scoreboardFeedURL,visible:entry.visible}],href:entry.href,id:entry.gameId,logoURL:entry.logoURL,name:entry.name,signupURL:entry.signupURL}]}]})}}}}),tmpSports.length&&(p13nData.mySports=_.map(_.sortBy(tmpSports,function(arr){return parseInt(arr[0],10)}),function(arr){return arr[1]}))}deferred.resolve(p13nData,jqXHR)}).fail(function(jqXHR){deferred.reject(jqXHR)}),deferred.promise()}},getRecommendations:function(options){options=$.extend({},options);var deferred=new $.Deferred,editionKey=espnI18n.editionKey,executeRecommendationsFetch=function(deferred,options){function getAJAXOptions(options){var ajaxOptions={},editionParams=getEditionParams();if("espn-en"===editionKey&&options.postalCode)_.extend(ajaxOptions,{url:"http://"+getProductFanAPIHost()+"/apis/v2/recommendations/postalCode/"+options.postalCode});else if(editionParams.context){var context=editionParams.context;_.extend(ajaxOptions,{url:"http://"+getProductFanAPIHost()+"/apis/v2/recommendations/context/"+context,data:editionParams})}return _.extend(ajaxOptions,{data:_.extend(ajaxOptions.data||{},{limit:5,source:getPersonalizationSource()},_.omit(options,["postalCode"])),cache:!0})}var ajaxOptions=getAJAXOptions(options);if(!espnI18n.personalization||!ajaxOptions.url)return void deferred.reject({status:403,statusText:"Forbidden",statusCode:function(){return 403}});var cacheKey=espn.fanapi.buildCacheKey(_.extend({},options,{edition:editionKey})),cache=getStorageItem(cacheKey);return cache&&cache.item?void deferred.resolve(filterFetchResponse(cache.item)):void $.ajax(ajaxOptions).done(function(data,textStatus,jqXHR){cacheItem(cacheKey,data),deferred.resolve(filterFetchResponse(data),jqXHR)}).fail(function(jqXHR){deferred.reject(jqXHR)})};return"espn-en"===editionKey?options.postalCode?executeRecommendationsFetch(deferred,options):$.when(espn.geo.getLocation()).done(function(locationData){"usa"===window.espn_util.find(locationData,["country","isoCode"])&&locationData.postCode?executeRecommendationsFetch(deferred,_.extend({},options,{postalCode:locationData.postCode})):deferred.reject()}).fail(function(){deferred.reject()}):executeRecommendationsFetch(deferred,options),deferred.promise()},buildCacheKey:function(options){if(options&&!_.isEmpty(options)){var optionsArr=[];for(var key in options)options.hasOwnProperty(key)&&optionsArr.push([key,options[key]]);return optionsArr=_.sortBy(optionsArr,function(pair){return pair[0].toString().toLowerCase()}),BASE_CACHE_KEY+"_"+($.cookie("FAN_API_ENV")||"prod")+"_"+_.map(optionsArr,function(pair){return pair[0]+"="+pair[1]}).join("&")}return BASE_CACHE_KEY},getOptions:function(optionsSetOrOptions){var options={};if("string"==typeof optionsSetOrOptions)switch(optionsSetOrOptions.toLowerCase()){case"fam":options={displayHiddenPrefs:!0,displayRecs:!0,recLimit:5,userId:espn.core.SWID};break;case"index":options={displayEvents:!0,displayNow:!0,displayRecs:!0,recLimit:5,userId:espn.core.SWID}}if(espn&&espn.sports){var context=espn.sports.getLeagueBySportAbbrev(espn.sports.getSport()),swidsToSection={boston:"{F1C637A0-6339-4679-BA6A-A2CBD3BB0BC0}",chicago:"{4AD05FA3-60AA-4761-8FFF-E12EAB7BF9CF}",cleveland:"{3D2C9385-0687-4A2D-844F-37C4188253C0}",dallas:"{4DAD5844-8769-4440-93B1-722ED0161B2F}","los-angeles":"{49C48C4C-044F-4F08-8B86-670ED28674F0}",losangeles:"{49C48C4C-044F-4F08-8B86-670ED28674F0}",milwaukee:"{D2D1F2FC-1A82-4618-8D07-3480737E95D7}","new-york":"{CF2FAA7B-4923-4077-89BF-524C6A8859CB}",newyork:"{CF2FAA7B-4923-4077-89BF-524C6A8859CB}"};context.match(/nfl|nba|mlb|nhl|college-football|mens-college-basketball|womens-college-basketball|fantasy|flb|ffl|fba|fhl/)?options=$.extend(options,{context:context}):swidsToSection.hasOwnProperty(context)&&(options=$.extend(options,{SWID:swidsToSection[context]}))}return options},createPreference:function(data,callback){if(data&&data.preferenceTypeId){var entityIdKey=null;switch(data.entityTypeId&&data.entityTypeId.toString()||data.preferenceTypeId.toString()){case"1":entityIdKey="sportId";break;case"2":entityIdKey="teamId"}var metadata=null;if(null!=entityIdKey&&null!=data.entityId&&(metadata={},metadata[entityIdKey]=data.entityId.toString()),null!=metadata){data.sportId&&(metadata.sportId=data.sportId.toString()),data.entityTypeId&&(metadata.typeId=data.entityTypeId),"11"===data.preferenceTypeId.toString()&&(metadata.action="reject");var stringData=JSON.stringify({typeId:data.preferenceTypeId.toString(),metaData:metadata});executeRequest("PUT","/preferences",stringData,{success:function(data,jqXHR){var match=null,preferenceId=null,location=jqXHR.getResponseHeader("Location");"string"==typeof location&&(match=location.match(/\/preferences\/([0-9A-Za-z-]+)/))&&(preferenceId=match[1]),callback&&"function"==typeof callback.success&&callback.success({preference_id:preferenceId})},error:callback&&callback.error})}}},updatePreference:function(data,callback){if(data&&data.preferenceId){var stringData=JSON.stringify(_.pick(data,"isHidden","sortGlobal"));executeRequest("POST","/preferences/"+data.preferenceId,stringData,callback)}},deletePreference:function(data,callback){data&&data.preferenceId&&executeRequest("DELETE","/preferences/"+data.preferenceId,"",callback)},updateProfile:function(data,callback){if(data){var stringData=JSON.stringify(_.pick(data,"settings","useSortGlobal"));executeRequest("POST","/profile/",stringData,callback)}},rejectRecommendation:function(data,callback){var createData={preferenceTypeId:11,sportId:data.sportId};data.teamId&&$.extend(createData,{entityId:data.teamId,entityTypeId:2}),this.createPreference(createData,{success:callback&&callback.success,error:callback&&callback.error})},emptyCache:function(){var allCacheKeys=getStorageItem(KEYS_CACHE_KEY)||[];_.each(allCacheKeys,function(key){espn.storage.removePermItem(key),espn.storage.removeItem(key)}),removeStorageItem(KEYS_CACHE_KEY),_.each(getDeferredObjects,function(deferred,key){deferred&&"pending"===deferred.state()||delete getDeferredObjects[key]}),espn.p13nEvents&&espn.p13nEvents.deferreds&&_.each(espn.p13nEvents.deferreds,function(deferred,key){deferred&&"pending"===deferred.state()||delete espn.p13nEvents.deferreds[key]});for(var i=0;i<window.sessionStorage.length;i++){var key=window.sessionStorage.key(i);key.match(BASE_CACHE_KEY)&&(window.sessionStorage.removeItem(key),espn.storage.removeItem(key))}espn.storage.removePermItem(BASE_CACHE_KEY+"_lastGoodFavorites")}}}),function(){function SocketListener(){this.tc}function Message(){this.op,this.pl,this.tc,this.rc,this.sid,this.lt=!1}function AbstractSocketConnector(){this.handlers={},this.server,this.path,this.sid}function WebSocketConnector(){WebSocketConnector.__super.call(this),this.socket,this.ready=!1,this.state=WebSocketConnector.state.DISCONNECTED}function buildURI(server,path,callback,protocol){function handlePreconnect(response,status,jqxhr){if(DTSS_WebSockets.RECONNECT&&(DTSS_WebSockets.RECONNECT=!1,DTSS_WebSockets.RECONNECT_TRIES=0,DTSS_WebSockets.PRECONNECT=!0),errorAttempts=0,void 0!==response){var commaIndex=response.indexOf(",");if(commaIndex>0){var ip=response.substring(0,commaIndex),token=response.substring(commaIndex+1),newWsUri=ip+path;this.server=ip,"undefined"!=typeof token&&""!==token&&(newWsUri+="?TrafficManager-Token="+token),this.forced&&void 0!==jqxhr&&"object"==typeof jqxhr&&"function"===jqxhr.getResponseHeader&&(env=jqxhr.getResponseHeader("Env"),newWsUri+="&Env="+env),callback.call(this,protocol+"//"+newWsUri)}}}function handlePreconnectError(error){if(DTSS_WebSockets.FORCE_PRECONNECT||DTSS_WebSockets.RECONNECT||404!==error.status&&0!==error.status){DTSS_WebSockets.RECONNECT_TRIES++,DTSS_WebSockets.RECONNECT_TRIES>=3&&(DTSS_WebSockets.RECONNECT=!1);var waitTime=getErrorWaitTime(1e3);setTimeout(function(){jQuery.ajax(config)},waitTime)}else callback.call(this,defaultUrl)}var protocolIndicator=server.indexOf("://");void 0===protocol&&(protocol="https:"===window.location.protocol?"wss:":"ws:"),protocolIndicator>-1&&(server=server.slice(protocolIndicator+3)),this.server=server;this.protocol=protocol,this.path=path||this.path,"/"!==this.path.charAt(0)&&(this.path="/"+this.path);var defaultUrl=protocol+"//"+this.server+this.path;if(this.forced||(DTSS_WebSockets.PRECONNECT||DTSS_WebSockets.RECONNECT)&&!DTSS_WebSockets.PRECONNECTED){DTSS_WebSockets.PRECONNECTED=!0;var config=jQuery.extend({},DTSS_WebSockets.AJAX_CONFIG);if(config.url=DTSS_WebSockets.TRAFFIC_MANAGER,config.async=!0,config.cache=!0,config.context=this,config.success=handlePreconnect,config.error=handlePreconnectError,jQuery.support.cors)jQuery.ajax(config);else{var xdr=new XDomainRequest,me=this;xdr.open("get",DTSS_WebSockets.TRAFFIC_MANAGER),xdr.onload=function(){var data=xdr.responseText;handlePreconnect.call(me,data)},xdr.ontimeout=function(){handlePreconnectError.call(me,{status:0})},xdr.onerror=function(){handlePreconnectError.call(me,{status:0})},setTimeout(function(){xdr.send()},0)}}else callback.call(this,defaultUrl)}function getErrorWaitTime(duration){errorAttempts++;var result=Math.floor(duration*Math.pow(errorMultiplier,errorAttempts));return result>DTSS_WebSockets.MAX_WAIT&&(result=DTSS_WebSockets.MAX_WAIT),result}function FlashSocketConnector(){FlashSocketConnector.__super.call(this),this.socket=null,this.ready=!1,this._onConnectionSuccess=jQuery.proxy(WebSocketConnector.prototype._onConnectionSuccess,this),this.subscribe=jQuery.proxy(WebSocketConnector.prototype.subscribe,this),this.unsubscribe=jQuery.proxy(WebSocketConnector.prototype.unsubscribe,this),this.publish=jQuery.proxy(WebSocketConnector.prototype.publish,this),this.disconnect=jQuery.proxy(WebSocketConnector.prototype.disconnect,this)}function SocketConnectorFactory(){}function SocketManager(){this.connector=SocketConnectorFactory.createSocketConnector()}function extendClass(subClass){function SuperClass(){}SuperClass.prototype=this.prototype,subClass.prototype=new SuperClass,subClass.prototype.constructor=subClass,subClass.__super=this,subClass.__super_proto=this.prototype,subClass.extendClass=extendClass}function noop(){}SocketListener.prototype.messageReceived=function(message,type,isLast){throw new Error("SocketListener.messageReceived() must be overridden by implementation class")},SocketListener.prototype.onSubscribed=noop,SocketListener.prototype.onUnsubscribed=noop,SocketListener.prototype.connectionClosed=noop,SocketListener.extendClass=extendClass,Message.C="C",Message.S="S",Message.U="U",Message.P="P",Message.B="B",Message.H="H",Message.R="R",Message.prototype.getTc=function(){return this.tc},Message.prototype.getSid=function(){return this.sid},Message.prototype.getRc=function(){return this.rc},Message.prototype.getLt=function(){return this.lt},Message.prototype.setOp=function(op){this.op=op},Message.prototype.getOp=function(){return this.op},Message.prototype.setPl=function(pl){this.pl=pl},Message.prototype.getPl=function(){return this.pl},Message.prototype.serialize=function(){var message={tc:this.tc,op:this.op,sid:this.sid};return null!=this.pl&&(message.pl=JSON.stringify(this.pl)),JSON.stringify(message)},Message.prototype.deserialize=function(raw){var response=JSON.parse(raw);response.tc&&(this.tc=response.tc),this.op=response.op,response.sid&&(this.sid=response.sid),response.rc&&(this.rc=response.rc),response.lt&&(this.lt=response.lt),this.pl=JSON.parse(raw)},Message.extend=extendClass,AbstractSocketConnector.prototype.connect=function(server){throw new Error("AbstractSocketConnector.connect() must be overwritten by implementation object")},AbstractSocketConnector.prototype.disconnect=function(){throw new Error("AbstractSocketConnector.disconnect() must be overwritten by implementation object")},AbstractSocketConnector.prototype.subscribe=function(listener){throw new Error("AbstractSocketConnector.subscribe() must be overwritten by implementation object")},AbstractSocketConnector.prototype.unsubscribe=function(listener){throw new Error("AbstractSocketConnector.unsubscribe() must be overwritten by implementation object")},AbstractSocketConnector.prototype.publish=function(tc,pl){throw new Error("AbstractSocketConnector.publish() must be overwritten by implementation object")},AbstractSocketConnector.prototype.onConnected=noop,AbstractSocketConnector.prototype.onDisconnected=noop,AbstractSocketConnector.prototype.onSubscribed=noop,AbstractSocketConnector.prototype.onUnsubscribed=noop,AbstractSocketConnector.prototype.onPublished=noop,AbstractSocketConnector.prototype.onOpen=function(message){200===message.rc&&(this.sid=message.sid,this.onConnected(this.sid))},AbstractSocketConnector.prototype.onClose=function(){var handlers,listener,i,id=this.sid;for(var tc in this.handlers){for(handlers=this.handlers[tc],i=handlers.length;i--;)listener=handlers.shift(),listener.connectionClosed();delete this.handlers[tc]}this.onDisconnected(id)},AbstractSocketConnector.prototype.onError=function(error){},AbstractSocketConnector.prototype.onMessage=function(data){var handlers,len,listener,message;if(data instanceof Message?message=data:"string"==typeof data?(message=new Message,message.deserialize(data)):(message=new Message,message.tc=data.tc,message.rc=data.rc,data.rc&&(message.rc=data.rc),message.op=data.op,0==data.pl.indexOf("{")||0==data.pl.indexOf("[")?(message.pl=JSON.parse(data.pl),data.pl=message.pl):message.pl=data.pl,message.sid=data.sid,data.lt&&(message.lt=data.lt)),!message.rc&&(handlers=this.handlers[message.tc],handlers instanceof Array))for(handlers=handlers.concat(),len=handlers.length;len--;)listener=handlers.shift(),"messageReceived"in listener&&listener.messageReceived instanceof Function&&listener.messageReceived(message.getPl(),message.getOp(),message.getLt(),data)},AbstractSocketConnector.canHandle=function(){throw new Error("The AbstractSocketConnector.canHandle() method must be overridden by implementing definition")},AbstractSocketConnector.extend=extendClass,AbstractSocketConnector.extend(WebSocketConnector),WebSocketConnector.state={DISCONNECTED:0,CONNECTED:1},WebSocketConnector.topicState={UNSUBSCRIBED:0,SUBSCRIBED:1};var errorMultiplier=1.5,errorAttempts=0;WebSocketConnector.prototype.connect=function(server,path){null==this.socket&&buildURI.call(this,server,path,function(wsUri){this.socket=new WebSocket(wsUri),this.socket.addEventListener("open",jQuery.proxy(this,"_onConnect")),this.socket.addEventListener("close",jQuery.proxy(this,"_onDisconnect")),this.socket.addEventListener("error",jQuery.proxy(this,"_onError")),this.socket.addEventListener("message",jQuery.proxy(this,"_onMessage"))})},WebSocketConnector.prototype.disconnect=function(){this.socket&&"object"==typeof this.socket&&1==this.socket.readyState&&this.socket.close()},
WebSocketConnector.prototype.subscribe=function(listener){if(!(listener instanceof SocketListener))return!1;if("string"!=typeof listener.tc)return!1;var message,tc=listener.tc,handlers=this.handlers[tc];return handlers instanceof Array||(handlers=[],handlers.STATE=WebSocketConnector.topicState.UNSUBSCRIBED,this.handlers[tc]=handlers),handlers.indexOf(listener)===-1&&handlers.push(listener),1===handlers.length&&this.state>WebSocketConnector.state.DISCONNECTED&&(message=new Message,message.tc=listener.tc,message.op=Message.S,message.sid=this.sid,this.socket&&"object"==typeof this.socket&&1==this.socket.readyState&&this.socket.send(message.serialize()),handlers.STATE=WebSocketConnector.topicState.SUBSCRIBED),!0},WebSocketConnector.prototype.unsubscribe=function(listener){var message,tc=listener.tc,handlers=this.handlers[tc],index=-1;return handlers instanceof Array&&(index=handlers.indexOf(listener),index>-1)&&(handlers.splice(index,1),handlers&&handlers.STATE&&(message=new Message,message.tc=tc,message.op=Message.U,message.sid=this.sid,this.socket&&"object"==typeof this.socket&&1==this.socket.readyState&&this.socket.send(message.serialize()),handlers.STATE=WebSocketConnector.topicState.UNSUBSCRIBED),!0)},WebSocketConnector.prototype.publish=function(tc,pl){if(null==pl||0==this.ready)return!1;var message=new Message;return message.tc=tc,message.op=Message.P,message.pl=pl,message.sid=this.sid,this.socket&&"object"==typeof this.socket&&1==this.socket.readyState&&this.socket.send(message.serialize()),!0},WebSocketConnector.canHandle=function(){return"WebSocket"in window&&"function"==typeof WebSocket.constructor},WebSocketConnector.prototype._onConnect=function(){this.ready=!0;var message=new Message;message.op=Message.C,this.socket&&"object"==typeof this.socket&&1==this.socket.readyState&&this.socket.send(message.serialize())},WebSocketConnector.prototype._onMessage=function(event){var message=new Message;switch(message.deserialize(event.data),message.getOp()){case Message.B:jQuery.publish("fc.ping");break;case Message.P:this.onMessage(message.pl,message.getOp(),!1);break;case Message.R:this.onMessage(message.pl,message.getOp(),message.getLt());break;case Message.C:this._onConnectionSuccess(message);break;case Message.S:this.onSubscribed(message.getTc());break;case Message.U:this.onUnsubscribed(message.getTc());break;case Message.H:this.onMessage(message.pl,message.getOp(),message.getLt())}},WebSocketConnector.prototype._onDisconnect=function(){this.onClose()},WebSocketConnector.prototype._onError=function(event){this.onError(event.data)},WebSocketConnector.prototype._onConnectionSuccess=function(message){var pubsubMessage,sid;if(200===message.getRc()){sid=message.getSid(),this.state=WebSocketConnector.state.CONNECTED;for(var tc in this.handlers)this.handlers[tc].STATE===WebSocketConnector.topicState.UNSUBSCRIBED&&(pubsubMessage=new Message,pubsubMessage.tc=tc,pubsubMessage.op=Message.S,pubsubMessage.sid=sid,this.socket&&"object"==typeof this.socket&&1==this.socket.readyState&&this.socket.send(pubsubMessage.serialize()),this.handlers[tc].STATE=WebSocketConnector.topicState.SUBSCRIBED);this.onOpen(message)}},AbstractSocketConnector.extend(FlashSocketConnector),FlashSocketConnector.canHandle=function(){var hasFlash=!1;try{var fo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");hasFlash=!!fo}catch(e){hasFlash=!(!navigator.mimeTypes||null==navigator.mimeTypes["application/x-shockwave-flash"]||!navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)}return hasFlash},FlashSocketConnector.prototype.connect=function(server,path){if(!this.socket){var sfwObjectLoaded=!1,webSocketsLoaded=!1,createSocket=null;window.WEB_SOCKET_SWF_LOCATION=DTSS_WebSockets.FLASH_FALLBACK.WEBSOCKET_SWF;var wsUri=void 0;buildURI.call(this,server,path,function(data){wsUri=data,jQuery.getScriptCache(DTSS_WebSockets.FLASH_FALLBACK.SWFOBJECT,jQuery.proxy(function(){sfwObjectLoaded=!0,createSocket.call(this)},this)),jQuery.getScriptCache(DTSS_WebSockets.FLASH_FALLBACK.WEBSOCKET_JS,jQuery.proxy(function(){webSocketsLoaded=!0,createSocket.call(this)},this))}),createSocket=function(){sfwObjectLoaded&&webSocketsLoaded&&(WebSocket.loadFlashPolicyFile("xmlsocket://"+this.server),this.socket=new WebSocket(wsUri),this.socket.onopen=jQuery.proxy(WebSocketConnector.prototype._onConnect,this),this.socket.onmessage=jQuery.proxy(WebSocketConnector.prototype._onMessage,this),this.socket.onclose=jQuery.proxy(WebSocketConnector.prototype._onDisconnect,this))}}},SocketConnectorFactory.CONNECTORS=[WebSocketConnector,FlashSocketConnector],SocketConnectorFactory.createSocketConnector=function(){for(var connector,connectors=SocketConnectorFactory.CONNECTORS,i=0,len=connectors.length;i<len;i++)if(connector=connectors[i],connector.canHandle()===!0)return new connector;return null},SocketManager.SERVER="localhost:8080",SocketManager.prototype.onConnectHandler=noop,SocketManager.prototype.onDisconnectHandler=function(id){delete this.connector,this.connector=SocketConnectorFactory.createSocketConnector()},SocketManager.prototype.onSubscribeHandler=noop,SocketManager.prototype.onUnsubscribeHandler=noop,SocketManager.prototype.onPublishHandler=noop,SocketManager.prototype.publish=function(tc,message){this.connector.publish(tc,message)},SocketManager.prototype.connect=function(path){var server=DTSS_WebSockets.SOCKET_ADDRESS||SocketManager.SERVER,that=this;this.connector instanceof AbstractSocketConnector&&(this.connector.onConnected=this.onConnectHandler,this.connector.onDisconnected=function(){that.onDisconnectHandler.call(that)},this.connector.onSubscribed=this.onSubscribeHandler,this.connector.onUnsubscribed=this.onUnsubscribeHandler,this.connector.onPublished=this.onPublishHandler,this.connector.connect(server,path))},SocketManager.prototype.disconnect=function(){this.connector instanceof AbstractSocketConnector&&this.connector.disconnect()},SocketManager.prototype.addListener=function(listener){var error={message:""};if(this.connector instanceof AbstractSocketConnector)this.connector.subscribe(listener);else if(null==this.connector&&null!=listener.onError)return error.message="Could not create a web socket",void listener.onError(error)},SocketManager.prototype.removeListener=function(listener){this.connector instanceof AbstractSocketConnector&&this.connector.unsubscribe(listener)},Array.prototype.indexOf||(Array.prototype.indexOf=function(searchElement){"use strict";if(null==this)throw new TypeError;var t=Object(this),len=t.length>>>0;if(0===len)return-1;var n=0;if(arguments.length>0&&(n=Number(arguments[1]),n!=n?n=0:0!=n&&n!=1/0&&n!=-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n)))),n>=len)return-1;for(var k=n>=0?n:Math.max(len-Math.abs(n),0);k<len;k++)if(k in t&&t[k]===searchElement)return k;return-1}),window.DTSS_WebSockets={SocketManager:new SocketManager,SocketListener:SocketListener,AbstractSocketConnector:AbstractSocketConnector,WebSocketConnector:WebSocketConnector,FlashSocketConnector:FlashSocketConnector,SocketConnectors:SocketConnectorFactory.CONNECTORS,buildURI:buildURI,SOCKET_ADDRESS:null,SOCKET_PORT:9571,PRECONNECT:!1,PRECONNECTED:!1,RECONNECT:!1,RECONNECT_TRIES:0,MAX_WAIT:6e4,FLASH_FALLBACK:{SWFOBJECT:"",WEBSOCKET_SWF:"",WEBSOCKET_JS:""},AJAX_CONFIG:{timeout:5e3,contentType:"text/plain",cache:!1}}}(),!function(){function t(t){this.message=t}var r="undefined"!=typeof exports?exports:this,e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=new Error,t.prototype.name="InvalidCharacterError",r.btoa||(r.btoa=function(r){for(var o,n,a=String(r),i=0,c=e,d="";a.charAt(0|i)||(c="=",i%1);d+=c.charAt(63&o>>8-i%1*8)){if(n=a.charCodeAt(i+=.75),n>255)throw new t("'btoa' failed: The string to be encoded contains characters outside of the Latin1 range.");o=o<<8|n}return d}),r.atob||(r.atob=function(r){var o=String(r).replace(/=+$/,"");if(o.length%4==1)throw new t("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,a,i=0,c=0,d="";a=o.charAt(c++);~a&&(n=i%4?64*n+a:a,i++%4)?d+=String.fromCharCode(255&n>>(-2*i&6)):0)a=e.indexOf(a);return d})}(),function($,_){"use strict";function sbDebuglog(){try{window.console.log.apply(window.console,arguments)}catch(e){}}function TopicListener(topic){this.tc=topic,this.callbacks=[],this.data={},this.messageQueue=[],this.uids=[],this.errorOptions=[],this.failed=!1,this.waitingForCheckpoint=!1,this.connectionAttempts=0,this.maxConnectionAttempts=7,this.intentionalDisconnect=!1,this.lastPing=(new Date).getTime(),this.lastCheckpointURL="",this.checkpointAttempts=0}function socketConnect(){connectedToSocket||forceLongPolling||isLongPolling||(connectedToSocket=!0,perf||(DTSS_WebSockets.RECONNECT=!0,DTSS_WebSockets.PRECONNECTED=!1),SocketManager.connect(socketAddress))}function socketDisconnect(forced){connectedToSocket&&(forced||FLOW.topicCount<=0)&&(connectedToSocket=!1,SocketManager.disconnect())}function getErrorWaitTime(duration){errorAttempts++;var result=Math.floor(duration*Math.pow(errorMultiplier,errorAttempts));return result>DTSS_WebSockets.MAX_WAIT&&(result=DTSS_WebSockets.MAX_WAIT),result}function customPatch(data,update,uids){function splitPath(path){var parts=path.split("/"),result={uid:parts.shift().replace("~0l:","~l:").replace("~0e:","~e:"),path:"/"+parts.join("/")};return result}if(void 0===update||void 0===update.op||void 0===update.path)return data;var originalUpdate={};sbDebug&&(originalUpdate=_.extend({},update||{}));var split=splitPath(update.path),uid=split.uid;update.path=split.path,"copy"!==update.op&&"move"!==update.op||(update.from=splitPath(update.from).path);var original;if(uid&&(uids.push(uid),original=findDeep(data,{uid:uid})),void 0===original&&"object"==typeof data&&(original=data),void 0!==original){var copy=_.extend({},original);try{var patched=window.jsonpatch.apply_patch(copy,[update]);_.extend(original,patched)}catch(e){sbDebug&&window.console.error("jsonpatch",e,copy,originalUpdate)}}else sbDebug&&window.console.warn("Scoreboard: did not find update path: "+update.path,uid);return data}function findDeep(items,attrs){function match(value){if(_.isUndefined(value)||_.isNull(value))return!1;for(var key in attrs)if(attrs[key]!==value[key])return!1;return!0}function traverse(value){var result;return _.forEach(value,function(val){var matches=match(val);return matches?(result=val,answer=val,result):((_.isObject(val)||_.isArray(val))&&(result=traverse(val)),!result&&void 0)}),result}var answer;return traverse(items),answer}function startLongPoll(){isLongPolling||(clearInterval(pingRefresh),isLongPolling=!0,longPoll(),sbDebug&&!alerted&&(alerted=!0,alert("fastcast: long-polling")))}function longPoll(){var postData=getPostData(),context={server:"",protocol:"",path:"",forced:!0};"[]"===postData?isLongPolling=!1:DTSS_WebSockets.buildURI.call(context,DTSS_WebSockets.SOCKET_ADDRESS,longPollPath,function(longPollUrl){$.ajax({url:longPollUrl,data:postData,method:"POST",contentType:"text/plain",dataType:"text",processData:!1,context:this,timeout:31e3}).always(longPollHandler)},"http:")}function longPollHandler(data){if(void 0!==data&&"string"==typeof data&&0===data.indexOf("[{"))for(var response=JSON.parse(data),i=0;i<response.length;i++){var message=response[i];checkpoints[message.tc]=message.mid;var myTopicListener=espn.flow.activeTopics[message.tc];0!=message.pl.indexOf("{")&&0!=message.pl.indexOf("[")||(message.pl=JSON.parse(message.pl)),myTopicListener&&myTopicListener.messageReceived.apply(myTopicListener,[message.pl,message.op,message.lt||!1,message])}setTimeout(longPoll,1e3)}function getActiveTopicNames(){var topicNames=[];for(var topic in FLOW.activeTopics){var tl=FLOW.activeTopics[topic];void 0!=tl&&"string"==typeof tl.tc&&topicNames.push(tl.tc)}return topicNames}function getPostData(topics){void 0===topics&&(topics=getActiveTopicNames());for(var postData=[],i=0;i<topics.length;i++){var topic=topics[i],entry={};entry.tc=topic,entry.op="S",void 0!==checkpoints[topic]&&(entry.mid=checkpoints[topic]),postData.push(entry)}return JSON.stringify(postData)}window.espn=window.espn||{},espn.flow={};var opCodes={connect:"C",subscribe:"S",unsubscribe:"U",checkpoint:"H",publish:"P",received:"R"},sbDebug=window.location.search.indexOf("sbDebug=true")>=0,longpollParam=window.location.search.indexOf("longpoll=true")>=0,devFastCast=window.location.search.indexOf("devint=true")>=0,perf=window.location.search.indexOf("perf=true")>=0,sbDebugData=[];sbDebug&&sbDebuglog("Scoreboard Debug is on. Debugging information will be stored in window.sbDebugData"),DTSS_WebSockets.SOCKET_ADDRESS=devFastCast?"devint.fastcast.go.com":perf?"perf.fastcast.go.com":"fastcast.espn.com",DTSS_WebSockets.BUSINESS_ID=12e3,DTSS_WebSockets.FLASH_FALLBACK.SWFOBJECT="http://a.espncdn.com/fastcast/swfobject.js",DTSS_WebSockets.FLASH_FALLBACK.WEBSOCKET_SWF="http://a.espncdn.com/fastcast/WebSocketMainInsecure.swf",DTSS_WebSockets.FLASH_FALLBACK.WEBSOCKET_JS="http://a.espncdn.com/fastcast/web_socket.js",DTSS_WebSockets.TRAFFIC_MANAGER="http://fastcast.espn.com/public/rotationip",DTSS_WebSockets.PRECONNECT=(window.location.href||"").indexOf("perf=true")===-1,DTSS_WebSockets.FORCE_PRECONNECT=!0;var FLOW=espn.flow,SocketManager=DTSS_WebSockets.SocketManager,SocketListener=DTSS_WebSockets.SocketListener,socketAddress="/FastcastService/pubsub/profiles/"+DTSS_WebSockets.BUSINESS_ID,connectedToSocket=!1,tryLongPolling=!1,longPollPath="/FastcastService/pubsub/profiles/"+DTSS_WebSockets.BUSINESS_ID+"/poll",isLongPolling=!1,forceLongPolling=!1,alerted=!1;FLOW.lastUpdateTime,FLOW.topicCount=0,FLOW.debug=sbDebug&&perf,sbDebug&&longpollParam&&(forceLongPolling=!0),SocketListener.extendClass(TopicListener),FLOW.activeTopics={},$.subscribe("fc.ping",function(){FLOW.lastUpdateTime=(new Date).getTime()});var pingRefresh=setInterval(function(){if(FLOW.topicCount>0){var timeDiff=(new Date).getTime()-FLOW.lastUpdateTime;timeDiff>6e4&&FLOW.reconnect()}},15e3);FLOW.connect=function(topic,callback,options){$.publish("fc.connect",[topic]),socketConnect(),this.connectionAttempts=0,"function"==typeof callback&&(FLOW.activeTopics[topic]?(FLOW.activeTopics[topic].callbacks.indexOf(callback)===-1&&FLOW.processCallbacks(FLOW.activeTopics[topic],{isCheckpoint:!0},FLOW.activeTopics[topic].callbacks.push(callback)-1),options&&"function"==typeof options.error&&FLOW.activeTopics[topic].errorOptions.indexOf(options)===-1&&FLOW.activeTopics[topic].errorOptions.push(options)):(FLOW.topicCount++,FLOW.activeTopics[topic]=new TopicListener(topic),FLOW.activeTopics[topic].callbacks.push(callback),options&&"function"==typeof options.error&&FLOW.activeTopics[topic].errorOptions.push(options),forceLongPolling||isLongPolling||SocketManager.addListener(FLOW.activeTopics[topic])))},FLOW.internalErrorHandler=function(topic,errorMsg,options){function pollAPI(){$.ajax({url:options.url,data:"rand="+(new Date).getTime()}).done(function(data){options.error({data:data})})}if(options&&options.url){pollAPI();var pollingRef=setInterval(pollAPI,options.pollInterval||3e4);return pollingRef}return!1},FLOW.disconnect=function(topic,callback,options){$.publish("fc.disconnect",[topic]);var cbIndex,thisTopic=FLOW.activeTopics[topic];thisTopic.intentionalDisconnect=!0,thisTopic.connectionAttempts=0,thisTopic&&thisTopic.callbacks.length>0&&(FLOW.topicCount--,cbIndex=thisTopic.callbacks.indexOf(callback),cbIndex>=0&&thisTopic.callbacks.splice(cbIndex,1),0===thisTopic.callbacks.length&&(thisTopic.interval&&clearInterval(thisTopic.interval),SocketManager.removeListener(thisTopic),delete FLOW.activeTopics[topic])),socketDisconnect()},FLOW.disconnectAll=function(callback){for(var topic in FLOW.activeTopics)SocketManager.removeListener(topic);FLOW.activeTopics={},socketDisconnect(),callback&&callback(FLOW.activeTopics)},sbDebug&&jQuery.subscribe("fc.reconnect",function(){FLOW.reconnect()}),FLOW.reconnect=function(t){if(t&&!t.intentionalDisconnect){t.isConnected=!0;try{SocketManager.removeListener(FLOW.activeTopics[t])}catch(e){t.isConnected=!1,sbDebug&&sbDebuglog("espn.flow.reconnect error while disconnecting from topic",t,e)}socketDisconnect(),socketConnect(),SocketManager.addListener(FLOW.activeTopics[t])}else{try{for(var topic in FLOW.activeTopics)SocketManager.removeListener(FLOW.activeTopics[topic]);socketDisconnect(!0)}catch(e){sbDebug&&sbDebuglog("espn.flow.reconnect error while disconnecting",e)}setTimeout(function(){socketConnect();for(topic in FLOW.activeTopics)FLOW.activeTopics[topic]&&(SocketManager.addListener(FLOW.activeTopics[topic]),FLOW.activeTopics[topic].isConnected=!0)},1e3)}},FLOW.processCallbacks=function(topicListener,data,cbIndex){var cbs=topicListener instanceof TopicListener?topicListener.callbacks:[],cbData={topic:topicListener.tc,isCheckpoint:data.isCheckpoint,updates:data.updates,data:topicListener.data,uids:_.uniq(topicListener.uids)};if(cbIndex&&"function"==typeof cbs[cbIndex])cbs[cbIndex](cbData);else for(var i=0,n=cbs.length;i<n;i++)cbs[i](cbData);topicListener.uids=[]};var errorMultiplier=1.65,errorAttempts=0;TopicListener.prototype.messageReceived=function(payload,opCode,lastMessage,raw,flush){function fetchCheckpoint(requestURL){if(requestURL?me.lastCheckpointURL=requestURL:requestURL=me.lastCheckpointURL,jQuery.support.cors)$.ajax({url:requestURL,context:me}).done(handleCheckpoint).fail(handleCheckpointError);else{var xdr=new XDomainRequest;xdr.open("get",requestURL),xdr.onload=function(){var data=JSON.parse(xdr.responseText);handleCheckpoint.call(me,data)},xdr.ontimeout=function(){handleCheckpointError.call(me,{status:0})},xdr.onerror=function(){handleCheckpointError.call(me,{status:0})},setTimeout(function(){xdr.send()},0)}}function handleCheckpointError(error){this.checkpointAttempts++;var waitTime=getErrorWaitTime(1e3);this.checkpointAttempts>10||404==error.status?(DTSS_WebSockets.SocketManager.connector.socket.send('{"tc":"'+this.tc+'", "op":"U", "sid":"'+DTSS_WebSockets.SocketManager.connector.sid+'"}'),setTimeout(function(tl){return function(){DTSS_WebSockets.SocketManager.connector.socket.send('{"tc":"'+tl.tc+'", "op":"S", "sid":"'+DTSS_WebSockets.SocketManager.connector.sid+'"}'),tl.messageQueue=[],tl.checkpointAttempts=0}}(this),waitTime)):setTimeout(function(){fetchCheckpoint.call(me)},waitTime)}function handleCheckpoint(result){this.data=result,processMessage=!0,this.waitingForCheckpoint=!1,errorAttempts=0,this.messageQueue.length>0?(this.messageReceived.apply(this,[void 0,void 0,void 0,void 0,!0]),sbDebug&&window.console.log("flush queue",this.messageQueue)):(sbDebug&&window.console.log("process callbacks",this),FLOW.processCallbacks(this,processData))}var me=this,isCompressed=!1;if(("P"===opCode||"R"===opCode||"B"===opCode)&&payload){if(FLOW.lastUpdateTime=(new Date).getTime(),"B"===opCode||payload.p)return;1===payload["~c"]&&(isCompressed=!0),void 0!==payload.pl&&(payload=payload.pl)}if(isCompressed)try{var compressed_raw=atob(payload);payload=JSON.parse(window.pako.inflate(compressed_raw,{to:"string"})),sbDebug&&window.console.log("Decompressed FastCast Message:",payload)}catch(e){}var useCDN=raw&&(raw.useCDN||payload&&payload.useCDN)||!1,isCheckpoint=opCode===!0||opCode===opCodes.checkpoint||useCDN,processMessage=!1,processData={isCheckpoint:isCheckpoint};if(sbDebug&&(sbDebugData.push({isCheckpoint:isCheckpoint,payload:payload,prePatchedData:_.extend({},this.data||{})}),window.console.log(this.tc+": FastCast Message Received:",raw,payload)),flush&&(payload=[]),isCheckpoint)if(useCDN){this.waitingForCheckpoint=!0;var requestURL;requestURL=payload.edgeUrl?payload.edgeUrl:payload,this.messageQueue=[],fetchCheckpoint(requestURL)}else this.data=payload,processMessage=!0;else if("object"==typeof payload){if(this.messageQueue=_.union(this.messageQueue,payload),!this.waitingForCheckpoint){for(var i=0;i<this.messageQueue.length;i++){var updates=this.messageQueue[i];updates&&(processMessage=!0,this.data=customPatch(this.data,updates,this.uids))}processData.updates=this.messageQueue,this.messageQueue=[],processMessage&&FLOW.processCallbacks(this,processData)}sbDebug&&(sbDebugData[sbDebugData.length-1].patchedData=_.extend({},this.data||{}))}},TopicListener.prototype.onSubscribed=function(a){sbDebug&&sbDebuglog(this.tc+": TopicListener.prototype.onSubscribed","arguments = ",a)},TopicListener.prototype.onUnsubscribed=function(a){sbDebug&&sbDebuglog(this.tc+": TopicListener.prototype.onUnsubscribed","arguments = ",a)},TopicListener.prototype.onError=function(a){sbDebug&&sbDebuglog(this.tc+": TopicListener.prototype.onError","arguments = ",a)},TopicListener.prototype.connectionClosed=function(a){if(this.isConnected=!1,!isLongPolling&&!this.intentionalDisconnect&&this.connectionAttempts<this.maxConnectionAttempts&&!this.isConnected){sbDebug&&sbDebuglog(this.tc+": TopicListener.prototype.connectionClosed","arguments = ",a),this.connectionAttempts+=1;var waitTime=getErrorWaitTime(500);setTimeout(function(){FLOW.reconnect()},waitTime)}else if(tryLongPolling)startLongPoll();else if(!this.failed&&this.errorOptions.length>0){this.failed=!0;for(var errorHandlers=this.errorOptions,i=0;i<errorHandlers.length;i++){var errorOption=errorHandlers[i];if(errorOption.error&&errorOption.url){var myInterval=FLOW.internalErrorHandler(this,"socket connection fail",errorOption);myInterval!==!1&&(this.interval=myInterval)}}}},SocketManager.onSubscribeHandler=function(a){sbDebug&&sbDebuglog("SocketManager.onSubscribeHandler",a)},SocketManager.onConnectHandler=function(a){sbDebug&&(alerted||(alerted=!0,alert("fastcast connected: "+a))),errorAttempts=0},forceLongPolling&&$.subscribe("fc.connect",function(topic){setTimeout(function(){startLongPoll()},3e3)});var checkpoints={}}(window.jQuery,window._);var swfobject=function(){function f(){if(!J){try{var Z=j.getElementsByTagName("body")[0].appendChild(C("span"));Z.parentNode.removeChild(Z)}catch(aa){return}J=!0;for(var X=U.length,Y=0;Y<X;Y++)U[Y]()}}function K(X){J?X():U[U.length]=X}function s(Y){if(typeof O.addEventListener!=D)O.addEventListener("load",Y,!1);else if(typeof j.addEventListener!=D)j.addEventListener("load",Y,!1);else if(typeof O.attachEvent!=D)i(O,"onload",Y);else if("function"==typeof O.onload){var X=O.onload;O.onload=function(){X(),Y()}}else O.onload=Y}function h(){T?V():H()}function V(){var X=j.getElementsByTagName("body")[0],aa=C(r);aa.setAttribute("type",q);var Z=X.appendChild(aa);if(Z){var Y=0;!function(){if(typeof Z.GetVariable!=D){var ab=Z.GetVariable("$version");ab&&(ab=ab.split(" ")[1].split(","),M.pv=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)])}else if(Y<10)return Y++,void setTimeout(arguments.callee,10);X.removeChild(aa),Z=null,H()}()}else H()}function H(){var ag=o.length;if(ag>0)for(var af=0;af<ag;af++){var Y=o[af].id,ab=o[af].callbackFn,aa={success:!1,id:Y};if(M.pv[0]>0){var ae=c(Y);if(ae)if(!F(o[af].swfVersion)||M.wk&&M.wk<312)if(o[af].expressInstall&&A()){var ai={};ai.data=o[af].expressInstall,ai.width=ae.getAttribute("width")||"0",ai.height=ae.getAttribute("height")||"0",ae.getAttribute("class")&&(ai.styleclass=ae.getAttribute("class")),ae.getAttribute("align")&&(ai.align=ae.getAttribute("align"));for(var ah={},X=ae.getElementsByTagName("param"),ac=X.length,ad=0;ad<ac;ad++)"movie"!=X[ad].getAttribute("name").toLowerCase()&&(ah[X[ad].getAttribute("name")]=X[ad].getAttribute("value"));P(ai,ah,Y,ab)}else p(ae),ab&&ab(aa);else w(Y,!0),ab&&(aa.success=!0,aa.ref=z(Y),ab(aa))}else if(w(Y,!0),ab){var Z=z(Y);Z&&typeof Z.SetVariable!=D&&(aa.success=!0,aa.ref=Z),ab(aa)}}}function z(aa){var X=null,Y=c(aa);if(Y&&"OBJECT"==Y.nodeName)if(typeof Y.SetVariable!=D)X=Y;else{var Z=Y.getElementsByTagName(r)[0];Z&&(X=Z)}return X}function A(){return!a&&F("6.0.65")&&(M.win||M.mac)&&!(M.wk&&M.wk<312)}function P(aa,ab,X,Z){a=!0,E=Z||null,B={success:!1,id:X};var ae=c(X);if(ae){"OBJECT"==ae.nodeName?(l=g(ae),Q=null):(l=ae,Q=X),aa.id=R,(typeof aa.width==D||!/%$/.test(aa.width)&&parseInt(aa.width,10)<310)&&(aa.width="310"),(typeof aa.height==D||!/%$/.test(aa.height)&&parseInt(aa.height,10)<137)&&(aa.height="137"),j.title=j.title.slice(0,47)+" - Flash Player Installation";var ad=M.ie&&M.win?"ActiveX":"PlugIn",ac="MMredirectURL="+O.location.toString().replace(/&/g,"%26")+"&MMplayerType="+ad+"&MMdoctitle="+j.title;if(typeof ab.flashvars!=D?ab.flashvars+="&"+ac:ab.flashvars=ac,M.ie&&M.win&&4!=ae.readyState){var Y=C("div");X+="SWFObjectNew",Y.setAttribute("id",X),ae.parentNode.insertBefore(Y,ae),ae.style.display="none",function(){4==ae.readyState?ae.parentNode.removeChild(ae):setTimeout(arguments.callee,10)}()}u(aa,ab,X)}}function p(Y){if(M.ie&&M.win&&4!=Y.readyState){var X=C("div");Y.parentNode.insertBefore(X,Y),X.parentNode.replaceChild(g(Y),X),Y.style.display="none",function(){4==Y.readyState?Y.parentNode.removeChild(Y):setTimeout(arguments.callee,10)}()}else Y.parentNode.replaceChild(g(Y),Y)}function g(ab){var aa=C("div");if(M.win&&M.ie)aa.innerHTML=ab.innerHTML;else{var Y=ab.getElementsByTagName(r)[0];if(Y){var ad=Y.childNodes;if(ad)for(var X=ad.length,Z=0;Z<X;Z++)1==ad[Z].nodeType&&"PARAM"==ad[Z].nodeName||8==ad[Z].nodeType||aa.appendChild(ad[Z].cloneNode(!0))}}return aa}function u(ai,ag,Y){var X,aa=c(Y);if(M.wk&&M.wk<312)return X;if(aa)if(typeof ai.id==D&&(ai.id=Y),M.ie&&M.win){var ah="";for(var ae in ai)ai[ae]!=Object.prototype[ae]&&("data"==ae.toLowerCase()?ag.movie=ai[ae]:"styleclass"==ae.toLowerCase()?ah+=' class="'+ai[ae]+'"':"classid"!=ae.toLowerCase()&&(ah+=" "+ae+'="'+ai[ae]+'"'));var af="";for(var ad in ag)ag[ad]!=Object.prototype[ad]&&(af+='<param name="'+ad+'" value="'+ag[ad]+'" />');aa.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+ah+">"+af+"</object>",N[N.length]=ai.id,X=c(ai.id)}else{var Z=C(r);Z.setAttribute("type",q);for(var ac in ai)ai[ac]!=Object.prototype[ac]&&("styleclass"==ac.toLowerCase()?Z.setAttribute("class",ai[ac]):"classid"!=ac.toLowerCase()&&Z.setAttribute(ac,ai[ac]));for(var ab in ag)ag[ab]!=Object.prototype[ab]&&"movie"!=ab.toLowerCase()&&e(Z,ab,ag[ab]);aa.parentNode.replaceChild(Z,aa),X=Z}return X}function e(Z,X,Y){var aa=C("param");aa.setAttribute("name",X),aa.setAttribute("value",Y),Z.appendChild(aa)}function y(Y){var X=c(Y);X&&"OBJECT"==X.nodeName&&(M.ie&&M.win?(X.style.display="none",function(){4==X.readyState?b(Y):setTimeout(arguments.callee,10)}()):X.parentNode.removeChild(X))}function b(Z){var Y=c(Z);if(Y){for(var X in Y)"function"==typeof Y[X]&&(Y[X]=null);Y.parentNode.removeChild(Y)}}function c(Z){var X=null;try{X=j.getElementById(Z)}catch(Y){}return X}function C(X){return j.createElement(X)}function i(Z,X,Y){Z.attachEvent(X,Y),I[I.length]=[Z,X,Y]}function F(Z){var Y=M.pv,X=Z.split(".");return X[0]=parseInt(X[0],10),X[1]=parseInt(X[1],10)||0,X[2]=parseInt(X[2],10)||0,Y[0]>X[0]||Y[0]==X[0]&&Y[1]>X[1]||Y[0]==X[0]&&Y[1]==X[1]&&Y[2]>=X[2]}function v(ac,Y,ad,ab){if(!M.ie||!M.mac){var aa=j.getElementsByTagName("head")[0];if(aa){var X=ad&&"string"==typeof ad?ad:"screen";if(ab&&(n=null,G=null),!n||G!=X){var Z=C("style");Z.setAttribute("type","text/css"),Z.setAttribute("media",X),n=aa.appendChild(Z),M.ie&&M.win&&typeof j.styleSheets!=D&&j.styleSheets.length>0&&(n=j.styleSheets[j.styleSheets.length-1]),G=X}M.ie&&M.win?n&&typeof n.addRule==r&&n.addRule(ac,Y):n&&typeof j.createTextNode!=D&&n.appendChild(j.createTextNode(ac+" {"+Y+"}"))}}}function w(Z,X){if(m){var Y=X?"visible":"hidden";J&&c(Z)?c(Z).style.visibility=Y:v("#"+Z,"visibility:"+Y)}}function L(Y){var Z=/[\\\"<>\.;]/,X=null!=Z.exec(Y);return X&&typeof encodeURIComponent!=D?encodeURIComponent(Y):Y}var l,Q,E,B,n,G,D="undefined",r="object",S="Shockwave Flash",W="ShockwaveFlash.ShockwaveFlash",q="application/x-shockwave-flash",R="SWFObjectExprInst",x="onreadystatechange",O=window,j=document,t=navigator,T=!1,U=[h],o=[],N=[],I=[],J=!1,a=!1,m=!0,M=function(){var aa=typeof j.getElementById!=D&&typeof j.getElementsByTagName!=D&&typeof j.createElement!=D,ah=t.userAgent.toLowerCase(),Y=t.platform.toLowerCase(),ae=Y?/win/.test(Y):/win/.test(ah),ac=Y?/mac/.test(Y):/mac/.test(ah),af=!!/webkit/.test(ah)&&parseFloat(ah.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),X=!1,ag=[0,0,0],ab=null;if(typeof t.plugins!=D&&typeof t.plugins[S]==r)ab=t.plugins[S].description,!ab||typeof t.mimeTypes!=D&&t.mimeTypes[q]&&!t.mimeTypes[q].enabledPlugin||(T=!0,X=!1,ab=ab.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),ag[0]=parseInt(ab.replace(/^(.*)\..*$/,"$1"),10),ag[1]=parseInt(ab.replace(/^.*\.(.*)\s.*$/,"$1"),10),ag[2]=/[a-zA-Z]/.test(ab)?parseInt(ab.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(typeof O.ActiveXObject!=D)try{var ad=new ActiveXObject(W);ad&&(ab=ad.GetVariable("$version"),ab&&(X=!0,ab=ab.split(" ")[1].split(","),ag=[parseInt(ab[0],10),parseInt(ab[1],10),parseInt(ab[2],10)]))}catch(Z){}return{w3:aa,pv:ag,wk:af,ie:X,win:ae,mac:ac}}();(function(){M.w3&&((typeof j.readyState!=D&&"complete"==j.readyState||typeof j.readyState==D&&(j.getElementsByTagName("body")[0]||j.body))&&f(),J||(typeof j.addEventListener!=D&&j.addEventListener("DOMContentLoaded",f,!1),M.ie&&M.win&&(j.attachEvent(x,function(){"complete"==j.readyState&&(j.detachEvent(x,arguments.callee),f())}),O==top&&!function(){if(!J){try{j.documentElement.doScroll("left")}catch(X){return void setTimeout(arguments.callee,0)}f()}}()),M.wk&&!function(){if(!J)return/loaded|complete/.test(j.readyState)?void f():void setTimeout(arguments.callee,0)}(),s(f)))})(),function(){M.ie&&M.win&&window.attachEvent("onunload",function(){for(var ac=I.length,ab=0;ab<ac;ab++)I[ab][0].detachEvent(I[ab][1],I[ab][2]);for(var Z=N.length,aa=0;aa<Z;aa++)y(N[aa]);for(var Y in M)M[Y]=null;M=null;for(var X in swfobject)swfobject[X]=null;swfobject=null})}();return{registerObject:function(ab,X,aa,Z){if(M.w3&&ab&&X){var Y={};Y.id=ab,Y.swfVersion=X,Y.expressInstall=aa,Y.callbackFn=Z,o[o.length]=Y,w(ab,!1)}else Z&&Z({success:!1,id:ab})},getObjectById:function(X){if(M.w3)return z(X)},embedSWF:function(ab,ah,ae,ag,Y,aa,Z,ad,af,ac){var X={success:!1,id:ah};M.w3&&!(M.wk&&M.wk<312)&&ab&&ah&&ae&&ag&&Y?(w(ah,!1),K(function(){ae+="",ag+="";var aj={};if(af&&typeof af===r)for(var al in af)aj[al]=af[al];aj.data=ab,aj.width=ae,aj.height=ag;var am={};if(ad&&typeof ad===r)for(var ak in ad)am[ak]=ad[ak];if(Z&&typeof Z===r)for(var ai in Z)typeof am.flashvars!=D?am.flashvars+="&"+ai+"="+Z[ai]:am.flashvars=ai+"="+Z[ai];if(F(Y)){var an=u(aj,am,ah);aj.id==ah&&w(ah,!0),X.success=!0,X.ref=an}else{if(aa&&A())return aj.data=aa,void P(aj,am,ah,ac);w(ah,!0)}ac&&ac(X)})):ac&&ac(X)},switchOffAutoHideShow:function(){m=!1},ua:M,getFlashPlayerVersion:function(){return{major:M.pv[0],minor:M.pv[1],release:M.pv[2]}},hasFlashPlayerVersion:F,createSWF:function(Z,Y,X){return M.w3?u(Z,Y,X):void 0},showExpressInstall:function(Z,aa,X,Y){M.w3&&A()&&P(Z,aa,X,Y)},removeSWF:function(X){M.w3&&y(X)},createCSS:function(aa,Z,Y,X){M.w3&&v(aa,Z,Y,X)},addDomLoadEvent:K,addLoadEvent:s,getQueryParamValue:function(aa){var Z=j.location.search||j.location.hash;if(Z){if(/\?/.test(Z)&&(Z=Z.split("?")[1]),null==aa)return L(Z);for(var Y=Z.split("&"),X=0;X<Y.length;X++)if(Y[X].substring(0,Y[X].indexOf("="))==aa)return L(Y[X].substring(Y[X].indexOf("=")+1))}return""},expressInstallCallback:function(){if(a){var X=c(R);X&&l&&(X.parentNode.replaceChild(l,X),Q&&(w(Q,!0),M.ie&&M.win&&(l.style.display="block")),E&&E(B)),a=!1}}}}();!function(root,factory){"object"==typeof exports&&"object"==typeof module?module.exports=factory():"function"==typeof define&&define.amd?define([],factory):"object"==typeof exports?exports.ESPNVideoPlayer=factory():root.ESPNVideoPlayer=factory()}(this,function(){return function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.i=function(value){return value},__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{
configurable:!1,enumerable:!0,get:getter})},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function(){return module["default"]}:function(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=28)}([function(module,exports,__webpack_require__){(function(global,module){function addMapEntry(map,pair){return map.set(pair[0],pair[1]),map}function addSetEntry(set,value){return set.add(value),set}function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayEach(array,iteratee){for(var index=-1,length=array?array.length:0;++index<length&&iteratee(array[index],index,array)!==!1;);return array}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array?array.length:0;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseUnary(func){return function(value){return func(value)}}function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(key){return this.has(key)&&delete this.__data__[key]}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;return data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),!0}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){return getMapData(this,key)["delete"](key)}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this}function Stack(entries){this.__data__=new ListCache(entries)}function stackClear(){this.__data__=new ListCache}function stackDelete(key){return this.__data__["delete"](key)}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var cache=this.__data__;if(cache instanceof ListCache){var pairs=cache.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this;cache=this.__data__=new MapCache(pairs)}return cache.set(key,value),this}function arrayLikeKeys(value,inherited){var result=isArray(value)||isArguments(value)?baseTimes(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isIndex(key,length))||result.push(key);return result}function assignMergeValue(object,key,value){(void 0===value||eq(object[key],value))&&("number"!=typeof key||void 0!==value||key in object)||(object[key]=value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||(object[key]=value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseClone(value,isDeep,isFull,customizer,key,object,stack){var result;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(isHostObject(value))return object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,baseClone,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;if(stack.set(value,result),!isArr)var props=isFull?getAllKeys(value):keys(value);return arrayEach(props||value,function(subValue,key){props&&(key=subValue,subValue=value[key]),assignValue(result,key,baseClone(subValue,isDeep,isFull,customizer,key,value,stack))}),result}function baseCreate(proto){return isObject(proto)?objectCreate(proto):{}}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){return objectToString.call(value)}function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)]}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}function baseMerge(object,source,srcIndex,customizer,stack){if(object!==source){if(!isArray(source)&&!isTypedArray(source))var props=baseKeysIn(source);arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObject(srcValue))stack||(stack=new Stack),baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(object[key],srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),assignMergeValue(object,key,newValue)}})}}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked)return void assignMergeValue(object,key,stacked);var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;isCommon&&(newValue=srcValue,isArray(srcValue)||isTypedArray(srcValue)?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):(isCommon=!1,newValue=baseClone(srcValue,!0)):isPlainObject(srcValue)||isArguments(srcValue)?isArguments(objValue)?newValue=toPlainObject(objValue):!isObject(objValue)||srcIndex&&isFunction(objValue)?(isCommon=!1,newValue=baseClone(srcValue,!0)):newValue=objValue:isCommon=!1),isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack["delete"](srcValue)),assignMergeValue(object,key,newValue)}function baseRest(func,start){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=array,apply(func,this,otherArgs)}}function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var result=new buffer.constructor(buffer.length);return buffer.copy(result),result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneMap(map,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray(map),!0):mapToArray(map);return arrayReduce(array,addMapEntry,new map.constructor)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray(set),!0):setToArray(set);return arrayReduce(array,addSetEntry,new set.constructor)}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function copyObject(source,props,object,customizer){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;assignValue(object,key,void 0===newValue?source[key]:newValue)}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function initCloneArray(array){var length=array.length,result=array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor((+object));case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object,isDeep,cloneFunc);case symbolTag:return cloneSymbol(object)}}function isIndex(value,length){return length=null==length?MAX_SAFE_INTEGER:length,!!length&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!==value&&other!==other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isPlainObject(value){if(!isObjectLike(value)||objectToString.call(value)!=objectTag||isHostObject(value))return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}function toPlainObject(value){return copyObject(value,keysIn(value))}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}function stubArray(){return[]}function stubFalse(){return!1}var LARGE_ARRAY_SIZE=200,HASH_UNDEFINED="__lodash_hash_undefined__",MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",promiseTag="[object Promise]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reFlags=/\w*$/,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object),objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,Symbol=root.Symbol,Uint8Array=root.Uint8Array,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;Hash.prototype.clear=hashClear,Hash.prototype["delete"]=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype["delete"]=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype["delete"]=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,Stack.prototype.clear=stackClear,Stack.prototype["delete"]=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var getSymbols=nativeGetSymbols?overArg(nativeGetSymbols,Object):stubArray,getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isArray=Array.isArray,isBuffer=nativeIsBuffer||stubFalse,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,mergeWith=createAssigner(function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)});module.exports=mergeWith}).call(exports,__webpack_require__(6),__webpack_require__(73)(module))},function(module,exports,__webpack_require__){"use strict";function getAutoStart(callback){SWID=Cookie.get("SWID");var autoPlay,vas;autoPlay=!0,vas=Cookie.get("VAS"),vas&&(autoPlay=1===parseInt(vas,10)),"string"==typeof SWID&&0===SWID.indexOf("{")?FanApi.getAutoStartForFanId(SWID,function(autoStart){autoPlay=autoStart===!0||autoStart===!1?autoStart:autoPlay,callback&&callback(autoPlay)}):callback&&callback(autoPlay)}function setAutoStart(value){SWID=Cookie.get("SWID"),value!==!0&&value!==!1||(Cookie.set("VAS",value?1:2),SWID&&FanApi.updateAutoStartForFanId(SWID,value))}var Cookie,FanApi,SWID;Cookie=__webpack_require__(55),FanApi=new(__webpack_require__(71)),exports.getAutoStart=getAutoStart,exports.setAutoStart=setAutoStart,Object.defineProperty(exports,"SWID",{get:function(){return Cookie.get("SWID")}})},function(module,exports,__webpack_require__){function noop(){}function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj)pushEncodedKeyValuePair(pairs,key,obj[key]);return pairs.join("&")}function pushEncodedKeyValuePair(pairs,key,val){if(null!=val)if(Array.isArray(val))val.forEach(function(v){pushEncodedKeyValuePair(pairs,key,v)});else if(isObject(val))for(var subkey in val)pushEncodedKeyValuePair(pairs,key+"["+subkey+"]",val[subkey]);else pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(val));else null===val&&pairs.push(encodeURIComponent(key))}function parseString(str){for(var pair,pos,obj={},pairs=str.split("&"),i=0,len=pairs.length;i<len;++i)pair=pairs[i],pos=pair.indexOf("="),pos==-1?obj[decodeURIComponent(pair)]="":obj[decodeURIComponent(pair.slice(0,pos))]=decodeURIComponent(pair.slice(pos+1));return obj}function parseHeader(str){var index,line,field,val,lines=str.split(/\r?\n/),fields={};lines.pop();for(var i=0,len=lines.length;i<len;++i)line=lines[i],index=line.indexOf(":"),field=line.slice(0,index).toLowerCase(),val=trim(line.slice(index+1)),fields[field]=val;return fields}function isJSON(mime){return/[\/+]json\b/.test(mime)}function Response(req){this.req=req,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var status=this.xhr.status;1223===status&&(status=204),this._setStatusProperties(status),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&req._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function Request(method,url){var self=this;this._query=this._query||[],this.method=method,this.url=url,this.header={},this._header={},this.on("end",function(){var err=null,res=null;try{res=new Response(self)}catch(e){return err=new Error("Parser is unable to parse the response"),err.parse=!0,err.original=e,self.xhr?(err.rawResponse="undefined"==typeof self.xhr.responseType?self.xhr.responseText:self.xhr.response,err.status=self.xhr.status?self.xhr.status:null,err.statusCode=err.status):(err.rawResponse=null,err.status=null),self.callback(err)}self.emit("response",res);var new_err;try{self._isResponseOK(res)||(new_err=new Error(res.statusText||"Unsuccessful HTTP response"),new_err.original=err,new_err.response=res,new_err.status=res.status)}catch(e){new_err=e}new_err?self.callback(new_err,res):self.callback(null,res)})}function del(url,data,fn){var req=request("DELETE",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req}var root;root="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var Emitter=__webpack_require__(54),RequestBase=__webpack_require__(62),isObject=__webpack_require__(9),isFunction=__webpack_require__(61),ResponseBase=__webpack_require__(63),shouldRetry=__webpack_require__(64),request=exports=module.exports=function(method,url){return"function"==typeof url?new exports.Request("GET",method).end(url):1==arguments.length?new exports.Request("GET",method):new exports.Request(method,url)};exports.Request=Request,request.getXHR=function(){if(!(!root.XMLHttpRequest||root.location&&"file:"==root.location.protocol&&root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only verison of superagent could not find XHR")};var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},ResponseBase(Response.prototype),Response.prototype._parseBody=function(str){var parse=request.parse[this.type];return this.req._parser?this.req._parser(this,str):(!parse&&isJSON(this.type)&&(parse=request.parse["application/json"]),parse&&str&&(str.length||str instanceof Object)?parse(str):null)},Response.prototype.toError=function(){var req=this.req,method=req.method,url=req.url,msg="cannot "+method+" "+url+" ("+this.status+")",err=new Error(msg);return err.status=this.status,err.method=method,err.url=url,err},request.Response=Response,Emitter(Request.prototype),RequestBase(Request.prototype),Request.prototype.type=function(type){return this.set("Content-Type",request.types[type]||type),this},Request.prototype.accept=function(type){return this.set("Accept",request.types[type]||type),this},Request.prototype.auth=function(user,pass,options){switch("object"==typeof pass&&null!==pass&&(options=pass),options||(options={type:"function"==typeof btoa?"basic":"auto"}),options.type){case"basic":this.set("Authorization","Basic "+btoa(user+":"+pass));break;case"auto":this.username=user,this.password=pass;break;case"bearer":this.set("Authorization","Bearer "+user)}return this},Request.prototype.query=function(val){return"string"!=typeof val&&(val=serialize(val)),val&&this._query.push(val),this},Request.prototype.attach=function(field,file,options){if(file){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(field,file,options||file.name)}return this},Request.prototype._getFormData=function(){return this._formData||(this._formData=new root.FormData),this._formData},Request.prototype.callback=function(err,res){if(this._maxRetries&&this._retries++<this._maxRetries&&shouldRetry(err,res))return this._retry();var fn=this._callback;this.clearTimeout(),err&&(this._maxRetries&&(err.retries=this._retries-1),this.emit("error",err)),fn(err,res)},Request.prototype.crossDomainError=function(){var err=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");err.crossDomain=!0,err.status=this.status,err.method=this.method,err.url=this.url,this.callback(err)},Request.prototype.buffer=Request.prototype.ca=Request.prototype.agent=function(){return this},Request.prototype.pipe=Request.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},Request.prototype._appendQueryString=function(){var query=this._query.join("&");if(query&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+query),this._sort){var index=this.url.indexOf("?");if(index>=0){var queryArr=this.url.substring(index+1).split("&");isFunction(this._sort)?queryArr.sort(this._sort):queryArr.sort(),this.url=this.url.substring(0,index)+"?"+queryArr.join("&")}}},Request.prototype._isHost=function(obj){return obj&&"object"==typeof obj&&!Array.isArray(obj)&&"[object Object]"!==Object.prototype.toString.call(obj)},Request.prototype.end=function(fn){return this._endCalled,this._endCalled=!0,this._callback=fn||noop,this._appendQueryString(),this._end()},Request.prototype._end=function(){var self=this,xhr=this.xhr=request.getXHR(),data=this._formData||this._data;this._setTimeouts(),xhr.onreadystatechange=function(){var readyState=xhr.readyState;if(readyState>=2&&self._responseTimeoutTimer&&clearTimeout(self._responseTimeoutTimer),4==readyState){var status;try{status=xhr.status}catch(e){status=0}if(!status){if(self.timedout||self._aborted)return;return self.crossDomainError()}self.emit("end")}};var handleProgress=function(direction,e){e.total>0&&(e.percent=e.loaded/e.total*100),e.direction=direction,self.emit("progress",e)};if(this.hasListeners("progress"))try{xhr.onprogress=handleProgress.bind(null,"download"),xhr.upload&&(xhr.upload.onprogress=handleProgress.bind(null,"upload"))}catch(e){}try{this.username&&this.password?xhr.open(this.method,this.url,!0,this.username,this.password):xhr.open(this.method,this.url,!0)}catch(err){return this.callback(err)}if(this._withCredentials&&(xhr.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!this._isHost(data)){var contentType=this._header["content-type"],serialize=this._serializer||request.serialize[contentType?contentType.split(";")[0]:""];!serialize&&isJSON(contentType)&&(serialize=request.serialize["application/json"]),serialize&&(data=serialize(data))}for(var field in this.header)null!=this.header[field]&&this.header.hasOwnProperty(field)&&xhr.setRequestHeader(field,this.header[field]);return this._responseType&&(xhr.responseType=this._responseType),this.emit("request",this),xhr.send("undefined"!=typeof data?data:null),this},request.get=function(url,data,fn){var req=request("GET",url);return"function"==typeof data&&(fn=data,data=null),data&&req.query(data),fn&&req.end(fn),req},request.head=function(url,data,fn){var req=request("HEAD",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),
req},request.options=function(url,data,fn){var req=request("OPTIONS",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.del=del,request["delete"]=del,request.patch=function(url,data,fn){var req=request("PATCH",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.post=function(url,data,fn){var req=request("POST",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.put=function(url,data,fn){var req=request("PUT",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req}},function(module,exports,__webpack_require__){"use strict";function mergeCustomizer(objValue,srcValue){if(null===srcValue)return objValue}var Advertising,Fan,config,merge;merge=__webpack_require__(0),Fan=__webpack_require__(1),config=__webpack_require__(19),Advertising={configure:function(obj){return obj&&merge(config,obj,mergeCustomizer),config},adManager:function(options){var output;return this.configure({keyValues:[{_fw_euid:Fan.SWID}]}),null!=options&&this.configure(options),this.configure(config.beforeAdManager(config)),output={Flash:{networkId:""+config.networkId,sdkurl:config.flash.sdkurl,serverUrl:config.flash.serverUrl,siteSectionCustomId:config.siteSectionId,swfurl:config.flash.swfurl,videoAssetCustomId:config.assetId,videoAssetDuration:config.assetDuration,profile:config.flash.profile,keyValues:config.keyValues},Html5:{networkId:""+config.networkId,sdkurl:config.html5.sdkurl,serverUrl:config.html5.serverUrl,siteSectionCustomId:config.siteSectionId,videoAssetCustomId:config.assetId,videoAssetDuration:config.assetDuration,profile:config.html5.profile,keyValues:config.keyValues},adTechOrder:config.adTechOrder,debug:config.debug,prerollTimeout:config.prerollTimeout,timeout:config.timeout},config.startType?(output.Html5.autoPlayType=config.startType.match(/manual/i)?"VIDEO_ASSET_AUTO_PLAY_TYPE_ATTENDED":"VIDEO_ASSET_AUTO_PLAY_TYPE_UNATTENDED",output.Flash.autoPlay=!0):(output.Html5.autoPlayType="VIDEO_ASSET_AUTO_PLAY_TYPE_NONE",output.Flash.autoPlay=!1),output},vast:function(options,slots){var i,keys,len,params,slot,slotParams;for(null!=options&&this.configure(options),params=["resp="+config.responseType,"nw="+config.networkId,"caid="+config.assetId,null!=config.assetDuration?"vdur="+config.assetDuration:void 0,"csid="+config.siteSectionId,"prof="+config.profile,config.live?"mode=live":void 0,"pvrn="+config.pageViewRandomNumber,"vprn="+config.videoPlayRandomNumber,"vast2"===config.responseType?"crtp=vast2s":void 0],keys=[],slotParams=[],i=0,len=slots.length;i<len;i++)slot=slots[i],slotParams.push(["ptgt=a","slau="+slot.adUnit,"slid="+slot.adUnit+(null!=slot.adBreak?slot.adBreak:void 0)].join("&"));return config.host+"?"+params.join("&")+";"+keys.join("&")+";"+slotParams.join(";")},onceux:function(metadataUri){return{metadataUri:metadataUri,hideOverlay:config.hideOverlay}}},module.exports=Advertising},function(module,exports,__webpack_require__){"use strict";function mergeCustomizer(objValue,srcValue){if(null===srcValue)return objValue}var Analytics,config,merge;merge=__webpack_require__(0),Analytics={reset:function(){return config=merge({},__webpack_require__(20),mergeCustomizer)},configure:function(obj){return merge(config,obj,mergeCustomizer),config},chartbeat:function(options){return null!=options&&this.configure({chartbeat:options}),config.chartbeat},comscore:function(options){var label,labelmap,ref,value;null!=options&&(options.c2&&(options.clientId=options.c2),config.comscore.clientId=options.c2||options.clientId||config.comscore.clientId,options.labels&&merge(config.comscore.labels,options.labels)),labelmap=[],ref=config.comscore.labels;for(label in ref)value=ref[label],labelmap.push(label+"="+value);return{c2:config.comscore.clientId,labelmapping:labelmap.join(",")}},conviva:function(options){return null!=options&&this.configure({conviva:options}),config.conviva},adobeDCR:function(options){return null!=options&&this.configure({adobeDCR:options}),config.adobeDCR},nativeOmniture:function(options){return null!=options&&this.configure({"native":options}),config["native"]}},Analytics.reset(),module.exports=Analytics},function(module,exports,__webpack_require__){"use strict";function mergeCustomizer(objValue,srcValue){if(null===srcValue)return objValue}var CMS,config,merge;merge=__webpack_require__(0),config=__webpack_require__(23),CMS=function(){function CMS(cms){return merge(this,config[cms],mergeCustomizer)}return CMS.prototype.adAssetId=function(id){return(this.adAssetIdPrefix||"")+id},CMS.prototype.apiMediaId=function(id){return this.apiIdPrefix&&"string"==typeof id&&id.match(this.apiIdPrefix)?id:(this.apiIdPrefix||"")+id},CMS}(),module.exports=CMS},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(g=window)}module.exports=g},function(module,exports,__webpack_require__){"use strict";function mergeCustomizer(objValue,srcValue){if(null===srcValue)return objValue}function listingsRequest(query,callback){return request.get(config.WATCH_BASE_URL+"/listings").query({tz:"GMT"}).query(query).end(function(error,res){var comscoreC6,data,listing,nielsenCrossId1;return error?callback(error,null):(listing=res.body&&res.body.listings&&res.body.listings.shift(),listing?(comscoreC6=(listing.categories&&listing.categories[0]&&listing.categories[0].abbreviation)+(listing.subcategories&&listing.subcategories[0]&&listing.subcategories[0].abbreviation&&listing.subcategories[0].abbreviation.replace(/-/g," ")),listing.program&&(nielsenCrossId1=listing.program.categoryCode+listing.program.code+listing.showId),data={_listing:listing,airingId:listing.airingId,commercialReplacement:listing.commercialReplacement,comscoreC6:comscoreC6,description:listing.description,endTime:listing.endTime,eventId:listing.eventId,hasEspnId3Heartbeats:listing.broadcasts&&listing.broadcasts[0].hasEspnId3Heartbeats||!1,hasNielsenWatermarks:listing.broadcasts&&listing.broadcasts[0].hasNielsenWatermarks||!1,hasPassThroughAds:listing.hasPassThroughAds||!1,id:listing.id,name:listing.name,nielsenCrossId1:nielsenCrossId1,originalAirDate:listing.originalAirDate,posterHref:listing.thumbnails&&listing.thumbnails.large&&listing.thumbnails.large.href,simulcastAiringId:listing.simulcastAiringId,sourceId:listing.broadcasts&&listing.broadcasts[0].abbreviation,sourceType:listing.broadcasts[0].type,startTime:listing.startTime,status:listing.type,videoHref:listing.links&&listing.links.source&&listing.links.source.hls&&listing.links.source.hls["default"]&&listing.links.source.hls["default"].href,webHref:listing.links&&listing.links.web&&listing.links.web.href},callback(null,data)):callback("NOT_FOUND",null))})}var API,CMS,Shield,config,merge,request;request=__webpack_require__(2),Shield=__webpack_require__(13),CMS=__webpack_require__(5),config=__webpack_require__(21),merge=__webpack_require__(0),API=function(){function API(options){merge(config,options,mergeCustomizer),this.cms=new CMS(options&&options.cms||config.cms),config.getRelated&&"function"==typeof config.getRelated&&(this.getRelated=config.getRelated.bind(this),this.request=request)}return API.prototype.getClip=function(id,callback){var cms,url;return cms=this.cms,url=config.VIDEO_BASE_URL+"/clips/"+id,request.get(url).query(cms.apiParams).end(function(error,res){var _video,clip,comscoreC6,errorResponse,i,len,sources,video,videos,showcode;if(error)return errorResponse=res.body&&res.body.message?{code:res.body.code||error.status,message:res.body.message}:error,callback(errorResponse,null);if(cms.key){for(videos=res.body&&res.body.videos,i=0,len=videos.length;i<len;i++)if(_video=videos[i],_video.source===cms.key){video=_video;break}}else video=res.body&&res.body.videos&&res.body.videos.shift();return video?(sources=[],video.links&&video.links.source&&video.links.source.HLS&&video.links.source.HLS.href&&sources.push({src:video.links.source.HLS.href,type:"application/x-mpegURL"}),video.links&&video.links.source&&video.links.source.mezzanine&&video.links.source.mezzanine.href&&sources.push({src:video.links.source.mezzanine.href,type:"video/mp4"}),showcode=video.ad&&video.ad.bundle?video.ad.bundle:"Not Applicable",video.tracking&&(comscoreC6=""+(video.tracking.leagueName&&"no league"!==video.tracking.leagueName.toLowerCase())?video.tracking.leagueName:video.tracking.sportName),clip={advertisingId:cms.adAssetId(video.id),assetName:video.tracking&&video.tracking.trackingName,description:video.description,cerebroId:video.cerebroId,comscoreC6:comscoreC6,duration:video.duration,headline:video.headline,id:video.id,mediaId:cms.apiMediaId(video.id),mediaType:video.tracking&&video.tracking.coverageType,originalPublishDate:video.originalPublishDate,posterHref:video.posterImages.full.href,showcode:showcode,sources:sources,syndicatable:video.syndicatable,webHref:video.links.web.href},callback(null,clip)):(error="Clip "+cms.apiMediaId(id)+" not found.",callback(error,null))})},API.prototype.getClipThroughShield=function(id,callback){var shield;return shield=new Shield,/\:/.test(id)&&(id=id.split(":")[1]),/^[\d]*$/.test(id)?this.getClip(id,function(clipApiError,clipApiResponse){return clipApiError?callback(clipApiError,null):"undefined"==typeof clipApiResponse.cerebroId&&config.BypassShieldDeviceAndGeoRestrictions===!0?callback(clipApiError,clipApiResponse):shield.getClip(clipApiResponse.cerebroId,callback,clipApiResponse)}):shield.getClip(id,callback)},API.prototype.getChannel=function(channel,callback){return listingsRequest({networks:channel,types:"live"},callback)},API.prototype.getListing=function(id,callback){return listingsRequest({id:id},callback)},API.prototype.getRelated=function(id,options,callback){var clips,url,queryParams;return url=config.getRelatedBaseURL||config.VIDEOHUB_BASE_URL+"/player/getRelatedFeed",queryParams={mediaId:this.cms.apiMediaId(id)},options.country&&(queryParams.country=options.country.substr(options.country.indexOf("_")+1)),clips=[],request.get(url).query(queryParams).accept("xml").end(function(error,res){var i,item,asseturl,items,len;if(error)return callback(error,null);for(items=res.xhr.responseXML.getElementsByTagName("item"),i=0,len=items.length;i<len;i++)item=items[i],asseturl=item.querySelector("asseturl").textContent||":",clips.push({caption:item.querySelector("caption").textContent,duration:item.getAttribute("duration"),headline:item.querySelector("headline").textContent,id:asseturl.split(":")[1],poster:item.querySelector("thumbnailurl").textContent,source:asseturl.split(":")[0],web:item.querySelector("hostedAtURL").textContent,mediaId:asseturl});return callback(null,clips)})},API.prototype.getProvidersByClient=function(client,callback){var url;return url=config.WATCH_BASE_URL+"/clients/"+client+"/providers",request.get(url).end(function(error,res){var providers;return error?callback(error,null):(providers=res.body&&res.body.clients&&res.body.clients.length>0&&res.body.clients[0].providers||[],callback(null,providers))})},API}(),API.configure=function(options){return merge(config,options,mergeCustomizer),config},module.exports=API},function(module,exports,__webpack_require__){(function(process,global,setImmediate){!function(e){module.exports=e()}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof _dereq_&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof _dereq_&&_dereq_,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function any(promises){var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(1),ret.setUnwrap(),ret.init(),promise}var SomePromiseArray=Promise._SomePromiseArray;Promise.any=function(promises){return any(promises)},Promise.prototype.any=function(){return any(this)}}},{}],2:[function(_dereq_,module,exports){"use strict";function Async(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new Queue(16),this._normalQueue=new Queue(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var self=this;this.drainQueues=function(){self._drainQueues()},this._schedule=schedule}function AsyncInvokeLater(fn,receiver,arg){this._lateQueue.push(fn,receiver,arg),this._queueTick()}function AsyncInvoke(fn,receiver,arg){this._normalQueue.push(fn,receiver,arg),this._queueTick()}function AsyncSettlePromises(promise){this._normalQueue._pushOne(promise),this._queueTick()}var firstLineError;try{throw new Error}catch(e){firstLineError=e}var schedule=_dereq_("./schedule"),Queue=_dereq_("./queue"),util=_dereq_("./util");Async.prototype.setScheduler=function(fn){var prev=this._schedule;return this._schedule=fn,this._customScheduler=!0,prev},Async.prototype.hasCustomScheduler=function(){return this._customScheduler},Async.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},Async.prototype.disableTrampolineIfNecessary=function(){util.hasDevTools&&(this._trampolineEnabled=!1)},Async.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},Async.prototype.fatalError=function(e,isNode){isNode?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},Async.prototype.throwLater=function(fn,arg){if(1===arguments.length&&(arg=fn,fn=function(){throw arg}),"undefined"!=typeof setTimeout)setTimeout(function(){fn(arg)},0);else try{this._schedule(function(){fn(arg)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},util.hasDevTools?(Async.prototype.invokeLater=function(fn,receiver,arg){this._trampolineEnabled?AsyncInvokeLater.call(this,fn,receiver,arg):this._schedule(function(){setTimeout(function(){fn.call(receiver,arg)},100)})},Async.prototype.invoke=function(fn,receiver,arg){this._trampolineEnabled?AsyncInvoke.call(this,fn,receiver,arg):this._schedule(function(){fn.call(receiver,arg)})},Async.prototype.settlePromises=function(promise){this._trampolineEnabled?AsyncSettlePromises.call(this,promise):this._schedule(function(){promise._settlePromises()})}):(Async.prototype.invokeLater=AsyncInvokeLater,Async.prototype.invoke=AsyncInvoke,Async.prototype.settlePromises=AsyncSettlePromises),Async.prototype.invokeFirst=function(fn,receiver,arg){this._normalQueue.unshift(fn,receiver,arg),this._queueTick()},Async.prototype._drainQueue=function(queue){for(;queue.length()>0;){var fn=queue.shift();if("function"==typeof fn){var receiver=queue.shift(),arg=queue.shift();fn.call(receiver,arg)}else fn._settlePromises()}},Async.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},Async.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},Async.prototype._reset=function(){this._isTickUsed=!1},module.exports=Async,module.exports.firstLineError=firstLineError},{"./queue":26,"./schedule":29,"./util":36}],3:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,debug){var calledBind=!1,rejectThis=function(_,e){this._reject(e)},targetRejected=function(e,context){context.promiseRejectionQueued=!0,context.bindingPromise._then(rejectThis,rejectThis,null,this,e)},bindingResolved=function(thisArg,context){0===(50397184&this._bitField)&&this._resolveCallback(context.target)},bindingRejected=function(e,context){context.promiseRejectionQueued||this._reject(e)};Promise.prototype.bind=function(thisArg){calledBind||(calledBind=!0,Promise.prototype._propagateFrom=debug.propagateFromFunction(),Promise.prototype._boundValue=debug.boundValueFunction());var maybePromise=tryConvertToPromise(thisArg),ret=new Promise(INTERNAL);ret._propagateFrom(this,1);var target=this._target();if(ret._setBoundTo(maybePromise),maybePromise instanceof Promise){var context={promiseRejectionQueued:!1,promise:ret,target:target,bindingPromise:maybePromise};target._then(INTERNAL,targetRejected,void 0,ret,context),maybePromise._then(bindingResolved,bindingRejected,void 0,ret,context),ret._setOnCancel(maybePromise)}else ret._resolveCallback(target);return ret},Promise.prototype._setBoundTo=function(obj){void 0!==obj?(this._bitField=2097152|this._bitField,this._boundTo=obj):this._bitField=this._bitField&-2097153},Promise.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},Promise.bind=function(thisArg,value){return Promise.resolve(value).bind(thisArg)}}},{}],4:[function(_dereq_,module,exports){"use strict";function noConflict(){try{Promise===bluebird&&(Promise=old)}catch(e){}return bluebird}var old;"undefined"!=typeof Promise&&(old=Promise);var bluebird=_dereq_("./promise")();bluebird.noConflict=noConflict,module.exports=bluebird},{"./promise":22}],5:[function(_dereq_,module,exports){"use strict";var cr=Object.create;if(cr){var callerCache=cr(null),getterCache=cr(null);callerCache[" size"]=getterCache[" size"]=0}module.exports=function(Promise){function ensureMethod(obj,methodName){var fn;if(null!=obj&&(fn=obj[methodName]),"function"!=typeof fn){var message="Object "+util.classString(obj)+" has no method '"+util.toString(methodName)+"'";throw new Promise.TypeError(message)}return fn}function caller(obj){var methodName=this.pop(),fn=ensureMethod(obj,methodName);return fn.apply(obj,this)}function namedGetter(obj){return obj[this]}function indexedGetter(obj){var index=+this;return index<0&&(index=Math.max(0,index+obj.length)),obj[index]}var getGetter,util=_dereq_("./util"),canEvaluate=util.canEvaluate;util.isIdentifier;Promise.prototype.call=function(methodName){var args=[].slice.call(arguments,1);return args.push(methodName),this._then(caller,void 0,void 0,args,void 0)},Promise.prototype.get=function(propertyName){var getter,isIndex="number"==typeof propertyName;if(isIndex)getter=indexedGetter;else if(canEvaluate){var maybeGetter=getGetter(propertyName);getter=null!==maybeGetter?maybeGetter:namedGetter}else getter=namedGetter;return this._then(getter,void 0,void 0,propertyName,void 0)}}},{"./util":36}],6:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,debug){var util=_dereq_("./util"),tryCatch=util.tryCatch,errorObj=util.errorObj,async=Promise._async;Promise.prototype["break"]=Promise.prototype.cancel=function(){if(!debug.cancellation())return this._warn("cancellation is disabled");for(var promise=this,child=promise;promise._isCancellable();){if(!promise._cancelBy(child)){child._isFollowing()?child._followee().cancel():child._cancelBranched();break}var parent=promise._cancellationParent;if(null==parent||!parent._isCancellable()){promise._isFollowing()?promise._followee().cancel():promise._cancelBranched();break}promise._isFollowing()&&promise._followee().cancel(),promise._setWillBeCancelled(),child=promise,promise=parent}},Promise.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},Promise.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},Promise.prototype._cancelBy=function(canceller){return canceller===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},Promise.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},Promise.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),async.invoke(this._cancelPromises,this,void 0))},Promise.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},Promise.prototype._unsetOnCancel=function(){this._onCancelField=void 0},Promise.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},Promise.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},Promise.prototype._doInvokeOnCancel=function(onCancelCallback,internalOnly){if(util.isArray(onCancelCallback))for(var i=0;i<onCancelCallback.length;++i)this._doInvokeOnCancel(onCancelCallback[i],internalOnly);else if(void 0!==onCancelCallback)if("function"==typeof onCancelCallback){if(!internalOnly){var e=tryCatch(onCancelCallback).call(this._boundValue());e===errorObj&&(this._attachExtraTrace(e.e),async.throwLater(e.e))}}else onCancelCallback._resultCancelled(this)},Promise.prototype._invokeOnCancel=function(){var onCancelCallback=this._onCancel();this._unsetOnCancel(),async.invoke(this._doInvokeOnCancel,this,onCancelCallback)},Promise.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},Promise.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(_dereq_,module,exports){"use strict";module.exports=function(NEXT_FILTER){function catchFilter(instances,cb,promise){return function(e){var boundTo=promise._boundValue();predicateLoop:for(var i=0;i<instances.length;++i){var item=instances[i];if(item===Error||null!=item&&item.prototype instanceof Error){if(e instanceof item)return tryCatch(cb).call(boundTo,e)}else if("function"==typeof item){var matchesPredicate=tryCatch(item).call(boundTo,e);if(matchesPredicate===errorObj)return matchesPredicate;if(matchesPredicate)return tryCatch(cb).call(boundTo,e)}else if(util.isObject(e)){for(var keys=getKeys(item),j=0;j<keys.length;++j){var key=keys[j];if(item[key]!=e[key])continue predicateLoop}return tryCatch(cb).call(boundTo,e)}}return NEXT_FILTER}}var util=_dereq_("./util"),getKeys=_dereq_("./es5").keys,tryCatch=util.tryCatch,errorObj=util.errorObj;return catchFilter}},{"./es5":13,"./util":36}],8:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function Context(){this._trace=new Context.CapturedTrace(peekContext())}function createContext(){if(longStackTraces)return new Context}function peekContext(){var lastIndex=contextStack.length-1;if(lastIndex>=0)return contextStack[lastIndex]}var longStackTraces=!1,contextStack=[];return Promise.prototype._promiseCreated=function(){},Promise.prototype._pushContext=function(){},Promise.prototype._popContext=function(){return null},Promise._peekContext=Promise.prototype._peekContext=function(){},Context.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,contextStack.push(this._trace))},Context.prototype._popContext=function(){if(void 0!==this._trace){var trace=contextStack.pop(),ret=trace._promiseCreated;return trace._promiseCreated=null,ret}return null},Context.CapturedTrace=null,Context.create=createContext,Context.deactivateLongStackTraces=function(){},Context.activateLongStackTraces=function(){var Promise_pushContext=Promise.prototype._pushContext,Promise_popContext=Promise.prototype._popContext,Promise_PeekContext=Promise._peekContext,Promise_peekContext=Promise.prototype._peekContext,Promise_promiseCreated=Promise.prototype._promiseCreated;Context.deactivateLongStackTraces=function(){Promise.prototype._pushContext=Promise_pushContext,Promise.prototype._popContext=Promise_popContext,Promise._peekContext=Promise_PeekContext,Promise.prototype._peekContext=Promise_peekContext,Promise.prototype._promiseCreated=Promise_promiseCreated,longStackTraces=!1},longStackTraces=!0,Promise.prototype._pushContext=Context.prototype._pushContext,Promise.prototype._popContext=Context.prototype._popContext,Promise._peekContext=Promise.prototype._peekContext=peekContext,Promise.prototype._promiseCreated=function(){var ctx=this._peekContext();ctx&&null==ctx._promiseCreated&&(ctx._promiseCreated=this)}},Context}},{}],9:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,Context){function generatePromiseLifecycleEventObject(name,promise){return{promise:promise}}function defaultFireEvent(){return!1}function cancellationExecute(executor,resolve,reject){var promise=this;try{executor(resolve,reject,function(onCancel){if("function"!=typeof onCancel)throw new TypeError("onCancel must be a function, got: "+util.toString(onCancel));promise._attachCancellationCallback(onCancel)})}catch(e){return e}}function cancellationAttachCancellationCallback(onCancel){if(!this._isCancellable())return this;var previousOnCancel=this._onCancel();void 0!==previousOnCancel?util.isArray(previousOnCancel)?previousOnCancel.push(onCancel):this._setOnCancel([previousOnCancel,onCancel]):this._setOnCancel(onCancel)}function cancellationOnCancel(){return this._onCancelField}function cancellationSetOnCancel(onCancel){this._onCancelField=onCancel}function cancellationClearCancellationData(){this._cancellationParent=void 0,this._onCancelField=void 0}function cancellationPropagateFrom(parent,flags){if(0!==(1&flags)){this._cancellationParent=parent;var branchesRemainingToCancel=parent._branchesRemainingToCancel;void 0===branchesRemainingToCancel&&(branchesRemainingToCancel=0),parent._branchesRemainingToCancel=branchesRemainingToCancel+1}0!==(2&flags)&&parent._isBound()&&this._setBoundTo(parent._boundTo)}function bindingPropagateFrom(parent,flags){0!==(2&flags)&&parent._isBound()&&this._setBoundTo(parent._boundTo)}function boundValueFunction(){var ret=this._boundTo;return void 0!==ret&&ret instanceof Promise?ret.isFulfilled()?ret.value():void 0:ret}function longStackTracesCaptureStackTrace(){this._trace=new CapturedTrace(this._peekContext())}function longStackTracesAttachExtraTrace(error,ignoreSelf){if(canAttachTrace(error)){var trace=this._trace;if(void 0!==trace&&ignoreSelf&&(trace=trace._parent),void 0!==trace)trace.attachExtraTrace(error);else if(!error.__stackCleaned__){var parsed=parseStackAndMessage(error);util.notEnumerableProp(error,"stack",parsed.message+"\n"+parsed.stack.join("\n")),util.notEnumerableProp(error,"__stackCleaned__",!0)}}}function checkForgottenReturns(returnValue,promiseCreated,name,promise,parent){if(void 0===returnValue&&null!==promiseCreated&&wForgottenReturn){if(void 0!==parent&&parent._returnedNonUndefined())return;if(0===(65535&promise._bitField))return;name&&(name+=" ");var handlerLine="",creatorLine="";if(promiseCreated._trace){for(var traceLines=promiseCreated._trace.stack.split("\n"),stack=cleanStack(traceLines),i=stack.length-1;i>=0;--i){var line=stack[i];if(!nodeFramePattern.test(line)){var lineMatches=line.match(parseLinePattern);lineMatches&&(handlerLine="at "+lineMatches[1]+":"+lineMatches[2]+":"+lineMatches[3]+" ");break}}if(stack.length>0)for(var firstUserLine=stack[0],i=0;i<traceLines.length;++i)if(traceLines[i]===firstUserLine){i>0&&(creatorLine="\n"+traceLines[i-1]);break}}var msg="a promise was created in a "+name+"handler "+handlerLine+"but was not returned from it, see http://goo.gl/rRqMUw"+creatorLine;promise._warn(msg,!0,promiseCreated)}}function deprecated(name,replacement){var message=name+" is deprecated and will be removed in a future version.";return replacement&&(message+=" Use "+replacement+" instead."),warn(message)}function warn(message,shouldUseOwnTrace,promise){if(config.warnings){var ctx,warning=new Warning(message);if(shouldUseOwnTrace)promise._attachExtraTrace(warning);else if(config.longStackTraces&&(ctx=Promise._peekContext()))ctx.attachExtraTrace(warning);else{var parsed=parseStackAndMessage(warning);warning.stack=parsed.message+"\n"+parsed.stack.join("\n")}activeFireEvent("warning",warning)||formatAndLogError(warning,"",!0)}}function reconstructStack(message,stacks){for(var i=0;i<stacks.length-1;++i)stacks[i].push("From previous event:"),stacks[i]=stacks[i].join("\n");return i<stacks.length&&(stacks[i]=stacks[i].join("\n")),message+"\n"+stacks.join("\n")}function removeDuplicateOrEmptyJumps(stacks){for(var i=0;i<stacks.length;++i)(0===stacks[i].length||i+1<stacks.length&&stacks[i][0]===stacks[i+1][0])&&(stacks.splice(i,1),i--)}function removeCommonRoots(stacks){for(var current=stacks[0],i=1;i<stacks.length;++i){for(var prev=stacks[i],currentLastIndex=current.length-1,currentLastLine=current[currentLastIndex],commonRootMeetPoint=-1,j=prev.length-1;j>=0;--j)if(prev[j]===currentLastLine){commonRootMeetPoint=j;break}for(var j=commonRootMeetPoint;j>=0;--j){var line=prev[j];if(current[currentLastIndex]!==line)break;current.pop(),currentLastIndex--}current=prev}}function cleanStack(stack){for(var ret=[],i=0;i<stack.length;++i){var line=stack[i],isTraceLine="    (No stack trace)"===line||stackFramePattern.test(line),isInternalFrame=isTraceLine&&shouldIgnore(line);isTraceLine&&!isInternalFrame&&(indentStackFrames&&" "!==line.charAt(0)&&(line="    "+line),ret.push(line))}return ret}function stackFramesAsArray(error){for(var stack=error.stack.replace(/\s+$/g,"").split("\n"),i=0;i<stack.length;++i){var line=stack[i];if("    (No stack trace)"===line||stackFramePattern.test(line))break}return i>0&&(stack=stack.slice(i)),stack}function parseStackAndMessage(error){var stack=error.stack,message=error.toString();return stack="string"==typeof stack&&stack.length>0?stackFramesAsArray(error):["    (No stack trace)"],{message:message,stack:cleanStack(stack)}}function formatAndLogError(error,title,isSoft){if("undefined"!=typeof console){var message;if(util.isObject(error)){var stack=error.stack;message=title+formatStack(stack,error)}else message=title+String(error);"function"==typeof printWarning?printWarning(message,isSoft):"function"==typeof console.log||"object"==typeof console.log}}function fireRejectionEvent(name,localHandler,reason,promise){var localEventFired=!1;try{"function"==typeof localHandler&&(localEventFired=!0,"rejectionHandled"===name?localHandler(promise):localHandler(reason,promise))}catch(e){async.throwLater(e)}"unhandledRejection"===name?activeFireEvent(name,reason,promise)||localEventFired||formatAndLogError(reason,"Unhandled rejection "):activeFireEvent(name,promise)}function formatNonError(obj){var str;if("function"==typeof obj)str="[function "+(obj.name||"anonymous")+"]";else{str=obj&&"function"==typeof obj.toString?obj.toString():util.toString(obj);var ruselessToString=/\[object [a-zA-Z0-9$_]+\]/;if(ruselessToString.test(str))try{var newStr=JSON.stringify(obj);str=newStr}catch(e){}0===str.length&&(str="(empty array)")}return"(<"+snip(str)+">, no stack trace)"}function snip(str){var maxChars=41;return str.length<maxChars?str:str.substr(0,maxChars-3)+"..."}function longStackTracesIsSupported(){return"function"==typeof captureStackTrace}function parseLineInfo(line){var matches=line.match(parseLineInfoRegex);if(matches)return{fileName:matches[1],line:parseInt(matches[2],10)}}function setBounds(firstLineError,lastLineError){if(longStackTracesIsSupported()){for(var firstFileName,lastFileName,firstStackLines=firstLineError.stack.split("\n"),lastStackLines=lastLineError.stack.split("\n"),firstIndex=-1,lastIndex=-1,i=0;i<firstStackLines.length;++i){var result=parseLineInfo(firstStackLines[i]);if(result){firstFileName=result.fileName,firstIndex=result.line;break}}for(var i=0;i<lastStackLines.length;++i){var result=parseLineInfo(lastStackLines[i]);if(result){lastFileName=result.fileName,lastIndex=result.line;break}}firstIndex<0||lastIndex<0||!firstFileName||!lastFileName||firstFileName!==lastFileName||firstIndex>=lastIndex||(shouldIgnore=function(line){if(bluebirdFramePattern.test(line))return!0;var info=parseLineInfo(line);return!!(info&&info.fileName===firstFileName&&firstIndex<=info.line&&info.line<=lastIndex)})}}function CapturedTrace(parent){this._parent=parent,this._promisesCreated=0;var length=this._length=1+(void 0===parent?0:parent._length);captureStackTrace(this,CapturedTrace),length>32&&this.uncycle()}var unhandledRejectionHandled,possiblyUnhandledRejection,printWarning,getDomain=Promise._getDomain,async=Promise._async,Warning=_dereq_("./errors").Warning,util=_dereq_("./util"),canAttachTrace=util.canAttachTrace,bluebirdFramePattern=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,nodeFramePattern=/\((?:timers\.js):\d+:\d+\)/,parseLinePattern=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,stackFramePattern=null,formatStack=null,indentStackFrames=!1,debugging=!(0==util.env("BLUEBIRD_DEBUG")),warnings=!(0==util.env("BLUEBIRD_WARNINGS")||!debugging&&!util.env("BLUEBIRD_WARNINGS")),longStackTraces=!(0==util.env("BLUEBIRD_LONG_STACK_TRACES")||!debugging&&!util.env("BLUEBIRD_LONG_STACK_TRACES")),wForgottenReturn=0!=util.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(warnings||!!util.env("BLUEBIRD_W_FORGOTTEN_RETURN"));
Promise.prototype.suppressUnhandledRejections=function(){var target=this._target();target._bitField=target._bitField&-1048577|524288},Promise.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),async.invokeLater(this._notifyUnhandledRejection,this,void 0))},Promise.prototype._notifyUnhandledRejectionIsHandled=function(){fireRejectionEvent("rejectionHandled",unhandledRejectionHandled,void 0,this)},Promise.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},Promise.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},Promise.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var reason=this._settledValue();this._setUnhandledRejectionIsNotified(),fireRejectionEvent("unhandledRejection",possiblyUnhandledRejection,reason,this)}},Promise.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},Promise.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},Promise.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},Promise.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},Promise.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},Promise.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},Promise.prototype._warn=function(message,shouldUseOwnTrace,promise){return warn(message,shouldUseOwnTrace,promise||this)},Promise.onPossiblyUnhandledRejection=function(fn){var domain=getDomain();possiblyUnhandledRejection="function"==typeof fn?null===domain?fn:util.domainBind(domain,fn):void 0},Promise.onUnhandledRejectionHandled=function(fn){var domain=getDomain();unhandledRejectionHandled="function"==typeof fn?null===domain?fn:util.domainBind(domain,fn):void 0};var disableLongStackTraces=function(){};Promise.longStackTraces=function(){if(async.haveItemsQueued()&&!config.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!config.longStackTraces&&longStackTracesIsSupported()){var Promise_captureStackTrace=Promise.prototype._captureStackTrace,Promise_attachExtraTrace=Promise.prototype._attachExtraTrace;config.longStackTraces=!0,disableLongStackTraces=function(){if(async.haveItemsQueued()&&!config.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");Promise.prototype._captureStackTrace=Promise_captureStackTrace,Promise.prototype._attachExtraTrace=Promise_attachExtraTrace,Context.deactivateLongStackTraces(),async.enableTrampoline(),config.longStackTraces=!1},Promise.prototype._captureStackTrace=longStackTracesCaptureStackTrace,Promise.prototype._attachExtraTrace=longStackTracesAttachExtraTrace,Context.activateLongStackTraces(),async.disableTrampolineIfNecessary()}},Promise.hasLongStackTraces=function(){return config.longStackTraces&&longStackTracesIsSupported()};var fireDomEvent=function(){try{if("function"==typeof CustomEvent){var event=new CustomEvent("CustomEvent");return util.global.dispatchEvent(event),function(name,event){var domEvent=new CustomEvent(name.toLowerCase(),{detail:event,cancelable:!0});return!util.global.dispatchEvent(domEvent)}}if("function"==typeof Event){var event=new Event("CustomEvent");return util.global.dispatchEvent(event),function(name,event){var domEvent=new Event(name.toLowerCase(),{cancelable:!0});return domEvent.detail=event,!util.global.dispatchEvent(domEvent)}}var event=document.createEvent("CustomEvent");return event.initCustomEvent("testingtheevent",!1,!0,{}),util.global.dispatchEvent(event),function(name,event){var domEvent=document.createEvent("CustomEvent");return domEvent.initCustomEvent(name.toLowerCase(),!1,!0,event),!util.global.dispatchEvent(domEvent)}}catch(e){}return function(){return!1}}(),fireGlobalEvent=function(){return util.isNode?function(){return process.emit.apply(process,arguments)}:util.global?function(name){var methodName="on"+name.toLowerCase(),method=util.global[methodName];return!!method&&(method.apply(util.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),eventToObjectGenerator={promiseCreated:generatePromiseLifecycleEventObject,promiseFulfilled:generatePromiseLifecycleEventObject,promiseRejected:generatePromiseLifecycleEventObject,promiseResolved:generatePromiseLifecycleEventObject,promiseCancelled:generatePromiseLifecycleEventObject,promiseChained:function(name,promise,child){return{promise:promise,child:child}},warning:function(name,warning){return{warning:warning}},unhandledRejection:function(name,reason,promise){return{reason:reason,promise:promise}},rejectionHandled:generatePromiseLifecycleEventObject},activeFireEvent=function(name){var globalEventFired=!1;try{globalEventFired=fireGlobalEvent.apply(null,arguments)}catch(e){async.throwLater(e),globalEventFired=!0}var domEventFired=!1;try{domEventFired=fireDomEvent(name,eventToObjectGenerator[name].apply(null,arguments))}catch(e){async.throwLater(e),domEventFired=!0}return domEventFired||globalEventFired};Promise.config=function(opts){if(opts=Object(opts),"longStackTraces"in opts&&(opts.longStackTraces?Promise.longStackTraces():!opts.longStackTraces&&Promise.hasLongStackTraces()&&disableLongStackTraces()),"warnings"in opts){var warningsOption=opts.warnings;config.warnings=!!warningsOption,wForgottenReturn=config.warnings,util.isObject(warningsOption)&&"wForgottenReturn"in warningsOption&&(wForgottenReturn=!!warningsOption.wForgottenReturn)}if("cancellation"in opts&&opts.cancellation&&!config.cancellation){if(async.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");Promise.prototype._clearCancellationData=cancellationClearCancellationData,Promise.prototype._propagateFrom=cancellationPropagateFrom,Promise.prototype._onCancel=cancellationOnCancel,Promise.prototype._setOnCancel=cancellationSetOnCancel,Promise.prototype._attachCancellationCallback=cancellationAttachCancellationCallback,Promise.prototype._execute=cancellationExecute,propagateFromFunction=cancellationPropagateFrom,config.cancellation=!0}"monitoring"in opts&&(opts.monitoring&&!config.monitoring?(config.monitoring=!0,Promise.prototype._fireEvent=activeFireEvent):!opts.monitoring&&config.monitoring&&(config.monitoring=!1,Promise.prototype._fireEvent=defaultFireEvent))},Promise.prototype._fireEvent=defaultFireEvent,Promise.prototype._execute=function(executor,resolve,reject){try{executor(resolve,reject)}catch(e){return e}},Promise.prototype._onCancel=function(){},Promise.prototype._setOnCancel=function(handler){},Promise.prototype._attachCancellationCallback=function(onCancel){},Promise.prototype._captureStackTrace=function(){},Promise.prototype._attachExtraTrace=function(){},Promise.prototype._clearCancellationData=function(){},Promise.prototype._propagateFrom=function(parent,flags){};var propagateFromFunction=bindingPropagateFrom,shouldIgnore=function(){return!1},parseLineInfoRegex=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;util.inherits(CapturedTrace,Error),Context.CapturedTrace=CapturedTrace,CapturedTrace.prototype.uncycle=function(){var length=this._length;if(!(length<2)){for(var nodes=[],stackToIndex={},i=0,node=this;void 0!==node;++i)nodes.push(node),node=node._parent;length=this._length=i;for(var i=length-1;i>=0;--i){var stack=nodes[i].stack;void 0===stackToIndex[stack]&&(stackToIndex[stack]=i)}for(var i=0;i<length;++i){var currentStack=nodes[i].stack,index=stackToIndex[currentStack];if(void 0!==index&&index!==i){index>0&&(nodes[index-1]._parent=void 0,nodes[index-1]._length=1),nodes[i]._parent=void 0,nodes[i]._length=1;var cycleEdgeNode=i>0?nodes[i-1]:this;index<length-1?(cycleEdgeNode._parent=nodes[index+1],cycleEdgeNode._parent.uncycle(),cycleEdgeNode._length=cycleEdgeNode._parent._length+1):(cycleEdgeNode._parent=void 0,cycleEdgeNode._length=1);for(var currentChildLength=cycleEdgeNode._length+1,j=i-2;j>=0;--j)nodes[j]._length=currentChildLength,currentChildLength++;return}}}},CapturedTrace.prototype.attachExtraTrace=function(error){if(!error.__stackCleaned__){this.uncycle();for(var parsed=parseStackAndMessage(error),message=parsed.message,stacks=[parsed.stack],trace=this;void 0!==trace;)stacks.push(cleanStack(trace.stack.split("\n"))),trace=trace._parent;removeCommonRoots(stacks),removeDuplicateOrEmptyJumps(stacks),util.notEnumerableProp(error,"stack",reconstructStack(message,stacks)),util.notEnumerableProp(error,"__stackCleaned__",!0)}};var captureStackTrace=function(){var v8stackFramePattern=/^\s*at\s*/,v8stackFormatter=function(stack,error){return"string"==typeof stack?stack:void 0!==error.name&&void 0!==error.message?error.toString():formatNonError(error)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter;var captureStackTrace=Error.captureStackTrace;return shouldIgnore=function(line){return bluebirdFramePattern.test(line)},function(receiver,ignoreUntil){Error.stackTraceLimit+=6,captureStackTrace(receiver,ignoreUntil),Error.stackTraceLimit-=6}}var err=new Error;if("string"==typeof err.stack&&err.stack.split("\n")[0].indexOf("stackDetection@")>=0)return stackFramePattern=/@/,formatStack=v8stackFormatter,indentStackFrames=!0,function(o){o.stack=(new Error).stack};var hasStackAfterThrow;try{throw new Error}catch(e){hasStackAfterThrow="stack"in e}return"stack"in err||!hasStackAfterThrow||"number"!=typeof Error.stackTraceLimit?(formatStack=function(stack,error){return"string"==typeof stack?stack:"object"!=typeof error&&"function"!=typeof error||void 0===error.name||void 0===error.message?formatNonError(error):error.toString()},null):(stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter,function(o){Error.stackTraceLimit+=6;try{throw new Error}catch(e){o.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(printWarning=function(message){},util.isNode&&process.stderr.isTTY?printWarning=function(message,isSoft){}:util.isNode||"string"!=typeof(new Error).stack||(printWarning=function(message,isSoft){}));var config={warnings:warnings,longStackTraces:!1,cancellation:!1,monitoring:!1};return longStackTraces&&Promise.longStackTraces(),{longStackTraces:function(){return config.longStackTraces},warnings:function(){return config.warnings},cancellation:function(){return config.cancellation},monitoring:function(){return config.monitoring},propagateFromFunction:function(){return propagateFromFunction},boundValueFunction:function(){return boundValueFunction},checkForgottenReturns:checkForgottenReturns,setBounds:setBounds,warn:warn,deprecated:deprecated,CapturedTrace:CapturedTrace,fireDomEvent:fireDomEvent,fireGlobalEvent:fireGlobalEvent}}},{"./errors":12,"./util":36}],10:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function returner(){return this.value}function thrower(){throw this.reason}Promise.prototype["return"]=Promise.prototype.thenReturn=function(value){return value instanceof Promise&&value.suppressUnhandledRejections(),this._then(returner,void 0,void 0,{value:value},void 0)},Promise.prototype["throw"]=Promise.prototype.thenThrow=function(reason){return this._then(thrower,void 0,void 0,{reason:reason},void 0)},Promise.prototype.catchThrow=function(reason){if(arguments.length<=1)return this._then(void 0,thrower,void 0,{reason:reason},void 0);var _reason=arguments[1],handler=function(){throw _reason};return this.caught(reason,handler)},Promise.prototype.catchReturn=function(value){if(arguments.length<=1)return value instanceof Promise&&value.suppressUnhandledRejections(),this._then(void 0,returner,void 0,{value:value},void 0);var _value=arguments[1];_value instanceof Promise&&_value.suppressUnhandledRejections();var handler=function(){return _value};return this.caught(value,handler)}}},{}],11:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){function promiseAllThis(){return PromiseAll(this)}function PromiseMapSeries(promises,fn){return PromiseReduce(promises,fn,INTERNAL,INTERNAL)}var PromiseReduce=Promise.reduce,PromiseAll=Promise.all;Promise.prototype.each=function(fn){return PromiseReduce(this,fn,INTERNAL,0)._then(promiseAllThis,void 0,void 0,this,void 0)},Promise.prototype.mapSeries=function(fn){return PromiseReduce(this,fn,INTERNAL,INTERNAL)},Promise.each=function(promises,fn){return PromiseReduce(promises,fn,INTERNAL,0)._then(promiseAllThis,void 0,void 0,promises,void 0)},Promise.mapSeries=PromiseMapSeries}},{}],12:[function(_dereq_,module,exports){"use strict";function subError(nameProperty,defaultMessage){function SubError(message){return this instanceof SubError?(notEnumerableProp(this,"message","string"==typeof message?message:defaultMessage),notEnumerableProp(this,"name",nameProperty),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new SubError(message)}return inherits(SubError,Error),SubError}function OperationalError(message){return this instanceof OperationalError?(notEnumerableProp(this,"name","OperationalError"),notEnumerableProp(this,"message",message),this.cause=message,this.isOperational=!0,void(message instanceof Error?(notEnumerableProp(this,"message",message.message),notEnumerableProp(this,"stack",message.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new OperationalError(message)}var _TypeError,_RangeError,es5=_dereq_("./es5"),Objectfreeze=es5.freeze,util=_dereq_("./util"),inherits=util.inherits,notEnumerableProp=util.notEnumerableProp,Warning=subError("Warning","warning"),CancellationError=subError("CancellationError","cancellation error"),TimeoutError=subError("TimeoutError","timeout error"),AggregateError=subError("AggregateError","aggregate error");try{_TypeError=TypeError,_RangeError=RangeError}catch(e){_TypeError=subError("TypeError","type error"),_RangeError=subError("RangeError","range error")}for(var methods="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),i=0;i<methods.length;++i)"function"==typeof Array.prototype[methods[i]]&&(AggregateError.prototype[methods[i]]=Array.prototype[methods[i]]);es5.defineProperty(AggregateError.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),AggregateError.prototype.isOperational=!0;var level=0;AggregateError.prototype.toString=function(){var indent=Array(4*level+1).join(" "),ret="\n"+indent+"AggregateError of:\n";level++,indent=Array(4*level+1).join(" ");for(var i=0;i<this.length;++i){for(var str=this[i]===this?"[Circular AggregateError]":this[i]+"",lines=str.split("\n"),j=0;j<lines.length;++j)lines[j]=indent+lines[j];str=lines.join("\n"),ret+=str+"\n"}return level--,ret},inherits(OperationalError,Error);var errorTypes=Error.__BluebirdErrorTypes__;errorTypes||(errorTypes=Objectfreeze({CancellationError:CancellationError,TimeoutError:TimeoutError,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:AggregateError}),es5.defineProperty(Error,"__BluebirdErrorTypes__",{value:errorTypes,writable:!1,enumerable:!1,configurable:!1})),module.exports={Error:Error,TypeError:_TypeError,RangeError:_RangeError,CancellationError:errorTypes.CancellationError,OperationalError:errorTypes.OperationalError,TimeoutError:errorTypes.TimeoutError,AggregateError:errorTypes.AggregateError,Warning:Warning}},{"./es5":13,"./util":36}],13:[function(_dereq_,module,exports){var isES5=function(){"use strict";return void 0===this}();if(isES5)module.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5,propertyIsWritable:function(obj,prop){var descriptor=Object.getOwnPropertyDescriptor(obj,prop);return!(descriptor&&!descriptor.writable&&!descriptor.set)}};else{var has={}.hasOwnProperty,str={}.toString,proto={}.constructor.prototype,ObjectKeys=function(o){var ret=[];for(var key in o)has.call(o,key)&&ret.push(key);return ret},ObjectGetDescriptor=function(o,key){return{value:o[key]}},ObjectDefineProperty=function(o,key,desc){return o[key]=desc.value,o},ObjectFreeze=function(obj){return obj},ObjectGetPrototypeOf=function(obj){try{return Object(obj).constructor.prototype}catch(e){return proto}},ArrayIsArray=function(obj){try{return"[object Array]"===str.call(obj)}catch(e){return!1}};module.exports={isArray:ArrayIsArray,keys:ObjectKeys,names:ObjectKeys,defineProperty:ObjectDefineProperty,getDescriptor:ObjectGetDescriptor,freeze:ObjectFreeze,getPrototypeOf:ObjectGetPrototypeOf,isES5:isES5,propertyIsWritable:function(){return!0}}}},{}],14:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var PromiseMap=Promise.map;Promise.prototype.filter=function(fn,options){return PromiseMap(this,fn,options,INTERNAL)},Promise.filter=function(promises,fn,options){return PromiseMap(promises,fn,options,INTERNAL)}}},{}],15:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,tryConvertToPromise){function PassThroughHandlerContext(promise,type,handler){this.promise=promise,this.type=type,this.handler=handler,this.called=!1,this.cancelPromise=null}function FinallyHandlerCancelReaction(finallyHandler){this.finallyHandler=finallyHandler}function checkCancel(ctx,reason){return null!=ctx.cancelPromise&&(arguments.length>1?ctx.cancelPromise._reject(reason):ctx.cancelPromise._cancel(),ctx.cancelPromise=null,!0)}function succeed(){return finallyHandler.call(this,this.promise._target()._settledValue())}function fail(reason){if(!checkCancel(this,reason))return errorObj.e=reason,errorObj}function finallyHandler(reasonOrValue){var promise=this.promise,handler=this.handler;if(!this.called){this.called=!0;var ret=this.isFinallyHandler()?handler.call(promise._boundValue()):handler.call(promise._boundValue(),reasonOrValue);if(void 0!==ret){promise._setReturnedNonUndefined();var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise){if(null!=this.cancelPromise){if(maybePromise._isCancelled()){var reason=new CancellationError("late cancellation observer");return promise._attachExtraTrace(reason),errorObj.e=reason,errorObj}maybePromise.isPending()&&maybePromise._attachCancellationCallback(new FinallyHandlerCancelReaction(this))}return maybePromise._then(succeed,fail,void 0,this,void 0)}}}return promise.isRejected()?(checkCancel(this),errorObj.e=reasonOrValue,errorObj):(checkCancel(this),reasonOrValue)}var util=_dereq_("./util"),CancellationError=Promise.CancellationError,errorObj=util.errorObj;return PassThroughHandlerContext.prototype.isFinallyHandler=function(){return 0===this.type},FinallyHandlerCancelReaction.prototype._resultCancelled=function(){checkCancel(this.finallyHandler)},Promise.prototype._passThrough=function(handler,type,success,fail){return"function"!=typeof handler?this.then():this._then(success,fail,void 0,new PassThroughHandlerContext(this,type,handler),void 0)},Promise.prototype.lastly=Promise.prototype["finally"]=function(handler){return this._passThrough(handler,0,finallyHandler,finallyHandler)},Promise.prototype.tap=function(handler){return this._passThrough(handler,1,finallyHandler)},PassThroughHandlerContext}},{"./util":36}],16:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,INTERNAL,tryConvertToPromise,Proxyable,debug){function promiseFromYieldHandler(value,yieldHandlers,traceParent){for(var i=0;i<yieldHandlers.length;++i){traceParent._pushContext();var result=tryCatch(yieldHandlers[i])(value);if(traceParent._popContext(),result===errorObj){traceParent._pushContext();var ret=Promise.reject(errorObj.e);return traceParent._popContext(),ret}var maybePromise=tryConvertToPromise(result,traceParent);if(maybePromise instanceof Promise)return maybePromise}return null}function PromiseSpawn(generatorFunction,receiver,yieldHandler,stack){if(debug.cancellation()){var internal=new Promise(INTERNAL),_finallyPromise=this._finallyPromise=new Promise(INTERNAL);this._promise=internal.lastly(function(){return _finallyPromise}),internal._captureStackTrace(),internal._setOnCancel(this)}else{var promise=this._promise=new Promise(INTERNAL);promise._captureStackTrace()}this._stack=stack,this._generatorFunction=generatorFunction,this._receiver=receiver,this._generator=void 0,this._yieldHandlers="function"==typeof yieldHandler?[yieldHandler].concat(yieldHandlers):yieldHandlers,this._yieldedPromise=null,this._cancellationPhase=!1}var errors=_dereq_("./errors"),TypeError=errors.TypeError,util=_dereq_("./util"),errorObj=util.errorObj,tryCatch=util.tryCatch,yieldHandlers=[];util.inherits(PromiseSpawn,Proxyable),PromiseSpawn.prototype._isResolved=function(){return null===this._promise},PromiseSpawn.prototype._cleanup=function(){this._promise=this._generator=null,debug.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},PromiseSpawn.prototype._promiseCancelled=function(){if(!this._isResolved()){var result,implementsReturn="undefined"!=typeof this._generator["return"];if(implementsReturn)this._promise._pushContext(),result=tryCatch(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var reason=new Promise.CancellationError("generator .return() sentinel");Promise.coroutine.returnSentinel=reason,this._promise._attachExtraTrace(reason),this._promise._pushContext(),result=tryCatch(this._generator["throw"]).call(this._generator,reason),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(result)}},PromiseSpawn.prototype._promiseFulfilled=function(value){this._yieldedPromise=null,this._promise._pushContext();var result=tryCatch(this._generator.next).call(this._generator,value);this._promise._popContext(),this._continue(result)},PromiseSpawn.prototype._promiseRejected=function(reason){this._yieldedPromise=null,this._promise._attachExtraTrace(reason),this._promise._pushContext();var result=tryCatch(this._generator["throw"]).call(this._generator,reason);this._promise._popContext(),this._continue(result)},PromiseSpawn.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof Promise){var promise=this._yieldedPromise;this._yieldedPromise=null,promise.cancel()}},PromiseSpawn.prototype.promise=function(){return this._promise},PromiseSpawn.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},PromiseSpawn.prototype._continue=function(result){var promise=this._promise;if(result===errorObj)return this._cleanup(),this._cancellationPhase?promise.cancel():promise._rejectCallback(result.e,!1);var value=result.value;if(result.done===!0)return this._cleanup(),this._cancellationPhase?promise.cancel():promise._resolveCallback(value);var maybePromise=tryConvertToPromise(value,this._promise);if(!(maybePromise instanceof Promise)&&(maybePromise=promiseFromYieldHandler(maybePromise,this._yieldHandlers,this._promise),null===maybePromise))return void this._promiseRejected(new TypeError("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",value)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));maybePromise=maybePromise._target();var bitField=maybePromise._bitField;0===(50397184&bitField)?(this._yieldedPromise=maybePromise,maybePromise._proxy(this,null)):0!==(33554432&bitField)?Promise._async.invoke(this._promiseFulfilled,this,maybePromise._value()):0!==(16777216&bitField)?Promise._async.invoke(this._promiseRejected,this,maybePromise._reason()):this._promiseCancelled()},Promise.coroutine=function(generatorFunction,options){if("function"!=typeof generatorFunction)throw new TypeError("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var yieldHandler=Object(options).yieldHandler,PromiseSpawn$=PromiseSpawn,stack=(new Error).stack;return function(){var generator=generatorFunction.apply(this,arguments),spawn=new PromiseSpawn$((void 0),(void 0),yieldHandler,stack),ret=spawn.promise();return spawn._generator=generator,spawn._promiseFulfilled(void 0),ret}},Promise.coroutine.addYieldHandler=function(fn){if("function"!=typeof fn)throw new TypeError("expecting a function but got "+util.classString(fn));yieldHandlers.push(fn)},Promise.spawn=function(generatorFunction){if(debug.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof generatorFunction)return apiRejection("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var spawn=new PromiseSpawn(generatorFunction,this),ret=spawn.promise();return spawn._run(Promise.spawn),ret}}},{"./errors":12,"./util":36}],17:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,INTERNAL,async,getDomain){var util=_dereq_("./util");util.canEvaluate,util.tryCatch,util.errorObj;Promise.join=function(){var fn,last=arguments.length-1;if(last>0&&"function"==typeof arguments[last]){fn=arguments[last];var ret}var args=[].slice.call(arguments);fn&&args.pop();var ret=new PromiseArray(args).promise();return void 0!==fn?ret.spread(fn):ret}}},{"./util":36}],18:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug){function MappingPromiseArray(promises,fn,limit,_filter){this.constructor$(promises),this._promise._captureStackTrace();var domain=getDomain();this._callback=null===domain?fn:util.domainBind(domain,fn),this._preservedValues=_filter===INTERNAL?new Array(this.length()):null,this._limit=limit,this._inFlight=0,this._queue=[],this._init$(void 0,-2)}function map(promises,fn,options,_filter){if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var limit=0;if(void 0!==options){if("object"!=typeof options||null===options)return Promise.reject(new TypeError("options argument must be an object but it is "+util.classString(options)));if("number"!=typeof options.concurrency)return Promise.reject(new TypeError("'concurrency' must be a number but it is "+util.classString(options.concurrency)));limit=options.concurrency}return limit="number"==typeof limit&&isFinite(limit)&&limit>=1?limit:0,new MappingPromiseArray(promises,fn,limit,_filter).promise()}var getDomain=Promise._getDomain,util=_dereq_("./util"),tryCatch=util.tryCatch,errorObj=util.errorObj;util.inherits(MappingPromiseArray,PromiseArray),MappingPromiseArray.prototype._init=function(){},MappingPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values,length=this.length(),preservedValues=this._preservedValues,limit=this._limit;if(index<0){if(index=index*-1-1,values[index]=value,limit>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(limit>=1&&this._inFlight>=limit)return values[index]=value,this._queue.push(index),!1;null!==preservedValues&&(preservedValues[index]=value);var promise=this._promise,callback=this._callback,receiver=promise._boundValue();promise._pushContext();var ret=tryCatch(callback).call(receiver,value,index,length),promiseCreated=promise._popContext();if(debug.checkForgottenReturns(ret,promiseCreated,null!==preservedValues?"Promise.filter":"Promise.map",promise),ret===errorObj)return this._reject(ret.e),!0;var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();var bitField=maybePromise._bitField;if(0===(50397184&bitField))return limit>=1&&this._inFlight++,values[index]=maybePromise,maybePromise._proxy(this,(index+1)*-1),!1;if(0===(33554432&bitField))return 0!==(16777216&bitField)?(this._reject(maybePromise._reason()),!0):(this._cancel(),!0);ret=maybePromise._value()}values[index]=ret}var totalResolved=++this._totalResolved;return totalResolved>=length&&(null!==preservedValues?this._filter(values,preservedValues):this._resolve(values),!0)},MappingPromiseArray.prototype._drainQueue=function(){for(var queue=this._queue,limit=this._limit,values=this._values;queue.length>0&&this._inFlight<limit;){if(this._isResolved())return;var index=queue.pop();this._promiseFulfilled(values[index],index)}},MappingPromiseArray.prototype._filter=function(booleans,values){for(var len=values.length,ret=new Array(len),j=0,i=0;i<len;++i)booleans[i]&&(ret[j++]=values[i]);ret.length=j,this._resolve(ret)},MappingPromiseArray.prototype.preservedValues=function(){return this._preservedValues},Promise.prototype.map=function(fn,options){return map(this,fn,options,null)},Promise.map=function(promises,fn,options,_filter){return map(promises,fn,options,_filter)}}},{"./util":36}],19:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection,debug){var util=_dereq_("./util"),tryCatch=util.tryCatch;Promise.method=function(fn){if("function"!=typeof fn)throw new Promise.TypeError("expecting a function but got "+util.classString(fn));return function(){var ret=new Promise(INTERNAL);ret._captureStackTrace(),ret._pushContext();var value=tryCatch(fn).apply(this,arguments),promiseCreated=ret._popContext();return debug.checkForgottenReturns(value,promiseCreated,"Promise.method",ret),ret._resolveFromSyncValue(value),ret}},Promise.attempt=Promise["try"]=function(fn){if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var ret=new Promise(INTERNAL);ret._captureStackTrace(),ret._pushContext();var value;if(arguments.length>1){debug.deprecated("calling Promise.try with more than 1 argument");var arg=arguments[1],ctx=arguments[2];value=util.isArray(arg)?tryCatch(fn).apply(ctx,arg):tryCatch(fn).call(ctx,arg)}else value=tryCatch(fn)();var promiseCreated=ret._popContext();return debug.checkForgottenReturns(value,promiseCreated,"Promise.try",ret),ret._resolveFromSyncValue(value),ret},Promise.prototype._resolveFromSyncValue=function(value){value===util.errorObj?this._rejectCallback(value.e,!1):this._resolveCallback(value,!0)}}},{"./util":36}],20:[function(_dereq_,module,exports){"use strict";function isUntypedError(obj){return obj instanceof Error&&es5.getPrototypeOf(obj)===Error.prototype}function wrapAsOperationalError(obj){var ret;if(isUntypedError(obj)){ret=new OperationalError(obj),ret.name=obj.name,ret.message=obj.message,ret.stack=obj.stack;for(var keys=es5.keys(obj),i=0;i<keys.length;++i){var key=keys[i];rErrorKey.test(key)||(ret[key]=obj[key])}return ret}return util.markAsOriginatingFromRejection(obj),obj}function nodebackForPromise(promise,multiArgs){return function(err,value){if(null!==promise){if(err){var wrapped=wrapAsOperationalError(maybeWrapAsError(err));promise._attachExtraTrace(wrapped),promise._reject(wrapped)}else if(multiArgs){var args=[].slice.call(arguments,1);promise._fulfill(args)}else promise._fulfill(value);promise=null}}}var util=_dereq_("./util"),maybeWrapAsError=util.maybeWrapAsError,errors=_dereq_("./errors"),OperationalError=errors.OperationalError,es5=_dereq_("./es5"),rErrorKey=/^(?:name|message|stack|cause)$/;module.exports=nodebackForPromise},{"./errors":12,"./es5":13,"./util":36}],21:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function spreadAdapter(val,nodeback){var promise=this;if(!util.isArray(val))return successAdapter.call(promise,val,nodeback);var ret=tryCatch(nodeback).apply(promise._boundValue(),[null].concat(val));ret===errorObj&&async.throwLater(ret.e)}function successAdapter(val,nodeback){var promise=this,receiver=promise._boundValue(),ret=void 0===val?tryCatch(nodeback).call(receiver,null):tryCatch(nodeback).call(receiver,null,val);
ret===errorObj&&async.throwLater(ret.e)}function errorAdapter(reason,nodeback){var promise=this;if(!reason){var newReason=new Error(reason+"");newReason.cause=reason,reason=newReason}var ret=tryCatch(nodeback).call(promise._boundValue(),reason);ret===errorObj&&async.throwLater(ret.e)}var util=_dereq_("./util"),async=Promise._async,tryCatch=util.tryCatch,errorObj=util.errorObj;Promise.prototype.asCallback=Promise.prototype.nodeify=function(nodeback,options){if("function"==typeof nodeback){var adapter=successAdapter;void 0!==options&&Object(options).spread&&(adapter=spreadAdapter),this._then(adapter,errorAdapter,void 0,this,nodeback)}return this}}},{"./util":36}],22:[function(_dereq_,module,exports){"use strict";module.exports=function(){function Proxyable(){}function check(self,executor){if("function"!=typeof executor)throw new TypeError("expecting a function but got "+util.classString(executor));if(self.constructor!==Promise)throw new TypeError("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function Promise(executor){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,executor!==INTERNAL&&(check(this,executor),this._resolveFromExecutor(executor)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function deferResolve(v){this.promise._resolveCallback(v)}function deferReject(v){this.promise._rejectCallback(v,!1)}function fillTypes(value){var p=new Promise(INTERNAL);p._fulfillmentHandler0=value,p._rejectionHandler0=value,p._promise0=value,p._receiver0=value}var getDomain,makeSelfResolutionError=function(){return new TypeError("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},reflectHandler=function(){return new Promise.PromiseInspection(this._target())},apiRejection=function(msg){return Promise.reject(new TypeError(msg))},UNDEFINED_BINDING={},util=_dereq_("./util");getDomain=util.isNode?function(){var ret=process.domain;return void 0===ret&&(ret=null),ret}:function(){return null},util.notEnumerableProp(Promise,"_getDomain",getDomain);var es5=_dereq_("./es5"),Async=_dereq_("./async"),async=new Async;es5.defineProperty(Promise,"_async",{value:async});var errors=_dereq_("./errors"),TypeError=Promise.TypeError=errors.TypeError;Promise.RangeError=errors.RangeError;var CancellationError=Promise.CancellationError=errors.CancellationError;Promise.TimeoutError=errors.TimeoutError,Promise.OperationalError=errors.OperationalError,Promise.RejectionError=errors.OperationalError,Promise.AggregateError=errors.AggregateError;var INTERNAL=function(){},APPLY={},NEXT_FILTER={},tryConvertToPromise=_dereq_("./thenables")(Promise,INTERNAL),PromiseArray=_dereq_("./promise_array")(Promise,INTERNAL,tryConvertToPromise,apiRejection,Proxyable),Context=_dereq_("./context")(Promise),createContext=Context.create,debug=_dereq_("./debuggability")(Promise,Context),PassThroughHandlerContext=(debug.CapturedTrace,_dereq_("./finally")(Promise,tryConvertToPromise)),catchFilter=_dereq_("./catch_filter")(NEXT_FILTER),nodebackForPromise=_dereq_("./nodeback"),errorObj=util.errorObj,tryCatch=util.tryCatch;return Promise.prototype.toString=function(){return"[object Promise]"},Promise.prototype.caught=Promise.prototype["catch"]=function(fn){var len=arguments.length;if(len>1){var i,catchInstances=new Array(len-1),j=0;for(i=0;i<len-1;++i){var item=arguments[i];if(!util.isObject(item))return apiRejection("expecting an object but got A catch statement predicate "+util.classString(item));catchInstances[j++]=item}return catchInstances.length=j,fn=arguments[i],this.then(void 0,catchFilter(catchInstances,fn,this))}return this.then(void 0,fn)},Promise.prototype.reflect=function(){return this._then(reflectHandler,reflectHandler,void 0,this,void 0)},Promise.prototype.then=function(didFulfill,didReject){if(debug.warnings()&&arguments.length>0&&"function"!=typeof didFulfill&&"function"!=typeof didReject){var msg=".then() only accepts functions but was passed: "+util.classString(didFulfill);arguments.length>1&&(msg+=", "+util.classString(didReject)),this._warn(msg)}return this._then(didFulfill,didReject,void 0,void 0,void 0)},Promise.prototype.done=function(didFulfill,didReject){var promise=this._then(didFulfill,didReject,void 0,void 0,void 0);promise._setIsFinal()},Promise.prototype.spread=function(fn){return"function"!=typeof fn?apiRejection("expecting a function but got "+util.classString(fn)):this.all()._then(fn,void 0,void 0,APPLY,void 0)},Promise.prototype.toJSON=function(){var ret={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(ret.fulfillmentValue=this.value(),ret.isFulfilled=!0):this.isRejected()&&(ret.rejectionReason=this.reason(),ret.isRejected=!0),ret},Promise.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new PromiseArray(this).promise()},Promise.prototype.error=function(fn){return this.caught(util.originatesFromRejection,fn)},Promise.getNewLibraryCopy=module.exports,Promise.is=function(val){return val instanceof Promise},Promise.fromNode=Promise.fromCallback=function(fn){var ret=new Promise(INTERNAL);ret._captureStackTrace();var multiArgs=arguments.length>1&&!!Object(arguments[1]).multiArgs,result=tryCatch(fn)(nodebackForPromise(ret,multiArgs));return result===errorObj&&ret._rejectCallback(result.e,!0),ret._isFateSealed()||ret._setAsyncGuaranteed(),ret},Promise.all=function(promises){return new PromiseArray(promises).promise()},Promise.cast=function(obj){var ret=tryConvertToPromise(obj);return ret instanceof Promise||(ret=new Promise(INTERNAL),ret._captureStackTrace(),ret._setFulfilled(),ret._rejectionHandler0=obj),ret},Promise.resolve=Promise.fulfilled=Promise.cast,Promise.reject=Promise.rejected=function(reason){var ret=new Promise(INTERNAL);return ret._captureStackTrace(),ret._rejectCallback(reason,!0),ret},Promise.setScheduler=function(fn){if("function"!=typeof fn)throw new TypeError("expecting a function but got "+util.classString(fn));return async.setScheduler(fn)},Promise.prototype._then=function(didFulfill,didReject,_,receiver,internalData){var haveInternalData=void 0!==internalData,promise=haveInternalData?internalData:new Promise(INTERNAL),target=this._target(),bitField=target._bitField;haveInternalData||(promise._propagateFrom(this,3),promise._captureStackTrace(),void 0===receiver&&0!==(2097152&this._bitField)&&(receiver=0!==(50397184&bitField)?this._boundValue():target===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,promise));var domain=getDomain();if(0!==(50397184&bitField)){var handler,value,settler=target._settlePromiseCtx;0!==(33554432&bitField)?(value=target._rejectionHandler0,handler=didFulfill):0!==(16777216&bitField)?(value=target._fulfillmentHandler0,handler=didReject,target._unsetRejectionIsUnhandled()):(settler=target._settlePromiseLateCancellationObserver,value=new CancellationError("late cancellation observer"),target._attachExtraTrace(value),handler=didReject),async.invoke(settler,target,{handler:null===domain?handler:"function"==typeof handler&&util.domainBind(domain,handler),promise:promise,receiver:receiver,value:value})}else target._addCallbacks(didFulfill,didReject,promise,receiver,domain);return promise},Promise.prototype._length=function(){return 65535&this._bitField},Promise.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},Promise.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},Promise.prototype._setLength=function(len){this._bitField=this._bitField&-65536|65535&len},Promise.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},Promise.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},Promise.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},Promise.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},Promise.prototype._isFinal=function(){return(4194304&this._bitField)>0},Promise.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},Promise.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},Promise.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},Promise.prototype._setAsyncGuaranteed=function(){async.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},Promise.prototype._receiverAt=function(index){var ret=0===index?this._receiver0:this[4*index-4+3];if(ret!==UNDEFINED_BINDING)return void 0===ret&&this._isBound()?this._boundValue():ret},Promise.prototype._promiseAt=function(index){return this[4*index-4+2]},Promise.prototype._fulfillmentHandlerAt=function(index){return this[4*index-4+0]},Promise.prototype._rejectionHandlerAt=function(index){return this[4*index-4+1]},Promise.prototype._boundValue=function(){},Promise.prototype._migrateCallback0=function(follower){var fulfill=(follower._bitField,follower._fulfillmentHandler0),reject=follower._rejectionHandler0,promise=follower._promise0,receiver=follower._receiverAt(0);void 0===receiver&&(receiver=UNDEFINED_BINDING),this._addCallbacks(fulfill,reject,promise,receiver,null)},Promise.prototype._migrateCallbackAt=function(follower,index){var fulfill=follower._fulfillmentHandlerAt(index),reject=follower._rejectionHandlerAt(index),promise=follower._promiseAt(index),receiver=follower._receiverAt(index);void 0===receiver&&(receiver=UNDEFINED_BINDING),this._addCallbacks(fulfill,reject,promise,receiver,null)},Promise.prototype._addCallbacks=function(fulfill,reject,promise,receiver,domain){var index=this._length();if(index>=65531&&(index=0,this._setLength(0)),0===index)this._promise0=promise,this._receiver0=receiver,"function"==typeof fulfill&&(this._fulfillmentHandler0=null===domain?fulfill:util.domainBind(domain,fulfill)),"function"==typeof reject&&(this._rejectionHandler0=null===domain?reject:util.domainBind(domain,reject));else{var base=4*index-4;this[base+2]=promise,this[base+3]=receiver,"function"==typeof fulfill&&(this[base+0]=null===domain?fulfill:util.domainBind(domain,fulfill)),"function"==typeof reject&&(this[base+1]=null===domain?reject:util.domainBind(domain,reject))}return this._setLength(index+1),index},Promise.prototype._proxy=function(proxyable,arg){this._addCallbacks(void 0,void 0,arg,proxyable,null)},Promise.prototype._resolveCallback=function(value,shouldBind){if(0===(117506048&this._bitField)){if(value===this)return this._rejectCallback(makeSelfResolutionError(),!1);var maybePromise=tryConvertToPromise(value,this);if(!(maybePromise instanceof Promise))return this._fulfill(value);shouldBind&&this._propagateFrom(maybePromise,2);var promise=maybePromise._target();if(promise===this)return void this._reject(makeSelfResolutionError());var bitField=promise._bitField;if(0===(50397184&bitField)){var len=this._length();len>0&&promise._migrateCallback0(this);for(var i=1;i<len;++i)promise._migrateCallbackAt(this,i);this._setFollowing(),this._setLength(0),this._setFollowee(promise)}else if(0!==(33554432&bitField))this._fulfill(promise._value());else if(0!==(16777216&bitField))this._reject(promise._reason());else{var reason=new CancellationError("late cancellation observer");promise._attachExtraTrace(reason),this._reject(reason)}}},Promise.prototype._rejectCallback=function(reason,synchronous,ignoreNonErrorWarnings){var trace=util.ensureErrorObject(reason),hasStack=trace===reason;if(!hasStack&&!ignoreNonErrorWarnings&&debug.warnings()){var message="a promise was rejected with a non-error: "+util.classString(reason);this._warn(message,!0)}this._attachExtraTrace(trace,!!synchronous&&hasStack),this._reject(reason)},Promise.prototype._resolveFromExecutor=function(executor){var promise=this;this._captureStackTrace(),this._pushContext();var synchronous=!0,r=this._execute(executor,function(value){promise._resolveCallback(value)},function(reason){promise._rejectCallback(reason,synchronous)});synchronous=!1,this._popContext(),void 0!==r&&promise._rejectCallback(r,!0)},Promise.prototype._settlePromiseFromHandler=function(handler,receiver,value,promise){var bitField=promise._bitField;if(0===(65536&bitField)){promise._pushContext();var x;receiver===APPLY?value&&"number"==typeof value.length?x=tryCatch(handler).apply(this._boundValue(),value):(x=errorObj,x.e=new TypeError("cannot .spread() a non-array: "+util.classString(value))):x=tryCatch(handler).call(receiver,value);var promiseCreated=promise._popContext();bitField=promise._bitField,0===(65536&bitField)&&(x===NEXT_FILTER?promise._reject(value):x===errorObj?promise._rejectCallback(x.e,!1):(debug.checkForgottenReturns(x,promiseCreated,"",promise,this),promise._resolveCallback(x)))}},Promise.prototype._target=function(){for(var ret=this;ret._isFollowing();)ret=ret._followee();return ret},Promise.prototype._followee=function(){return this._rejectionHandler0},Promise.prototype._setFollowee=function(promise){this._rejectionHandler0=promise},Promise.prototype._settlePromise=function(promise,handler,receiver,value){var isPromise=promise instanceof Promise,bitField=this._bitField,asyncGuaranteed=0!==(134217728&bitField);0!==(65536&bitField)?(isPromise&&promise._invokeInternalOnCancel(),receiver instanceof PassThroughHandlerContext&&receiver.isFinallyHandler()?(receiver.cancelPromise=promise,tryCatch(handler).call(receiver,value)===errorObj&&promise._reject(errorObj.e)):handler===reflectHandler?promise._fulfill(reflectHandler.call(receiver)):receiver instanceof Proxyable?receiver._promiseCancelled(promise):isPromise||promise instanceof PromiseArray?promise._cancel():receiver.cancel()):"function"==typeof handler?isPromise?(asyncGuaranteed&&promise._setAsyncGuaranteed(),this._settlePromiseFromHandler(handler,receiver,value,promise)):handler.call(receiver,value,promise):receiver instanceof Proxyable?receiver._isResolved()||(0!==(33554432&bitField)?receiver._promiseFulfilled(value,promise):receiver._promiseRejected(value,promise)):isPromise&&(asyncGuaranteed&&promise._setAsyncGuaranteed(),0!==(33554432&bitField)?promise._fulfill(value):promise._reject(value))},Promise.prototype._settlePromiseLateCancellationObserver=function(ctx){var handler=ctx.handler,promise=ctx.promise,receiver=ctx.receiver,value=ctx.value;"function"==typeof handler?promise instanceof Promise?this._settlePromiseFromHandler(handler,receiver,value,promise):handler.call(receiver,value,promise):promise instanceof Promise&&promise._reject(value)},Promise.prototype._settlePromiseCtx=function(ctx){this._settlePromise(ctx.promise,ctx.handler,ctx.receiver,ctx.value)},Promise.prototype._settlePromise0=function(handler,value,bitField){var promise=this._promise0,receiver=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(promise,handler,receiver,value)},Promise.prototype._clearCallbackDataAtIndex=function(index){var base=4*index-4;this[base+2]=this[base+3]=this[base+0]=this[base+1]=void 0},Promise.prototype._fulfill=function(value){var bitField=this._bitField;if(!((117506048&bitField)>>>16)){if(value===this){var err=makeSelfResolutionError();return this._attachExtraTrace(err),this._reject(err)}this._setFulfilled(),this._rejectionHandler0=value,(65535&bitField)>0&&(0!==(134217728&bitField)?this._settlePromises():async.settlePromises(this))}},Promise.prototype._reject=function(reason){var bitField=this._bitField;if(!((117506048&bitField)>>>16))return this._setRejected(),this._fulfillmentHandler0=reason,this._isFinal()?async.fatalError(reason,util.isNode):void((65535&bitField)>0?async.settlePromises(this):this._ensurePossibleRejectionHandled())},Promise.prototype._fulfillPromises=function(len,value){for(var i=1;i<len;i++){var handler=this._fulfillmentHandlerAt(i),promise=this._promiseAt(i),receiver=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(promise,handler,receiver,value)}},Promise.prototype._rejectPromises=function(len,reason){for(var i=1;i<len;i++){var handler=this._rejectionHandlerAt(i),promise=this._promiseAt(i),receiver=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(promise,handler,receiver,reason)}},Promise.prototype._settlePromises=function(){var bitField=this._bitField,len=65535&bitField;if(len>0){if(0!==(16842752&bitField)){var reason=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,reason,bitField),this._rejectPromises(len,reason)}else{var value=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,value,bitField),this._fulfillPromises(len,value)}this._setLength(0)}this._clearCancellationData()},Promise.prototype._settledValue=function(){var bitField=this._bitField;return 0!==(33554432&bitField)?this._rejectionHandler0:0!==(16777216&bitField)?this._fulfillmentHandler0:void 0},Promise.defer=Promise.pending=function(){debug.deprecated("Promise.defer","new Promise");var promise=new Promise(INTERNAL);return{promise:promise,resolve:deferResolve,reject:deferReject}},util.notEnumerableProp(Promise,"_makeSelfResolutionError",makeSelfResolutionError),_dereq_("./method")(Promise,INTERNAL,tryConvertToPromise,apiRejection,debug),_dereq_("./bind")(Promise,INTERNAL,tryConvertToPromise,debug),_dereq_("./cancel")(Promise,PromiseArray,apiRejection,debug),_dereq_("./direct_resolve")(Promise),_dereq_("./synchronous_inspection")(Promise),_dereq_("./join")(Promise,PromiseArray,tryConvertToPromise,INTERNAL,async,getDomain),Promise.Promise=Promise,Promise.version="3.4.5",_dereq_("./map.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug),_dereq_("./call_get.js")(Promise),_dereq_("./using.js")(Promise,apiRejection,tryConvertToPromise,createContext,INTERNAL,debug),_dereq_("./timers.js")(Promise,INTERNAL,debug),_dereq_("./generators.js")(Promise,apiRejection,INTERNAL,tryConvertToPromise,Proxyable,debug),_dereq_("./nodeify.js")(Promise),_dereq_("./promisify.js")(Promise,INTERNAL),_dereq_("./props.js")(Promise,PromiseArray,tryConvertToPromise,apiRejection),_dereq_("./race.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection),_dereq_("./reduce.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug),_dereq_("./settle.js")(Promise,PromiseArray,debug),_dereq_("./some.js")(Promise,PromiseArray,apiRejection),_dereq_("./filter.js")(Promise,INTERNAL),_dereq_("./each.js")(Promise,INTERNAL),_dereq_("./any.js")(Promise),util.toFastProperties(Promise),util.toFastProperties(Promise.prototype),fillTypes({a:1}),fillTypes({b:2}),fillTypes({c:3}),fillTypes(1),fillTypes(function(){}),fillTypes(void 0),fillTypes(!1),fillTypes(new Promise(INTERNAL)),debug.setBounds(Async.firstLineError,util.lastLineError),Promise}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection,Proxyable){function toResolutionValue(val){switch(val){case-2:return[];case-3:return{}}}function PromiseArray(values){var promise=this._promise=new Promise(INTERNAL);values instanceof Promise&&promise._propagateFrom(values,3),promise._setOnCancel(this),this._values=values,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var util=_dereq_("./util");util.isArray;return util.inherits(PromiseArray,Proxyable),PromiseArray.prototype.length=function(){return this._length},PromiseArray.prototype.promise=function(){return this._promise},PromiseArray.prototype._init=function init(_,resolveValueIfEmpty){var values=tryConvertToPromise(this._values,this._promise);if(values instanceof Promise){values=values._target();var bitField=values._bitField;if(this._values=values,0===(50397184&bitField))return this._promise._setAsyncGuaranteed(),values._then(init,this._reject,void 0,this,resolveValueIfEmpty);if(0===(33554432&bitField))return 0!==(16777216&bitField)?this._reject(values._reason()):this._cancel();values=values._value()}if(values=util.asArray(values),null===values){var err=apiRejection("expecting an array or an iterable object but got "+util.classString(values)).reason();return void this._promise._rejectCallback(err,!1)}return 0===values.length?void(resolveValueIfEmpty===-5?this._resolveEmptyArray():this._resolve(toResolutionValue(resolveValueIfEmpty))):void this._iterate(values)},PromiseArray.prototype._iterate=function(values){var len=this.getActualLength(values.length);this._length=len,this._values=this.shouldCopyValues()?new Array(len):this._values;for(var result=this._promise,isResolved=!1,bitField=null,i=0;i<len;++i){var maybePromise=tryConvertToPromise(values[i],result);maybePromise instanceof Promise?(maybePromise=maybePromise._target(),bitField=maybePromise._bitField):bitField=null,isResolved?null!==bitField&&maybePromise.suppressUnhandledRejections():null!==bitField?0===(50397184&bitField)?(maybePromise._proxy(this,i),this._values[i]=maybePromise):isResolved=0!==(33554432&bitField)?this._promiseFulfilled(maybePromise._value(),i):0!==(16777216&bitField)?this._promiseRejected(maybePromise._reason(),i):this._promiseCancelled(i):isResolved=this._promiseFulfilled(maybePromise,i)}isResolved||result._setAsyncGuaranteed()},PromiseArray.prototype._isResolved=function(){return null===this._values},PromiseArray.prototype._resolve=function(value){this._values=null,this._promise._fulfill(value)},PromiseArray.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},PromiseArray.prototype._reject=function(reason){this._values=null,this._promise._rejectCallback(reason,!1)},PromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;return totalResolved>=this._length&&(this._resolve(this._values),!0)},PromiseArray.prototype._promiseCancelled=function(){return this._cancel(),!0},PromiseArray.prototype._promiseRejected=function(reason){return this._totalResolved++,this._reject(reason),!0},PromiseArray.prototype._resultCancelled=function(){if(!this._isResolved()){var values=this._values;if(this._cancel(),values instanceof Promise)values.cancel();else for(var i=0;i<values.length;++i)values[i]instanceof Promise&&values[i].cancel()}},PromiseArray.prototype.shouldCopyValues=function(){return!0},PromiseArray.prototype.getActualLength=function(len){return len},PromiseArray}},{"./util":36}],24:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){function propsFilter(key){return!noCopyPropsPattern.test(key)}function isPromisified(fn){try{return fn.__isPromisified__===!0}catch(e){return!1}}function hasPromisified(obj,key,suffix){var val=util.getDataPropertyOrDefault(obj,key+suffix,defaultPromisified);return!!val&&isPromisified(val)}function checkValid(ret,suffix,suffixRegexp){for(var i=0;i<ret.length;i+=2){var key=ret[i];if(suffixRegexp.test(key))for(var keyWithoutAsyncSuffix=key.replace(suffixRegexp,""),j=0;j<ret.length;j+=2)if(ret[j]===keyWithoutAsyncSuffix)throw new TypeError("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",suffix))}}function promisifiableMethods(obj,suffix,suffixRegexp,filter){for(var keys=util.inheritedDataKeys(obj),ret=[],i=0;i<keys.length;++i){var key=keys[i],value=obj[key],passesDefaultFilter=filter===defaultFilter||defaultFilter(key,value,obj);"function"!=typeof value||isPromisified(value)||hasPromisified(obj,key,suffix)||!filter(key,value,obj,passesDefaultFilter)||ret.push(key,value)}return checkValid(ret,suffix,suffixRegexp),ret}function makeNodePromisifiedClosure(callback,receiver,_,fn,__,multiArgs){function promisified(){var _receiver=receiver;receiver===THIS&&(_receiver=this);var promise=new Promise(INTERNAL);promise._captureStackTrace();var cb="string"==typeof method&&this!==defaultThis?this[method]:callback,fn=nodebackForPromise(promise,multiArgs);try{cb.apply(_receiver,withAppended(arguments,fn))}catch(e){promise._rejectCallback(maybeWrapAsError(e),!0,!0)}return promise._isFateSealed()||promise._setAsyncGuaranteed(),promise}var defaultThis=function(){return this}(),method=callback;return"string"==typeof method&&(callback=fn),util.notEnumerableProp(promisified,"__isPromisified__",!0),promisified}function promisifyAll(obj,suffix,filter,promisifier,multiArgs){for(var suffixRegexp=new RegExp(escapeIdentRegex(suffix)+"$"),methods=promisifiableMethods(obj,suffix,suffixRegexp,filter),i=0,len=methods.length;i<len;i+=2){var key=methods[i],fn=methods[i+1],promisifiedKey=key+suffix;if(promisifier===makeNodePromisified)obj[promisifiedKey]=makeNodePromisified(key,THIS,key,fn,suffix,multiArgs);else{var promisified=promisifier(fn,function(){return makeNodePromisified(key,THIS,key,fn,suffix,multiArgs)});util.notEnumerableProp(promisified,"__isPromisified__",!0),obj[promisifiedKey]=promisified}}return util.toFastProperties(obj),obj}function promisify(callback,receiver,multiArgs){return makeNodePromisified(callback,receiver,void 0,callback,null,multiArgs)}var makeNodePromisifiedEval,THIS={},util=_dereq_("./util"),nodebackForPromise=_dereq_("./nodeback"),withAppended=util.withAppended,maybeWrapAsError=util.maybeWrapAsError,canEvaluate=util.canEvaluate,TypeError=_dereq_("./errors").TypeError,defaultSuffix="Async",defaultPromisified={__isPromisified__:!0},noCopyProps=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],noCopyPropsPattern=new RegExp("^(?:"+noCopyProps.join("|")+")$"),defaultFilter=function(name){return util.isIdentifier(name)&&"_"!==name.charAt(0)&&"constructor"!==name},escapeIdentRegex=function(str){return str.replace(/([$])/,"\\$")},makeNodePromisified=canEvaluate?makeNodePromisifiedEval:makeNodePromisifiedClosure;Promise.promisify=function(fn,options){if("function"!=typeof fn)throw new TypeError("expecting a function but got "+util.classString(fn));if(isPromisified(fn))return fn;options=Object(options);var receiver=void 0===options.context?THIS:options.context,multiArgs=!!options.multiArgs,ret=promisify(fn,receiver,multiArgs);return util.copyDescriptors(fn,ret,propsFilter),ret},Promise.promisifyAll=function(target,options){if("function"!=typeof target&&"object"!=typeof target)throw new TypeError("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");options=Object(options);var multiArgs=!!options.multiArgs,suffix=options.suffix;"string"!=typeof suffix&&(suffix=defaultSuffix);var filter=options.filter;"function"!=typeof filter&&(filter=defaultFilter);var promisifier=options.promisifier;if("function"!=typeof promisifier&&(promisifier=makeNodePromisified),!util.isIdentifier(suffix))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var keys=util.inheritedDataKeys(target),i=0;i<keys.length;++i){var value=target[keys[i]];"constructor"!==keys[i]&&util.isClass(value)&&(promisifyAll(value.prototype,suffix,filter,promisifier,multiArgs),promisifyAll(value,suffix,filter,promisifier,multiArgs))}return promisifyAll(target,suffix,filter,promisifier,multiArgs)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,apiRejection){function PropertiesPromiseArray(obj){var entries,isMap=!1;if(void 0!==Es6Map&&obj instanceof Es6Map)entries=mapToEntries(obj),isMap=!0;else{var keys=es5.keys(obj),len=keys.length;entries=new Array(2*len);for(var i=0;i<len;++i){var key=keys[i];entries[i]=obj[key],entries[i+len]=key}}this.constructor$(entries),this._isMap=isMap,this._init$(void 0,-3)}function props(promises){var ret,castValue=tryConvertToPromise(promises);return isObject(castValue)?(ret=castValue instanceof Promise?castValue._then(Promise.props,void 0,void 0,void 0,void 0):new PropertiesPromiseArray(castValue).promise(),castValue instanceof Promise&&ret._propagateFrom(castValue,2),ret):apiRejection("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var Es6Map,util=_dereq_("./util"),isObject=util.isObject,es5=_dereq_("./es5");"function"==typeof Map&&(Es6Map=Map);var mapToEntries=function(){function extractEntry(value,key){this[index]=value,this[index+size]=key,index++}var index=0,size=0;return function(map){size=map.size,index=0;var ret=new Array(2*map.size);return map.forEach(extractEntry,ret),ret}}(),entriesToMap=function(entries){for(var ret=new Es6Map,length=entries.length/2|0,i=0;i<length;++i){var key=entries[length+i],value=entries[i];ret.set(key,value)}return ret};util.inherits(PropertiesPromiseArray,PromiseArray),PropertiesPromiseArray.prototype._init=function(){},PropertiesPromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){var val;if(this._isMap)val=entriesToMap(this._values);else{val={};for(var keyOffset=this.length(),i=0,len=this.length();i<len;++i)val[this._values[i+keyOffset]]=this._values[i]}return this._resolve(val),!0}return!1},PropertiesPromiseArray.prototype.shouldCopyValues=function(){return!1},PropertiesPromiseArray.prototype.getActualLength=function(len){return len>>1},Promise.prototype.props=function(){return props(this)},Promise.props=function(promises){return props(promises)}}},{"./es5":13,"./util":36}],26:[function(_dereq_,module,exports){"use strict";function arrayMove(src,srcIndex,dst,dstIndex,len){for(var j=0;j<len;++j)dst[j+dstIndex]=src[j+srcIndex],src[j+srcIndex]=void 0}function Queue(capacity){this._capacity=capacity,this._length=0,this._front=0}Queue.prototype._willBeOverCapacity=function(size){return this._capacity<size},Queue.prototype._pushOne=function(arg){var length=this.length();this._checkCapacity(length+1);var i=this._front+length&this._capacity-1;this[i]=arg,this._length=length+1},Queue.prototype._unshiftOne=function(value){var capacity=this._capacity;this._checkCapacity(this.length()+1);var front=this._front,i=(front-1&capacity-1^capacity)-capacity;this[i]=value,this._front=i,this._length=this.length()+1},Queue.prototype.unshift=function(fn,receiver,arg){this._unshiftOne(arg),this._unshiftOne(receiver),this._unshiftOne(fn)},Queue.prototype.push=function(fn,receiver,arg){var length=this.length()+3;if(this._willBeOverCapacity(length))return this._pushOne(fn),this._pushOne(receiver),void this._pushOne(arg);var j=this._front+length-3;this._checkCapacity(length);var wrapMask=this._capacity-1;this[j+0&wrapMask]=fn,this[j+1&wrapMask]=receiver,this[j+2&wrapMask]=arg,this._length=length},Queue.prototype.shift=function(){var front=this._front,ret=this[front];return this[front]=void 0,this._front=front+1&this._capacity-1,this._length--,ret},Queue.prototype.length=function(){return this._length},Queue.prototype._checkCapacity=function(size){this._capacity<size&&this._resizeTo(this._capacity<<1)},Queue.prototype._resizeTo=function(capacity){var oldCapacity=this._capacity;this._capacity=capacity;var front=this._front,length=this._length,moveItemsCount=front+length&oldCapacity-1;arrayMove(this,0,this,oldCapacity,moveItemsCount)},module.exports=Queue},{}],27:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){function race(promises,parent){var maybePromise=tryConvertToPromise(promises);if(maybePromise instanceof Promise)return raceLater(maybePromise);if(promises=util.asArray(promises),null===promises)return apiRejection("expecting an array or an iterable object but got "+util.classString(promises));
var ret=new Promise(INTERNAL);void 0!==parent&&ret._propagateFrom(parent,3);for(var fulfill=ret._fulfill,reject=ret._reject,i=0,len=promises.length;i<len;++i){var val=promises[i];(void 0!==val||i in promises)&&Promise.cast(val)._then(fulfill,reject,void 0,ret,null)}return ret}var util=_dereq_("./util"),raceLater=function(promise){return promise.then(function(array){return race(array,promise)})};Promise.race=function(promises){return race(promises,void 0)},Promise.prototype.race=function(){return race(this,void 0)}}},{"./util":36}],28:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug){function ReductionPromiseArray(promises,fn,initialValue,_each){this.constructor$(promises);var domain=getDomain();this._fn=null===domain?fn:util.domainBind(domain,fn),void 0!==initialValue&&(initialValue=Promise.resolve(initialValue),initialValue._attachCancellationCallback(this)),this._initialValue=initialValue,this._currentCancellable=null,_each===INTERNAL?this._eachValues=Array(this._length):0===_each?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function completed(valueOrReason,array){this.isFulfilled()?array._resolve(valueOrReason):array._reject(valueOrReason)}function reduce(promises,fn,initialValue,_each){if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var array=new ReductionPromiseArray(promises,fn,initialValue,_each);return array.promise()}function gotAccum(accum){this.accum=accum,this.array._gotAccum(accum);var value=tryConvertToPromise(this.value,this.array._promise);return value instanceof Promise?(this.array._currentCancellable=value,value._then(gotValue,void 0,void 0,this,void 0)):gotValue.call(this,value)}function gotValue(value){var array=this.array,promise=array._promise,fn=tryCatch(array._fn);promise._pushContext();var ret;ret=void 0!==array._eachValues?fn.call(promise._boundValue(),value,this.index,this.length):fn.call(promise._boundValue(),this.accum,value,this.index,this.length),ret instanceof Promise&&(array._currentCancellable=ret);var promiseCreated=promise._popContext();return debug.checkForgottenReturns(ret,promiseCreated,void 0!==array._eachValues?"Promise.each":"Promise.reduce",promise),ret}var getDomain=Promise._getDomain,util=_dereq_("./util"),tryCatch=util.tryCatch;util.inherits(ReductionPromiseArray,PromiseArray),ReductionPromiseArray.prototype._gotAccum=function(accum){void 0!==this._eachValues&&null!==this._eachValues&&accum!==INTERNAL&&this._eachValues.push(accum)},ReductionPromiseArray.prototype._eachComplete=function(value){return null!==this._eachValues&&this._eachValues.push(value),this._eachValues},ReductionPromiseArray.prototype._init=function(){},ReductionPromiseArray.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},ReductionPromiseArray.prototype.shouldCopyValues=function(){return!1},ReductionPromiseArray.prototype._resolve=function(value){this._promise._resolveCallback(value),this._values=null},ReductionPromiseArray.prototype._resultCancelled=function(sender){return sender===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof Promise&&this._currentCancellable.cancel(),this._initialValue instanceof Promise&&this._initialValue.cancel()))},ReductionPromiseArray.prototype._iterate=function(values){this._values=values;var value,i,length=values.length;if(void 0!==this._initialValue?(value=this._initialValue,i=0):(value=Promise.resolve(values[0]),i=1),this._currentCancellable=value,!value.isRejected())for(;i<length;++i){var ctx={accum:null,value:values[i],index:i,length:length,array:this};value=value._then(gotAccum,void 0,void 0,ctx,void 0)}void 0!==this._eachValues&&(value=value._then(this._eachComplete,void 0,void 0,this,void 0)),value._then(completed,completed,void 0,value,this)},Promise.prototype.reduce=function(fn,initialValue){return reduce(this,fn,initialValue,null)},Promise.reduce=function(promises,fn,initialValue,_each){return reduce(promises,fn,initialValue,_each)}}},{"./util":36}],29:[function(_dereq_,module,exports){"use strict";var schedule,util=_dereq_("./util"),noAsyncScheduler=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},NativePromise=util.getNativePromise();if(util.isNode&&"undefined"==typeof MutationObserver){var GlobalSetImmediate=global.setImmediate,ProcessNextTick=process.nextTick;schedule=util.isRecentNode?function(fn){GlobalSetImmediate.call(global,fn)}:function(fn){ProcessNextTick.call(process,fn)}}else if("function"==typeof NativePromise&&"function"==typeof NativePromise.resolve){var nativePromise=NativePromise.resolve();schedule=function(fn){nativePromise.then(fn)}}else schedule="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(fn){setImmediate(fn)}:"undefined"!=typeof setTimeout?function(fn){setTimeout(fn,0)}:noAsyncScheduler:function(){var div=document.createElement("div"),opts={attributes:!0},toggleScheduled=!1,div2=document.createElement("div"),o2=new MutationObserver(function(){div.classList.toggle("foo"),toggleScheduled=!1});o2.observe(div2,opts);var scheduleToggle=function(){toggleScheduled||(toggleScheduled=!0,div2.classList.toggle("foo"))};return function(fn){var o=new MutationObserver(function(){o.disconnect(),fn()});o.observe(div,opts),scheduleToggle()}}();module.exports=schedule},{"./util":36}],30:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,debug){function SettledPromiseArray(values){this.constructor$(values)}var PromiseInspection=Promise.PromiseInspection,util=_dereq_("./util");util.inherits(SettledPromiseArray,PromiseArray),SettledPromiseArray.prototype._promiseResolved=function(index,inspection){this._values[index]=inspection;var totalResolved=++this._totalResolved;return totalResolved>=this._length&&(this._resolve(this._values),!0)},SettledPromiseArray.prototype._promiseFulfilled=function(value,index){var ret=new PromiseInspection;return ret._bitField=33554432,ret._settledValueField=value,this._promiseResolved(index,ret)},SettledPromiseArray.prototype._promiseRejected=function(reason,index){var ret=new PromiseInspection;return ret._bitField=16777216,ret._settledValueField=reason,this._promiseResolved(index,ret)},Promise.settle=function(promises){return debug.deprecated(".settle()",".reflect()"),new SettledPromiseArray(promises).promise()},Promise.prototype.settle=function(){return Promise.settle(this)}}},{"./util":36}],31:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection){function SomePromiseArray(values){this.constructor$(values),this._howMany=0,this._unwrap=!1,this._initialized=!1}function some(promises,howMany){if((0|howMany)!==howMany||howMany<0)return apiRejection("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(howMany),ret.init(),promise}var util=_dereq_("./util"),RangeError=_dereq_("./errors").RangeError,AggregateError=_dereq_("./errors").AggregateError,isArray=util.isArray,CANCELLATION={};util.inherits(SomePromiseArray,PromiseArray),SomePromiseArray.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var isArrayResolved=isArray(this._values);!this._isResolved()&&isArrayResolved&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},SomePromiseArray.prototype.init=function(){this._initialized=!0,this._init()},SomePromiseArray.prototype.setUnwrap=function(){this._unwrap=!0},SomePromiseArray.prototype.howMany=function(){return this._howMany},SomePromiseArray.prototype.setHowMany=function(count){this._howMany=count},SomePromiseArray.prototype._promiseFulfilled=function(value){return this._addFulfilled(value),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},SomePromiseArray.prototype._promiseRejected=function(reason){return this._addRejected(reason),this._checkOutcome()},SomePromiseArray.prototype._promiseCancelled=function(){return this._values instanceof Promise||null==this._values?this._cancel():(this._addRejected(CANCELLATION),this._checkOutcome())},SomePromiseArray.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new AggregateError,i=this.length();i<this._values.length;++i)this._values[i]!==CANCELLATION&&e.push(this._values[i]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},SomePromiseArray.prototype._fulfilled=function(){return this._totalResolved},SomePromiseArray.prototype._rejected=function(){return this._values.length-this.length()},SomePromiseArray.prototype._addRejected=function(reason){this._values.push(reason)},SomePromiseArray.prototype._addFulfilled=function(value){this._values[this._totalResolved++]=value},SomePromiseArray.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},SomePromiseArray.prototype._getRangeError=function(count){var message="Input array must contain at least "+this._howMany+" items but contains only "+count+" items";return new RangeError(message)},SomePromiseArray.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},Promise.some=function(promises,howMany){return some(promises,howMany)},Promise.prototype.some=function(howMany){return some(this,howMany)},Promise._SomePromiseArray=SomePromiseArray}},{"./errors":12,"./util":36}],32:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function PromiseInspection(promise){void 0!==promise?(promise=promise._target(),this._bitField=promise._bitField,this._settledValueField=promise._isFateSealed()?promise._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}PromiseInspection.prototype._settledValue=function(){return this._settledValueField};var value=PromiseInspection.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},reason=PromiseInspection.prototype.error=PromiseInspection.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},isFulfilled=PromiseInspection.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},isRejected=PromiseInspection.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},isPending=PromiseInspection.prototype.isPending=function(){return 0===(50397184&this._bitField)},isResolved=PromiseInspection.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};PromiseInspection.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},Promise.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},Promise.prototype._isCancelled=function(){return this._target().__isCancelled()},Promise.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},Promise.prototype.isPending=function(){return isPending.call(this._target())},Promise.prototype.isRejected=function(){return isRejected.call(this._target())},Promise.prototype.isFulfilled=function(){return isFulfilled.call(this._target())},Promise.prototype.isResolved=function(){return isResolved.call(this._target())},Promise.prototype.value=function(){return value.call(this._target())},Promise.prototype.reason=function(){var target=this._target();return target._unsetRejectionIsUnhandled(),reason.call(target)},Promise.prototype._value=function(){return this._settledValue()},Promise.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},Promise.PromiseInspection=PromiseInspection}},{}],33:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){function tryConvertToPromise(obj,context){if(isObject(obj)){if(obj instanceof Promise)return obj;var then=getThen(obj);if(then===errorObj){context&&context._pushContext();var ret=Promise.reject(then.e);return context&&context._popContext(),ret}if("function"==typeof then){if(isAnyBluebirdPromise(obj)){var ret=new Promise(INTERNAL);return obj._then(ret._fulfill,ret._reject,void 0,ret,null),ret}return doThenable(obj,then,context)}}return obj}function doGetThen(obj){return obj.then}function getThen(obj){try{return doGetThen(obj)}catch(e){return errorObj.e=e,errorObj}}function isAnyBluebirdPromise(obj){try{return hasProp.call(obj,"_promise0")}catch(e){return!1}}function doThenable(x,then,context){function resolve(value){promise&&(promise._resolveCallback(value),promise=null)}function reject(reason){promise&&(promise._rejectCallback(reason,synchronous,!0),promise=null)}var promise=new Promise(INTERNAL),ret=promise;context&&context._pushContext(),promise._captureStackTrace(),context&&context._popContext();var synchronous=!0,result=util.tryCatch(then).call(x,resolve,reject);return synchronous=!1,promise&&result===errorObj&&(promise._rejectCallback(result.e,!0,!0),promise=null),ret}var util=_dereq_("./util"),errorObj=util.errorObj,isObject=util.isObject,hasProp={}.hasOwnProperty;return tryConvertToPromise}},{"./util":36}],34:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,debug){function HandleWrapper(handle){this.handle=handle}function successClear(value){return clearTimeout(this.handle),value}function failureClear(reason){throw clearTimeout(this.handle),reason}var util=_dereq_("./util"),TimeoutError=Promise.TimeoutError;HandleWrapper.prototype._resultCancelled=function(){clearTimeout(this.handle)};var afterValue=function(value){return delay(+this).thenReturn(value)},delay=Promise.delay=function(ms,value){var ret,handle;return void 0!==value?(ret=Promise.resolve(value)._then(afterValue,null,null,ms,void 0),debug.cancellation()&&value instanceof Promise&&ret._setOnCancel(value)):(ret=new Promise(INTERNAL),handle=setTimeout(function(){ret._fulfill()},+ms),debug.cancellation()&&ret._setOnCancel(new HandleWrapper(handle)),ret._captureStackTrace()),ret._setAsyncGuaranteed(),ret};Promise.prototype.delay=function(ms){return delay(ms,this)};var afterTimeout=function(promise,message,parent){var err;err="string"!=typeof message?message instanceof Error?message:new TimeoutError("operation timed out"):new TimeoutError(message),util.markAsOriginatingFromRejection(err),promise._attachExtraTrace(err),promise._reject(err),null!=parent&&parent.cancel()};Promise.prototype.timeout=function(ms,message){ms=+ms;var ret,parent,handleWrapper=new HandleWrapper(setTimeout(function(){ret.isPending()&&afterTimeout(ret,message,parent)},ms));return debug.cancellation()?(parent=this.then(),ret=parent._then(successClear,failureClear,void 0,handleWrapper,void 0),ret._setOnCancel(handleWrapper)):ret=this._then(successClear,failureClear,void 0,handleWrapper,void 0),ret}}},{"./util":36}],35:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,tryConvertToPromise,createContext,INTERNAL,debug){function thrower(e){setTimeout(function(){throw e},0)}function castPreservingDisposable(thenable){var maybePromise=tryConvertToPromise(thenable);return maybePromise!==thenable&&"function"==typeof thenable._isDisposable&&"function"==typeof thenable._getDisposer&&thenable._isDisposable()&&maybePromise._setDisposable(thenable._getDisposer()),maybePromise}function dispose(resources,inspection){function iterator(){if(i>=len)return ret._fulfill();var maybePromise=castPreservingDisposable(resources[i++]);if(maybePromise instanceof Promise&&maybePromise._isDisposable()){try{maybePromise=tryConvertToPromise(maybePromise._getDisposer().tryDispose(inspection),resources.promise)}catch(e){return thrower(e)}if(maybePromise instanceof Promise)return maybePromise._then(iterator,thrower,null,null,null)}iterator()}var i=0,len=resources.length,ret=new Promise(INTERNAL);return iterator(),ret}function Disposer(data,promise,context){this._data=data,this._promise=promise,this._context=context}function FunctionDisposer(fn,promise,context){this.constructor$(fn,promise,context)}function maybeUnwrapDisposer(value){return Disposer.isDisposer(value)?(this.resources[this.index]._setDisposable(value),value.promise()):value}function ResourceList(length){this.length=length,this.promise=null,this[length-1]=null}var util=_dereq_("./util"),TypeError=_dereq_("./errors").TypeError,inherits=_dereq_("./util").inherits,errorObj=util.errorObj,tryCatch=util.tryCatch,NULL={};Disposer.prototype.data=function(){return this._data},Disposer.prototype.promise=function(){return this._promise},Disposer.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():NULL},Disposer.prototype.tryDispose=function(inspection){var resource=this.resource(),context=this._context;void 0!==context&&context._pushContext();var ret=resource!==NULL?this.doDispose(resource,inspection):null;return void 0!==context&&context._popContext(),this._promise._unsetDisposable(),this._data=null,ret},Disposer.isDisposer=function(d){return null!=d&&"function"==typeof d.resource&&"function"==typeof d.tryDispose},inherits(FunctionDisposer,Disposer),FunctionDisposer.prototype.doDispose=function(resource,inspection){var fn=this.data();return fn.call(resource,resource,inspection)},ResourceList.prototype._resultCancelled=function(){for(var len=this.length,i=0;i<len;++i){var item=this[i];item instanceof Promise&&item.cancel()}},Promise.using=function(){var len=arguments.length;if(len<2)return apiRejection("you must pass at least 2 arguments to Promise.using");var fn=arguments[len-1];if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var input,spreadArgs=!0;2===len&&Array.isArray(arguments[0])?(input=arguments[0],len=input.length,spreadArgs=!1):(input=arguments,len--);for(var resources=new ResourceList(len),i=0;i<len;++i){var resource=input[i];if(Disposer.isDisposer(resource)){var disposer=resource;resource=resource.promise(),resource._setDisposable(disposer)}else{var maybePromise=tryConvertToPromise(resource);maybePromise instanceof Promise&&(resource=maybePromise._then(maybeUnwrapDisposer,null,null,{resources:resources,index:i},void 0))}resources[i]=resource}for(var reflectedResources=new Array(resources.length),i=0;i<reflectedResources.length;++i)reflectedResources[i]=Promise.resolve(resources[i]).reflect();var resultPromise=Promise.all(reflectedResources).then(function(inspections){for(var i=0;i<inspections.length;++i){var inspection=inspections[i];if(inspection.isRejected())return errorObj.e=inspection.error(),errorObj;if(!inspection.isFulfilled())return void resultPromise.cancel();inspections[i]=inspection.value()}promise._pushContext(),fn=tryCatch(fn);var ret=spreadArgs?fn.apply(void 0,inspections):fn(inspections),promiseCreated=promise._popContext();return debug.checkForgottenReturns(ret,promiseCreated,"Promise.using",promise),ret}),promise=resultPromise.lastly(function(){var inspection=new Promise.PromiseInspection(resultPromise);return dispose(resources,inspection)});return resources.promise=promise,promise._setOnCancel(resources),promise},Promise.prototype._setDisposable=function(disposer){this._bitField=131072|this._bitField,this._disposer=disposer},Promise.prototype._isDisposable=function(){return(131072&this._bitField)>0},Promise.prototype._getDisposer=function(){return this._disposer},Promise.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},Promise.prototype.disposer=function(fn){if("function"==typeof fn)return new FunctionDisposer(fn,this,createContext());throw new TypeError}}},{"./errors":12,"./util":36}],36:[function(_dereq_,module,exports){"use strict";function tryCatcher(){try{var target=tryCatchTarget;return tryCatchTarget=null,target.apply(this,arguments)}catch(e){return errorObj.e=e,errorObj}}function tryCatch(fn){return tryCatchTarget=fn,tryCatcher}function isPrimitive(val){return null==val||val===!0||val===!1||"string"==typeof val||"number"==typeof val}function isObject(value){return"function"==typeof value||"object"==typeof value&&null!==value}function maybeWrapAsError(maybeError){return isPrimitive(maybeError)?new Error(safeToString(maybeError)):maybeError}function withAppended(target,appendee){var i,len=target.length,ret=new Array(len+1);for(i=0;i<len;++i)ret[i]=target[i];return ret[i]=appendee,ret}function getDataPropertyOrDefault(obj,key,defaultValue){if(!es5.isES5)return{}.hasOwnProperty.call(obj,key)?obj[key]:void 0;var desc=Object.getOwnPropertyDescriptor(obj,key);return null!=desc?null==desc.get&&null==desc.set?desc.value:defaultValue:void 0}function notEnumerableProp(obj,name,value){if(isPrimitive(obj))return obj;var descriptor={value:value,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(obj,name,descriptor),obj}function thrower(r){throw r}function isClass(fn){try{if("function"==typeof fn){var keys=es5.names(fn.prototype),hasMethods=es5.isES5&&keys.length>1,hasMethodsOtherThanConstructor=keys.length>0&&!(1===keys.length&&"constructor"===keys[0]),hasThisAssignmentAndStaticMethods=thisAssignmentPattern.test(fn+"")&&es5.names(fn).length>0;if(hasMethods||hasMethodsOtherThanConstructor||hasThisAssignmentAndStaticMethods)return!0}return!1}catch(e){return!1}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;for(var l=8;l--;)new FakeConstructor;return obj}function isIdentifier(str){return rident.test(str)}function filledRange(count,prefix,suffix){for(var ret=new Array(count),i=0;i<count;++i)ret[i]=prefix+i+suffix;return ret}function safeToString(obj){try{return obj+""}catch(e){return"[no string representation]"}}function isError(obj){return null!==obj&&"object"==typeof obj&&"string"==typeof obj.message&&"string"==typeof obj.name}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",!0)}catch(ignore){}}function originatesFromRejection(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0)}function canAttachTrace(obj){return isError(obj)&&es5.propertyIsWritable(obj,"stack")}function classString(obj){return{}.toString.call(obj)}function copyDescriptors(from,to,filter){for(var keys=es5.names(from),i=0;i<keys.length;++i){var key=keys[i];if(filter(key))try{es5.defineProperty(to,key,es5.getDescriptor(from,key))}catch(ignore){}}}function env(key,def){return isNode?process.env[key]:def}function getNativePromise(){if("function"==typeof Promise)try{var promise=new Promise(function(){});if("[object Promise]"==={}.toString.call(promise))return Promise}catch(e){}}function domainBind(self,cb){return self.bind(cb)}var es5=_dereq_("./es5"),canEvaluate="undefined"==typeof navigator,errorObj={e:{}},tryCatchTarget,globalObject="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,inherits=function(Child,Parent){function T(){this.constructor=Child,this.constructor$=Parent;for(var propertyName in Parent.prototype)hasProp.call(Parent.prototype,propertyName)&&"$"!==propertyName.charAt(propertyName.length-1)&&(this[propertyName+"$"]=Parent.prototype[propertyName])}var hasProp={}.hasOwnProperty;return T.prototype=Parent.prototype,Child.prototype=new T,Child.prototype},inheritedDataKeys=function(){var excludedPrototypes=[Array.prototype,Object.prototype,Function.prototype],isExcludedProto=function(val){for(var i=0;i<excludedPrototypes.length;++i)if(excludedPrototypes[i]===val)return!0;return!1};if(es5.isES5){var getKeys=Object.getOwnPropertyNames;return function(obj){for(var ret=[],visitedKeys=Object.create(null);null!=obj&&!isExcludedProto(obj);){var keys;try{keys=getKeys(obj)}catch(e){return ret}for(var i=0;i<keys.length;++i){var key=keys[i];if(!visitedKeys[key]){visitedKeys[key]=!0;var desc=Object.getOwnPropertyDescriptor(obj,key);null!=desc&&null==desc.get&&null==desc.set&&ret.push(key)}}obj=es5.getPrototypeOf(obj)}return ret}}var hasProp={}.hasOwnProperty;return function(obj){if(isExcludedProto(obj))return[];var ret=[];enumeration:for(var key in obj)if(hasProp.call(obj,key))ret.push(key);else{for(var i=0;i<excludedPrototypes.length;++i)if(hasProp.call(excludedPrototypes[i],key))continue enumeration;ret.push(key)}return ret}}(),thisAssignmentPattern=/this\s*\.\s*\S+\s*=/,rident=/^[a-z$_][a-z$_0-9]*$/i,ensureErrorObject=function(){return"stack"in new Error?function(value){return canAttachTrace(value)?value:new Error(safeToString(value))}:function(value){if(canAttachTrace(value))return value;try{throw new Error(safeToString(value))}catch(err){return err}}}(),asArray=function(v){return es5.isArray(v)?v:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var ArrayFrom="function"==typeof Array.from?function(v){return Array.from(v)}:function(v){for(var itResult,ret=[],it=v[Symbol.iterator]();!(itResult=it.next()).done;)ret.push(itResult.value);return ret};asArray=function(v){return es5.isArray(v)?v:null!=v&&"function"==typeof v[Symbol.iterator]?ArrayFrom(v):null}}var isNode="undefined"!=typeof process&&"[object process]"===classString(process).toLowerCase(),ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,asArray:asArray,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,isObject:isObject,isError:isError,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:isNode,env:env,global:globalObject,getNativePromise:getNativePromise,domainBind:domainBind};ret.isRecentNode=ret.isNode&&function(){var version=process.versions.node.split(".").map(Number);return 0===version[0]&&version[1]>10||version[0]>0}(),ret.isNode&&ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(exports,__webpack_require__(14),__webpack_require__(6),__webpack_require__(66).setImmediate)},function(module,exports){function isObject(obj){return null!==obj&&"object"==typeof obj}module.exports=isObject},function(module,exports,__webpack_require__){"use strict";var ConfigLogger,stack;stack={},ConfigLogger=function(sourceId,plugin,configs){var entry;switch(arguments.length){case 0:return stack;case 1:return stack[sourceId];case 2:return stack[sourceId].filter(function(item){return item[plugin]});default:return stack[sourceId]=stack[sourceId]||[],entry={},entry[plugin]=configs,stack[sourceId].push(entry),stack}},module.exports=ConfigLogger},function(module,exports){function EventEmitter(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function isFunction(arg){return"function"==typeof arg}function isNumber(arg){return"number"==typeof arg}function isObject(arg){return"object"==typeof arg&&null!==arg}function isUndefined(arg){return void 0===arg}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0,EventEmitter.defaultMaxListeners=10,EventEmitter.prototype.setMaxListeners=function(n){if(!isNumber(n)||n<0||isNaN(n))throw TypeError("n must be a positive number");return this._maxListeners=n,this},EventEmitter.prototype.emit=function(type){var er,handler,len,args,i,listeners;if(this._events||(this._events={}),"error"===type&&(!this._events.error||isObject(this._events.error)&&!this._events.error.length)){if(er=arguments[1],er instanceof Error)throw er;var err=new Error('Uncaught, unspecified "error" event. ('+er+")");throw err.context=er,err}if(handler=this._events[type],isUndefined(handler))return!1;if(isFunction(handler))switch(arguments.length){case 1:handler.call(this);break;case 2:handler.call(this,arguments[1]);break;case 3:handler.call(this,arguments[1],arguments[2]);break;default:args=Array.prototype.slice.call(arguments,1),handler.apply(this,args)}else if(isObject(handler))for(args=Array.prototype.slice.call(arguments,1),listeners=handler.slice(),len=listeners.length,i=0;i<len;i++)listeners[i].apply(this,args);return!0},EventEmitter.prototype.addListener=function(type,listener){var m;if(!isFunction(listener))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",type,isFunction(listener.listener)?listener.listener:listener),this._events[type]?isObject(this._events[type])?this._events[type].push(listener):this._events[type]=[this._events[type],listener]:this._events[type]=listener,isObject(this._events[type])&&!this._events[type].warned&&(m=isUndefined(this._maxListeners)?EventEmitter.defaultMaxListeners:this._maxListeners,m&&m>0&&this._events[type].length>m&&(this._events[type].warned=!0,"function"==typeof console.trace)),this},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.once=function(type,listener){function g(){this.removeListener(type,g),fired||(fired=!0,listener.apply(this,arguments))}if(!isFunction(listener))throw TypeError("listener must be a function");var fired=!1;return g.listener=listener,this.on(type,g),this},EventEmitter.prototype.removeListener=function(type,listener){var list,position,length,i;if(!isFunction(listener))throw TypeError("listener must be a function");if(!this._events||!this._events[type])return this;if(list=this._events[type],length=list.length,position=-1,list===listener||isFunction(list.listener)&&list.listener===listener)delete this._events[type],this._events.removeListener&&this.emit("removeListener",type,listener);else if(isObject(list)){for(i=length;i-- >0;)if(list[i]===listener||list[i].listener&&list[i].listener===listener){position=i;break}if(position<0)return this;1===list.length?(list.length=0,delete this._events[type]):list.splice(position,1),this._events.removeListener&&this.emit("removeListener",type,listener)}return this},EventEmitter.prototype.removeAllListeners=function(type){var key,listeners;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[type]&&delete this._events[type],this;if(0===arguments.length){for(key in this._events)"removeListener"!==key&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events={},this}if(listeners=this._events[type],isFunction(listeners))this.removeListener(type,listeners);else if(listeners)for(;listeners.length;)this.removeListener(type,listeners[listeners.length-1]);return delete this._events[type],this},EventEmitter.prototype.listeners=function(type){var ret;return ret=this._events&&this._events[type]?isFunction(this._events[type])?[this._events[type]]:this._events[type].slice():[]},EventEmitter.prototype.listenerCount=function(type){if(this._events){var evlistener=this._events[type];if(isFunction(evlistener))return 1;if(evlistener)return evlistener.length}return 0},EventEmitter.listenerCount=function(emitter,type){return emitter.listenerCount(type)}},function(module,exports,__webpack_require__){"use strict";
function loadWatch(){var _this,player;return _this=this,player=this.player(),"function"!=typeof player.reloadSourceOnError||_reloadInitialized||(player.reloadSourceOnError({getSource:function(reload){var error=player.error();0===error.code||error.code===-1||error.code>=400||(_reload=reload,_reloadTime=player.currentTime(),_reloadError=error,loadWatch.call(_this))},errorInterval:30}),_reloadInitialized=!0,player.on("dispose",function(){_reloadInitialized=!1})),this.listings(function(err,listing){return err?void this.error(err):(_authorizer&&_authorizer.dispose(),this.logConfigs.call(this,"authorizer",Authorizer.configure(),listing.id),_authorizer=new Authorizer(player),_authorizer.onStatusChange=this.watchLoadedCallback.bind(this),_lastAiringId=null,clearTimeout(this._programChangePollTimer),this.startSession(listing))}.bind(this))}function listenForProgramChange(){var newAiringId,player=this.player();return this.programChangePollingInterval?(clearTimeout(this._programChangePollTimer),void(this._programChangePollTimer=setTimeout(function(){_lastAiringId||(_lastAiringId=player.mediainfo.simulcastAiringId||player.mediainfo.id),this.listings(function(err,listing){if(err)return void this.error(err);if(listing){var newAiringId=listing.simulcastAiringId||listing.id;return _lastAiringId===newAiringId?listenForProgramChange.call(this):(_lastAiringId=newAiringId,this.startSession(listing,"programchange"))}}.bind(this))}.bind(this),this.programChangePollingInterval))):void player.one("espn.id3cuechange",function(event,cue){var payload;if(!cue.owner||!cue.owner.match(/heartbeat|transition/g))return void listenForProgramChange.call(this);try{payload=JSON.parse(cue.text)}catch(e){payload=cue.text}_lastAiringId||(_lastAiringId=payload[0]&&payload[0].id||player.mediainfo.simulcastAiringId),payload.from&&"PROGRAM"===payload.from.type&&"PROGRAM"===payload.to.type||payload[0]&&"PROGRAM"===payload[0].type&&payload[0].id!==_lastAiringId?(newAiringId=payload.to&&payload.to.id||payload[0]&&payload[0].id,this.listings(function(err,listing){if(err)throw new Error(err);if(listing)return listing.simulcastAiringId!==newAiringId?listenForProgramChange.call(this):(_lastAiringId=listing.simulcastAiringId,this.startSession(listing,"programchange"))}.bind(this))):listenForProgramChange.call(this)}.bind(this))}var API,AdProvider,Advertising,Analytics,Authorizer,CMS,ConfigLogger,ESPNAdobeNielsenAdapter,ESPNPlayer,Shield,Social,StreamLimiter,TimelinePreviews,_adobeNielsen,_authorizer,_lastAiringId,_reload,_reloadError,_reloadInitialized,_reloadTime;API=__webpack_require__(7),Shield=__webpack_require__(13),TimelinePreviews=__webpack_require__(51),Social=__webpack_require__(49),Advertising=__webpack_require__(3),Analytics=__webpack_require__(4),Authorizer=__webpack_require__(22),StreamLimiter=__webpack_require__(50),ConfigLogger=__webpack_require__(10),AdProvider=__webpack_require__(18),CMS=__webpack_require__(5),ESPNAdobeNielsenAdapter=__webpack_require__(26);var USER_AGENT=window.navigator&&window.navigator.userAgent||"",IS_EDGE=/Edge/i.test(USER_AGENT),IS_CHROME=!IS_EDGE&&/Chrome/i.test(USER_AGENT);ESPNPlayer=function(){function ESPNPlayer(originalElement){if("string"==typeof originalElement&&(0===originalElement.indexOf("#")&&(originalElement=originalElement.slice(1)),originalElement=document.getElementById(originalElement)),!originalElement||!originalElement.nodeName)throw new TypeError("The element or ID supplied is not valid.");this.originalElement=originalElement,this.element="video"===originalElement.tagName.toLowerCase()?originalElement:document.createElement("video"),this.element.controls=!0,this.element.preload="metadata",this.element.className="evp-player video-js",IS_CHROME||(this.element.crossOrigin="anonymous")}return ESPNPlayer.prototype.registerConfiguration=function(options){if(null!=options){if(this.options=options,this.clipSource=options.clipSource,options.advertising&&(Advertising.configure(options.advertising),options.advertising.assetId&&(this.advertisingId=options.advertising.assetId)),options.analytics&&Analytics.configure(options.analytics),options.api&&API.configure(options.api),null!=options.auth&&Authorizer.configure(options.auth),null!=options.autoplay&&this.autoplay(options.autoplay),null!=options.endcard&&(this.showEndCard=!!options.endcard),null!=options.preroll&&this.preroll(options.preroll),null!=options.postroll&&this.postroll(options.postroll),options.shield&&Shield.configure(options.shield),options.streamlimiter&&StreamLimiter.configure(options.streamlimiter),null!=options.loop&&(this.loopClip=options.loop),null!=options.programChangePollingInterval&&(this.programChangePollingInterval=options.programChangePollingInterval),options.error){var player;return player=this.player(),player.conviva&&(this.logConfigs("conviva",Analytics.conviva()),player.conviva(Analytics.conviva())),this.error(options.error)}switch(!1){case!options.adOnly:return this.advertisingId=options.advertising&&options.advertising.assetId,this.adOnly();case null==options.clips:if("function"!=typeof options.clips)return;return this.id=options.cerebroId||options.clipId,this.clips=options.clips,this.loadClip(this.id,this.clipSource);case null==options.cerebroId:case null==options.clipId:return this.id=options.cerebroId||options.clipId,this.clips=function(id,source,callback){return new API({cms:source}).getClipThroughShield(id,callback)},this.loadClip(this.id,this.clipSource);case null==options.playlist:return this.playlist=options.playlist,this.clips=function(id,source,callback){return new API({cms:source}).getClipThroughShield(id,callback)},this.loadClips(this.playlist,this.clipSource);case null==options.listings:if(!options.auth||!options.streamlimiter)return;if("function"!=typeof options.listings)return;return this.listings=options.listings,loadWatch.call(this);case null==options.watchId:if(this.id=options.watchId,!options.auth||!options.streamlimiter)return;return this.listings=function(callback){(new API).getListing(options.watchId,callback)},loadWatch.call(this);case null==options.channelId:if(this.id=options.channelId,!options.auth||!options.streamlimiter)return;return this.listings=function(callback){(new API).getChannel(options.channelId,callback)},loadWatch.call(this)}}},ESPNPlayer.prototype._player=void 0,ESPNPlayer.prototype.player=function(value){return null!=value&&(this._player=value),this._player},ESPNPlayer.prototype.autoplay=function(value){return this.player().autoplay(value)},ESPNPlayer.prototype.play=function(){return this.player().play()},ESPNPlayer.prototype.pause=function(){return this.player().pause()},ESPNPlayer.prototype.poster=function(value){return this.player().poster(value)},ESPNPlayer.prototype._preroll=!1,ESPNPlayer.prototype.preroll=function(value){return null!=value&&(this._preroll=value),this._preroll},ESPNPlayer.prototype._postroll=!1,ESPNPlayer.prototype.postroll=function(value){return null!=value&&(this._postroll=value),this._postroll},ESPNPlayer.prototype.id=void 0,ESPNPlayer.prototype.advertisingId=void 0,ESPNPlayer.prototype.metadata=void 0,ESPNPlayer.prototype._duration=void 0,ESPNPlayer.prototype.duration=function(value){return null!=value&&(this._duration=value),this._duration},ESPNPlayer.prototype.mimeType=function(){},ESPNPlayer.prototype.load=function(){},ESPNPlayer.prototype.loopClip=!1,ESPNPlayer.prototype.loadClip=function(id,source){return this.clips(id,source,this.clipLoadedCallback.bind(this))},ESPNPlayer.prototype.loadClips=function(ids,autoplay,source){},ESPNPlayer.prototype.showEndCard=!0,ESPNPlayer.prototype.adOnly=function(){this.duration(1),this.preroll(!0),this.autoplay(!0),new AdProvider(this.player(),{},this.options.adProviderOrder,function(adProvider){this.player().src({src:"data:video/mp4;base64,AAAAIGZ0eXBpc29tAAACAGlzb21pc28yYXZjMW1wNDEAAAAIZnJlZQAAA79tZGF0AAAC9AYF///w3EXpvebZSLeWLNgg2SPu73gyNjQgLSBjb3JlIDE0MiByMjQ3OSBkZDc5YTYxIC0gSC4yNjQvTVBFRy00IEFWQyBjb2RlYyAtIENvcHlsZWZ0IDIwMDMtMjAxNCAtIGh0dHA6Ly93d3cudmlkZW9sYW4ub3JnL3gyNjQuaHRtbCAtIG9wdGlvbnM6IGNhYmFjPTEgcmVmPTEgZGVibG9jaz0xOjA6MCBhbmFseXNlPTB4MToweDExMSBtZT1oZXggc3VibWU9MiBwc3k9MSBwc3lfcmQ9MS4wMDowLjAwIG1peGVkX3JlZj0wIG1lX3JhbmdlPTE2IGNocm9tYV9tZT0xIHRyZWxsaXM9MCA4eDhkY3Q9MCBjcW09MCBkZWFkem9uZT0yMSwxMSBmYXN0X3Bza2lwPTEgY2hyb21hX3FwX29mZnNldD0wIHRocmVhZHM9MTIgbG9va2FoZWFkX3RocmVhZHM9MSBzbGljZWRfdGhyZWFkcz0wIG5yPTAgZGVjaW1hdGU9MSBpbnRlcmxhY2VkPTAgYmx1cmF5X2NvbXBhdD0wIGNvbnN0cmFpbmVkX2ludHJhPTAgYmZyYW1lcz0zIGJfcHlyYW1pZD0yIGJfYWRhcHQ9MSBiX2JpYXM9MCBkaXJlY3Q9MSB3ZWlnaHRiPTEgb3Blbl9nb3A9MCB3ZWlnaHRwPTEga2V5aW50PTI0MCBrZXlpbnRfbWluPTI0IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9MTAgcmM9Y3JmIG1idHJlZT0xIGNyZj01MS4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT0yMDAwMCB2YnZfYnVmc2l6ZT0yNTAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAADFliIQAbwTYb+YMExstjI/2DFAAAAMAAA94QCcYYsAAASkAtD1oHHXQk/QgAAADAHxBAAAACUGaJBiL/wAA/wAAAAhBnkJCfwAB6QAAAAgBnmFF/wAB8wAAAAgBnmNF/wAB8wAAAApBmmg0TET/AAEPAAAACkGehkURLP8AAekAAAAIAZ6lRf8AAfMAAAAIAZ6nRf8AAfMAAAAJQZqrNExfAAFTAAAACEGeykJfAAHpAAAACAGe6UX/AAHzAAADym1vb3YAAABsbXZoZAAAAADTQ/Pq00Pz6gAAA+gAAAHLAAEAAAEAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAL1dHJhawAAAFx0a2hkAAAAD9ND8+rTQ/PqAAAAAQAAAAAAAAHLAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAQAAAAAGsAAAA8AAAAAAAJGVkdHMAAAAcZWxzdAAAAAAAAAABAAABywAAHVQAAQAAAAACbW1kaWEAAAAgbWRoZAAAAADTQ/Pq00Pz6gABX5AAAKFMVcQAAAAAAC1oZGxyAAAAAAAAAAB2aWRlAAAAAAAAAAAAAAAAVmlkZW9IYW5kbGVyAAAAAhhtaW5mAAAAFHZtaGQAAAABAAAAAAAAAAAAAAAkZGluZgAAABxkcmVmAAAAAAAAAAEAAAAMdXJsIAAAAAEAAAHYc3RibAAAAJhzdHNkAAAAAAAAAAEAAACIYXZjMQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAGsAPAASAAAAEgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABj//wAAADJhdmNDAU1AKP/hABpnTUAo7KDY/3zUBAQFAAADAAEAAr8gDxgxlgEABWjvgZcgAAAAQHN0dHMAAAAAAAAABgAAAAUAAA6qAAAAAQAADqkAAAADAAAOqgAAAAEAAA6pAAAAAQAADqoAAAABAAAAAAAAABRzdHNzAAAAAAAAAAEAAAABAAAAcGN0dHMAAAAAAAAADAAAAAEAAB1UAAAAAQAASVEAAAABAAAdVAAAAAEAAAAAAAAAAQAADqoAAAABAABJUAAAAAEAAB1UAAAAAQAAAAAAAAABAAAOqgAAAAEAADqnAAAAAQAAHVQAAAABAAAAAAAAABxzdHNjAAAAAAAAAAEAAAABAAAADAAAAAEAAABEc3RzegAAAAAAAAAAAAAADAAAAy0AAAANAAAADAAAAAwAAAAMAAAADgAAAA4AAAAMAAAADAAAAA0AAAAMAAAADAAAABRzdGNvAAAAAAAAAAEAAAAwAAAAYXVkdGEAAABZbWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcmFwcGwAAAAAAAAAAAAAAAAsaWxzdAAAACSpdG9vAAAAHGRhdGEAAAABAAAAAExhdmY1NC42LjEwMA==",type:"video/mp4"}),adProvider.initAds({id:this.advertisingId||this.id,slots:{preroll:!0},duration:this.duration(),logger:this.logConfigs.bind(this)})}.bind(this))},ESPNPlayer.prototype.listen=function(type,callback){var player=this.player(),fn=callback.bind(this);return player.on(type,fn),function(){try{player.off(type,fn)}catch(err){}}},ESPNPlayer.prototype.addCC=function(src){var player=this.player();src&&"function"==typeof player.addRemoteTextTrack&&(this.webVTT=player.addRemoteTextTrack({kind:"captions",language:"",label:"cc1",src:src}))},ESPNPlayer.prototype.removeCC=function(){var player=this.player();"function"==typeof player.removeRemoteTextTrack&&(this.webVTT=player.removeRemoteTextTrack(this.webVTT))},ESPNPlayer.prototype.clipLoadedCallback=function(error,clip){var cms,player;return player=this.player(),"function"==typeof player.conviva&&(this.logConfigs("conviva",Analytics.conviva()),player.conviva(Analytics.conviva())),error?void this.error(error):(player.trigger("espn.clipfetched",{player:this,clip:clip}),this.id=clip.id,this.advertisingId=clip.advertisingId,this.duration(clip.duration),this.clipId=clip.clipId,this.clipSource=clip.clipSource,cms=new CMS(this.clipSource),this.programChangePollingInterval&&clearTimeout(this._programChangePollTimer),this.removeCC(),void new AdProvider(player,clip,this.options.adProviderOrder,function(adProvider){clip.sources=adProvider.sources;var webVTT=adProvider.webVTT||clip.webVTT;"function"==typeof this.mediainfo&&this.mediainfo(clip),webVTT&&(this._unlistenCCHandler=this.listen(["loadedmetadata","playing"],function(){player.ads&&"ad-playback"===player.ads.state||(this.addCC(webVTT),this._unlistenCCHandler&&(this._unlistenCCHandler(),this._unlistenCCHandler=null))})),clip.posterHref&&!this.autoplay()?this.poster(clip.posterHref):this.poster("data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs="),"function"==typeof this.loop&&this.loopClip?this.loop():"function"==typeof this.endcard&&this.showEndCard&&this.endcard(clip,this.options.endcard),"function"==typeof this.social&&new Social(player.mediainfo,this.social,this.options.social),"function"==typeof this.thumbnails&&clip.posterHref&&new TimelinePreviews(this.id,clip.sources[0].src,this),player.trigger("espn.contentloaded",{id:this.id,clipId:this.clipId,mediainfo:player.mediainfo}),player.src(clip.sources),adProvider.initAds({networkId:cms.adNetworkId?cms.adNetworkId:null,id:this.advertisingId||this.id,slots:{preroll:this.preroll(),postroll:this.postroll()},duration:this.duration(),logger:this.logConfigs.bind(this)}),"function"==typeof this.initAnalytics&&this.initAnalytics()}.bind(this)))},ESPNPlayer.prototype.watchLoadedCallback=function(error,listing){var limiter,player;return player=this.player(),"function"==typeof player.conviva&&("function"==typeof _reload?Analytics.conviva({tags:{reloadCause:_reloadError.code+""||_reloadError.message}}):Analytics.conviva({tags:{reloadCause:"null"}}),this.logConfigs("conviva",Analytics.conviva()),player.conviva(Analytics.conviva())),error?void this.error(error):(this._unlistenCCHandler&&(this._unlistenCCHandler(),this._unlistenCCHandler=null),this.removeCC(),void new AdProvider(player,listing,this.options.adProviderOrder,function(adProvider){return player.mediainfo&&player.mediainfo.id&&!_reload?(this.id=listing.id,this.advertisingId=listing.advertisingId||listing.id,"function"==typeof this.mediainfo&&this.mediainfo(listing),player.trigger("espn.programchange",{id:listing.id,callback:_adobeNielsen.completeLiveProgram.bind(_adobeNielsen)||function(){}}),void listenForProgramChange.call(this)):(this.id=listing.id,this.advertisingId=listing.advertisingId||listing.id,"function"==typeof this.mediainfo&&this.mediainfo(listing),this.poster(listing.posterHref),listenForProgramChange.call(this),"function"==typeof this.social&&new Social(player.mediainfo,this.social,this.options.social),player.trigger("espn.contentloaded",{id:this.id,mediainfo:player.mediainfo}),"function"==typeof _reload?(Analytics.configure({adobeDCR:{ESPN_CUSTOM_METADATA:{startType:"error - restart"}}}),"Flash"===player.techName_&&player.reset(),_reload({src:listing.videoHref,type:"application/x-mpegURL"}),player.currentTime(_reloadTime),_reload=null,_reloadTime=null):(player.src({src:listing.videoHref,type:"application/x-mpegURL"}),listing.seekInSeconds&&player.currentTime(listing.seekInSeconds)),adProvider.initAds({id:this.advertisingId||this.id,slots:{preroll:this.preroll(),postroll:this.postroll()},logger:this.logConfigs.bind(this)}),this.initAnalytics(),"function"==typeof player.adPassThrough&&player.adPassThrough(),this.logConfigs("streamlimiter",StreamLimiter.configure()),void(limiter=new StreamLimiter(this)))}.bind(this)))},ESPNPlayer.prototype.initAnalytics=function(){var player;player=this.player(),player.comscore&&(this.logConfigs("comscore",Analytics.comscore()),player.comscore(Analytics.comscore())),player.chartbeat&&(this.logConfigs("chartbeat",Analytics.chartbeat()),player.chartbeat(Analytics.chartbeat())),_adobeNielsen?_adobeNielsen.loadNewOptions(Analytics.adobeDCR()):_adobeNielsen=new ESPNAdobeNielsenAdapter(player,Analytics.adobeDCR())},ESPNPlayer.prototype.logConfigs=function(plugin,configs,id){return ConfigLogger(id||this.id,plugin,configs)},ESPNPlayer.prototype.dispose=function(){_authorizer&&_authorizer.dispose(),_adobeNielsen=null,this.programChangePollingInterval&&clearTimeout(this._programChangePollTimer),this._unlistenCCHandler&&(this._unlistenCCHandler(),this._unlistenCCHandler=null)},ESPNPlayer.prototype.mediainfo=function(opts){var data;return opts&&(data={created_at:opts.createDate||"",custom_fields:{},description:opts.description||"",duration:opts.duration||"",id:""+(opts.clipId||opts.id)||"",live:!1,name:opts.assetName||opts.name||"",headline:opts.headline||"",pageTitle:opts.pageTitle||opts.headline&&opts.headline+" - ESPN Video"||"ESPN Video",posterHref:opts.posterHref||"",publisher:opts.publisher||"ESPN",showcode:opts.showcode||"Not Applicable",site:opts.site||"espncom",sources:opts.sources||""},this.options.affiliate&&(data.affiliate=this.options.affiliate),["startTime","endTime","originalAirDate","originalPublishDate"].forEach(function(prop){opts[prop]&&(data[prop]=new Date(opts[prop].replace("GMT","Z")))}),["airingId","commercialReplacement","comscoreC6","eventId","hasEspnId3Heartbeats","hasNielsenWatermarks","hasPassThroughAds","nielsenCrossId1","passThroughBeaconURL","program","simulcastAiringId","sourceId","sourceType","syndicatable","status","webHref"].forEach(function(prop){"undefined"!=typeof opts[prop]&&(data[prop]=opts[prop])}),"live"===opts.status&&(data.live=!0),data.duration=this.getDurationForMediaInfo(data),data.comscoreC6=data.comscoreC6||"*null",opts.gameId&&opts.gameId!==-1&&(data.custom_fields.gameId=opts.gameId),opts.mediaType&&(data.custom_fields.mediaType=opts.mediaType),data.startType=this.startType,this.logConfigs("mediainfo",data),this.player().mediainfo=data,this.player().trigger("espn.mediainfoloaded",data)),this.player().mediainfo},ESPNPlayer.prototype.getDurationForMediaInfo=function(mediainfo){if(mediainfo.duration)return mediainfo.duration;if(mediainfo.live===!0)return 86400;var startTime=new Date(mediainfo.startTime).getTime(),endTime=new Date(mediainfo.endTime).getTime();return startTime&&endTime?(endTime-startTime)/1e3:0},ESPNPlayer.prototype.startSession=function(listing,context){return listing.videoHref.indexOf("startSession")!==-1?_authorizer.startSession(listing):context?this.listings(function(err,listing2){if(!err)return _authorizer.startShieldSession(listing2)}.bind(this),context):_authorizer.startShieldSession(listing)},ESPNPlayer}(),module.exports=ESPNPlayer},function(module,exports,__webpack_require__){"use strict";function mergeCustomizer(objValue,srcValue){if(null===srcValue)return objValue}var CMS,SYNDICATIONS,SYNDICATION_KEY_TO_CLIP_SOURCE,Shield,config,merge,request;request=__webpack_require__(2),CMS=__webpack_require__(5),config=__webpack_require__(47),merge=__webpack_require__(0),SYNDICATIONS=["cricinfo","deportes","domestic","soccerfc"],SYNDICATION_KEY_TO_CLIP_SOURCE={cricinfo:"cric",deportes:"deportes",domestic:"espn",soccerfc:"intl"},Shield=function(){function Shield(options){this.baseURL=options&&options.BASE_URL||config.BASE_URL,this.apiKey=options&&options.API_KEY||config.API_KEY}return Shield.prototype.getClip=function(cerebroId,callback,clipData){var url;return url=this.baseURL+"/getclip/"+cerebroId,clipData=clipData||{},request.get(url).query({apikey:this.apiKey}).end(function(error,res){var clip,clipId,cms,errorResponse,sources,syndicationDetails,syndicationKey,video;if(error){if(403===error.status&&res.body&&res.body.message){var messageArr=res.body.message.split(":");if(messageArr.length>0)return errorResponse={code:error.status,message:messageArr[messageArr.length-1].trim()},callback(errorResponse,null)}return errorResponse=res.body&&res.body.error?{code:error.status,message:res.body.error}:error,callback(errorResponse,null)}return res.body&&res.body.clip?(video=res.body&&res.body.clip,syndicationKey=Object.keys(video.syndicationDetails).filter(function(key){return SYNDICATIONS.indexOf(key)!==-1}).shift(),syndicationDetails=syndicationKey&&video.syndicationDetails[syndicationKey],clipId=syndicationDetails&&syndicationDetails.cms&&syndicationDetails.cms.syndicationId,cms=new CMS(SYNDICATION_KEY_TO_CLIP_SOURCE[syndicationKey]||syndicationKey),sources=[],video.transcodes&&video.transcodes.hls&&sources.push({src:video.transcodes.hls,type:"application/x-mpegURL"}),video.transcodes&&video.transcodes.primary_mezzanine&&sources.push({src:video.transcodes.primary_mezzanine,type:"video/mp4"}),clip={advertisingId:cms.adAssetId(clipId),assetName:video.assetName,cerebroId:video.id,clipId:clipId,clipSource:cms.key,country:res.body&&res.body.requestedBy&&res.body.requestedBy.country,description:video.caption,device:res.body&&res.body.requestedBy&&res.body.requestedBy.device,duration:video.durationSeconds,gameId:video.gameId,headline:video.headline,id:video.id,mediaId:cms.apiMediaId(clipId),mediaType:video.mediaType,posterHref:video.transcodes&&video.transcodes.thumbnail,showcode:video.adTarget&&video.adTarget.adBundle&&video.adTarget.adBundle[0],syndicatable:video.videoRights&&video.videoRights.socialSharing,webHref:syndicationDetails&&syndicationDetails.cms&&syndicationDetails.cms.url,webVTT:syndicationDetails&&syndicationDetails.threeplay&&syndicationDetails.threeplay.url},merge(clip,clipData),clip.onceHref=syndicationDetails&&syndicationDetails.brightcove&&syndicationDetails.brightcove.url,clip.sources=sources,callback(null,clip)):(errorResponse=res.body&&res.body.authenticationStatus&&res.body.authenticationStatus.messages.shift(),callback(errorResponse,null))})},Shield}(),Shield.configure=function(options){return merge(config,options,mergeCustomizer),config},module.exports=Shield},function(module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},function(module,exports,__webpack_require__){"use strict";var Advertising,Analytics,BrightcovePlayer,CMS,ConvivaPlugin,errorConfig,ESPNAdPassThrough,ESPNAdRemainingTimeDisplay,ESPNBandwidthPersist,ESPNCaptionSettingsMenuItem,ESPNCaptionsToggleButton,ESPNID3,ESPNLoadingSpinner,ESPNPlayer,ESPNPlayToggle,ESPNSeekBar,ESPNSettingsMenu,ESPNSocial,ESPNVolumeMenuButton,Endcard,FanPreferences,Localizations,StateFeedbackButton,techOptions,ThumbnailTime,Watermark,debounce,extend,hasProp,lang,load,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},bind=function(fn,me){return function(){return fn.apply(me,arguments)}};hasProp={}.hasOwnProperty,extend=function(child,parent){function ctor(){this.constructor=child}for(var key in parent)hasProp.call(parent,key)&&(child[key]=parent[key]);return ctor.prototype=parent.prototype,child.prototype=new ctor,child.__super__=parent.prototype,child},debounce=__webpack_require__(57),load=__webpack_require__(56),ESPNPlayer=__webpack_require__(12),Advertising=__webpack_require__(3),Analytics=__webpack_require__(4),Watermark=__webpack_require__(53),ESPNSocial=__webpack_require__(39),ESPNSettingsMenu=__webpack_require__(38),ThumbnailTime=__webpack_require__(45),ESPNSeekBar=__webpack_require__(37),ESPNLoadingSpinner=__webpack_require__(35),ESPNAdRemainingTimeDisplay=__webpack_require__(30),ESPNCaptionsToggleButton=__webpack_require__(33),ESPNCaptionSettingsMenuItem=__webpack_require__(32),StateFeedbackButton=__webpack_require__(44),Endcard=__webpack_require__(43),FanPreferences=__webpack_require__(1),ESPNVolumeMenuButton=__webpack_require__(42),ConvivaPlugin=__webpack_require__(25),ESPNID3=__webpack_require__(34),ESPNAdPassThrough=__webpack_require__(29),CMS=__webpack_require__(5),Localizations=__webpack_require__(27).translations(),ESPNPlayToggle=__webpack_require__(36),ESPNBandwidthPersist=__webpack_require__(31),BrightcovePlayer=function(superClass){function BrightcovePlayer(originalElement,configs){var player;this.social=bind(this.social,this),this.selectPlaylist=bind(this.selectPlaylist,this),BrightcovePlayer.__super__.constructor.call(this,originalElement),this.debouncedSetSizeClass=debounce(this.setSizeClass.bind(this),250),configs=configs||{},errorConfig={},ESPNSeekBar.init(),ESPNLoadingSpinner.init(),ESPNAdRemainingTimeDisplay.init(),ESPNCaptionsToggleButton.init(),ESPNCaptionSettingsMenuItem.init(),ESPNVolumeMenuButton.init(),ESPNSettingsMenu.init(),Endcard.init(),ConvivaPlugin.init(),ESPNID3.init(),ESPNAdPassThrough.init(),ESPNPlayToggle.init(),ESPNBandwidthPersist.init();for(lang in Localizations)videojs.addLanguage(lang,Localizations[lang]);configs.language&&["en","es"].indexOf(configs.language)!==-1&&this.element.setAttribute("data-setup",'{ "language": "'+configs.language+'" }'),configs.watchId||configs.channelId?(videojs.options.flash.flashVars={hls_minbufferlength:6,hls_lowbufferlength:2,hls_capleveltostage:!0},errorConfig.timeout=15e3):videojs.options.flash.flashVars={},videojs.hook("beforesetup",function(video,options){return options.errorDisplay={pauseOnOpen:!0},options});var USER_AGENT=window.navigator&&window.navigator.userAgent||"";if(videojs.IS_EDGE){var edgeVersionMap=/Edge\/([\d.]+)/i.exec(USER_AGENT),version=parseInt(edgeVersionMap[1],10);version&&version<15&&(configs.watchId||configs.channelId?(videojs.options.hls={overrideNative:!0},techOptions&&techOptions.optimizeLive&&(videojs.options.techOrder=["flash","html5"])):(videojs.options.hls={overrideNative:!1},videojs.options.techOrder=["html5","flash"]))}else if(!videojs.IS_IOS&&videojs.IS_SAFARI){var safariVersionMap=/Version\/([\d.]+)/i.exec(USER_AGENT);if(safariVersionMap){var _version=parseInt(safariVersionMap[1],10);_version<7&&(videojs.options.techOrder=["flash"],videojs.options.hls={overrideNative:!0})}}"video"!==this.originalElement.tagName.toLowerCase()&&this.originalElement.parentNode.replaceChild(this.element,this.originalElement),player=this.player(window.bc(this.element)),this.element=player.el(),ESPNSettingsMenu.plugin(player),StateFeedbackButton.plugin(player),ESPNCaptionsToggleButton.plugin(player),player.ESPNCaptionSettings&&player.ESPNCaptionSettings(),player.espnVolumeMenuButton(configs.volume),player.persistBandwidth(),player.errors&&player.errors(errorConfig),player.load();var _lastErrorTime;player.on("error",function(){var interval=30,error=player.error();error&&error.code===-2&&(_lastErrorTime&&Date.now()-_lastErrorTime<1e3*interval&&(_lastErrorTime=0,player.reset(),player.error(error)),0!==_lastErrorTime&&(_lastErrorTime=Date.now()))}),player.on("touchstart",function(){player.paused()&&player.usingNativeControls()&&player.play()}),player.on("adend",function(){player.removeClass("vjs-ad-loading")}),player.on("contentplayback",function(){player.one("mouseover",function(){player.el().classList.contains("not-hover")&&player.el().classList.remove("not-hover")})}),"userPreference"===configs.autoplay?FanPreferences.getAutoStart(function(autoStart){configs.autoplay=autoStart,this.registerConfiguration(configs)}.bind(this)):(configs.autoplay="on"===configs.autoplay||configs.autoplay===!0,this.registerConfiguration(configs)),this.startType=configs.wasUserInitiated===!1?"autostart":"manual",Analytics.configure({adobeDCR:{ESPN_CUSTOM_METADATA:{startType:this.startType}}}),Advertising.configure({startType:this.startType}),player.on("ended",function(){player.ads.state&&"content-playback"!==player.ads.state||player.trigger("espn.contentended")}),player.on("loadstart",function(){var hlsTech;hlsTech=player.tech({IWillNotUseThisInPlugins:!0}).hls,hlsTech&&(videojs.Hls.Playlist.UNSAFE_LIVE_SEGMENTS=4,hlsTech.xhr.beforeRequest=function(options){var rex=new RegExp("prod-freewheel.*.m3u8|generateKey");rex.test(options.uri)&&(options.withCredentials=!0)})}),player.on("ready",function(){this.setTechClass()}.bind(this)),player.ready(function(){this.setSizeClass(),window.addEventListener("resize",this.debouncedSetSizeClass),player.hotkeys({enableVolumeScroll:!1})}.bind(this))}return extend(BrightcovePlayer,superClass),BrightcovePlayer.prototype.mimeType=function(){return this.player().currentType()},BrightcovePlayer.prototype._useAdManager=!1,BrightcovePlayer.prototype.loadMidroll=function(breakParams){var options,slots;slots=[{adUnit:"midroll",adBreak:breakParams&&breakParams.break_number?breakParams.break_number:void 0,timePosition:this.player().currentTime()}],Advertising.configure({assetId:this.advertisingId||this.id,live:!0,mimeType:this.mimeType()}),this._useAdManager?(options=Advertising.adManager({},slots),"function"==typeof this.player().FreeWheelPlugin?this.player().FreeWheelPlugin(options):this.player().FreeWheelPlugin.settings=options):(options={serverUrl:Advertising.vast({},slots),requestMode:"ondemand"},this.preroll()&&"function"!=typeof this.player().ads&&"function"==typeof this.player().ima3&&(this.player().ads=Object.getPrototypeOf(this.player()).ads),"function"==typeof this.player().ima3&&this.player().ima3(options),this.player().ima3.adrequest(options.serverUrl))},BrightcovePlayer.prototype._midroll=!1,BrightcovePlayer.prototype.midroll=function(value){return null!=value&&(this._midroll=value),this._midroll},BrightcovePlayer.prototype.loadClips=function(clips,source){var clip;return source=source||this.clipSource,clip=clips.shift?clips.shift():clips,clips&&clips.length>0&&this.showEndCard===!1&&this.loopClip===!1&&this.player().one("ended",function(){this.autoplay(!0),this.loadClips(clips,source)}.bind(this)),this.loadClip(clip.id,source)},BrightcovePlayer.prototype.loop=function(){this.player().on("ended",function(){this.player().play()}.bind(this))},BrightcovePlayer.prototype.error=function(value,content){var err,modal,modalContent,player;player=this.player(),"object"===("undefined"==typeof value?"undefined":_typeof(value))?(err={
message:value.message,headline:value.headline||value.message},(value.code||value.status)&&(err.code=value.code||value.status),(value.type||value.abbreviation)&&(err.type=value.type||value.abbreviation)):err={headline:value,message:value},window.newrelic&&"function"==typeof window.newrelic.noticeError&&window.newrelic.noticeError(new Error(err.type||err.headline||err.message)),player.ready(function(){player.error(err),content&&(modal=player.getChild("errorDisplay"),content.nodeName?modalContent=content:(modalContent=document.createElement("div"),modalContent.innerHTML=content),modalContent.className="vjs-errors-dialog",modalContent.id="vjs-errors-dialog",modal.fillWith(modalContent),(player.width()<=600||player.height()<=250)&&modal.addClass("vjs-xs"))})},BrightcovePlayer.prototype.thumbnails=function(previews){var thumbnailHolder,thumbnails,thumbnailImage,missingThumbnailImageUrl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAG4AAAA+CAIAAABFt7lbAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAuFJREFUeNrsmtGxIUEUhne3PJOATYAIdgPAOzYAJIAAxgaABBAAAkAARgCUAFYCRLBfzV/V1YXaO7eurboP//8wdabn9Dmnvz4940EhSZLj8fjF+rAKcEzT1CA+rm9GYJRGaZSWURqlURqlZZRGaZSWURqlURqlZZRGaZSWURqlURqlZZRGaZSWUX4ClNVq9Uem/1fK90whXbFYfO+sN0VMIv978KnPK1H+zjQcDs/nc85MvzLlLwXn1WolguR6mmW9Xt+NjEaj+Xyep/5qJozHLokHn/q8+IAnSdJqtWazWaPRYNl0KGQZl8EgFDSCgcOfTGocxnu9npyRHIQv7qnb7aYIMV9GdBqwy+Vy7KAO4kqQu+xcyajCGDydTgQPE1UzCr0v5/gohAg5z8c7UFI0JdbrdcrCYOs2mw2D0+l0v9+3223Ww1NGqJ7rz0xM3O12TCmVSlSGD3MZZ5YWINzSZDIhQniN8JRbguNMQOHgNviTaLvdsru48eguOw6aG7Yh3iEeMaIdxf9yuXAb9yMTqZmkivBilICgNyGoJiWN9pyt0xqWy6VwY4T9D1BwYK4aE4c7juh6vfb7/bAe/MGUpikHH1so478wqvtIrZaPsxNZrfe0pwCnZgeWepbCmBUfETLiQGSt8U0V8qMk0+M/MSmiUql0u13WQ/VUxrJZcKCMAaBOp6OTziOWgfN4PF4sFuzHXcA0k9Awl+biliXBlJG4s3SotWd6D9KhITsvUGyMw+Hw2BPgrtVqod0ISyiKp9R4aWqXnB/bvCjv3jXhVmecr4EaCpqsh6c8UsfhxpcBampkbQl1A0i9EGLir5hQZm3YGHQowXGWJ1O45ZUtIupZbAxuiRyyY7Af2HIIBWPoJU4c2ep0YeUNIx+uLGcwGMD3aQ896muz2fS/fv0T3SiN0jJKozRKo7SM0iiN0jJKozRKo7SM0iiN0jJKozRKo7SM0iiN0jJKo/z0+ivAAEPb6BambmykAAAAAElFTkSuQmCC";if("function"==typeof this.player().thumbnails)return thumbnailHolder=this.player().controlBar.progressControl.el().querySelector(".vjs-thumbnail-holder"),thumbnailHolder&&this.player().controlBar.progressControl.el().removeChild(thumbnailHolder),thumbnails=this.player().thumbnails(previews),thumbnailHolder=this.player().controlBar.progressControl.el().querySelector(".vjs-thumbnail-holder"),thumbnailImage=thumbnailHolder.querySelector("img"),thumbnailImage.addEventListener("error",function(){this.src=missingThumbnailImageUrl}),ThumbnailTime.plugin(this.player()),thumbnails},BrightcovePlayer.prototype.social=function(options){if(videojs.plugin("social",ESPNSocial),"function"==typeof this.player().social)return this.logConfigs("ESPNSocial",options),this.player().social(options)},BrightcovePlayer.prototype.watermark=function(){return new Watermark(function(_this){return function(overlays){return overlays.length||(overlays=[overlays]),_this.player().overlay({overlays:overlays})}}(this))},BrightcovePlayer.prototype.endcard=function(clip,options){var country=clip.country||null,content={id:clip.mediaId||clip.id,headline:clip.headline,poster:clip.posterHref};this.player().endcard({playlist:this.playlist,content:content,country:country,timeoutHandler:function(clip,wasManual){this.startType=wasManual?"manual:endcard_continuous":"endcard_continuous",Analytics.configure({adobeDCR:{ESPN_CUSTOM_METADATA:{startType:this.startType}}}),Advertising.configure({startType:this.startType}),this.loadClip(clip.id,clip.clipSource)}.bind(this),timeout:options&&options.timeout||null})},BrightcovePlayer.prototype.watchLoadedCallback=function(error){var player;player=this.player(),BrightcovePlayer.__super__.watchLoadedCallback.apply(this,arguments),!error&&player.mediainfo.live&&player.on("play",function(){player.seekable().length>0&&player.currentTime(player.seekable().end(0))})},BrightcovePlayer.prototype.setTechClass=function(){var player,techPrefix,techClass,cl;player=this.player(),techPrefix="evp-tech-",techClass=techPrefix+player.techName_.toLowerCase(),cl=player.el().classList;for(var i=0;i<cl.length;i++)cl[i].indexOf(techPrefix)!==-1&&player.removeClass(cl[i]);player.addClass(techClass)},BrightcovePlayer.prototype.setSizeClass=function(){var player,playerWidth;player=this.player(),playerWidth=player&&player.dimension("width")||-1,playerWidth>=660?player.addClass("espn-endCard-large"):player.removeClass("espn-endCard-large"),playerWidth>=375&&playerWidth<=659?player.addClass("espn-endCard-medium"):player.removeClass("espn-endCard-medium"),playerWidth>=275&&playerWidth<=374?player.addClass("espn-endCard-small"):player.removeClass("espn-endCard-small"),playerWidth>=250&&playerWidth<=274?player.addClass("espn-endCard-xSmall"):player.removeClass("espn-endCard-xSmall"),playerWidth<=640?player.addClass("espn-player-medium"):player.removeClass("espn-player-medium"),playerWidth<=300?player.addClass("espn-player-small"):player.removeClass("espn-player-small"),playerWidth>=250&&playerWidth<=480?player.addClass("remove-time"):player.removeClass("remove-time"),playerWidth>=250&&playerWidth<=400?player.addClass("remove-duration"):player.removeClass("remove-duration")},BrightcovePlayer.prototype.dispose=function(){window.removeEventListener("resize",this.debouncedSetSizeClass),this.debouncedSetSizeClass.cancel&&this.debouncedSetSizeClass.cancel();var player=this.player();if(player)try{player.dispose()}catch(err){}BrightcovePlayer.__super__.dispose.apply(this,arguments)},BrightcovePlayer}(ESPNPlayer),BrightcovePlayer.loadTech=function(){var callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return window.bc?void callback():(options=options||{},techOptions=options,options.playerId||(options.optimizeLive?options.playerId="SyfOP2RxdW_default":options.playerId="HJgIOhAedZ_default"),options.accountId=options.accountId||"3948005062001",void load("//players.brightcove.net/"+options.accountId+"/"+options.playerId+"/index.min.js",function(err){err?load("//secure.espncdn.com/players/web-player-bundle/latest/perform-assets/players/"+options.playerId+"/index.min.js",function(err){err||callback()}):callback()}))},module.exports=BrightcovePlayer},function(module,exports,__webpack_require__){"use strict";function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),ESPNPlayer=__webpack_require__(12),EventEmitter=__webpack_require__(11).EventEmitter,Analytics=__webpack_require__(4),NativeOmniture=__webpack_require__(46),FanPreferences=__webpack_require__(1),MobileDetect=__webpack_require__(58),VideoElementPlayer=function(){function VideoElementPlayer(element){_classCallCheck(this,VideoElementPlayer),this.element=element,this.events=new EventEmitter,this.element.crossOrigin="anonymous"}return _createClass(VideoElementPlayer,[{key:"autoplay",value:function(value){return null!=value&&(value===!0?this.element.setAttribute("autoplay","autoplay"):this.element.removeAttribute("autoplay")),!!this.element.autoplay}},{key:"poster",value:function(value){return this.element.setAttribute("poster",value),this}},{key:"src",value:function(sources){var _this=this;if(null!=sources){if(this.element.currentSrc)for(var sourceElements=this.element.getElementsByTagName("source"),i=0;i<sourceElements.length;i++)this.element.removeChild(sourceElements[i]);sources.length||(sources=[sources]),sources.map(function(source){var element=document.createElement("source");return element.setAttribute("src",source.src),element.setAttribute("type",source.type),element}).forEach(function(element){_this.element.appendChild(element)}),this.element.load()}return this.element.currentSrc}},{key:"reset",value:function(){return this}},{key:"ready",value:function(){var callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return callback.call(this),this}},{key:"on",value:function(type,callback){return Array.isArray(type)?this._handleMultipleEvents("on",type,callback):(this.element.addEventListener(type,callback),this.events.on(type,callback),this)}},{key:"one",value:function(type,callback){if(Array.isArray(type))return this._handleMultipleEvents("one",type,callback);var func=function(){this.off(type,func),callback.apply(this,arguments)}.bind(this);return this.element.addEventListener(type,func),this.events.once(type,callback),this}},{key:"off",value:function(type,callback){return Array.isArray(type)?this._handleMultipleEvents("off",type,callback):(this.element.removeEventListener(type,callback),this.events.removeListener(type,callback),this)}},{key:"trigger",value:function(){var _events;return(_events=this.events).emit.apply(_events,arguments),this}},{key:"play",value:function(){return this.element.play(),this}},{key:"pause",value:function(){return this.element.pause(),this}},{key:"load",value:function(){return this.element.load(),this}},{key:"duration",value:function(){return this.element.duration}},{key:"_handleMultipleEvents",value:function(fn,types,callback){return types.forEach(function(type){this[fn](type,callback)}.bind(this)),this}},{key:"addRemoteTextTrack",value:function(trackInfo){var track=document.createElement("track");return track.kind=trackInfo.kind,track.label=trackInfo.label,track.srclang=trackInfo.language,track.src=trackInfo.src,track["default"]="default",this.element.appendChild(track),track}},{key:"removeRemoteTextTrack",value:function(textTrack){for(var tracks=this.remoteTextTracks(),i=0;i<tracks.length;i++)tracks[i]!==textTrack&&"captions"!==tracks[i].kind||this.element.removeChild(tracks[i])}},{key:"remoteTextTracks",value:function(){var tracks=this.element.querySelectorAll("track");return tracks}}]),VideoElementPlayer}(),Html5Player=function(_ESPNPlayer){function Html5Player(element,configs){_classCallCheck(this,Html5Player);var player;configs.adProviderOrder={desktop:["brightcove_once"],tablet:["brightcove_once"],mobile:["brightcove_once"]};var _this2=_possibleConstructorReturn(this,(Html5Player.__proto__||Object.getPrototypeOf(Html5Player)).call(this,element,configs));return player=_this2.player(new VideoElementPlayer(_this2.element)),"userPreference"===configs.autoplay?FanPreferences.getAutoStart(function(autoStart){configs.autoplay=autoStart,this.registerConfiguration(configs)}.bind(_this2)):(configs.autoplay="on"===configs.autoplay||configs.autoplay===!0,_this2.registerConfiguration(configs)),player.load(),"video"!==element.tagName.toLowerCase()&&element.parentNode.replaceChild(_this2.element,element),_this2}return _inherits(Html5Player,_ESPNPlayer),_createClass(Html5Player,[{key:"loadClips",value:function(clips,source){var clip;return source=source||this.clipSource,clip=clips.shift?clips.shift():clips,clips&&clips.length>0&&this.loopClip===!1&&this.player().on("ended",function(){this.autoplay(!0),this.loadClips(clips,source)}.bind(this),{once:!0}),this.loadClip(clip.id,source)}},{key:"initAnalytics",value:function(){var player;player=this.player(),new NativeOmniture(player,Analytics.nativeOmniture({playerLocation:"foo",showCode:"bar",site:"espn"}))}},{key:"loop",value:function(){this.player().on("ended",function(){this.player().play()}.bind(this))}},{key:"error",value:function(){for(var _console,_len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];(_console=console).error.apply(_console,["Html5Player ERROR: "].concat(args))}}]),Html5Player}(ESPNPlayer);Html5Player.loadTech=function(){var callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},md=new MobileDetect(window.navigator.userAgent);if(options["native"]===!0)callback();else if(options["native"]instanceof Array){var i,len,platform;for(i=0,len=options["native"].length;i<len;i++)platform=options["native"][i],md[platform]()&&callback()}},module.exports=Html5Player},function(module,exports,__webpack_require__){"use strict";module.exports={desktop:["freewheel_admanager"],tablet:["brightcove_once","freewheel_admanager"],mobile:["brightcove_once","freewheel_admanager"]}},function(module,exports,__webpack_require__){"use strict";var AdManager,AdProvider,Advertising,BrightcoveOnce,Fan,OnceUX,defaultProviderOrders,request,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj};Advertising=__webpack_require__(3),Fan=__webpack_require__(1),defaultProviderOrders=__webpack_require__(17),request=__webpack_require__(2),AdProvider=function(){function AdProvider(player,data,providerOrders,callback){var currentPlatform;switch(this.player=player,this.data=data,this.sources=data.sources,this.onReady=callback,providerOrders="object"===("undefined"==typeof providerOrders?"undefined":_typeof(providerOrders))?providerOrders:defaultProviderOrders,currentPlatform=data.device){case"MOBILE":this.chooseProvider(providerOrders.mobile);break;case"TABLET":this.chooseProvider(providerOrders.tablet);break;case"PC":this.chooseProvider(providerOrders.desktop);break;default:this.chooseProvider()}this.provider?this.provider.setSource.call(this):this.onReady(this)}return AdProvider.prototype.chooseProvider=function(providerOrder){var i,len,provider;for(providerOrder=providerOrder||["freewheel_admanager"],i=0,len=providerOrder.length;i<len&&(provider=providerOrder[i],"function"!=typeof this[provider]||(this.provider=this[provider](),!this.provider));i++);},AdProvider.prototype.data=void 0,AdProvider.prototype.player=void 0,AdProvider.prototype.provider=AdManager,AdProvider.prototype.sources=void 0,AdProvider.prototype.initAds=function(options){return"function"==typeof this.provider.initAds&&this.provider.initAds.call(this,this.player,options)},AdProvider.prototype.brightcove_once=function(){return!!this.data.onceHref&&BrightcoveOnce},AdProvider.prototype.freewheel_admanager=function(){return!!this.player.FreeWheelPlugin&&AdManager},AdProvider.prototype.onceux=function(){return!!this.player.onceux&&OnceUX},AdProvider.prototype.toString=function(){return this.provider.toString()},AdProvider}(),AdManager={toString:function(){return"AdManager"},setSource:function(){return this.onReady(this)},initAds:function(player,opts){var options,postroll,preroll,slots;player.FreeWheelPlugin&&(preroll=opts.slots&&opts.slots.preroll,postroll=opts.slots&&opts.slots.postroll,slots=[],preroll&&slots.push({adUnit:"preroll",timePosition:0}),postroll&&slots.push({adUnit:"postroll",timePosition:opts.duration}),(preroll||postroll)&&(options=Advertising.adManager({networkId:opts.networkId,assetId:opts.id,assetDuration:opts.duration},slots),opts.logger("FreeWheelPlugin",options),"function"==typeof player.FreeWheelPlugin?player.FreeWheelPlugin(options):player.FreeWheelPlugin&&(player.FreeWheelPlugin.settings=options,"Html5"===player.FreeWheelPlugin.tech&&player.FreeWheelPlugin.Html5&&player.FreeWheelPlugin.Html5._parameters.update(options.Html5))))}},BrightcoveOnce={toString:function(){return"BrightcoveOnce"},setSource:function(){this.data.onceHref=this.data.onceHref.replace("now/od","now/ads/vmap/od"),request.get(this.data.onceHref).query({UMADPARAM_fw_euid:Fan.SWID,output:"1",timedtextextension:"vtt"}).end(function(err,res){var unicornOnce;res.body&&res.body["vmap:VMAP"]&&res.body["vmap:VMAP"]["vmap:Extensions"]&&(unicornOnce=res.body["vmap:VMAP"]["vmap:Extensions"]["uo:unicornOnce"],this.sources=[{src:unicornOnce["@contenturi"],type:unicornOnce["@contenttype"].replace("audio","application")}],this.webVTT=res.body["vmap:VMAP"]["vmap:Extensions"]["uo:timedTextURL"]&&res.body["vmap:VMAP"]["vmap:Extensions"]["uo:timedTextURL"]["#cdata-section"]),this.onReady(this)}.bind(this))},initAds:null},OnceUX={toString:function(){return"OnceUX"},setSource:function(){return this.onReady(this)},initAds:function(player,opts){var options;player.onceux&&("function"==typeof player.onceux?(options=Advertising.onceux(this.data.onceHref.replace("now/od","now/ads/vmap/od")),opts.logger("onceux",options),player.onceux(options)):"function"==typeof player.onceux.src&&(options=this.data.onceHref.replace("now/od","now/ads/vmap/od"),opts.logger("onceux",{src:options}),player.onceux.src(options)))}},module.exports=AdProvider},function(module,exports,__webpack_require__){"use strict";module.exports={host:"https://bd0dc.v.fwmrm.net/ad/p/1",siteSectionId:"espn:video",networkId:87146,flash:{profile:"87146:espn_desktop_as3",serverUrl:"https://bd0dc.v.fwmrm.net/ad/p/1",sdkurl:"https://mssl.fwmrm.net/p/espn_desktop_prod/AdManager.swf",swfurl:"https://players.brightcove.net/videojs-freewheel/2/videojs.freewheel.swf"},html5:{profile:"87146:espn_desktop_js",serverUrl:"https://1546a.v.fwmrm.net/ad/g/1",sdkurl:"https://mssl.fwmrm.net/p/espn_desktop_prod/AdManager.js"},adTechOrder:["html5","flash"],debug:!1,prerollTimeout:3e3,timeout:5e3,assetId:void 0,assetDuration:void 0,live:!1,keyValues:[],beforeAdManager:function(options){return options},pageViewRandomNumber:1,videoPlayRandomNumber:1,responseType:"vast2"}},function(module,exports,__webpack_require__){"use strict";module.exports={chartbeat:{uid:"22222",domain:"espn.com",sections:null,authors:null},comscore:{clientId:"3000005",labels:{c3:'"*null"',c4:"MediaInfo.site",c6:"MediaInfo.comscoreC6",c8:"MediaInfo.pageTitle",ns_st_pu:"MediaInfo.publisher",ns_st_pr:'"*null"',ns_st_ep:"MediaInfo.name",ns_st_sn:'"*null"',ns_st_en:'"*null"',ns_st_st:'"*null"',ns_st_ge:'"*null"',ns_st_ti:'"*null"',ns_st_ia:'"*null"',ns_st_ce:'"*null"',ns_st_ddt:'"*null"',ns_st_tdt:'"*null"'}},conviva:{customerKey:"eec329720efa1110d60c5a6d01a65baf032de653",playerName:"Brightcove Web Player",debug:!1},adobeDCR:{VISITOR_API:{MARKETING_CLOUD_ORG_ID:"EE0201AC512D2BE80A490D4C@AdobeOrg",NAMESPACE:"espn",TRACKING_SERVER:"w88.espn.com",TRACKING_SERVER_SECURE:"sw88.espn.com"},APP_MEASUREMENT:{RSID:"wdgespredesign",TRACKING_SERVER:"w88.espn.com",TRACKING_SERVER_SECURE:"sw88.espn.com"},HEARTBEAT:{DISABLE:!1,TRACKING_SERVER:"espn.hb.omtrdc.net",PUBLISHER:"EE0201AC512D2BE80A490D4C@AdobeOrg",OVP:"Brightcove",SDK:"1.6.7",DEBUG_LOGGING:!1},QUALITY:{TIME_TO_START:0},CUSTOM_EVENT:{disable:!0,bc_data_mapping:{name:"eVar106,prop2",segment:"eVar203",contentType:"eVar201",timePlayed:"event203",view:"event201",segmentView:"event202",complete:"event207",milestones:{25:"event204",50:"event205",75:"event206"}},bc_volumechange:{event:"event208",evar:"prop1"},bc_ad_pause:{event:"event209",evar:"eVar205"},bc_fullscreen_enter:{event:"event212"},bc_fullscreen_exit:{event:"event213"},bc_social_opened:{event:"event214"},bc_social_closed:{event:"event215"},window_blur:{event:"event125",evar:"prop9,eVar74"}},NIELSEN_DATA:{APP_INFO:{clientId:"us-600140-test",vcid:"b01",apid:"T31187EE2-AC6E-46CB-BB54-D07591BED067",appName:"BasicPlayerSample",sfcode:"dcr",nol_sdkDebug:"console",nsdkv:"511"},CONFIG_KEY:"922e1d53d3e10abdde5cbea1b55459f5bacc65d4/55ba372b3336330017000bbf",CONTENT_METADATA:{type:"content",program:"",segB:"",segC:"Sport/Program Code",isfullepisode:"",adloadtype:2,airdate:"",dataSrc:"CMS",tv:!1,crossId2:"ESPN",assetid:"",category:""},AD_METADATA:[]},ESPN_CUSTOM_METADATA:{},MEDIAINFO:{}},nativeOmniture:{trackingServer:"sw88.espn.com",reportSuites:"wdgespcom,wdgespge",secure:!0,site:"espn"}}},function(module,exports,__webpack_require__){"use strict";module.exports={VIDEO_BASE_URL:"//api-app.espn.com/v1/video",WATCH_BASE_URL:"//api-app.espn.com/v1/watch",VIDEOHUB_BASE_URL:"https://www.espn.com/videohub"}},function(module,exports,__webpack_require__){"use strict";function mergeCustomizer(objValue,srcValue){if(null===srcValue)return objValue}var Authorizer,Fan,config,merge,request,session;Fan=__webpack_require__(1),request=__webpack_require__(2),config={v:"2.0.0",partner:"watchespn",platform:"web"},merge=__webpack_require__(0),Authorizer=function(){function Authorizer(player,options){this.player=player,merge(config,options,mergeCustomizer)}return Authorizer.prototype.startSession=function(listing){this.stopSession(),request.get(listing.videoHref).query({v:config.v,partner:config.partner,platform:config.platform,token:config.token,tokenType:config.tokenType,resource:config.resource,SWID:Fan.SWID}).withCredentials().end(function(error,res){return error?this.onStatusChange(res&&res.body||error,null):("application/json"===res.type&&res.body?(session=res.body.session,config.token=session.token,config.tokenType="GATEKEEPER",listing._session=session,listing.videoHref=session.playbackUrls&&session.playbackUrls["default"],listing.simulcastAiringId=session.event.simulcastAiringId,listing.passThroughBeaconURL=session.passThroughBeaconURL,this.maintainSession()):this.player.error({type:"AUTH_FAIL",headline:"Authorization failed"}),void this.onStatusChange(null,listing))}.bind(this))},Authorizer.prototype.stopSession=function(){clearTimeout(this.maintainTimeout),clearTimeout(this.programTimeout),session=null},Authorizer.prototype.maintainSession=function(){var delay,queryData;delay=session.ttl-6e4,queryData={v:config.v,partner:config.partner,platform:config.platform,token:config.token},clearTimeout(this.maintainTimeout),this.maintainTimeout=setTimeout(function(){request.get(session.maintainUrl).query(queryData).withCredentials().end(function(error,res){error||("application/json"===res.type&&res.body&&(session=res.body.session,config.token=session.token),this.maintainSession())}.bind(this))}.bind(this),delay)},Authorizer.prototype.dispose=function(){this.stopSession()},Authorizer.prototype.onStatusChange=function(){},Authorizer.prototype.startShieldSession=function(listing){this.stopSession(),request.get(listing.videoHref).query({partner:config.partner,platform:config.platform,SWID:Fan.SWID?Fan.SWID.replace(/{|}/g,""):void 0}).withCredentials().end(function(error,res){return error?this.onStatusChange(res.body,null):("application/json"===res.type&&res.body?(listing.videoHref=res.body.stream,["hasEspnId3Heartbeats","hasNielsenWatermarks","hasPassThroughAds","passThroughBeaconURL","seekInSeconds"].forEach(function(prop){"undefined"!=typeof res.body[prop]&&(listing[prop]=res.body[prop])})):this.player.error({type:"AUTH_FAIL",headline:"Authorization failed"}),void this.onStatusChange(null,listing))}.bind(this))},Authorizer}(),Authorizer.configure=function(options){return merge(config,options,mergeCustomizer),config},module.exports=Authorizer},function(module,exports,__webpack_require__){"use strict";module.exports={cric:{adAssetIdPrefix:"",adNetworkId:"87146",apiIdPrefix:"cric:",apiParams:{},key:"cric",syndicationKey:"cricinfo"},deportes:{adAssetIdPrefix:"",adNetworkId:"135087",apiIdPrefix:"deportes:",apiParams:{lang:"es"},key:"deportes",syndicationKey:"deportes"},espn:{adAssetIdPrefix:"",adNetworkId:"87146",apiIdPrefix:"espn:",apiParams:{},key:"espn",syndicationKey:"domestic"},intl:{adAssetIdPrefix:"intl:",adNetworkId:"87146",apiIdPrefix:"intl:",apiParams:{sport:"soccer",region:"GB"},key:"intl",syndicationKey:"soccerfc"}}},function(module,exports,__webpack_require__){"use strict";function convivaBrowserSupportsVideoElement(){try{return!!document.createElement("video").canPlayType}catch(e){return!1}}function convivaBrowserSupportsLocalStorage(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},loadConviva="undefined"==typeof ConvivaPrivateLoader,convivaSupportedBrowser=convivaBrowserSupportsVideoElement()&&convivaBrowserSupportsLocalStorage();if(loadConviva=loadConviva&&convivaSupportedBrowser){var ConvivaPrivateLoader="undefined"!=typeof ConvivaPrivateLoader?ConvivaPrivateLoader:function(){};!function(){function registerName(cls,clsname){"undefined"!=typeof ConvivaPrivateModule?ConvivaPrivateModule[clsname]=cls:"undefined"!=typeof ConvivaPrivateTestingModule?ConvivaPrivateTestingModule[clsname]=cls:ConvivaPrivateLoader[clsname]=cls}function __id(x){return x}function getConvivaType(className){return"undefined"!=typeof ConvivaPrivateModule&&ConvivaPrivateModule.hasOwnProperty(className)?ConvivaPrivateModule[className]:"undefined"!=typeof ConvivaPrivateTestingModule&&ConvivaPrivateTestingModule.hasOwnProperty(className)?ConvivaPrivateTestingModule[className]:ConvivaPrivateLoader.hasOwnProperty(className)?ConvivaPrivateLoader[className]:null}function importConvivaPrivateProgram(fromWhere,fromWhereName){var p,res="";for(p in fromWhere)fromWhere.hasOwnProperty(p)&&(res+="var "+p+"="+__id(fromWhereName)+"."+p+";");return res}function STAT_INIT(){return"STAT_INIT"}function statInit(cls,clsname){cls.call(STAT_INIT),registerName(cls,clsname)}function defPubMeth(obj,name,m){obj!=STAT_INIT&&(void 0==obj[name]?obj[name]=m:obj["super_"+name]=m)}function defPrivMeth(obj,name,m){obj!=STAT_INIT&&(obj[name]=m)}function defStatMeth(obj,cls,name,m){obj==STAT_INIT&&(cls[name]=m)}function defGet(obj,name,m){obj!=STAT_INIT&&("undefined"!=typeof Object.defineProperty?Object.defineProperty(obj,name,{configurable:!0,enumerable:!0,get:m}):obj.__defineGetter__(name,m))}function defSet(obj,name,m){obj!=STAT_INIT&&("undefined"!=typeof Object.defineProperty?Object.defineProperty(obj,name,{configurable:!0,set:m}):obj.__defineSetter__(name,m))}function defStatGet(obj,cls,name,m){obj==STAT_INIT&&defGet(cls,name,m)}function defStatSet(obj,cls,name,m){obj==STAT_INIT&&defSet(cls,name,m)}function slIsArray(inObj){return inObj.constructor==Array||"undefined"!=typeof inObj.length}function slForEachPropValue(a,f){slIsArray(a);if(slIsArray(a))for(var i=0;i<a.length;i++)f(a[i]);else for(var p in a)a.hasOwnProperty(p)&&f(a[p])}function slForEachProp(a,f){if(slIsArray(a))for(var i=0;i<a.length;i++)f(i);else for(var p in a)a.hasOwnProperty(p)&&f(p)}function declTestClass(obj,name,cls,meta){obj==STAT_INIT&&jstest.DeclareTestClass(name,cls,meta)}function declTestMethod(obj,clsname,mname,mcode,meta){obj==STAT_INIT?jstest.DeclareTestMethod(clsname,mname,meta):jstest.SetTestMethodClosure(clsname,mname,mcode)}function sluint(){sluint.two32=4294967296,sluint.Cast=function(v){var vi=parseInt(v);return vi>sluint.MaxValue?vi%=sluint.two32:vi<0&&(vi=-vi%sluint.two32,vi=sluint.two32-vi),vi},sluint.uintRegex=new RegExp("^[0-9]+$"),sluint.Parse=function(v){return Lang.parseChecker(v,sluint.uintRegex),sluint.Cast(v)},sluint.MaxValue=sluint.two32-1,sluint.MinValue=0}function slint(){slint.Cast=function(v){var vu=sluint.Cast(v);return vu>slint.MaxValue&&(vu-=sluint.two32),vu},slint.intRegex=new RegExp("^[+-]?[0-9]+$"),slint.Parse=function(v){return Lang.parseChecker(v,slint.intRegex),slint.Cast(v)},slint.MaxValue=2147483647,slint.MinValue=-2147483648}function Int64(){function __constr(){_s._l=0,_s._h=0}function __fromUnsignedInt(i){var res=new Int64;return res._h=0,res._l=i,res}function __fromInt(i){var res=new Int64;return i>=0?(res._h=0,res._l=sluint.Cast(i)):(res._h=-1,res._l=sluint.Cast(i)),res}function __fromNumber(n){var l1=n%Int64.TWO_TO_32;l1<0&&(l1=Number(sluint.MaxValue)+1+l1);var res=new Int64;return res._l=sluint.Cast(l1+.5),res._h=slint.Cast((n-l1)/Int64.TWO_TO_32),res}function __asNumber(){return Number(_s._h)*Int64.TWO_TO_32+Number(_s._l)}var _s=this;_s==STAT_INIT&&(Int64.TWO_TO_32=4294967296),defStatMeth(_s,Int64,"fromUnsignedInt",__fromUnsignedInt),defStatMeth(_s,Int64,"fromInt",__fromInt),defStatMeth(_s,Int64,"fromNumber",__fromNumber),defGet(_s,"asNumber",__asNumber),_s!=STAT_INIT&&(this.toString=function(){return _s.asNumber.toString()}),_s!=STAT_INIT&&__constr.apply(this,arguments)}function UInt64(){function __constr(){Int64.call(_s),_s._l=0,_s._h=0}function __fromUnsignedInt(i){var res=new UInt64;return res._h=0,res._l=i,res}function __fromNumber(n){var res=new UInt64;return res._h=Math.floor(n/Int64.TWO_TO_32),res._l=n%Int64.TWO_TO_32,res}var _s=this;defStatMeth(_s,UInt64,"fromUnsignedInt",__fromUnsignedInt),defStatMeth(_s,UInt64,"fromNumber",__fromNumber),_s!=STAT_INIT&&__constr.apply(arguments)}function CandidateStream(){function _constr(id,bitrate,resource){_s.id=id,_s.bitrate=bitrate,_s.resource=resource}function __Cleanup(){_s.id=null,_s.bitrate=0,_s.resource=null}function __get_id(){return _s.__auto_id}function __set_id(value){_s.__auto_id=value}function __get_bitrate(){return _s.__auto_bitrate}function __set_bitrate(value){_s.__auto_bitrate=value}function __get_resource(){return _s.__auto_resource}function __set_resource(value){_s.__auto_resource=value}function __CheckValidity(){return null!=_s.id&&"string"!=typeof _s.id?"CandidateStream.id is not a string":null!=_s.bitrate&&"number"!=typeof _s.bitrate?"CandidateStream.bitrate is not an int":null!=_s.resource&&"string"!=typeof _s.resource?"CandidateStream.resource is not a string":null}function __ConstructClone(fromObj){if(null==fromObj)return null;var res=new CandidateStream("",(-1),null);return res.id=NativeLang.GetStringField("id",fromObj),res.bitrate=slint.Cast(NativeLang.GetField("bitrate",fromObj)),res.resource=NativeLang.GetStringField("resource",fromObj),res}var _s=this;defPubMeth(_s,"Cleanup",__Cleanup),defPubMeth(_s,"Cleanup",__Cleanup),_s!=STAT_INIT&&(_s.__auto_id=void 0),defGet(_s,"id",__get_id),defGet(_s,"id",__get_id),defSet(_s,"id",__set_id),defSet(_s,"id",__set_id),_s!=STAT_INIT&&(_s.__auto_bitrate=void 0),defGet(_s,"bitrate",__get_bitrate),defGet(_s,"bitrate",__get_bitrate),defSet(_s,"bitrate",__set_bitrate),defSet(_s,"bitrate",__set_bitrate),_s!=STAT_INIT&&(_s.__auto_resource=void 0),defGet(_s,"resource",__get_resource),defGet(_s,"resource",__get_resource),defSet(_s,"resource",__set_resource),defSet(_s,"resource",__set_resource),defPubMeth(_s,"CheckValidity",__CheckValidity),defPubMeth(_s,"CheckValidity",__CheckValidity),defStatMeth(_s,CandidateStream,"ConstructClone",__ConstructClone),defStatMeth(_s,CandidateStream,"ConstructClone",__ConstructClone),_s!=STAT_INIT&&_constr.apply(_s,arguments)}function ConvivaContentInfo(){function __get_tags(){return Lang.StringDictionaryToRepr(_s._tags)}function __set_tags(value){_s._tags=Lang.DictionaryFromRepr(value)}function __get_isLive(){return _s._isLive}function __set_isLive(value){if("true"===value&&(value=!0),"false"===value&&(value=!1),value!==!0&&value!==!1){var utils=Utils.getInstance();utils.err("Invalid value for ConvivaContentInfo.isLive, expected boolean. Defaulting to false."),value=!1}_s._isLive=value}function _constr(assetName,tags){_s.assetName=assetName,_s.tags=tags,null==_s._tags&&(_s._tags=new DictionaryCS)}var _s=this;_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_AKAMAI="AKAMAI"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_AMAZON="AMAZON"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_ATT="ATT"),
_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_BITGRAVITY="BITGRAVITY"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_BT="BT"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_CDNETWORKS="CDNETWORKS"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_CHINACACHE="CHINACACHE"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_EDGECAST="EDGECAST"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_HIGHWINDS="HIGHWINDS"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_INTERNAP="INTERNAP"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_LEVEL3="LEVEL3"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_LIMELIGHT="LIMELIGHT"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_OCTOSHAPE="OCTOSHAPE"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_SWARMCAST="SWARMCAST"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_VELOCIX="VELOCIX"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_TELEFONICA="TELEFONICA"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_MICROSOFT="MICROSOFT"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_CDNVIDEO="CDNVIDEO"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_QBRICK="QBRICK"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_NGENIX="NGENIX"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_IPONLY="IPONLY"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_TALKTALK="TALKTALK"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_INHOUSE="INHOUSE"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_COMCAST="COMCAST"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_NICE="NICE"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_TELENOR="TELENOR"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_FASTLY="FASTLY"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_TELIA="TELIA"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_CHINANETCENTER="CHINANETCENTER"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_MIRRORIMAGE="MIRRORIMAGE"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_SONIC="SONIC"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_ATLAS="ATLAS"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_OOYALA="OOYALA"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_TATA="TATA"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_GOOGLE="GOOGLE"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_INSTARTLOGIC="INSTARTLOGIC"),_s==STAT_INIT&&(ConvivaContentInfo.CDN_NAME_OTHER="OTHER"),_s==STAT_INIT&&(ConvivaContentInfo.FRAMEWORK_NAME_BRIGHTCOVE="Brightcove"),_s==STAT_INIT&&(ConvivaContentInfo.FRAMEWORK_NAME_KALTURA="Kaltura"),_s==STAT_INIT&&(ConvivaContentInfo.FRAMEWORK_NAME_OOYALA="Ooyala"),_s==STAT_INIT&&(ConvivaContentInfo.FRAMEWORK_NAME_OSMF="OSMF"),_s==STAT_INIT&&(ConvivaContentInfo.FRAMEWORK_NAME_THE_PLATFORM="thePlatform"),_s==STAT_INIT&&(ConvivaContentInfo.DEVICE_TYPE_CONSOLE="Console"),_s==STAT_INIT&&(ConvivaContentInfo.DEVICE_TYPE_MOBILE="Mobile"),_s==STAT_INIT&&(ConvivaContentInfo.DEVICE_TYPE_PC="PC"),_s==STAT_INIT&&(ConvivaContentInfo.DEVICE_TYPE_SET_TOP_BOX="Settop"),_s==STAT_INIT&&(ConvivaContentInfo.PLUGIN_NAME_KALTURA="ConvivaKalturaPlugin"),_s==STAT_INIT&&(ConvivaContentInfo.NO_RESOURCE="no_resource"),_s!=STAT_INIT&&(_s.assetName=void 0),_s!=STAT_INIT&&(_s._tags=null),defGet(_s,"tags",__get_tags),defGet(_s,"tags",__get_tags),defSet(_s,"tags",__set_tags),defSet(_s,"tags",__set_tags),_s!=STAT_INIT&&(_s.defaultReportingBitrateKbps=-1),_s!=STAT_INIT&&(_s.defaultReportingCdnName=ConvivaContentInfo.CDN_NAME_OTHER),_s!=STAT_INIT&&(_s.defaultReportingResource=null),_s!=STAT_INIT&&(_s.frameworkName=null),_s!=STAT_INIT&&(_s.frameworkVersion=null),_s!=STAT_INIT&&(_s.pluginName=null),_s!=STAT_INIT&&(_s.pluginVersion=null),_s!=STAT_INIT&&(_s.viewerId=null),_s!=STAT_INIT&&(_s.deviceId=null),_s!=STAT_INIT&&(_s.deviceType=null),_s!=STAT_INIT&&(_s.playerName=null),_s!=STAT_INIT&&(_s.streamUrl=null),_s!=STAT_INIT&&(_s._isLive=!1),defGet(_s,"isLive",__get_isLive),defGet(_s,"isLive",__get_isLive),defSet(_s,"isLive",__set_isLive),defSet(_s,"isLive",__set_isLive),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_AKAMAI",ConvivaContentInfo.CDN_NAME_AKAMAI),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_AMAZON",ConvivaContentInfo.CDN_NAME_AMAZON),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_ATLAS",ConvivaContentInfo.CDN_NAME_ATLAS),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_ATT",ConvivaContentInfo.CDN_NAME_ATT),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_BITGRAVITY",ConvivaContentInfo.CDN_NAME_BITGRAVITY),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_BT",ConvivaContentInfo.CDN_NAME_BT),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_CDNETWORKS",ConvivaContentInfo.CDN_NAME_CDNETWORKS),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_CDNVIDEO",ConvivaContentInfo.CDN_NAME_CDNVIDEO),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_CHINACACHE",ConvivaContentInfo.CDN_NAME_CHINACACHE),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_CHINANETCENTER",ConvivaContentInfo.CDN_NAME_CHINANETCENTER),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_COMCAST",ConvivaContentInfo.CDN_NAME_COMCAST),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_EDGECAST",ConvivaContentInfo.CDN_NAME_EDGECAST),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_FASTLY",ConvivaContentInfo.CDN_NAME_FASTLY),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_GOOGLE",ConvivaContentInfo.CDN_NAME_GOOGLE),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_HIGHWINDS",ConvivaContentInfo.CDN_NAME_HIGHWINDS),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_INHOUSE",ConvivaContentInfo.CDN_NAME_INHOUSE),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_INSTARTLOGIC",ConvivaContentInfo.CDN_NAME_INSTARTLOGIC),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_INTERNAP",ConvivaContentInfo.CDN_NAME_INTERNAP),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_IPONLY",ConvivaContentInfo.CDN_NAME_IPONLY),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_LEVEL3",ConvivaContentInfo.CDN_NAME_LEVEL3),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_LIMELIGHT",ConvivaContentInfo.CDN_NAME_LIMELIGHT),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_MICROSOFT",ConvivaContentInfo.CDN_NAME_MICROSOFT),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_MIRRORIMAGE",ConvivaContentInfo.CDN_NAME_MIRRORIMAGE),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_NGENIX",ConvivaContentInfo.CDN_NAME_NGENIX),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_NICE",ConvivaContentInfo.CDN_NAME_NICE),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_OCTOSHAPE",ConvivaContentInfo.CDN_NAME_OCTOSHAPE),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_OOYALA",ConvivaContentInfo.CDN_NAME_OOYALA),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_OTHER",ConvivaContentInfo.CDN_NAME_OTHER),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_QBRICK",ConvivaContentInfo.CDN_NAME_QBRICK),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_SONIC",ConvivaContentInfo.CDN_NAME_SONIC),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_SWARMCAST",ConvivaContentInfo.CDN_NAME_SWARMCAST),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_TALKTALK",ConvivaContentInfo.CDN_NAME_TALKTALK),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_TATA",ConvivaContentInfo.CDN_NAME_TATA),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_TELEFONICA",ConvivaContentInfo.CDN_NAME_TELEFONICA),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_TELENOR",ConvivaContentInfo.CDN_NAME_TELENOR),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_TELIA",ConvivaContentInfo.CDN_NAME_TELIA),defStatMeth(_s,ConvivaContentInfo,"CDN_NAME_VELOCIX",ConvivaContentInfo.CDN_NAME_VELOCIX),defStatMeth(_s,ConvivaContentInfo,"DEVICE_TYPE_CONSOLE",ConvivaContentInfo.DEVICE_TYPE_CONSOLE),defStatMeth(_s,ConvivaContentInfo,"DEVICE_TYPE_MOBILE",ConvivaContentInfo.DEVICE_TYPE_MOBILE),defStatMeth(_s,ConvivaContentInfo,"DEVICE_TYPE_PC",ConvivaContentInfo.DEVICE_TYPE_PC),defStatMeth(_s,ConvivaContentInfo,"DEVICE_TYPE_SET_TOP_BOX",ConvivaContentInfo.DEVICE_TYPE_SET_TOP_BOX),defStatMeth(_s,ConvivaContentInfo,"FRAMEWORK_NAME_BRIGHTCOVE",ConvivaContentInfo.FRAMEWORK_NAME_BRIGHTCOVE),defStatMeth(_s,ConvivaContentInfo,"FRAMEWORK_NAME_KALTURA",ConvivaContentInfo.FRAMEWORK_NAME_KALTURA),defStatMeth(_s,ConvivaContentInfo,"FRAMEWORK_NAME_OOYALA",ConvivaContentInfo.FRAMEWORK_NAME_OOYALA),defStatMeth(_s,ConvivaContentInfo,"FRAMEWORK_NAME_OSMF",ConvivaContentInfo.FRAMEWORK_NAME_OSMF),defStatMeth(_s,ConvivaContentInfo,"FRAMEWORK_NAME_THE_PLATFORM",ConvivaContentInfo.FRAMEWORK_NAME_THE_PLATFORM),defStatMeth(_s,ConvivaContentInfo,"NO_RESOURCE",ConvivaContentInfo.NO_RESOURCE),defStatMeth(_s,ConvivaContentInfo,"PLUGIN_NAME_KALTURA",ConvivaContentInfo.PLUGIN_NAME_KALTURA),_s!=STAT_INIT&&_constr.apply(_s,arguments)}function ConvivaStreamerProxy(){function _constr(){}function __Cleanup(){null!=_s._notifiers&&_s._notifiers.Clear()}function __GetCapabilities(){return 0}function __GetPlayheadTimeMs(){return-1}function __GetIsPHTAccurate(){return!0}function __GetBufferLengthMs(){return-1}function __GetVideoBufferLengthMs(){return-1}function __GetAudioBufferLengthMs(){return-1}function __GetStartingBufferLengthMs(){return-1}function __SetStartingBufferLengthMs(ms){}function __GetIsStartingBufferFull(){return!1}function __GetRenderedFrameRate(){return-1}function __GetSourceFrameRate(){return-1}function __GetDroppedFrames(){return-1}function __GetCpuPercent(){return-1}function __GetMemoryAvailable(){return-1}function __GetCapacityKbps(resource){return-1}function __GetServerAddress(){return null}function __GetIsLive(){return ConvivaStreamerProxy.BOOLEAN_UNAVAILABLE}function __GetStreamerVersion(){return-1}function __FetchCandidateStreams(resource){}function __Play(destination){}function __GetApiVersion(){return ConvivaStreamerProxy.API_VERSION}function __SetMonitoringNotifier(notifier){if(null!=notifier){var previousNotifiers=_s._notifiers,newNotifiers=new ListCS;if(newNotifiers.Add(notifier),_s._notifiers=newNotifiers,null!=_s._notifiers){_s.isProxyInitialized&&notifier(ConvivaStreamerProxy.REASON_PROXYINITIALIZED,null),_s.SetDownloadStateChange(StreamInfo.VIDEO,ConvivaStreamerProxy.DOWNLOADSTATE_ACTIVE),_s.SetDownloadStateChange(StreamInfo.AUDIO,ConvivaStreamerProxy.DOWNLOADSTATE_ACTIVE);var newInfo=_s._stream;_s._stream=new StreamInfo((-1),ConvivaContentInfo.CDN_NAME_OTHER,ConvivaContentInfo.NO_RESOURCE,(-1),(-1),(-1)),_s.SetStream(newInfo);var newState=_s._playingState;_s._playingState=ConvivaStreamerProxy.UNKNOWN,_s.SetPlayingState(newState);var newMetadata=_s._lastMetadata;_s._lastMetadata=null,_s.SetMetadata(newMetadata);for(var _for_array_1=_s._pendingErrors.Values,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var strErr=_for_array_1[_for_idx_2];_s.SetError(strErr)}var newStreams=_s._availableStreams;_s._availableStreams=null,_s.SetAvailableStreams(newStreams);var newChunkDownloadStatus=_s._currentLoadingStatus;_s._currentLoadingStatus=null,_s.SetLoadingStatus(newChunkDownloadStatus);var newDiplayWidth=_s._displayWidth,newDisplayHeight=_s._displayWidth;_s._displayWidth=-1,_s._displayHeight=-1,_s.SetDisplaySize(newDiplayWidth,newDisplayHeight)}previousNotifiers.Add(notifier),_s._notifiers=previousNotifiers}}function __GetLoadingStatus(){return _s._currentLoadingStatus}function __GetPlayingState(){return _s._playingState}function __GetBitrateKbps(){return _s._stream.bitrateKbps}function __GetCdnName(){return _s._stream.cdnName}function __GetResource(){return _s._stream.resource}function __GetStream(){return _s._stream}function __GetStreams(){return null}function __GetLastError(){return _s._lastError}function __GetLastMetadata(){return _s._lastMetadata}function __GetDisplayWidth(){return _s._displayWidth}function __GetDisplayHeight(){return _s._displayHeight}function __GetStreamerType(){return null}function __GetLoadedBytes(){return-1}function __SetDownloadStateChange(type,state){var downloadStateChange=new ListCS;downloadStateChange.Add(type),downloadStateChange.Add(state);for(var _for_array_1=_s._notifiers.Values,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var notifier=_for_array_1[_for_idx_2];_s.notifyListeners(notifier,ConvivaStreamerProxy.REASON_DOWNLOADSTATECHANGE,downloadStateChange)}}function __SetStream(updatedStream){if(updatedStream.bitrateKbps<=-2&&(updatedStream.bitrateKbps=_s._stream.bitrateKbps),null==updatedStream.cdnName&&(updatedStream.cdnName=_s._stream.cdnName),null==updatedStream.resource&&(updatedStream.resource=_s._stream.resource),!_s._stream.equals(updatedStream))for(var _for_array_1=_s._notifiers.Values,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var notifier=_for_array_1[_for_idx_2];_s.notifyListeners(notifier,ConvivaStreamerProxy.REASON_STREAMINFOCHANGE,updatedStream)}_s._stream=updatedStream}function __SetError(error){if(_s._lastError=error,null!=_s._notifiers&&_s._notifiers.Count>0)for(var _for_array_1=_s._notifiers.Values,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var notifier=_for_array_1[_for_idx_2];_s.notifyListeners(notifier,ConvivaStreamerProxy.REASON_ERRORCHANGE,error)}else _s._pendingErrors.Add(error)}function __SetMetadata(metadata){if(_s._lastMetadata=metadata,null!=metadata)for(var _for_array_1=_s._notifiers.Values,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var notifier=_for_array_1[_for_idx_2];_s.notifyListeners(notifier,ConvivaStreamerProxy.REASON_METADATACHANGE,metadata)}}function __Log(message){for(var _for_array_1=_s._notifiers.Values,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var notifier=_for_array_1[_for_idx_2];_s.notifyListeners(notifier,ConvivaStreamerProxy.REASON_LOG,message)}}function __LogError(message){for(var _for_array_1=_s._notifiers.Values,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var notifier=_for_array_1[_for_idx_2];_s.notifyListeners(notifier,ConvivaStreamerProxy.REASON_LOG,"ERROR:"+message)}}function __GetTotalLoadedBytes(){return null}function __SetLoadingStatus(loadingStatus){if(_s._currentLoadingStatus=loadingStatus,null!=loadingStatus)for(var _for_array_1=_s._notifiers.Values,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var notifier=_for_array_1[_for_idx_2];_s.notifyListeners(notifier,ConvivaStreamerProxy.REASON_LOADINGSTATUSCHANGE,loadingStatus)}}function __SetPlayingState(newState){if(newState!=_s._playingState)for(var _for_array_1=_s._notifiers.Values,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var notifier=_for_array_1[_for_idx_2];_s.notifyListeners(notifier,ConvivaStreamerProxy.REASON_PLAYINGSTATECHANGE,newState)}_s._playingState=newState}function __SetBitrateKbps(updatedBitrateKbps){var updatedStream=new StreamInfo(updatedBitrateKbps,null,null,(-1),(-1),(-1));_s.SetStream(updatedStream)}function __SetCdnName(updatedCdnName){var updatedStream=new StreamInfo((-2),updatedCdnName,null,(-1),(-1),(-1));_s.SetStream(updatedStream)}function __SetResource(updatedResource){var updatedStream=new StreamInfo((-2),null,updatedResource,(-1),(-1),(-1));_s.SetStream(updatedStream)}function __SetDisplaySize(displayWidth,displayHeight){if(displayWidth!=-1&&displayHeight!=-1){_s._displayWidth=displayWidth,_s._displayHeight=displayHeight;var displaySize=new ListCS;displaySize.Add(displayWidth),displaySize.Add(displayHeight);for(var _for_array_1=_s._notifiers.Values,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var notifier=_for_array_1[_for_idx_2];_s.notifyListeners(notifier,ConvivaStreamerProxy.REASON_DISPLAYSIZECHANGE,displaySize)}}}function __SetAvailableStreams(streams){if(_s._availableStreams=streams,null!=streams)for(var _for_array_1=_s._notifiers.Values,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var notifier=_for_array_1[_for_idx_2];_s.notifyListeners(notifier,ConvivaStreamerProxy.REASON_AVAILABLESTREAMINFOCHANGE,streams)}}function __SetProxyInitialized(){if(!_s.isProxyInitialized){_s.isProxyInitialized=!0;for(var _for_array_1=_s._notifiers.Values,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var notifier=_for_array_1[_for_idx_2];_s.notifyListeners(notifier,ConvivaStreamerProxy.REASON_PROXYINITIALIZED,null)}}}function __notifyListeners(notifier,reason,arg){try{notifier(reason,arg)}catch(e){notifier(ConvivaStreamerProxy.REASON_LOG,"ConvivaStreamerProxy : uncaught exception "+e)}}var _s=this;_s!=STAT_INIT&&(_s._notifiers=new ListCS),_s!=STAT_INIT&&(_s._stream=new StreamInfo((-1),ConvivaContentInfo.CDN_NAME_OTHER,ConvivaContentInfo.NO_RESOURCE,(-1),(-1),(-1))),_s!=STAT_INIT&&(_s._playingState=ConvivaStreamerProxy.UNKNOWN),_s!=STAT_INIT&&(_s._lastMetadata=null),_s!=STAT_INIT&&(_s._lastError=null),_s!=STAT_INIT&&(_s._pendingErrors=new ListCS),_s!=STAT_INIT&&(_s._displayWidth=-1),_s!=STAT_INIT&&(_s._displayHeight=-1),_s!=STAT_INIT&&(_s._availableStreams=null),_s!=STAT_INIT&&(_s._currentLoadingStatus=null),_s!=STAT_INIT&&(_s.isProxyInitialized=void 0),_s==STAT_INIT&&(ConvivaStreamerProxy.REASON_PLAYINGSTATECHANGE="PlayingStateChange"),_s==STAT_INIT&&(ConvivaStreamerProxy.REASON_STREAMINFOCHANGE="StreamInfoChange"),_s==STAT_INIT&&(ConvivaStreamerProxy.REASON_AVAILABLESTREAMINFOCHANGE="AvailableStreamInfoChange"),_s==STAT_INIT&&(ConvivaStreamerProxy.REASON_PROXYINITIALIZED="ProxyInitialized"),_s==STAT_INIT&&(ConvivaStreamerProxy.REASON_METADATACHANGE="MetadataChange"),_s==STAT_INIT&&(ConvivaStreamerProxy.REASON_LOADINGSTATUSCHANGE="LoadingStatusChange"),_s==STAT_INIT&&(ConvivaStreamerProxy.REASON_DOWNLOADSTATECHANGE="DownloadStateChange"),_s==STAT_INIT&&(ConvivaStreamerProxy.REASON_DISPLAYSIZECHANGE="DisplaySizeChange"),_s==STAT_INIT&&(ConvivaStreamerProxy.REASON_ERRORCHANGE="ErrorChange"),_s==STAT_INIT&&(ConvivaStreamerProxy.REASON_LOG="Log"),_s==STAT_INIT&&(ConvivaStreamerProxy.REASON_RESOURCE_ERROR="ResourceError"),_s==STAT_INIT&&(ConvivaStreamerProxy.REASON_PRESENTATION_CHANGE="PresentationChange"),_s==STAT_INIT&&(ConvivaStreamerProxy.STOPPED="STOPPED"),_s==STAT_INIT&&(ConvivaStreamerProxy.PLAYING="PLAYING"),_s==STAT_INIT&&(ConvivaStreamerProxy.BUFFERING="BUFFERING"),_s==STAT_INIT&&(ConvivaStreamerProxy.PAUSED="PAUSED"),_s==STAT_INIT&&(ConvivaStreamerProxy.NOT_MONITORED="NOT_MONITORED"),_s==STAT_INIT&&(ConvivaStreamerProxy.ERROR="ERROR"),_s==STAT_INIT&&(ConvivaStreamerProxy.UNKNOWN="UNKNOWN"),_s==STAT_INIT&&(ConvivaStreamerProxy.DOWNLOADSTATE_ACTIVE=1),_s==STAT_INIT&&(ConvivaStreamerProxy.DOWNLOADSTATE_INACTIVE=0),_s==STAT_INIT&&(ConvivaStreamerProxy.METADATA_DURATION="duration"),_s==STAT_INIT&&(ConvivaStreamerProxy.METADATA_ENCODED_FRAMERATE="framerate"),_s==STAT_INIT&&(ConvivaStreamerProxy.BOOLEAN_TRUE=1),_s==STAT_INIT&&(ConvivaStreamerProxy.BOOLEAN_FALSE=-1),_s==STAT_INIT&&(ConvivaStreamerProxy.BOOLEAN_UNAVAILABLE=0),_s==STAT_INIT&&(ConvivaStreamerProxy.CAPABILITY_VIDEO=1),_s==STAT_INIT&&(ConvivaStreamerProxy.CAPABILITY_QUALITY_METRICS=2),_s==STAT_INIT&&(ConvivaStreamerProxy.CAPABILITY_BITRATE_METRICS=4),_s==STAT_INIT&&(ConvivaStreamerProxy.CAPABILITY_BITRATE_SWITCHING=8),_s==STAT_INIT&&(ConvivaStreamerProxy.CAPABILITY_CDN_SWITCHING=16),_s==STAT_INIT&&(ConvivaStreamerProxy.CAPABILITY_BITRATE_EXTERNAL=16),_s==STAT_INIT&&(ConvivaStreamerProxy.CAPABILITY_SOURCE_HTTP=32),_s==STAT_INIT&&(ConvivaStreamerProxy.CAPABILITY_SOURCE_CHUNKED=64),_s==STAT_INIT&&(ConvivaStreamerProxy.CAPABILITY_SOURCE_STREAMING=128),defPubMeth(_s,"Cleanup",__Cleanup),defPubMeth(_s,"Cleanup",__Cleanup),defPubMeth(_s,"GetCapabilities",__GetCapabilities),defPubMeth(_s,"GetCapabilities",__GetCapabilities),defPubMeth(_s,"GetPlayheadTimeMs",__GetPlayheadTimeMs),defPubMeth(_s,"GetPlayheadTimeMs",__GetPlayheadTimeMs),defPubMeth(_s,"GetIsPHTAccurate",__GetIsPHTAccurate),defPubMeth(_s,"GetIsPHTAccurate",__GetIsPHTAccurate),defPubMeth(_s,"GetBufferLengthMs",__GetBufferLengthMs),defPubMeth(_s,"GetBufferLengthMs",__GetBufferLengthMs),defPubMeth(_s,"GetVideoBufferLengthMs",__GetVideoBufferLengthMs),defPubMeth(_s,"GetVideoBufferLengthMs",__GetVideoBufferLengthMs),defPubMeth(_s,"GetAudioBufferLengthMs",__GetAudioBufferLengthMs),defPubMeth(_s,"GetAudioBufferLengthMs",__GetAudioBufferLengthMs),defPubMeth(_s,"GetStartingBufferLengthMs",__GetStartingBufferLengthMs),defPubMeth(_s,"GetStartingBufferLengthMs",__GetStartingBufferLengthMs),defPubMeth(_s,"SetStartingBufferLengthMs",__SetStartingBufferLengthMs),defPubMeth(_s,"SetStartingBufferLengthMs",__SetStartingBufferLengthMs),defPubMeth(_s,"GetIsStartingBufferFull",__GetIsStartingBufferFull),defPubMeth(_s,"GetIsStartingBufferFull",__GetIsStartingBufferFull),defPubMeth(_s,"GetRenderedFrameRate",__GetRenderedFrameRate),defPubMeth(_s,"GetRenderedFrameRate",__GetRenderedFrameRate),defPubMeth(_s,"GetSourceFrameRate",__GetSourceFrameRate),defPubMeth(_s,"GetSourceFrameRate",__GetSourceFrameRate),defPubMeth(_s,"GetDroppedFrames",__GetDroppedFrames),defPubMeth(_s,"GetDroppedFrames",__GetDroppedFrames),defPubMeth(_s,"GetCpuPercent",__GetCpuPercent),defPubMeth(_s,"GetCpuPercent",__GetCpuPercent),defPubMeth(_s,"GetMemoryAvailable",__GetMemoryAvailable),defPubMeth(_s,"GetMemoryAvailable",__GetMemoryAvailable),defPubMeth(_s,"GetCapacityKbps",__GetCapacityKbps),defPubMeth(_s,"GetCapacityKbps",__GetCapacityKbps),defPubMeth(_s,"GetServerAddress",__GetServerAddress),defPubMeth(_s,"GetServerAddress",__GetServerAddress),defPubMeth(_s,"GetIsLive",__GetIsLive),defPubMeth(_s,"GetIsLive",__GetIsLive),defPubMeth(_s,"GetStreamerVersion",__GetStreamerVersion),defPubMeth(_s,"GetStreamerVersion",__GetStreamerVersion),defPubMeth(_s,"FetchCandidateStreams",__FetchCandidateStreams),defPubMeth(_s,"FetchCandidateStreams",__FetchCandidateStreams),defPubMeth(_s,"Play",__Play),defPubMeth(_s,"Play",__Play),defPubMeth(_s,"GetApiVersion",__GetApiVersion),defPubMeth(_s,"GetApiVersion",__GetApiVersion),_s==STAT_INIT&&(ConvivaStreamerProxy.API_VERSION=1),defPubMeth(_s,"SetMonitoringNotifier",__SetMonitoringNotifier),defPubMeth(_s,"SetMonitoringNotifier",__SetMonitoringNotifier),defPubMeth(_s,"GetLoadingStatus",__GetLoadingStatus),defPubMeth(_s,"GetLoadingStatus",__GetLoadingStatus),defPubMeth(_s,"GetPlayingState",__GetPlayingState),defPubMeth(_s,"GetPlayingState",__GetPlayingState),defPubMeth(_s,"GetBitrateKbps",__GetBitrateKbps),defPubMeth(_s,"GetBitrateKbps",__GetBitrateKbps),defPubMeth(_s,"GetCdnName",__GetCdnName),defPubMeth(_s,"GetCdnName",__GetCdnName),defPubMeth(_s,"GetResource",__GetResource),defPubMeth(_s,"GetResource",__GetResource),defPubMeth(_s,"GetStream",__GetStream),defPubMeth(_s,"GetStream",__GetStream),defPubMeth(_s,"GetStreams",__GetStreams),defPubMeth(_s,"GetStreams",__GetStreams),defPubMeth(_s,"GetLastError",__GetLastError),defPubMeth(_s,"GetLastError",__GetLastError),defPubMeth(_s,"GetLastMetadata",__GetLastMetadata),defPubMeth(_s,"GetLastMetadata",__GetLastMetadata),defPubMeth(_s,"GetDisplayWidth",__GetDisplayWidth),defPubMeth(_s,"GetDisplayWidth",__GetDisplayWidth),defPubMeth(_s,"GetDisplayHeight",__GetDisplayHeight),defPubMeth(_s,"GetDisplayHeight",__GetDisplayHeight),defPubMeth(_s,"GetStreamerType",__GetStreamerType),defPubMeth(_s,"GetStreamerType",__GetStreamerType),defPubMeth(_s,"GetLoadedBytes",__GetLoadedBytes),defPubMeth(_s,"GetLoadedBytes",__GetLoadedBytes),defPubMeth(_s,"SetDownloadStateChange",__SetDownloadStateChange),defPubMeth(_s,"SetDownloadStateChange",__SetDownloadStateChange),defPubMeth(_s,"SetStream",__SetStream),defPubMeth(_s,"SetStream",__SetStream),defPubMeth(_s,"SetError",__SetError),defPubMeth(_s,"SetError",__SetError),defPubMeth(_s,"SetMetadata",__SetMetadata),defPubMeth(_s,"SetMetadata",__SetMetadata),defPubMeth(_s,"Log",__Log),defPubMeth(_s,"Log",__Log),defPubMeth(_s,"LogError",__LogError),defPubMeth(_s,"LogError",__LogError),defPubMeth(_s,"GetTotalLoadedBytes",__GetTotalLoadedBytes),defPubMeth(_s,"GetTotalLoadedBytes",__GetTotalLoadedBytes),defPubMeth(_s,"SetLoadingStatus",__SetLoadingStatus),defPubMeth(_s,"SetLoadingStatus",__SetLoadingStatus),defPubMeth(_s,"SetPlayingState",__SetPlayingState),defPubMeth(_s,"SetPlayingState",__SetPlayingState),defPubMeth(_s,"SetBitrateKbps",__SetBitrateKbps),defPubMeth(_s,"SetBitrateKbps",__SetBitrateKbps),defPubMeth(_s,"SetCdnName",__SetCdnName),defPubMeth(_s,"SetCdnName",__SetCdnName),defPubMeth(_s,"SetResource",__SetResource),defPubMeth(_s,"SetResource",__SetResource),defPubMeth(_s,"SetDisplaySize",__SetDisplaySize),defPubMeth(_s,"SetDisplaySize",__SetDisplaySize),defPubMeth(_s,"SetAvailableStreams",__SetAvailableStreams),defPubMeth(_s,"SetAvailableStreams",__SetAvailableStreams),defPubMeth(_s,"SetProxyInitialized",__SetProxyInitialized),defPubMeth(_s,"SetProxyInitialized",__SetProxyInitialized),defPrivMeth(_s,"notifyListeners",__notifyListeners),defStatMeth(_s,ConvivaStreamerProxy,"API_VERSION",ConvivaStreamerProxy.API_VERSION),defStatMeth(_s,ConvivaStreamerProxy,"BOOLEAN_FALSE",ConvivaStreamerProxy.BOOLEAN_FALSE),defStatMeth(_s,ConvivaStreamerProxy,"BOOLEAN_TRUE",ConvivaStreamerProxy.BOOLEAN_TRUE),defStatMeth(_s,ConvivaStreamerProxy,"BOOLEAN_UNAVAILABLE",ConvivaStreamerProxy.BOOLEAN_UNAVAILABLE),defStatMeth(_s,ConvivaStreamerProxy,"BUFFERING",ConvivaStreamerProxy.BUFFERING),defStatMeth(_s,ConvivaStreamerProxy,"CAPABILITY_BITRATE_EXTERNAL",ConvivaStreamerProxy.CAPABILITY_BITRATE_EXTERNAL),defStatMeth(_s,ConvivaStreamerProxy,"CAPABILITY_BITRATE_METRICS",ConvivaStreamerProxy.CAPABILITY_BITRATE_METRICS),defStatMeth(_s,ConvivaStreamerProxy,"CAPABILITY_BITRATE_SWITCHING",ConvivaStreamerProxy.CAPABILITY_BITRATE_SWITCHING),defStatMeth(_s,ConvivaStreamerProxy,"CAPABILITY_CDN_SWITCHING",ConvivaStreamerProxy.CAPABILITY_CDN_SWITCHING),defStatMeth(_s,ConvivaStreamerProxy,"CAPABILITY_QUALITY_METRICS",ConvivaStreamerProxy.CAPABILITY_QUALITY_METRICS),defStatMeth(_s,ConvivaStreamerProxy,"CAPABILITY_SOURCE_CHUNKED",ConvivaStreamerProxy.CAPABILITY_SOURCE_CHUNKED),defStatMeth(_s,ConvivaStreamerProxy,"CAPABILITY_SOURCE_HTTP",ConvivaStreamerProxy.CAPABILITY_SOURCE_HTTP),defStatMeth(_s,ConvivaStreamerProxy,"CAPABILITY_SOURCE_STREAMING",ConvivaStreamerProxy.CAPABILITY_SOURCE_STREAMING),defStatMeth(_s,ConvivaStreamerProxy,"CAPABILITY_VIDEO",ConvivaStreamerProxy.CAPABILITY_VIDEO),defStatMeth(_s,ConvivaStreamerProxy,"DOWNLOADSTATE_ACTIVE",ConvivaStreamerProxy.DOWNLOADSTATE_ACTIVE),defStatMeth(_s,ConvivaStreamerProxy,"DOWNLOADSTATE_INACTIVE",ConvivaStreamerProxy.DOWNLOADSTATE_INACTIVE),defStatMeth(_s,ConvivaStreamerProxy,"ERROR",ConvivaStreamerProxy.ERROR),defStatMeth(_s,ConvivaStreamerProxy,"METADATA_DURATION",ConvivaStreamerProxy.METADATA_DURATION),defStatMeth(_s,ConvivaStreamerProxy,"METADATA_ENCODED_FRAMERATE",ConvivaStreamerProxy.METADATA_ENCODED_FRAMERATE),defStatMeth(_s,ConvivaStreamerProxy,"NOT_MONITORED",ConvivaStreamerProxy.NOT_MONITORED),defStatMeth(_s,ConvivaStreamerProxy,"PAUSED",ConvivaStreamerProxy.PAUSED),defStatMeth(_s,ConvivaStreamerProxy,"PLAYING",ConvivaStreamerProxy.PLAYING),defStatMeth(_s,ConvivaStreamerProxy,"REASON_AVAILABLESTREAMINFOCHANGE",ConvivaStreamerProxy.REASON_AVAILABLESTREAMINFOCHANGE),defStatMeth(_s,ConvivaStreamerProxy,"REASON_DISPLAYSIZECHANGE",ConvivaStreamerProxy.REASON_DISPLAYSIZECHANGE),defStatMeth(_s,ConvivaStreamerProxy,"REASON_DOWNLOADSTATECHANGE",ConvivaStreamerProxy.REASON_DOWNLOADSTATECHANGE),defStatMeth(_s,ConvivaStreamerProxy,"REASON_ERRORCHANGE",ConvivaStreamerProxy.REASON_ERRORCHANGE),defStatMeth(_s,ConvivaStreamerProxy,"REASON_LOADINGSTATUSCHANGE",ConvivaStreamerProxy.REASON_LOADINGSTATUSCHANGE),defStatMeth(_s,ConvivaStreamerProxy,"REASON_LOG",ConvivaStreamerProxy.REASON_LOG),defStatMeth(_s,ConvivaStreamerProxy,"REASON_METADATACHANGE",ConvivaStreamerProxy.REASON_METADATACHANGE),defStatMeth(_s,ConvivaStreamerProxy,"REASON_PLAYINGSTATECHANGE",ConvivaStreamerProxy.REASON_PLAYINGSTATECHANGE),defStatMeth(_s,ConvivaStreamerProxy,"REASON_PRESENTATION_CHANGE",ConvivaStreamerProxy.REASON_PRESENTATION_CHANGE),defStatMeth(_s,ConvivaStreamerProxy,"REASON_PROXYINITIALIZED",ConvivaStreamerProxy.REASON_PROXYINITIALIZED),defStatMeth(_s,ConvivaStreamerProxy,"REASON_RESOURCE_ERROR",ConvivaStreamerProxy.REASON_RESOURCE_ERROR),defStatMeth(_s,ConvivaStreamerProxy,"REASON_STREAMINFOCHANGE",ConvivaStreamerProxy.REASON_STREAMINFOCHANGE),defStatMeth(_s,ConvivaStreamerProxy,"STOPPED",ConvivaStreamerProxy.STOPPED),defStatMeth(_s,ConvivaStreamerProxy,"UNKNOWN",ConvivaStreamerProxy.UNKNOWN),_s!=STAT_INIT&&_constr.apply(_s,arguments)}function LivePass(){function __init(customerKey){return LivePass.readyState?void LivePass._utils.log("LivePass.init(): already initialized."):(null==LivePass._utils&&(LivePass._utils=Utils.CreateUtils(null)),null==customerKey||0==customerKey.length?void LivePass._utils.err("LivePass.init(): invalid customerKey: "+customerKey):void LivePass._utils.runProtectedSync(function(){LivePass._settings=LivePass._utils.getSettings(),LivePass._toggleTracesUsed&&(LivePass._settings.enableLogging=LivePass._toggleTracesValue),LivePass._settings.clientInstanceId=LivePass._utils.randUInt(),LivePass._settings.customerKey=customerKey,LivePass._utils.log("LivePass.init(): url="+LivePass._settings.gatewayUrl+" customerKey="+LivePass._settings.customerKey),LivePass._utils.startFetchClientId(),PlayerStates.init(),LivePass._sessionFactory=new SessionFactory,LivePass.readyState=!0,LivePass._utils.log("LivePass.init(): done.")},"LivePass.init"))}function __initWithSettings(customerKey,settings){return LivePass.readyState?void LivePass._utils.log("LivePass.initWithSettings(): already initialized."):(LivePass._utils=Utils.CreateUtils(settings),void LivePass.init(customerKey))}function __cleanup(){null!=LivePass._utils&&LivePass._utils.runProtected(function(){LivePass._utils.log("LivePass.cleanup()"),null!=LivePass._sessionFactory&&LivePass._sessionFactory.cleanup(),LivePass._sessionFactory=null,LivePass._globalSessionId=-1,null!=LivePass._utils&&LivePass._utils.cleanup(),LivePass._utils=null,LivePass._settings=null},"LivePass.cleanup"),LivePass.readyState=!1}function __createSession(streamer,contentInfo,options){return LivePass.readyState?LivePass.createSessionWithGlobal(streamer,contentInfo,options,!1):(LivePass.ping("LivePass.createSession before LivePass.init"),-1)}function __createSessionWithGlobal(streamer,contentInfo,options,global){var sid=LivePass._sessionFactory.newSessionId();return LivePass._utils.runProtected(function(){LivePass._sessionFactory.makeSession(streamer,contentInfo,options,sid,global)},"LivePass.createSession"),sid}function __reportError(sessionId,errorMsg){return LivePass.readyState?void LivePass._utils.runProtected(function(){var session=LivePass._sessionFactory.getSession(sessionId);null!=session&&session.reportError(StreamerError.makeUnscopedError(errorMsg,StreamerError.SEVERITY_FATAL))},"LivePass.reportError"):void LivePass.ping("LivePass.reportError before LivePass.init")}function __setBitrate(sessionId,bitrateKbps){return LivePass.readyState?void LivePass._utils.runProtected(function(){var session=LivePass._sessionFactory.getSession(sessionId);null!=session&&session.setBitrate(bitrateKbps)},"LivePass.setBitrate"):void LivePass.ping("LivePass.setBitrate before LivePass.init")}function __setCurrentStreamMetadata(sessionId,metadata){return LivePass.readyState?void LivePass._utils.runProtected(function(){var session=LivePass._sessionFactory.getSession(sessionId);null!=session&&session.setCurrentStreamMetadata(metadata)},"LivePass.setCurrentStreamMetadata"):void LivePass.ping("LivePass.setCurrentStreamMetadata before LivePass.init")}function __setCdnNameOrResource(sessionId,resource){return LivePass.readyState?void LivePass._utils.runProtected(function(){var session=LivePass._sessionFactory.getSession(sessionId);null!=session&&session.setCdnNameOrResource(resource)},"LivePass.setCdnNameOrResource"):void LivePass.ping("LivePass.setCdnNameOrResource before LivePass.init")}function __detachStreamer(sessionId){return LivePass.readyState?void LivePass._utils.runProtected(function(){var session=LivePass._sessionFactory.getSession(sessionId);null!=session&&session.detachStreamer()},"LivePass.detachStreamer"):void LivePass.ping("LivePass.detachStreamer before LivePass.init")}function __attachStreamer(sessionId,streamer){return LivePass.readyState?void LivePass._utils.runProtected(function(){var session=LivePass._sessionFactory.getSession(sessionId);null!=session&&session.attachStreamer(streamer)},"LivePass.attachStreamer"):void LivePass.ping("LivePass.attachStreamer before LivePass.init")}function __sendSessionEvent(sessionId,eventName,eventAttributes){if(!LivePass.readyState)return void LivePass.ping("LivePass.sendSessionEvent before LivePass.init");var eventAttrDictCS=null;eventAttrDictCS=Lang.DictionaryFromRepr(eventAttributes),LivePass._utils.runProtected(function(){
var session=LivePass._sessionFactory.getSession(sessionId);null!=session&&session.sendCustomEvent(eventName,eventAttrDictCS)},"LivePass.sendSessionEvent")}function __sendEvent(eventName,eventAttributes){return LivePass.readyState?void LivePass._utils.runProtected(function(){if(LivePass._globalSessionId<0){var cci=new ConvivaContentInfo("",new DictionaryCS);LivePass._globalSessionId=LivePass.createSessionWithGlobal(null,cci,null,!0)}LivePass.sendSessionEvent(LivePass._globalSessionId,eventName,eventAttributes)},"LivePass.sendEvent"):void LivePass.ping("LivePass.sendEvent before LivePass.init")}function __cleanupSession(sessionId){return LivePass.readyState?void LivePass._utils.runProtected(function(){LivePass._sessionFactory.cleanupSession(sessionId)},"Livepass.cleanupSession"):void LivePass.ping("LivePass.cleanupSession before LivePass.init")}function __pauseJoinTime(sessionId){return LivePass.readyState?void LivePass.adStart(sessionId):void LivePass.ping("LivePass.pauseJoinTime before LivePass.init")}function __resumeJoinTime(sessionId){return LivePass.readyState?void LivePass.adEnd(sessionId):void LivePass.ping("LivePass.resumeJoinTime before LivePass.init")}function __adStart(sessionId){return LivePass.readyState?void LivePass._utils.runProtected(function(){var session=LivePass._sessionFactory.getSession(sessionId);null!=session&&session.adStart()},"LivePass.adStart"):void LivePass.ping("LivePass.adStart before LivePass.init")}function __adEnd(sessionId){return LivePass.readyState?void LivePass._utils.runProtected(function(){var session=LivePass._sessionFactory.getSession(sessionId);null!=session&&session.adEnd()},"LivePass.adEnd"):void LivePass.ping("LivePass.adEnd before LivePass.init")}function __toggleTraces(b){LivePass._toggleTracesUsed=!0,null!=LivePass._settings?LivePass._settings.enableLogging=b:LivePass._toggleTracesValue=b}function __ping(msg){null!=LivePass._utils&&LivePass._utils.ping(msg)}var _s=this;_s==STAT_INIT&&(LivePass.READY="READY"),_s==STAT_INIT&&(LivePass.STREAM_SELECTION_SUCC=0),_s==STAT_INIT&&(LivePass.STREAM_SELECTION_FAILURE=1),_s==STAT_INIT&&(LivePass.STREAM_SELECTION_TIMEOUT=2),_s==STAT_INIT&&(LivePass.OPTION_EXTERNAL_BITRATE_REPORTING="externalBitrateReporting"),_s==STAT_INIT&&(LivePass.readyState=!1),_s==STAT_INIT&&(LivePass._settings=null),_s==STAT_INIT&&(LivePass._utils=null),_s==STAT_INIT&&(LivePass._sessionFactory=null),_s==STAT_INIT&&(LivePass._toggleTracesUsed=!1),_s==STAT_INIT&&(LivePass._toggleTracesValue=!1),_s==STAT_INIT&&(LivePass._globalSessionId=-1),defStatMeth(_s,LivePass,"init",__init),defStatMeth(_s,LivePass,"initWithSettings",__initWithSettings),defStatMeth(_s,LivePass,"cleanup",__cleanup),defStatMeth(_s,LivePass,"createSession",__createSession),defStatMeth(_s,LivePass,"createSessionWithGlobal",__createSessionWithGlobal),defStatMeth(_s,LivePass,"reportError",__reportError),defStatMeth(_s,LivePass,"setBitrate",__setBitrate),defStatMeth(_s,LivePass,"setCurrentStreamMetadata",__setCurrentStreamMetadata),defStatMeth(_s,LivePass,"setCdnNameOrResource",__setCdnNameOrResource),defStatMeth(_s,LivePass,"detachStreamer",__detachStreamer),defStatMeth(_s,LivePass,"attachStreamer",__attachStreamer),defStatMeth(_s,LivePass,"sendSessionEvent",__sendSessionEvent),defStatMeth(_s,LivePass,"sendEvent",__sendEvent),defStatMeth(_s,LivePass,"cleanupSession",__cleanupSession),defStatMeth(_s,LivePass,"pauseJoinTime",__pauseJoinTime),defStatMeth(_s,LivePass,"resumeJoinTime",__resumeJoinTime),defStatMeth(_s,LivePass,"adStart",__adStart),defStatMeth(_s,LivePass,"adEnd",__adEnd),defStatMeth(_s,LivePass,"toggleTraces",__toggleTraces),defStatMeth(_s,LivePass,"ping",__ping)}function PlayerStates(){function __init(){PlayerStates.stateToInt=new DictionaryCS,PlayerStates.intToState=new DictionaryCS,PlayerStates.stateToInt.SetValue(PlayerStates.UNINITIALIZED,PlayerStates.eUninitialized),PlayerStates.intToState.SetValue(PlayerStates.eUninitialized,PlayerStates.UNINITIALIZED),PlayerStates.stateToInt.SetValue(PlayerStates.PLAYING,PlayerStates.ePlaying),PlayerStates.intToState.SetValue(PlayerStates.ePlaying,PlayerStates.PLAYING),PlayerStates.stateToInt.SetValue(PlayerStates.STOPPED,PlayerStates.eStopped),PlayerStates.intToState.SetValue(PlayerStates.eStopped,PlayerStates.STOPPED),PlayerStates.stateToInt.SetValue(PlayerStates.PAUSED,PlayerStates.ePaused),PlayerStates.intToState.SetValue(PlayerStates.ePaused,PlayerStates.PAUSED),PlayerStates.stateToInt.SetValue(PlayerStates.BUFFERING,PlayerStates.eBuffering),PlayerStates.intToState.SetValue(PlayerStates.eBuffering,PlayerStates.BUFFERING),PlayerStates.stateToInt.SetValue(PlayerStates.NOT_MONITORED,PlayerStates.eNotMonitored),PlayerStates.intToState.SetValue(PlayerStates.eNotMonitored,PlayerStates.NOT_MONITORED),PlayerStates.stateToInt.SetValue(PlayerStates.UNKNOWN,PlayerStates.eUnknown),PlayerStates.intToState.SetValue(PlayerStates.eUnknown,PlayerStates.UNKNOWN)}function __stringToInt(stateStr){return null==PlayerStates.stateToInt&&PlayerStates.init(),PlayerStates.stateToInt.ContainsKey(stateStr)?PlayerStates.stateToInt.GetValue(stateStr):PlayerStates.eUnknown}function __intToString(stateInt){return null==PlayerStates.intToState&&PlayerStates.init(),PlayerStates.intToState.ContainsKey(stateInt)?PlayerStates.intToState.GetValue(stateInt):PlayerStates.UNKNOWN}function __cleanup(){PlayerStates.stateToInt=null}var _s=this;_s==STAT_INIT&&(PlayerStates.stateToInt=null),_s==STAT_INIT&&(PlayerStates.intToState=null),_s==STAT_INIT&&(PlayerStates.UNINITIALIZED="UNINITIALIZED"),_s==STAT_INIT&&(PlayerStates.eUninitialized=0),_s==STAT_INIT&&(PlayerStates.PLAYING="PLAYING"),_s==STAT_INIT&&(PlayerStates.ePlaying=3),_s==STAT_INIT&&(PlayerStates.STOPPED="STOPPED"),_s==STAT_INIT&&(PlayerStates.eStopped=1),_s==STAT_INIT&&(PlayerStates.PAUSED="PAUSED"),_s==STAT_INIT&&(PlayerStates.ePaused=12),_s==STAT_INIT&&(PlayerStates.BUFFERING="BUFFERING"),_s==STAT_INIT&&(PlayerStates.eBuffering=6),_s==STAT_INIT&&(PlayerStates.NOT_MONITORED="NOT_MONITORED"),_s==STAT_INIT&&(PlayerStates.eNotMonitored=98),_s==STAT_INIT&&(PlayerStates.UNKNOWN="UNKNOWN"),_s==STAT_INIT&&(PlayerStates.eUnknown=100),defStatMeth(_s,PlayerStates,"init",__init),defStatMeth(_s,PlayerStates,"stringToInt",__stringToInt),defStatMeth(_s,PlayerStates,"intToString",__intToString),defStatMeth(_s,PlayerStates,"cleanup",__cleanup)}function StreamInfo(){function __get_type(){return _s.__auto_type}function __set_type(value){_s.__auto_type=value}function __get_sourceHeightPixels(){return _s.__auto_sourceHeightPixels}function __set_sourceHeightPixels(value){_s.__auto_sourceHeightPixels=value}function __get_sourceWidthPixels(){return _s.__auto_sourceWidthPixels}function __set_sourceWidthPixels(value){_s.__auto_sourceWidthPixels=value}function __get_bitrateKbps(){return _s.__auto_bitrateKbps}function __set_bitrateKbps(value){_s.__auto_bitrateKbps=value}function __get_resource(){return _s.__auto_resource}function __set_resource(value){_s.__auto_resource=value}function __get_cdnName(){return _s.__auto_cdnName}function __set_cdnName(value){_s.__auto_cdnName=value}function _constr(_bitrateKbps,_cdnName,_resource,type,widthPixels,heightPixels){_s.bitrateKbps=_bitrateKbps,_s.cdnName=_cdnName,_s.resource=_resource,_s.type=type,_s.sourceHeightPixels=heightPixels,_s.sourceWidthPixels=widthPixels}function __GetBitrateKbps(){return _s.bitrateKbps}function __GetCdnName(){return _s.cdnName}function __GetResource(){return _s.resource}function __equals(other){return null!=other&&(_s.cdnName==other.cdnName&&_s.resource==other.resource&&_s.bitrateKbps==other.bitrateKbps&&_s.type==other.type&&_s.sourceHeightPixels==other.sourceHeightPixels&&_s.sourceWidthPixels==other.sourceWidthPixels)}function __ConstructClone(fromObj){if(null==fromObj)return null;var res=new StreamInfo((-1),ConvivaContentInfo.CDN_NAME_OTHER,null,(-1),(-1),(-1));return res.type=slint.Cast(NativeLang.GetField("type",fromObj)),res.bitrateKbps=slint.Cast(NativeLang.GetField("bitrateKbps",fromObj)),res.resource=NativeLang.GetStringField("resource",fromObj),res.cdnName=NativeLang.GetStringField("cdnName",fromObj),res.sourceHeightPixels=slint.Cast(NativeLang.GetField("sourceHeightPixels",fromObj)),res.sourceWidthPixels=slint.Cast(NativeLang.GetField("sourceWidthPixels",fromObj)),res}function __ToStr(){var typeString=null;switch(_s.type){case StreamInfo.UNKNOWN:typeString="UNKNOWN";break;case StreamInfo.VIDEO:typeString="VIDEO";break;case StreamInfo.AUDIO:typeString="AUDIO";break;case StreamInfo.TEXT:typeString="TEXT";break;case StreamInfo.RESOURCE:typeString="RESOURCE";break;default:throw new Error("Unknown stream type "+_s.type)}return"type="+typeString+", bitrateKbps="+_s.bitrateKbps+", resource="+(null!=_s.resource?_s.resource:"null")+", cdnName="+(null!=_s.cdnName?_s.cdnName:"null")+", sourceHeightPixels="+_s.sourceHeightPixels+", sourceWidthPixels="+_s.sourceWidthPixels}var _s=this;_s==STAT_INIT&&(StreamInfo.UNKNOWN=-1),_s==STAT_INIT&&(StreamInfo.AUDIO=0),_s==STAT_INIT&&(StreamInfo.VIDEO=1),_s==STAT_INIT&&(StreamInfo.TEXT=2),_s==STAT_INIT&&(StreamInfo.RESOURCE=3),_s==STAT_INIT&&(StreamInfo.UNKNOWN_RESOURCE=""),_s==STAT_INIT&&(StreamInfo.MAX_BITRATE=2147483647),_s!=STAT_INIT&&(_s.__auto_type=void 0),defGet(_s,"type",__get_type),defGet(_s,"type",__get_type),defSet(_s,"type",__set_type),defSet(_s,"type",__set_type),_s!=STAT_INIT&&(_s.__auto_sourceHeightPixels=void 0),defGet(_s,"sourceHeightPixels",__get_sourceHeightPixels),defGet(_s,"sourceHeightPixels",__get_sourceHeightPixels),defSet(_s,"sourceHeightPixels",__set_sourceHeightPixels),defSet(_s,"sourceHeightPixels",__set_sourceHeightPixels),_s!=STAT_INIT&&(_s.__auto_sourceWidthPixels=void 0),defGet(_s,"sourceWidthPixels",__get_sourceWidthPixels),defGet(_s,"sourceWidthPixels",__get_sourceWidthPixels),defSet(_s,"sourceWidthPixels",__set_sourceWidthPixels),defSet(_s,"sourceWidthPixels",__set_sourceWidthPixels),_s!=STAT_INIT&&(_s.__auto_bitrateKbps=void 0),defGet(_s,"bitrateKbps",__get_bitrateKbps),defGet(_s,"bitrateKbps",__get_bitrateKbps),defSet(_s,"bitrateKbps",__set_bitrateKbps),defSet(_s,"bitrateKbps",__set_bitrateKbps),_s!=STAT_INIT&&(_s.__auto_resource=void 0),defGet(_s,"resource",__get_resource),defGet(_s,"resource",__get_resource),defSet(_s,"resource",__set_resource),defSet(_s,"resource",__set_resource),_s!=STAT_INIT&&(_s.__auto_cdnName=void 0),defGet(_s,"cdnName",__get_cdnName),defGet(_s,"cdnName",__get_cdnName),defSet(_s,"cdnName",__set_cdnName),defSet(_s,"cdnName",__set_cdnName),defPubMeth(_s,"GetBitrateKbps",__GetBitrateKbps),defPubMeth(_s,"GetBitrateKbps",__GetBitrateKbps),defPubMeth(_s,"GetCdnName",__GetCdnName),defPubMeth(_s,"GetCdnName",__GetCdnName),defPubMeth(_s,"GetResource",__GetResource),defPubMeth(_s,"GetResource",__GetResource),defPubMeth(_s,"equals",__equals),defPubMeth(_s,"equals",__equals),defStatMeth(_s,StreamInfo,"ConstructClone",__ConstructClone),defStatMeth(_s,StreamInfo,"ConstructClone",__ConstructClone),defPubMeth(_s,"ToStr",__ToStr),defPubMeth(_s,"ToStr",__ToStr),defStatMeth(_s,StreamInfo,"AUDIO",StreamInfo.AUDIO),defStatMeth(_s,StreamInfo,"MAX_BITRATE",StreamInfo.MAX_BITRATE),defStatMeth(_s,StreamInfo,"RESOURCE",StreamInfo.RESOURCE),defStatMeth(_s,StreamInfo,"TEXT",StreamInfo.TEXT),defStatMeth(_s,StreamInfo,"UNKNOWN",StreamInfo.UNKNOWN),defStatMeth(_s,StreamInfo,"UNKNOWN_RESOURCE",StreamInfo.UNKNOWN_RESOURCE),defStatMeth(_s,StreamInfo,"VIDEO",StreamInfo.VIDEO),_s!=STAT_INIT&&_constr.apply(_s,arguments)}function StreamSwitch(){function __MakeSwitch(source,target,status){return new StreamSwitch(StreamSwitch.GetNextId(!1),source,target,(-1),null,status)}function __MakeSwitchToStream(target,status){return new StreamSwitch(StreamSwitch.GetNextId(!1),null,target,(-1),null,status)}function __Cleanup(){}function __get_id(){return _s.__auto_id}function __set_id(value){_s.__auto_id=value}function __get_timeoutMs(){return _s.__auto_timeoutMs}function __set_timeoutMs(value){_s.__auto_timeoutMs=value}function __get_sourceStream(){return _s.__auto_sourceStream}function __set_sourceStream(value){_s.__auto_sourceStream=value}function __get_targetStream(){return _s.__auto_targetStream}function __set_targetStream(value){_s.__auto_targetStream=value}function __get_mode(){return _s.__auto_mode}function __set_mode(value){_s.__auto_mode=value}function __get_status(){return _s.__auto_status}function __set_status(value){_s.__auto_status=value}function _constr(id,sourceStream,targetStream,timeoutMs,mode,status){_s.id=id,_s.sourceStream=sourceStream,_s.targetStream=targetStream,_s.timeoutMs=timeoutMs,_s.mode=mode,_s.status=status}function __CheckValidity(){if(null==_s.id)return"StreamSwitch.id is null (and must be non-null)";if(null!=_s.id&&"string"!=typeof _s.id)return"StreamSwitch.id is not a string";if(null!=_s.timeoutMs&&"number"!=typeof _s.timeoutMs)return"StreamSwitch.timeoutMs is not an int";if(null!=_s.mode&&"string"!=typeof _s.mode)return"StreamSwitch.mode is not a string";if(null!=_s.status&&"string"!=typeof _s.status)return"StreamSwitch.status is not a string";if(!(null==_s.sourceStream||_s.sourceStream instanceof CandidateStream))return"StreamSwitch.sourceStream is not a CandidateStream";if(null!=_s.targetStream&&!(_s.targetStream instanceof CandidateStream))return"StreamSwitch.targetStream is not a CandidateStream";var sourceStreamError=null!=_s.sourceStream?_s.sourceStream.CheckValidity():null;if(null!=sourceStreamError)return sourceStreamError;var targetStreamError=null!=_s.targetStream?_s.targetStream.CheckValidity():null;return null!=targetStreamError?targetStreamError:null}function __ConstructClone(fromObj){var res=new StreamSwitch(null,null,null,(-1),"","");return res.id=NativeLang.GetStringField("id",fromObj),res.sourceStream=CandidateStream.ConstructClone(NativeLang.GetField("sourceStream",fromObj)),res.targetStream=CandidateStream.ConstructClone(NativeLang.GetField("targetStream",fromObj)),res.timeoutMs=slint.Cast(NativeLang.GetField("timeoutMs",fromObj)),res.mode=NativeLang.GetStringField("mode",fromObj),res.status=NativeLang.GetStringField("status",fromObj),res}function __StaticInit(){StreamSwitch._nextId=0}function __StaticCleanup(){StreamSwitch._nextId=0}function __GetNextId(useInternalNamespace){var id=StreamSwitch._nextId;return StreamSwitch._nextId+=1,useInternalNamespace?"c3."+Lang.ToString(id):Lang.ToString(id)}var _s=this;_s==STAT_INIT&&(StreamSwitch._nextId=0),_s==STAT_INIT&&(StreamSwitch.PENDING="PENDING"),_s==STAT_INIT&&(StreamSwitch.IN_PROGRESS="IN_PROGRESS"),_s==STAT_INIT&&(StreamSwitch.SUCCEEDED="SUCCEEDED"),_s==STAT_INIT&&(StreamSwitch.FAILED="FAILED"),_s==STAT_INIT&&(StreamSwitch.INTERRUPTED="INTERRUPTED"),defStatMeth(_s,StreamSwitch,"MakeSwitch",__MakeSwitch),defStatMeth(_s,StreamSwitch,"MakeSwitch",__MakeSwitch),defStatMeth(_s,StreamSwitch,"MakeSwitchToStream",__MakeSwitchToStream),defStatMeth(_s,StreamSwitch,"MakeSwitchToStream",__MakeSwitchToStream),defPubMeth(_s,"Cleanup",__Cleanup),defPubMeth(_s,"Cleanup",__Cleanup),_s!=STAT_INIT&&(_s.__auto_id=void 0),defGet(_s,"id",__get_id),defGet(_s,"id",__get_id),defSet(_s,"id",__set_id),defSet(_s,"id",__set_id),_s!=STAT_INIT&&(_s.__auto_timeoutMs=void 0),defGet(_s,"timeoutMs",__get_timeoutMs),defGet(_s,"timeoutMs",__get_timeoutMs),defSet(_s,"timeoutMs",__set_timeoutMs),defSet(_s,"timeoutMs",__set_timeoutMs),_s!=STAT_INIT&&(_s.__auto_sourceStream=void 0),defGet(_s,"sourceStream",__get_sourceStream),defGet(_s,"sourceStream",__get_sourceStream),defSet(_s,"sourceStream",__set_sourceStream),defSet(_s,"sourceStream",__set_sourceStream),_s!=STAT_INIT&&(_s.__auto_targetStream=void 0),defGet(_s,"targetStream",__get_targetStream),defGet(_s,"targetStream",__get_targetStream),defSet(_s,"targetStream",__set_targetStream),defSet(_s,"targetStream",__set_targetStream),_s!=STAT_INIT&&(_s.__auto_mode=void 0),defGet(_s,"mode",__get_mode),defGet(_s,"mode",__get_mode),defSet(_s,"mode",__set_mode),defSet(_s,"mode",__set_mode),_s!=STAT_INIT&&(_s.__auto_status=void 0),defGet(_s,"status",__get_status),defGet(_s,"status",__get_status),defSet(_s,"status",__set_status),defSet(_s,"status",__set_status),defPubMeth(_s,"CheckValidity",__CheckValidity),defPubMeth(_s,"CheckValidity",__CheckValidity),defStatMeth(_s,StreamSwitch,"ConstructClone",__ConstructClone),defStatMeth(_s,StreamSwitch,"ConstructClone",__ConstructClone),defStatMeth(_s,StreamSwitch,"StaticInit",__StaticInit),defStatMeth(_s,StreamSwitch,"StaticInit",__StaticInit),defStatMeth(_s,StreamSwitch,"StaticCleanup",__StaticCleanup),defStatMeth(_s,StreamSwitch,"StaticCleanup",__StaticCleanup),defStatMeth(_s,StreamSwitch,"GetNextId",__GetNextId),defStatMeth(_s,StreamSwitch,"GetNextId",__GetNextId),defStatMeth(_s,StreamSwitch,"FAILED",StreamSwitch.FAILED),defStatMeth(_s,StreamSwitch,"INTERRUPTED",StreamSwitch.INTERRUPTED),defStatMeth(_s,StreamSwitch,"IN_PROGRESS",StreamSwitch.IN_PROGRESS),defStatMeth(_s,StreamSwitch,"PENDING",StreamSwitch.PENDING),defStatMeth(_s,StreamSwitch,"SUCCEEDED",StreamSwitch.SUCCEEDED),_s!=STAT_INIT&&_constr.apply(_s,arguments)}function StreamerError(){function __get_errorCode(){return _s.__auto_errorCode}function __set_errorCode(value){_s.__auto_errorCode=value}function __get_severity(){return _s.__auto_severity}function __set_severity(value){_s.__auto_severity=value}function __get_stream(){return _s.__auto_stream}function __set_stream(value){_s.__auto_stream=value}function __get_index(){return _s.__auto_index}function __set_index(value){_s.__auto_index=value}function __get_scope(){return _s.__auto_scope}function __set_scope(value){_s.__auto_scope=value}function __makeUnscopedError(errorCode,severity){return new StreamerError(errorCode,null,(-1),severity,StreamerError.ERROR_SCOPE_UNKNOWN)}function __makeStreamError(errCode,severity,stream){return new StreamerError(errCode,stream,(-1),severity,StreamerError.ERROR_SCOPE_STREAM)}function __makeResourceError(errCode,severity,stream){return new StreamerError(errCode,stream,(-1),severity,StreamerError.ERROR_SCOPE_RESOURCE)}function __makeStreamSegmentError(errCode,severity,stream,idx){return new StreamerError(errCode,stream,idx,severity,StreamerError.ERROR_SCOPE_STREAM_SEGMENT)}function _constr(_errorCode,_stream,_index,_severity,_scope){_s.errorCode=_errorCode,_s.stream=_stream,_s.index=_index,_s.severity=_severity,_s.scope=_scope}function __ConstructClone(fromObj){if(null==fromObj)return null;var res=new StreamerError("",null,0,0,0);return res.errorCode=NativeLang.GetStringField("errorCode",fromObj),res.severity=slint.Cast(NativeLang.GetField("severity",fromObj)),res.stream=StreamInfo.ConstructClone(NativeLang.GetField("stream",fromObj)),res.scope=slint.Cast(NativeLang.GetField("scope",fromObj)),res.index=slint.Cast(NativeLang.GetField("index",fromObj)),res}function __ToStr(){return"errorCode="+(null!=_s.errorCode?_s.errorCode:"null")+", index="+_s.index+", severity="+_s.severity+", scope="+_s.scope+", stream=("+_s.stream.ToStr()+")"}var _s=this;_s==STAT_INIT&&(StreamerError.ERROR_SCOPE_UNKNOWN=0),_s==STAT_INIT&&(StreamerError.ERROR_SCOPE_STREAM_SEGMENT=1),_s==STAT_INIT&&(StreamerError.ERROR_SCOPE_STREAM=2),_s==STAT_INIT&&(StreamerError.ERROR_SCOPE_RESOURCE=3),_s==STAT_INIT&&(StreamerError.SEVERITY_WARNING=0),_s==STAT_INIT&&(StreamerError.SEVERITY_FATAL=1),_s!=STAT_INIT&&(_s.__auto_errorCode=void 0),defGet(_s,"errorCode",__get_errorCode),defGet(_s,"errorCode",__get_errorCode),defSet(_s,"errorCode",__set_errorCode),defSet(_s,"errorCode",__set_errorCode),_s!=STAT_INIT&&(_s.__auto_severity=void 0),defGet(_s,"severity",__get_severity),defGet(_s,"severity",__get_severity),defSet(_s,"severity",__set_severity),defSet(_s,"severity",__set_severity),_s!=STAT_INIT&&(_s.__auto_stream=void 0),defGet(_s,"stream",__get_stream),defGet(_s,"stream",__get_stream),defSet(_s,"stream",__set_stream),defSet(_s,"stream",__set_stream),_s!=STAT_INIT&&(_s.__auto_index=void 0),defGet(_s,"index",__get_index),defGet(_s,"index",__get_index),defSet(_s,"index",__set_index),defSet(_s,"index",__set_index),_s!=STAT_INIT&&(_s.__auto_scope=void 0),defGet(_s,"scope",__get_scope),defGet(_s,"scope",__get_scope),defSet(_s,"scope",__set_scope),defSet(_s,"scope",__set_scope),defStatMeth(_s,StreamerError,"makeUnscopedError",__makeUnscopedError),defStatMeth(_s,StreamerError,"makeUnscopedError",__makeUnscopedError),defStatMeth(_s,StreamerError,"makeStreamError",__makeStreamError),defStatMeth(_s,StreamerError,"makeStreamError",__makeStreamError),defStatMeth(_s,StreamerError,"makeResourceError",__makeResourceError),defStatMeth(_s,StreamerError,"makeResourceError",__makeResourceError),defStatMeth(_s,StreamerError,"makeStreamSegmentError",__makeStreamSegmentError),defStatMeth(_s,StreamerError,"makeStreamSegmentError",__makeStreamSegmentError),defStatMeth(_s,StreamerError,"ConstructClone",__ConstructClone),defStatMeth(_s,StreamerError,"ConstructClone",__ConstructClone),defPubMeth(_s,"ToStr",__ToStr),defPubMeth(_s,"ToStr",__ToStr),_s!=STAT_INIT&&_constr.apply(_s,arguments)}function Monitor(){function _constr(streamer,eventQueue,contentInfo,options,sessionId){_s._eventQueue=eventQueue,_s._utils=Utils.getInstance(),_s._contentInfo=contentInfo,_s._sessionId=sessionId,_s._nextHeartbeat=new DictionaryCS,_s._streamerObject=streamer,_s._startTimeMs=0,_s._lastStateUpdateTimeMs=0,_s._pauseJoinTimeStartTimeMs=0,_s._pauseJointTimeTotalMs=0,_s._cumulativeTimePerState=new DictionaryCS;for(var _for_array_1=PlayerStates.stateToInt.KeyValuePairs,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var statePair=_for_array_1[_for_idx_2];_s._cumulativeTimePerState.SetValue(statePair.Value,0)}if(_s._joinTimeMs=-1,_s._bufferingEventCount=0,_s._nominalPlayingBitsTotal=0,_s._encodedFps=-1,_s._contentLengthSec=-1,_s._playingFpsObservationCount=0,_s._playingFpsTotal=0,null!=options){var optionsDict=Lang.DictionaryFromRepr(options);optionsDict.ContainsKey(LivePass.OPTION_EXTERNAL_BITRATE_REPORTING)&&(_s._externalBitrateReporting=optionsDict.GetValue(LivePass.OPTION_EXTERNAL_BITRATE_REPORTING))}}function __start(nowMs){_s._startTimeMs=nowMs,_s._lastStateUpdateTimeMs=nowMs,_s.buildInitialStreamInfo(),_s.attachStreamer(_s._streamerObject),_s._streamerObject=null}function __attachStreamer(streamerObject){return _s._utils.logSession("Monitor.attachStreamer()",_s._sessionId),null!=_s._streamer?void _s._utils.logSession("Monitor.attachStreamer(): detach current streamer first",_s._sessionId):null==streamerObject?(_s._utils.logSession("Monitor.attachStreamer(): received a null streamer",_s._sessionId),void _s.SetPlayingState(ConvivaStreamerProxy.NOT_MONITORED)):(_s._streamer=Monitor.wrapInConvivaStreamerProxy(streamerObject,_s._sessionId),_s._sessionFlags=_s._streamer.GetCapabilities(),_s._externalBitrateReporting&&(_s._sessionFlags|=ConvivaStreamerProxy.CAPABILITY_BITRATE_EXTERNAL),_s.SetPlayingState(ConvivaStreamerProxy.UNKNOWN),_s._streamer.SetMonitoringNotifier(_s.notificationFromStreamerProxy),void(_s._lastStateUpdateTimeMs=_s._utils.epochTimeMs()))}function __detachStreamer(){_s._utils.logSession("Monitor.detachStreamer()",_s._sessionId),_s.updateMetrics(),null!=_s._streamer&&(_s._streamer.Cleanup(),_s.SetPlayingState(ConvivaStreamerProxy.NOT_MONITORED),_s._streamer=null)}function __pauseJoinTime(){if(_s._utils.logSession("Monitor.pauseJoinTime()",_s._sessionId),0==_s._pauseJoinTimeStartTimeMs){_s._pauseJoinTimeStartTimeMs=_s._utils.epochTimeMs();var newState=new DictionaryCS,oldState=new DictionaryCS;newState.SetValue("pj",!0),oldState.SetValue("pj",!1),_s.declareStateChange(newState,oldState)}}function __resumeJoinTime(addEvent){if(_s._utils.logSession("Monitor.resumeJoinTime()",_s._sessionId),_s._pauseJoinTimeStartTimeMs>0&&(_s._pauseJointTimeTotalMs+=_s._utils.epochTimeMs()-_s._pauseJoinTimeStartTimeMs,addEvent)){var newState=new DictionaryCS,oldState=new DictionaryCS;newState.SetValue("pj",!1),oldState.SetValue("pj",!0),_s.declareStateChange(newState,oldState)}_s._pauseJoinTimeStartTimeMs=0}function __get_streamer(){return _s._streamer}function __buildInitialStreamInfo(){var initialBitrateKbps=-1,initialResource=null,initialCdnName=ConvivaContentInfo.CDN_NAME_OTHER;null!=_s._contentInfo&&(initialCdnName=_s._contentInfo.defaultReportingCdnName,initialResource=null==_s._contentInfo.defaultReportingResource||_s._contentInfo.defaultReportingResource==ConvivaContentInfo.NO_RESOURCE?initialCdnName:_s._contentInfo.defaultReportingResource,initialBitrateKbps=_s._contentInfo.defaultReportingBitrateKbps),_s._streamInfo=new StreamInfo(initialBitrateKbps,initialCdnName,initialResource,(-1),(-1),(-1))}function __notificationFromStreamerProxy(notificationName,arg){_s._utils.runProtected(function(){switch(notificationName){case"PlayingStateChange":var newState=arg;_s.OnPlayingStateChange(newState);break;case"StreamInfoChange":var newInfo=arg;_s.SetStream(newInfo);break;case"ErrorChange":var newError=arg;_s.OnError(newError);break;case"MetadataChange":_s.OnMetadata(arg);break;case"Log":var logMsg=arg;_s._utils.logSession(logMsg,_s._sessionId)}},"notificationFromStreamerProxy")}function __OnPlayingStateChange(newPlayingState){if(_s.updateStateCumulativeTime(),_s._playingState!=newPlayingState){var hasJoined=_s._joinTimeMs>=0,newState=new DictionaryCS,oldState=new DictionaryCS;newState.SetValue("ps",PlayerStates.stringToInt(newPlayingState)),oldState.SetValue("ps",PlayerStates.stringToInt(_s._playingState)),hasJoined||newPlayingState!=ConvivaStreamerProxy.PLAYING||(_s._cumulativeTimePerState.SetValue(PlayerStates.eBuffering,0),_s._pauseJoinTimeStartTimeMs>0&&(_s.resumeJoinTime(!1),newState.SetValue("pj",!1),oldState.SetValue("pj",!0)),_s._joinTimeMs=slint.Cast(_s._utils.epochTimeMs()-_s._startTimeMs-_s._pauseJointTimeTotalMs),_s._joinTimeMs<0&&(_s._joinTimeMs=0)),hasJoined&&newPlayingState==ConvivaStreamerProxy.BUFFERING&&_s._bufferingEventCount++,_s._utils.logSession("Monitor: change playing state to "+newPlayingState,_s._sessionId),_s._playingState=newPlayingState,_s.declareStateChange(newState,oldState)}}function __SetPlayingState(newState){_s._playingState!=newState&&_s.OnPlayingStateChange(newState)}function __SetStream(targetStream){null!=targetStream&&(null!=_s._streamer&&(targetStream.bitrateKbps==_s._streamer.GetBitrateKbps()&&(targetStream.bitrateKbps=-2),targetStream.cdnName==_s._streamer.GetCdnName()&&(targetStream.cdnName=null),targetStream.resource==_s._streamer.GetResource()&&(targetStream.resource=null)),null==targetStream.resource&&null!=targetStream.cdnName&&_s._streamInfo.cdnName==_s._streamInfo.resource&&(targetStream.resource=targetStream.cdnName),!_s._externalBitrateReporting&&targetStream.bitrateKbps<=-2&&(targetStream.bitrateKbps=_s._streamInfo.bitrateKbps),null==targetStream.cdnName&&(targetStream.cdnName=_s._streamInfo.cdnName),null!=targetStream.resource&&targetStream.resource!=ConvivaContentInfo.NO_RESOURCE||(targetStream.resource=_s._streamInfo.resource),_s._streamInfo.equals(targetStream)||(_s.updateStateCumulativeTime(),_s.enqueueStreamChangeEvent(_s._streamInfo,targetStream),_s._streamInfo=targetStream))}function __setBitrate(newBitrateKbps){if(_s._externalBitrateReporting){var newStream=StreamInfo.ConstructClone(_s._streamInfo);newStream.bitrateKbps=newBitrateKbps,_s.SetStream(newStream)}else _s._utils.logSession("setBitrate() call ignored, enable external bitrate reporting first.",_s._sessionId)}function __OnError(e){_s.declareError(e.errorCode,e.severity==StreamerError.SEVERITY_FATAL)}function __OnMetadata(metadata){var metadataDict=Lang.DictionaryFromRepr(metadata);metadataDict.ContainsKey(ConvivaStreamerProxy.METADATA_ENCODED_FRAMERATE)&&(_s._encodedFps=slint.Cast(_s._utils.parseNumber(metadataDict.GetValue(ConvivaStreamerProxy.METADATA_ENCODED_FRAMERATE),-1)),_s._utils.logSession("Monitor: received "+ConvivaStreamerProxy.METADATA_ENCODED_FRAMERATE+" metadata: "+_s._encodedFps,_s._sessionId)),metadataDict.ContainsKey(ConvivaStreamerProxy.METADATA_DURATION)&&(_s._contentLengthSec=slint.Cast(_s._utils.parseNumber(metadataDict.GetValue(ConvivaStreamerProxy.METADATA_DURATION),-1)),_s._utils.logSession("Monitor: received "+ConvivaStreamerProxy.METADATA_DURATION+" metadata: "+_s._contentLengthSec,_s._sessionId))}function __updateHeartbeat(heartbeat){_s.updateMetrics();var playingTime=_s._cumulativeTimePerState.GetValue(PlayerStates.ePlaying),hasJoined=_s._joinTimeMs>=0,bufferingTime=0;hasJoined&&(bufferingTime=_s._cumulativeTimePerState.GetValue(PlayerStates.eBuffering));var averageBitrateKbps=-1;hasJoined&&(averageBitrateKbps=slint.Cast((_s._nominalPlayingBitsTotal+0)/playingTime));var averageFps=-1;_s._playingFpsObservationCount>0&&(averageFps=slint.Cast((_s._playingFpsTotal+0)/_s._playingFpsObservationCount)),NativeLang.setDictValue(heartbeat,"ps",PlayerStates.stringToInt(_s._playingState)),NativeLang.setDictValue(heartbeat,"pj",_s._pauseJoinTimeStartTimeMs>0),NativeLang.setDictValue(heartbeat,"sf",_s._sessionFlags),NativeLang.setDictValue(heartbeat,"tpt",playingTime),NativeLang.setDictValue(heartbeat,"tbt",bufferingTime),NativeLang.setDictValue(heartbeat,"tpst",_s._cumulativeTimePerState.GetValue(PlayerStates.ePaused)),NativeLang.setDictValue(heartbeat,"tst",_s._cumulativeTimePerState.GetValue(PlayerStates.eStopped)),NativeLang.setDictValue(heartbeat,"jt",_s._joinTimeMs),NativeLang.setDictValue(heartbeat,"tbe",_s._bufferingEventCount),_s._contentLengthSec>0&&NativeLang.setDictValue(heartbeat,"cl",_s._contentLengthSec),_s._streamInfo.GetBitrateKbps()>0&&(NativeLang.setDictValue(heartbeat,"cbr",_s._streamInfo.GetBitrateKbps()),NativeLang.setDictValue(heartbeat,"br",_s._streamInfo.GetBitrateKbps())),averageBitrateKbps>0&&NativeLang.setDictValue(heartbeat,"abr",averageBitrateKbps),NativeLang.setDictValue(heartbeat,"rs",_s._streamInfo.GetResource()),NativeLang.setDictValue(heartbeat,"cdn",_s._streamInfo.GetCdnName()),_s._encodedFps>=0&&NativeLang.setDictValue(heartbeat,"efps",_s._encodedFps),averageFps>=0&&NativeLang.setDictValue(heartbeat,"afps",averageFps)}function __cleanup(){null!=_s._streamer&&_s._streamer.Cleanup(),_s._streamer=null,_s._streamerObject=null,_s._eventQueue=null,_s._contentInfo=null,_s._nextHeartbeat=null,_s._streamInfo=null,_s._cumulativeTimePerState=null,_s._utils=null}function __updateMetrics(){if(null!=_s._streamer){if(_s._playingState==ConvivaStreamerProxy.PLAYING){var fps=_s._streamer.GetRenderedFrameRate();fps>=0&&(_s._playingFpsTotal+=fps,_s._playingFpsObservationCount++)}_s.updateStateCumulativeTime()}}function __enqueueEvent(type,eventData){_s._eventQueue.enqueueEvent(type,eventData,slint.Cast(_s._utils.epochTimeMs()-_s._startTimeMs))}function __enqueueStreamChangeEvent(oldStream,newStream){var newState=new DictionaryCS,oldState=new DictionaryCS;oldStream.GetBitrateKbps()!=newStream.GetBitrateKbps()&&newStream.GetBitrateKbps()>0&&(oldState.SetValue("br",oldStream.GetBitrateKbps()),newState.SetValue("br",newStream.GetBitrateKbps()),_s._utils.logSession("Monitor: change bitrate from "+oldState.GetValue("br")+" to "+newState.GetValue("br"),_s._sessionId)),oldStream.GetCdnName()!=newStream.GetCdnName()&&(oldState.SetValue("cdn",oldStream.GetCdnName()),newState.SetValue("cdn",newStream.GetCdnName()),_s._utils.logSession("Monitor: change cdnName from "+oldState.GetValue("cdn")+" to "+newState.GetValue("cdn"),_s._sessionId)),oldStream.GetResource()!=newStream.GetResource()&&(oldState.SetValue("rs",oldStream.GetResource()),newState.SetValue("rs",newStream.GetResource()),_s._utils.logSession("Monitor: change resource from "+oldState.GetValue("rs")+" to "+newState.GetValue("rs"),_s._sessionId)),_s.declareStateChange(newState,oldState)}function __updateStateCumulativeTime(){var now=_s._utils.epochTimeMs(),playingStateInt=PlayerStates.stringToInt(_s._playingState);if(_s._playingState!=ConvivaStreamerProxy.UNKNOWN){var delta=slint.Cast(now-_s._lastStateUpdateTimeMs);_s._cumulativeTimePerState.SetValue(playingStateInt,_s._cumulativeTimePerState.GetValue(playingStateInt)+delta);var bitrateKbps=_s._streamInfo.GetBitrateKbps();_s._playingState==ConvivaStreamerProxy.PLAYING&&bitrateKbps!=-1&&(_s._nominalPlayingBitsTotal+=delta*bitrateKbps)}_s._lastStateUpdateTimeMs=now;
}function __declareError(errorMsg,isFatal){_s._joinTimeMs<0&&isFatal&&(_s._joinTimeMs=-2);var data=new DictionaryCS;data.SetValue("ft",isFatal),data.SetValue("err",errorMsg),_s.enqueueEvent("CwsErrorEvent",data)}function __declareStateChange(newState,oldState){var newStateNative=Lang.StringDictionaryToRepr(newState),oldStateNative=Lang.StringDictionaryToRepr(oldState),data=new DictionaryCS;data.SetValue("new",newStateNative),null!=oldState&&data.SetValue("old",oldStateNative),_s.enqueueEvent("CwsStateChangeEvent",data)}function __wrapInConvivaStreamerProxy(streamer,sessionId){var realSamsungStreamerProxy=null;try{streamer.getAttribute&&streamer.getAttribute("classid").indexOf("clsid:SAMSUNG-INFOLINK")>=0&&(realSamsungStreamerProxy=new SamsungStreamerProxy(streamer),realSamsungStreamerProxy.startMonitoring())}catch(e){}return realSamsungStreamerProxy?realSamsungStreamerProxy:streamer.hasOwnProperty("getStreamerType")&&"Samsung"==streamer.getStreamerType()?SamsungStreamerProxy.createSamsungStreamerProxy(streamer):void 0!==streamer.setQosData&&void 0!==streamer.licenseResponse?new PlayStationTouchFactorStreamerProxy:void 0!==streamer.codecs&&void 0!==streamer.maxBufferLength?new PlayStationLibjscriptStreamerProxy:void 0!==streamer.textTrackDisplay&&void 0!==streamer.mediaLoader?new ConvivaVideojsStreamerProxy(streamer):void 0!==streamer.networkState&&void 0!==streamer.readyState?new Html5ConvivaStreamerProxy(streamer):void 0!==streamer.currentPTS&&void 0!==streamer.availableAudioStreams?new PlayStationTrilithiumStreamerProxy(streamer):void 0!==streamer.mediaElementAdapter?new Xbox1ConvivaStreamerProxy(streamer):void 0!==streamer.MbId&&void 0!==streamer.blockedParams?new ConvivaOoyalaStreamerProxy(streamer):void 0!==streamer.mb&&void 0!==streamer.mb.MbId&&void 0!==streamer.mb.blockedParams?new ConvivaOoyalaStreamerProxy(streamer.mb):streamer}var _s=this;_s!=STAT_INIT&&(_s._sessionId=0),_s!=STAT_INIT&&(_s._externalBitrateReporting=!1),_s!=STAT_INIT&&(_s._streamer=null),_s!=STAT_INIT&&(_s._streamerObject=null),_s!=STAT_INIT&&(_s._eventQueue=null),_s!=STAT_INIT&&(_s._contentInfo=null),_s!=STAT_INIT&&(_s._nextHeartbeat=null),_s!=STAT_INIT&&(_s._utils=null),_s!=STAT_INIT&&(_s._playingState=ConvivaStreamerProxy.UNKNOWN),_s!=STAT_INIT&&(_s._streamInfo=null),_s!=STAT_INIT&&(_s._sessionFlags=1),_s!=STAT_INIT&&(_s._startTimeMs=0),_s!=STAT_INIT&&(_s._lastStateUpdateTimeMs=0),_s!=STAT_INIT&&(_s._pauseJoinTimeStartTimeMs=0),_s!=STAT_INIT&&(_s._pauseJointTimeTotalMs=0),_s!=STAT_INIT&&(_s._cumulativeTimePerState=null),_s!=STAT_INIT&&(_s._joinTimeMs=-1),_s!=STAT_INIT&&(_s._bufferingEventCount=0),_s!=STAT_INIT&&(_s._nominalPlayingBitsTotal=0),_s!=STAT_INIT&&(_s._encodedFps=-1),_s!=STAT_INIT&&(_s._contentLengthSec=-1),_s!=STAT_INIT&&(_s._playingFpsObservationCount=0),_s!=STAT_INIT&&(_s._playingFpsTotal=0),defPubMeth(_s,"start",__start),defPubMeth(_s,"attachStreamer",__attachStreamer),defPubMeth(_s,"detachStreamer",__detachStreamer),defPubMeth(_s,"pauseJoinTime",__pauseJoinTime),defPubMeth(_s,"resumeJoinTime",__resumeJoinTime),defGet(_s,"streamer",__get_streamer),defPrivMeth(_s,"buildInitialStreamInfo",__buildInitialStreamInfo),defPrivMeth(_s,"notificationFromStreamerProxy",__notificationFromStreamerProxy),defPrivMeth(_s,"OnPlayingStateChange",__OnPlayingStateChange),defPrivMeth(_s,"SetPlayingState",__SetPlayingState),defPubMeth(_s,"SetStream",__SetStream),defPubMeth(_s,"setBitrate",__setBitrate),defPubMeth(_s,"OnError",__OnError),defPrivMeth(_s,"OnMetadata",__OnMetadata),defPubMeth(_s,"updateHeartbeat",__updateHeartbeat),defPubMeth(_s,"cleanup",__cleanup),defPrivMeth(_s,"updateMetrics",__updateMetrics),defPrivMeth(_s,"enqueueEvent",__enqueueEvent),defPrivMeth(_s,"enqueueStreamChangeEvent",__enqueueStreamChangeEvent),defPrivMeth(_s,"updateStateCumulativeTime",__updateStateCumulativeTime),defPrivMeth(_s,"declareError",__declareError),defPrivMeth(_s,"declareStateChange",__declareStateChange),defStatMeth(_s,Monitor,"wrapInConvivaStreamerProxy",__wrapInConvivaStreamerProxy),_s!=STAT_INIT&&_constr.apply(_s,arguments)}function EventQueue(){function _constr(){_s._events=NativeLang.makeList()}function __enqueueEvent(type,data,timeSinceSessionStart){data.SetValue("t",type),data.SetValue("st",timeSinceSessionStart),data.SetValue("seq",_s._nextSeqNumber),_s._nextSeqNumber++,NativeLang.addListValue(_s._events,Lang.StringDictionaryToRepr(data))}function __flushEvents(){var currentEvents=_s._events;return _s._events=NativeLang.makeList(),currentEvents}var _s=this;_s!=STAT_INIT&&(_s._events=null),_s!=STAT_INIT&&(_s._nextSeqNumber=0),defPubMeth(_s,"enqueueEvent",__enqueueEvent),defPubMeth(_s,"flushEvents",__flushEvents),_s!=STAT_INIT&&_constr.apply(_s,arguments)}function Session(){function _constr(streamer,contentInfo,options,global){_s._contentInfo=contentInfo,_s._utils=Utils.getInstance(),_s._settings=_s._utils.getSettings(),_s._sessionId=_s._utils.randInt();for(var langTags=Lang.DictionaryFromRepr(_s._contentInfo.tags),keysToCorrect=new ListCS,_for_array_1=langTags.Keys,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var tkey=_for_array_1[_for_idx_2];null==langTags.GetValue(tkey)&&keysToCorrect.Add(tkey)}for(var _for_array_3=keysToCorrect.Values,_for_idx_4=0;_for_idx_4<_for_array_3.length;_for_idx_4++){var tkey1=_for_array_3[_for_idx_4];_s.log("WARNING: correcting null value for tag "+tkey1),NativeLang.setDictValue(_s._contentInfo.tags,tkey1,"null")}_s._nativeReprTags=Lang.StringDictionaryToRepr(_s._contentInfo.tags),_s._eventQueue=new EventQueue,global||(_s._monitor=new Monitor(streamer,_s._eventQueue,_s._contentInfo,options,_s._sessionId))}function __start(){null!=_s._monitor&&_s.log("Session.start(): assetName="+_s._contentInfo.assetName),_s._startTimeMs=_s._utils.epochTimeMs(),null!=_s._monitor&&_s._monitor.start(_s._startTimeMs),_s._heartbeatSequenceNumber=0,null==_s._utils.clientIdLoadingDone?_s.sendHeartbeat():(_s._clientIdWaiter=_s.onClientIdLoaded,_s._utils.clientIdLoadingDone.AddHandler(_s._clientIdWaiter)),_s._heartbeatTimer=null,_s.resetHeartbeatTimer()}function __cleanup(){_s.log("Session.cleanup()"+_s.sessionTypeTag()),null!=_s._heartbeatTimer&&_s._heartbeatTimer.cleanup(),_s._heartbeatTimer=null,_s._utils.logSession("Schedule the last hb before session cleanup"+_s.sessionTypeTag(),_s._sessionId),null!=_s._monitor&&_s.enqueueSessionEndEvent();var urgentHb=_s.makeHeartbeat();null!=urgentHb?_s.encodeAndPostHeartbeat(urgentHb,function(){_s.cleanupAll()}):_s.cleanupAll()}function __enqueueSessionEndEvent(){var eventData=new DictionaryCS;_s._eventQueue.enqueueEvent("CwsSessionEndEvent",eventData,slint.Cast(_s._utils.epochTimeMs()-_s._startTimeMs))}function __pauseJoinTime(){null!=_s._monitor&&_s._monitor.pauseJoinTime()}function __resumeJoinTime(){null!=_s._monitor&&_s._monitor.resumeJoinTime(!0)}function __adStart(){_s.pauseJoinTime()}function __adEnd(){_s.resumeJoinTime()}function __detachStreamer(){_s._monitor.detachStreamer()}function __attachStreamer(streamer){_s._monitor.attachStreamer(streamer)}function __resetHeartbeatTimer(){null!=_s._heartbeatTimer&&_s._heartbeatTimer.cleanup(),_s._heartbeatTimer=_s._utils.createTimer(_s.sendHeartbeat,_s._settings.heartbeatIntervalMs,"sendHeartbeat")}function __cleanupAll(){null!=_s._clientIdWaiter&&(_s._utils.clientIdLoadingDone.DeleteHandler(_s._clientIdWaiter),_s._clientIdWaiter=null),null!=_s._monitor&&(_s._monitor.cleanup(),_s._monitor=null),null!=_s._encodeHeartbeatTimer&&(_s._encodeHeartbeatTimer.cleanup(),_s._encodeHeartbeatTimer=null),null!=_s._eventQueue&&(_s._eventQueue.flushEvents(),_s._eventQueue=null),_s._contentInfo=null,_s._nativeReprTags=null,_s._settings=null,_s._utils=null}function __log(message){_s._utils.logSession(message,_s._sessionId)}function __reportError(err){_s.log("Session.reportError()"),null!=_s._monitor&&_s._monitor.OnError(err)}function __setBitrate(bitrateKbps){_s.log("Session.setBitrate(): bitrateKbps="+bitrateKbps),null!=_s._monitor&&_s._monitor.setBitrate(bitrateKbps)}function __setCurrentStreamMetadata(metadata){_s.log("Session.setCurrentStreamMetadata()"),null!=_s._monitor&&null!=_s._monitor.streamer&&_s._monitor.streamer.SetMetadata(metadata)}function __setCdnNameOrResource(resource){if(_s.log("Session.setCdnNameOrResource()"),null!=_s._monitor){var newStream=new StreamInfo((-2),resource,resource,(-1),(-1),(-1));_s._monitor.SetStream(newStream)}}function __sendCustomEvent(name,eventAttrs){_s.log("Session.sendEvent(): eventName="+name+_s.sessionTypeTag());var eventData=new DictionaryCS;eventData.SetValue("name",name);var eventAttrsNative=Lang.StringDictionaryToRepr(eventAttrs);eventData.SetValue("attr",eventAttrsNative),_s._eventQueue.enqueueEvent("CwsCustomEvent",eventData,slint.Cast(_s._utils.epochTimeMs()-_s._startTimeMs))}function __sendHeartbeat(){var heartbeat=null;null!=_s._encodeHeartbeatTimer&&_s._encodeHeartbeatTimer.cleanup(),_s._encodeHeartbeatTimer=_s._utils.scheduleAction(function(){heartbeat=_s.makeHeartbeat(),null!=heartbeat&&(_s._encodeHeartbeatTimer=_s._utils.scheduleAction(function(){_s.encodeAndPostHeartbeat(heartbeat,null),_s._encodeHeartbeatTimer=null},1,"encodeAndSendHeartbeat"))},1,"makeHeartbeat")}function __makeHeartbeat(){var heartbeat={};NativeLang.setDictValue(heartbeat,"t","CwsSessionHb"),NativeLang.setDictValue(heartbeat,"cid",_s._settings.customerKey),NativeLang.setDictValue(heartbeat,"clid",_s._utils.clientId),NativeLang.setDictValue(heartbeat,"sid",_s._sessionId),NativeLang.setDictValue(heartbeat,"seq",_s._heartbeatSequenceNumber),NativeLang.setDictValue(heartbeat,"pver",_s._settings.protocolVersion),NativeLang.setDictValue(heartbeat,"clv",_s._settings.clientVersion),NativeLang.setDictValue(heartbeat,"iid",_s._settings.clientInstanceId);var platformMetadata=Lang.StringDictionaryToRepr(_s._settings.platformApi.getPlatformMetadata());null!=platformMetadata&&NativeLang.setDictValue(heartbeat,"pm",platformMetadata),null!=_s._utils.device&&NativeLang.setDictValue(heartbeat,"dv",_s._utils.device),null!=_s._utils.deviceVersion&&NativeLang.setDictValue(heartbeat,"dvv",_s._utils.deviceVersion),null!=_s._utils.deviceType?NativeLang.setDictValue(heartbeat,"dvt",_s._utils.deviceType):null!=_s._contentInfo.deviceType&&NativeLang.setDictValue(heartbeat,"dvt",_s._contentInfo.deviceType),null!=_s._utils.os&&NativeLang.setDictValue(heartbeat,"os",_s._utils.os),null!=_s._utils.osVersion&&NativeLang.setDictValue(heartbeat,"osv",_s._utils.osVersion),null!=_s._utils.platform&&NativeLang.setDictValue(heartbeat,"pt",_s._utils.platform),null!=_s._contentInfo.viewerId&&NativeLang.setDictValue(heartbeat,"vid",_s._contentInfo.viewerId),null!=_s._contentInfo.streamUrl&&NativeLang.setDictValue(heartbeat,"url",_s._contentInfo.streamUrl),null!=_s._contentInfo.playerName&&NativeLang.setDictValue(heartbeat,"pn",_s._contentInfo.playerName),NativeLang.setDictValue(heartbeat,"tags",_s._nativeReprTags),null!=_s._monitor?(NativeLang.setDictValue(heartbeat,"an",_s._contentInfo.assetName),NativeLang.setDictValue(heartbeat,"lv",_s._contentInfo.isLive),_s._monitor.updateHeartbeat(heartbeat)):NativeLang.setDictValue(heartbeat,"sf",0);var currentEvents=_s._eventQueue.flushEvents();if(NativeLang.setDictValue(heartbeat,"evs",currentEvents),null==_s._monitor&&0==NativeLang.listCount(currentEvents))return null;Session._sendLogs&&NativeLang.setDictValue(heartbeat,"lg",Lang.ListToRepr(_s._utils.getLogs(_s._sessionId)));var currentTime=_s._utils.epochTimeMs();return NativeLang.setDictValue(heartbeat,"st",slint.Cast(currentTime-_s._startTimeMs)),NativeLang.setDictValue(heartbeat,"cts",currentTime/1e3),_s._heartbeatSequenceNumber++,heartbeat}function __sessionTypeTag(){return null==_s._monitor?" (global session)":""}function __encodeAndPostHeartbeat(heartbeat,afterPostCbk){var jsonHeartbeat=_s._utils.jsonEncode(heartbeat),url=_s._settings.gatewayUrl+_s._settings.gatewayPath,contentType="application/json";_s.log("Send HB["+(_s._heartbeatSequenceNumber-1)+"]"+_s.sessionTypeTag()),_s._utils.httpRequest(!0,url,jsonHeartbeat,contentType,_s.onHeartbeatResponse),null!=afterPostCbk&&afterPostCbk()}function __onHeartbeatResponse(isSuccess,jsonResponse){null!=_s._utils&&_s._utils.runProtected(function(){if(isSuccess){var decodedResponse=_s._utils.jsonDecode(jsonResponse);if(null!=decodedResponse){decodedResponse.ContainsKey("clid")&&_s._utils.setClientIdFromServer(Lang.ToString(decodedResponse.GetValue("clid")),!1);var newSendLogs=decodedResponse.ContainsKey("slg")&&Boolean(decodedResponse.GetValue("slg"));if(newSendLogs!=Session._sendLogs&&(_s.log("Turning "+(newSendLogs?"on":"off")+" sending of logs"),Session._sendLogs=newSendLogs),decodedResponse.ContainsKey("hbi")){var heartbeatIntervalSec=slint.Cast(decodedResponse.GetValue("hbi"));1e3*heartbeatIntervalSec!=_s._settings.heartbeatIntervalMs&&(_s.log("Received hbInterval from server "+heartbeatIntervalSec),_s._settings.heartbeatIntervalMs=1e3*heartbeatIntervalSec,null!=_s._heartbeatTimer&&_s.resetHeartbeatTimer())}if(decodedResponse.ContainsKey("gw")){var gatewayUrl=decodedResponse.GetValue("gw");gatewayUrl!=_s._settings.gatewayUrl&&(_s.log("Received gatewayUrl from server "+gatewayUrl),_s._settings.gatewayUrl=gatewayUrl)}}else _s.log("Decoded heartbeat response is null.")}else _s.log("Received no response (or a bad response) to heartbeat POST request.")},"onHeartbeatResponse")}function __onClientIdLoaded(){_s._utils.clientIdLoadingDone.DeleteHandler(_s._clientIdWaiter),_s._clientIdWaiter=null,_s.sendHeartbeat()}function __initialResourceBitrateSelection(){_s._monitor.streamer;throw new Error("Not implemented")}function __midStreamResourceBitrateSelection(switchTriggers){throw new Error("Not implemented")}var _s=this;_s!=STAT_INIT&&(_s._contentInfo=null),_s!=STAT_INIT&&(_s._nativeReprTags=null),_s!=STAT_INIT&&(_s._utils=null),_s!=STAT_INIT&&(_s._settings=null),_s!=STAT_INIT&&(_s._monitor=null),_s!=STAT_INIT&&(_s._eventQueue=null),_s!=STAT_INIT&&(_s._clientIdWaiter=null),_s!=STAT_INIT&&(_s._heartbeatTimer=null),_s!=STAT_INIT&&(_s._encodeHeartbeatTimer=null),_s==STAT_INIT&&(Session._sendLogs=!1),_s!=STAT_INIT&&(_s._sessionId=0),_s!=STAT_INIT&&(_s._startTimeMs=0),_s!=STAT_INIT&&(_s._heartbeatSequenceNumber=0),defPubMeth(_s,"start",__start),defPubMeth(_s,"cleanup",__cleanup),defPrivMeth(_s,"enqueueSessionEndEvent",__enqueueSessionEndEvent),defPubMeth(_s,"pauseJoinTime",__pauseJoinTime),defPubMeth(_s,"resumeJoinTime",__resumeJoinTime),defPubMeth(_s,"adStart",__adStart),defPubMeth(_s,"adEnd",__adEnd),defPubMeth(_s,"detachStreamer",__detachStreamer),defPubMeth(_s,"attachStreamer",__attachStreamer),defPrivMeth(_s,"resetHeartbeatTimer",__resetHeartbeatTimer),defPrivMeth(_s,"cleanupAll",__cleanupAll),defPrivMeth(_s,"log",__log),defPubMeth(_s,"reportError",__reportError),defPubMeth(_s,"setBitrate",__setBitrate),defPubMeth(_s,"setCurrentStreamMetadata",__setCurrentStreamMetadata),defPubMeth(_s,"setCdnNameOrResource",__setCdnNameOrResource),defPubMeth(_s,"sendCustomEvent",__sendCustomEvent),defPrivMeth(_s,"sendHeartbeat",__sendHeartbeat),defPrivMeth(_s,"makeHeartbeat",__makeHeartbeat),defPrivMeth(_s,"sessionTypeTag",__sessionTypeTag),defPrivMeth(_s,"encodeAndPostHeartbeat",__encodeAndPostHeartbeat),defPrivMeth(_s,"onHeartbeatResponse",__onHeartbeatResponse),defPrivMeth(_s,"onClientIdLoaded",__onClientIdLoaded),defPubMeth(_s,"initialResourceBitrateSelection",__initialResourceBitrateSelection),defPubMeth(_s,"midStreamResourceBitrateSelection",__midStreamResourceBitrateSelection),_s!=STAT_INIT&&_constr.apply(_s,arguments)}function SessionFactory(){function _constr(){_s._utils=Utils.getInstance(),_s._settings=_s._utils.getSettings(),_s._nextSessionId=0,_s._sessionsById=new DictionaryCS,_s.lastSessionId=0}function __cleanup(){if(_s._utils=null,_s._settings=null,null!=_s._sessionsById)for(var _for_array_1=_s._sessionsById.KeyValuePairs,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var sessionPair=_for_array_1[_for_idx_2],sess=sessionPair.Value;sess.cleanup()}_s._sessionsById=null,_s._nextSessionId=0}function __newSessionId(){var sessionId=_s._nextSessionId;return _s._nextSessionId++,sessionId}function __makeSession(streamer,contentInfo,options,sessionId,global){var session=new Session(streamer,contentInfo,options,global);return _s.addSession(sessionId,session),_s.lastSessionId=sessionId,session.start(),session}function __getSession(sessionId){return _s._sessionsById.ContainsKey(sessionId)?_s._sessionsById.GetValue(sessionId):(sessionId==-1?_s._utils.err("LivePass: invalid sessionId. LivePass not properly initialized yet?"):_s._utils.err("LivePass: invalid sessionId. Did you cleanup that session previously?"),null)}function __addSession(sessionId,session){_s._sessionsById.SetValue(sessionId,session)}function __removeSession(sessionId){_s._sessionsById.Remove(sessionId)}function __cleanupSession(sessionId){var session=_s.getSession(sessionId);null!=session&&(_s.removeSession(sessionId),session.cleanup())}var _s=this;_s!=STAT_INIT&&(_s.lastSessionId=0),_s!=STAT_INIT&&(_s._utils=null),_s!=STAT_INIT&&(_s._settings=null),_s!=STAT_INIT&&(_s._nextSessionId=0),_s!=STAT_INIT&&(_s._sessionsById=null),defPubMeth(_s,"cleanup",__cleanup),defPubMeth(_s,"newSessionId",__newSessionId),defPubMeth(_s,"makeSession",__makeSession),defPubMeth(_s,"getSession",__getSession),defPubMeth(_s,"addSession",__addSession),defPubMeth(_s,"removeSession",__removeSession),defPubMeth(_s,"cleanupSession",__cleanupSession),_s!=STAT_INIT&&_constr.apply(_s,arguments)}function ArrayCS(){function _constr(size){void 0==size&&(size=0),_s.arr=new Array(size)}function __Create(){for(var res=new ArrayCS,l=[],i=0;i<arguments.length;i++)l.push(arguments[i]);return res.arr=l,res}function __FromRepr(a){if(null==a)return null;var res=new ArrayCS;return res.arr=a,res}function __ToRepr(){return _s.arr}function __Length(){return _s.arr.length}function __GetValue(idx){if(idx>=_s.arr.length)throw new Error("Index out of bounds: "+idx+" (length "+_s.arr.length+")");if(idx<0)throw new Error("Index out of bounds: "+idx);return _s.arr[idx]}function __SetValue(idx,v){if(idx>=_s.arr.length)throw new Error("Index out of bounds: "+idx+" (length "+_s.arr.length+")");if(idx<0)throw new Error("Index out of bounds: "+idx);_s.arr[idx]=v}function __Values(){return _s.arr}var _s=this;_s!=STAT_INIT&&(_s.arr=void 0),defStatMeth(_s,ArrayCS,"Create",__Create),defStatMeth(_s,ArrayCS,"FromRepr",__FromRepr),defPubMeth(_s,"ToRepr",__ToRepr),defGet(_s,"Length",__Length),defPubMeth(_s,"GetValue",__GetValue),defPubMeth(_s,"SetValue",__SetValue),defGet(_s,"Values",__Values),_s!=STAT_INIT&&_constr.apply(this,arguments)}function Cleanable(){function _constr(cleanupCollection){_s._cleanupCollection=cleanupCollection,_s._id=Cleanable._nextCleanupId,Cleanable._nextCleanupId++,_s._cleanupCollection.SetValue(_s._id,_s)}function __setCleanupAction(cleanupAction){_s._cleanupAction=cleanupAction}function __cleanup(){null!=_s._cleanupAction&&_s._cleanupAction(),_s._cleanupCollection.Remove(_s._id)}function __cleanupCollection(collection){Utils.getInstance().log("cleanupCollection");for(var toClean=new ListCS,_for_array_1=collection.Values,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var o=_for_array_1[_for_idx_2];toClean.Add(o)}for(var _for_array_3=toClean.Values,_for_idx_4=0;_for_idx_4<_for_array_3.length;_for_idx_4++){var o=_for_array_3[_for_idx_4];o.cleanup()}collection.Clear()}var _s=this;_s!=STAT_INIT&&(_s._cleanupAction=null),_s==STAT_INIT&&(Cleanable._nextCleanupId=0),_s!=STAT_INIT&&(_s._id=0),_s!=STAT_INIT&&(_s._cleanupCollection=null),defPubMeth(_s,"setCleanupAction",__setCleanupAction),defPubMeth(_s,"cleanup",__cleanup),defStatMeth(_s,Cleanable,"cleanupCollection",__cleanupCollection),_s!=STAT_INIT&&_constr.apply(_s,arguments)}function DictionaryCS(){function _constr(size){_s.obj={}}function __FromRepr(o){if(null==o)return null;if(o instanceof DictionaryCS)return o;o.hasOwnProperty("ToObject")&&(o=o.ToObject());var res=new DictionaryCS;return slForEachProp(o,function(k){res.obj[k]=o[k]}),res}function __ToObject(){return _s.obj}function __Create(){for(var res=new DictionaryCS,i=0;i+1<arguments.length;i+=2)res.obj[arguments[i]]=arguments[i+1];return res}function __CopyToObject(obj){slForEachProp(_s.obj,function(k){obj[k]=_s.obj[k]})}function __GetValue(key){return _s.obj[key]}function __SetValue(key,v){_s.obj[key]=v}function __Clear(){slForEachProp(_s.obj,function(p){delete _s.obj[p]})}function __ContainsKey(key){return void 0!==_s.obj[key]}function __Contains(key){return ContainsKey(key)}function __Keys(){var res=new Array;return slForEachProp(_s.obj,function(p){res.push(p)}),res}function __Values(){var res=new Array;return slForEachProp(_s.obj,function(p){res.push(_s.obj[p])}),res}function __KeyValuePairs(){var res=new Array;return slForEachProp(_s.obj,function(p){res.push(new KeyValuePairCS(p,_s.obj[p]))}),res}function __Count(){var res=0;return slForEachProp(_s.obj,function(p){res++}),res}function __Remove(key){return!!_s.ContainsKey(key)&&(delete _s.obj[key],!0)}var _s=this;_s!=STAT_INIT&&(_s.obj=void 0),defStatMeth(_s,DictionaryCS,"FromRepr",__FromRepr),defPubMeth(_s,"ToObject",__ToObject),defStatMeth(_s,DictionaryCS,"Create",__Create),defPubMeth(_s,"CopyToObject",__CopyToObject),defPubMeth(_s,"GetValue",__GetValue),defPubMeth(_s,"SetValue",__SetValue),defPubMeth(_s,"Clear",__Clear),defPubMeth(_s,"ContainsKey",__ContainsKey),defPubMeth(_s,"Contains",__Contains),defGet(_s,"Keys",__Keys),defGet(_s,"Values",__Values),defGet(_s,"KeyValuePairs",__KeyValuePairs),defGet(_s,"Count",__Count),defPubMeth(_s,"Add",__SetValue),defPubMeth(_s,"Remove",__Remove),_s!=STAT_INIT&&_constr.apply(this,arguments)}function Eventer(){function _constr(){_s._handlers=new ListCS}function __Cleanup(){_s._handlers=new ListCS}function __AddHandler(handler){_s._handlers.Add(handler)}function __DeleteHandler(handler){_s._handlers.Remove(handler)}function __DispatchEvent(){for(var _for_array_1=_s._handlers.Values,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var h=_for_array_1[_for_idx_2];h()}}var _s=this;_s!=STAT_INIT&&(_s._handlers=void 0),defPubMeth(_s,"Cleanup",__Cleanup),defPubMeth(_s,"AddHandler",__AddHandler),defPubMeth(_s,"DeleteHandler",__DeleteHandler),defPubMeth(_s,"DispatchEvent",__DispatchEvent),_s!=STAT_INIT&&_constr.apply(_s,arguments)}function KeyValuePairCS(){function _constr(key,val){_s.key=key,_s.val=val}function __Key(){return _s.key}function __Value(){return _s.val}var _s=this;_s!=STAT_INIT&&(_s.key=void 0),_s!=STAT_INIT&&(_s.val=void 0),defGet(_s,"Key",__Key),defGet(_s,"Value",__Value),_s!=STAT_INIT&&_constr.apply(this,arguments)}function Lang(){Lang.StringIndexOf=function(s1,s2){return s1.indexOf(s2)},Lang.StringStartsWith=function(s1,s2){return 0==s1.indexOf(s2)},Lang.StringContains=function(s1,s2){return 0<=s1.indexOf(s2)},Lang.StringGetChar=function(s,where){if(where<0||where>=s.length)throw new Error("ArgumentOutOfRange");return s[where]},Lang.StringSubstring=function(str,startIndex,count){if(startIndex<0||startIndex>=str.length||void 0!=count&&(count<0||startIndex+count>str.length))throw new Error("ArgumentOutOfRange");return void 0==count?str.substr(startIndex):str.substr(startIndex,count)},Lang.StringSplit=function(s1,sep){var res=s1.split(sep);return ArrayCS.FromRepr(res)},Lang.StringEnumerator=function(s){return s.split("")},Lang.StringCompareTo=function(str1,str2){return null==str1?null==str2?0:-1:null==str2?1:str1<str2?-1:str1==str2?0:1},Lang.StringTrim=function(s){return s.replace(/^\s*/,"").replace(/\s*$/,"")},Lang.StringReplace=function(str1,strsearch,strreplace){if(null==strsearch||""==strsearch||null==strreplace)throw new Error("InvalidArgument");var searchIdx=str1.indexOf(strsearch);if(searchIdx>=0){var searchLen=strsearch.length;return str1.substr(0,searchIdx)+strreplace+Lang.StringReplace(str1.substr(searchIdx+searchLen),strsearch,strreplace)}return str1},Lang.StringLastIndexOf=function(str1,strsearch){if(null==strsearch||""==strsearch)throw new Error("InvalidArgument");return str1.lastIndexOf(strsearch)},Lang.ListFromRepr=function(a){return ListCS.FromRepr(a)},Lang.ArrayFromRepr=function(repr){return ArrayCS.FromRepr(repr)},Lang.ArrayToRepr=function(a){return null==a?null:a.ToRepr()},Lang.ListFromRepr=function(repr){return ListCS.FromRepr(repr)},Lang.ListToRepr=function(l){return null==l?null:l.ToRepr()},Lang.DictionaryFromRepr=function(repr){var tmp=DictionaryCS.FromRepr(repr);return tmp},Lang.StringDictionaryToRepr=function(dict){return null==dict?null:dict.hasOwnProperty("ToObject")?dict.ToObject():dict},Lang.DictionaryCopyToObject=function(dict,obj){null!=dict&&dict.CopyToObject(obj)},Lang.StringFromRepr=function(s){return s},Lang.StringToXml=function(str){try{if(window.DOMParser){var xmlobject=(new DOMParser).parseFromString(str,"text/xml");return xmlobject.documentElement}var xmlobject=new ActiveXObject("Microsoft.XMLDOM");return xmlobject.async="false",xmlobject.loadXML(str),xmlobject.documentElement}catch(e){return null}},Lang.XmlToString=function(oXML){try{return window.XMLSerializer?(new XMLSerializer).serializeToString(oXML):oXML.xml}catch(e){return null}},Lang.ToString=function(o){return null==o?null:"function"==typeof o.ToString?o.ToString():o.toString()},Lang.StringToLower=function(s){return s.toLowerCase()},Lang.StringToInt=function(s){return parseInt(s)},Lang.AsDouble=function(v){return v instanceof Int64?v.asNumber:v instanceof UInt64?v.asNumber:Number(v)},Lang.doubleRegex=new RegExp("^([+-]?[0-9]*\\.?[0-9]+)((e|E)[+-]?[0-9]+)?$"),Lang.parseDouble=function(v){return Lang.parseChecker(v,Lang.doubleRegex,"double"),parseFloat(v)},Lang.parseChecker=function(s,pattern,what){if(!pattern.test(s))throw new Error("Invalid string for "+what+": "+s)}}function ListCS(){function _constr(){arguments.length>1?Ping.Send("Error: Instantiate ListCS with too many arguments"):0==arguments.length?ArrayCS.call(_s,0):arguments[0]instanceof Number?ArrayCS.call(_s,arguments[0]):arguments[0]instanceof Array?(ArrayCS.call(_s,arguments[0].length),_s.arr=arguments[0]):arguments[0]instanceof ArrayCS?(ArrayCS.call(_s,arguments[0].length),_s.arr=arguments[0].arr):Ping.Send("Error: Instantiate ListCS with inappropriate arguments")}function __Create(a){for(var res=new ListCS,i=0;i<arguments.length;i++)res.arr.push(arguments[i]);return res}function __FromRepr(a){if(null==a)return a;if(a instanceof ListCS)return a;var res=new ListCS;return res.arr=a,res}function __ToRepr(){return _s.arr}function __Count(){return _s.arr.length}function __Values(){return _s.arr}function __Add(e){_s.arr.push(e)}function __Clear(e){_s.arr.length=0}function __IndexOf(e){var startIndex=arguments[1];if(null==startIndex)startIndex=0;else if(startIndex<0||startIndex>=_s.arr.length)throw new Error("Starting index out of bound");for(var i=startIndex;i<_s.arr.length;i++)if(_s.arr[i]==e)return i;return-1}function __Contains(e){return _s.IndexOf(e)>=0}function __Insert(idx,e){_s.arr.splice(idx,0,e)}function __Remove(e){var idx=_s.IndexOf(e);return!(idx<0)&&(_s.RemoveAt(idx),!0)}function __RemoveRange(where,count){_s.arr.splice(where,count)}function __RemoveAt(where){_s.arr.splice(where,1)}function __GetRange(startidx,len){var res=new ListCS;return res.arr=_s.arr.slice(startidx,startidx+len),res}function __Sort(){_s.arr.sort.apply(_s.arr,arguments)}function __ToArray(){return ArrayCS.FromRepr(_s.arr.slice())}var _s=this;_s!=STAT_INIT&&(_s.arr=void 0),defStatMeth(_s,ListCS,"Create",__Create),defStatMeth(_s,ListCS,"FromRepr",__FromRepr),defPubMeth(_s,"ToRepr",__ToRepr),defGet(_s,"Count",__Count),defGet(_s,"Values",__Values),defPubMeth(_s,"Add",__Add),defPubMeth(_s,"Clear",__Clear),defPubMeth(_s,"IndexOf",__IndexOf),defPubMeth(_s,"Contains",__Contains),defPubMeth(_s,"Insert",__Insert),defPubMeth(_s,"Remove",__Remove),defPubMeth(_s,"RemoveRange",__RemoveRange),defPubMeth(_s,"RemoveAt",__RemoveAt),defPubMeth(_s,"GetRange",__GetRange),defPubMeth(_s,"Sort",__Sort),defPubMeth(_s,"ToArray",__ToArray),_s!=STAT_INIT&&_constr.apply(this,arguments)}function NativeLang(){function __setDictValue(dict,key,value){dict[key]=value}function __makeList(){return[]}function __listCount(lst){return lst.length}function __addListValue(list,value){list.push(value)}function __removeListValueAt(list,idx){list.splice(idx,1)}function __GetField(propName,obj){return obj[propName]}function __GetStringField(propName,obj){var o=NativeLang.GetField(propName,obj);return o?o.toString():null}var _s=this;defStatMeth(_s,NativeLang,"setDictValue",__setDictValue),defStatMeth(_s,NativeLang,"makeList",__makeList),defStatMeth(_s,NativeLang,"listCount",__listCount),defStatMeth(_s,NativeLang,"addListValue",__addListValue),defStatMeth(_s,NativeLang,"removeListValueAt",__removeListValueAt),defStatMeth(_s,NativeLang,"GetField",__GetField),defStatMeth(_s,NativeLang,"GetStringField",__GetStringField)}function Settings(){function __changeSettings(settings){if(null!=settings)for(var sobj=Lang.DictionaryFromRepr(settings),_for_array_1=sobj.Keys,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var key=_for_array_1[_for_idx_2],v=sobj.GetValue(key);switch(key){case"platformApi":_s.platformApi=v;break;case"gatewayUrl":_s.gatewayUrl=sobj.GetValue(key);break;case"heartbeatIntervalMs":_s.heartbeatIntervalMs=slint.Cast(sobj.GetValue(key));break;case"enableLogging":_s.enableLogging=Boolean(sobj.GetValue(key));break;case"allowUncaughtExceptions":_s.allowUncaughtExceptions=Boolean(sobj.GetValue(key));break;default:throw new Error("Unsupported settings: "+key)}}}var _s=this;_s!=STAT_INIT&&(_s.heartbeatIntervalMs=2e4),_s!=STAT_INIT&&(_s.customerKey=null),_s!=STAT_INIT&&(_s.gatewayUrl="https://cws.conviva.com"),_s!=STAT_INIT&&(_s.gatewayPath="/0/wsg"),_s!=STAT_INIT&&(_s.protocolVersion="1.7"),_s!=STAT_INIT&&(_s.clientVersion="2.111.0.30375"),_s!=STAT_INIT&&(_s.clientInstanceId=0),_s!=STAT_INIT&&(_s.loadDataTimeoutMs=1e4),_s!=STAT_INIT&&(_s.enableLogging=!1),_s!=STAT_INIT&&(_s.platformApi=null),_s!=STAT_INIT&&(_s.allowUncaughtExceptions=!1),_s!=STAT_INIT&&(_s.pingComponentName="jscws"),_s!=STAT_INIT&&(_s.pingUrl="https://pings.conviva.com/ping.ping"),defPubMeth(_s,"changeSettings",__changeSettings)}function Utils(){function _constr(settings){if(_s._settings=settings,_s._referenceCount=1,_s._pingUrl=null,_s._isSendingPing=!1,_s.protocolVersion=_s._settings.protocolVersion,_s._cleanables=new DictionaryCS,null==_s._settings.platformApi&&("undefined"!=typeof PlayStationWebmafApi?_s._settings.platformApi=new PlayStationWebmafApi:"undefined"!=typeof PlayStationTouchFactorApi?_s._settings.platformApi=new PlayStationTouchFactorApi:"undefined"!=typeof PlayStationLibjscriptApi?_s._settings.platformApi=new PlayStationLibjscriptApi:"undefined"!=typeof ConvivaVideojsPlatformApi?_s._settings.platformApi=new ConvivaVideojsPlatformApi:"undefined"!=typeof Html5PlatformApi?_s._settings.platformApi=new Html5PlatformApi:"undefined"!=typeof PlayStationTrilithiumApi?_s._settings.platformApi=new PlayStationTrilithiumApi:"undefined"!=typeof Xbox1PlatformApi&&(_s._settings.platformApi=new Xbox1PlatformApi)),null==_s._settings.platformApi)throw new Error("PlatformApi is null");_s.device=_s._settings.platformApi.getDevice(),_s.deviceVersion=_s._settings.platformApi.getDeviceVersion(),_s.deviceType=_s._settings.platformApi.getDeviceType(),_s.os=_s._settings.platformApi.getOS(),_s.osVersion=_s._settings.platformApi.getOSVersion(),_s.platform="Js"}function __CreateUtils(settings){if(null==Utils._instance){var s=new Settings;s.changeSettings(settings),Utils._instance=new Utils(s),Utils._instance._start()}else Utils._instance.getSettings().changeSettings(settings),Utils._instance._referenceCount++;return Utils._instance}function __getInstance(){if(null==Utils._instance)throw new Error("CreateUtils module has not been called");return Utils._instance}function __getPlatformApi(){return _s._settings.platformApi}function __getSettings(){return _s._settings}function ___start(){}function __cleanup(){_s._referenceCount--,_s._referenceCount>0||(null!=_s.clientIdLoadingDone&&(_s.clientIdLoadingDone.Cleanup(),
_s.clientIdLoadingDone=null),null!=_s._cleanables&&(Cleanable.cleanupCollection(_s._cleanables),_s._cleanables=null),null!=_s._settings&&null!=_s._settings.platformApi&&_s._settings.platformApi.cleanup(),_s._settings=null,Utils._instance=null)}function __logNoBuffer(msg){var timeMsec=_s.epochTimeMs(),theTime=void 0;theTime=(timeMsec/1e3).toFixed(3).toString(),msg="["+theTime+"] "+msg;var isError=Lang.StringContains(msg,"ERROR:");return _s._settings.enableLogging&&(isError?_s._settings.platformApi.consoleErr(msg):_s._settings.platformApi.consoleLog(msg)),msg}function __log(msg){msg=_s.logNoBuffer(msg),Utils.logBuffer.Count>=Utils.MAX_SIZE_LOGBUFFER&&Utils.logBuffer.RemoveAt(0),Utils.logBuffer.Add(msg)}function __logSession(msg,sessionId){_s.log("sid="+sessionId+" "+msg)}function __err(message){_s.log("ERROR: "+message)}function __getLogs(sessionId){var res=Utils.logBuffer;return Utils.logBuffer=new ListCS,res}function __assert(condition,msg){if(!condition)throw new Error("Assertion failure: "+msg)}function __runProtected(func,message){_s.runProtectedSync(func,message)}function __runProtectedSync(func,message){var allowUncaughtExceptions=_s._settings.allowUncaughtExceptions;if(allowUncaughtExceptions)func();else try{func()}catch(e){_s.onUncaughtException(message,e)}}function __onUncaughtException(msg,e){try{_s.ping("Uncaught exception: "+msg+": "+Lang.ToString(e))}catch(eping){_s.err("Caught exception while sending ping: "+Lang.ToString(eping))}}function __ping(msg){if(!_s._isSendingPing){_s._isSendingPing=!0,_s.initPing();var pingUrl=_s._pingUrl+"&d="+_s.urlEncodeString(Lang.ToString(msg));_s.err("Ping: "+pingUrl),_s.httpRequest(!1,pingUrl,null,null,null),_s._isSendingPing=!1}}function __initPing(){if(!_s._cachedPingUrl){var componentName="jscws",metadataSchema=null;try{var platformMetadata=Lang.DictionaryFromRepr(_s._settings.platformApi.getPlatformMetadata());null!=platformMetadata&&platformMetadata.ContainsKey("sch")&&(metadataSchema=platformMetadata.GetValue("sch"))}catch(e){}_s._pingUrl=_s._settings.pingUrl+"?comp="+componentName+"&clv="+_s._settings.clientVersion+"&cid="+_s._settings.customerKey+"&uuid="+_s.clientId,null!=metadataSchema&&(_s._pingUrl+="&sch="+metadataSchema),_s.clientId!=Utils.DEFAULT_CLIENT_ID&&null!=metadataSchema&&(_s._cachedPingUrl=!0)}}function __urlEncodeString(rawString){return escape(rawString)}function __epochTimeMs(){return _s._settings.platformApi.epochTimeMs()}function __createTimer(timerAction,intervalMs,actionName){var cleanable=new Cleanable(_s._cleanables),wrappedAction=null;return wrappedAction=function(){_s.runProtected(timerAction,actionName)},cleanable.setCleanupAction(_s._settings.platformApi.createTimer(wrappedAction,intervalMs,actionName)),cleanable}function __scheduleAction(action,delayMs,actionName){var cleanable=new Cleanable(_s._cleanables),actionHappened=!1,wrappedAction=null;return wrappedAction=function(){null!=cleanable&&cleanable.cleanup(),action(),actionHappened=!0},cleanable.setCleanupAction(_s._settings.platformApi.createTimer(wrappedAction,delayMs,actionName)),actionHappened&&cleanable.cleanup(),cleanable}function __parseInt(decimalInt,defaultResult){var result=defaultResult;try{result=slint.Parse(decimalInt)}catch(e){}return result}function __parseNumber(numberStr,defaultResult){var result=defaultResult;try{result=Lang.parseDouble(numberStr)}catch(e){}return result}function __startFetchClientId(){_s.clientId=Utils.DEFAULT_CLIENT_ID,_s.clientIdLoadingDone=new Eventer,_s._loadClientIdTimeout=_s.scheduleAction(function(){_s.log("Timeout in reading clientId. Using "+Utils.DEFAULT_CLIENT_ID+"."),_s.ping("Timeout in reading clientId. IGNORE waited "+_s._settings.loadDataTimeoutMs+"ms."),null!=_s.clientIdLoadingDone&&_s.clientIdLoadingDone.DispatchEvent(),_s._loadClientIdTimeout=null},_s._settings.loadDataTimeoutMs,"utils.readClientId timeout callback");var onLoad=void 0;onLoad=function(fSuccess,loadedData){_s.runProtected(function(){null!=_s._loadClientIdTimeout&&(_s._loadClientIdTimeout.cleanup(),_s._loadClientIdTimeout=null);var result=null;if(fSuccess)try{result=_s.jsonDecode(loadedData)}catch(e){result=null}var loadedClientId=null;fSuccess&&null!=result&&result.ContainsKey("clId")&&(loadedClientId=result.GetValue("clId")),null!=loadedClientId&&loadedClientId!=Utils.DEFAULT_CLIENT_ID&&"null"!=loadedClientId?(_s.clientId=loadedClientId,_s.log("Setting the client id to "+loadedClientId+" (from local storage)")):_s.log("Failed to load the client id from local storage"),null!=_s.clientIdLoadingDone&&(_s.clientIdLoadingDone.DispatchEvent(),_s.clientIdLoadingDone=null)},"utils.fetchClientId onLoad")},_s._settings.platformApi.loadLocalData(onLoad)}function __setClientIdFromServer(newClientId,fromStorage){null!=_s._loadClientIdTimeout&&(_s._loadClientIdTimeout.cleanup(),_s._loadClientIdTimeout=null),_s.clientIdLoadingDone=null,_s.clientId!=newClientId&&(_s.clientId=newClientId,_s.log("Setting the client id to "+newClientId+" (from server)"),_s.writeClientId())}function __writeClientId(){var dataToSave=new DictionaryCS;dataToSave.SetValue("clId",_s.clientId);var onSaved=void 0;onSaved=function(fSuccess){_s.runProtected(function(){fSuccess||_s.err("An error occurred while saving the clientId.")},"utils.writeClientId onSaved")};var dataObject=Lang.StringDictionaryToRepr(dataToSave),dataStr=_s.jsonEncode(dataObject);_s._settings.platformApi.saveLocalData(dataStr,onSaved)}function __randInt(){return Math.floor(4294967295*Math.random())-2147483648}function __randUInt(){var uInt=_s.randInt();return uInt=Math.abs(uInt),uInt<0&&(uInt=0),uInt}function __httpRequest(isPOST,url,data,contentType,callback){var cleanable=new Cleanable(_s._cleanables);return cleanable.setCleanupAction(_s._settings.platformApi.httpRequest(isPOST,url,data,contentType,function(isSuccess,response){cleanable.cleanup(),null!=callback&&callback(isSuccess,response)})),cleanable}function __jsonEncode(obj){var res=null;return _s.runProtectedSync(function(){res=_s._settings.platformApi.jsonEncode(obj)},"utils.jsonEncode"),res}function __jsonDecode(json){var res=null;return _s.runProtectedSync(function(){var decodedJson=_s._settings.platformApi.jsonDecode(json);res=Lang.DictionaryFromRepr(decodedJson)},"utils.jsonDecode"),res}var _s=this;_s==STAT_INIT&&(Utils._instance=null),_s!=STAT_INIT&&(_s._referenceCount=0),_s!=STAT_INIT&&(_s._settings=null),_s==STAT_INIT&&(Utils.DEFAULT_CLIENT_ID="0"),_s!=STAT_INIT&&(_s._loadClientIdTimeout=null),_s!=STAT_INIT&&(_s.clientId=Utils.DEFAULT_CLIENT_ID),_s!=STAT_INIT&&(_s.clientIdLoadingDone=null),_s!=STAT_INIT&&(_s._pingUrl=null),_s!=STAT_INIT&&(_s._cachedPingUrl=!1),_s!=STAT_INIT&&(_s._isSendingPing=!1),_s!=STAT_INIT&&(_s.protocolVersion=null),_s!=STAT_INIT&&(_s.device=null),_s!=STAT_INIT&&(_s.os=null),_s!=STAT_INIT&&(_s.osVersion=null),_s!=STAT_INIT&&(_s.deviceVersion=null),_s!=STAT_INIT&&(_s.deviceType=null),_s!=STAT_INIT&&(_s.platform=null),_s!=STAT_INIT&&(_s._cleanables=null),_s==STAT_INIT&&(Utils.MAX_SIZE_LOGBUFFER=32),_s==STAT_INIT&&(Utils.logBuffer=new ListCS),defStatMeth(_s,Utils,"CreateUtils",__CreateUtils),defStatMeth(_s,Utils,"getInstance",__getInstance),defPubMeth(_s,"getPlatformApi",__getPlatformApi),defPubMeth(_s,"getSettings",__getSettings),defPrivMeth(_s,"_start",___start),defPubMeth(_s,"cleanup",__cleanup),defPubMeth(_s,"logNoBuffer",__logNoBuffer),defPubMeth(_s,"log",__log),defPubMeth(_s,"logSession",__logSession),defPubMeth(_s,"err",__err),defPubMeth(_s,"getLogs",__getLogs),defPubMeth(_s,"assert",__assert),defPubMeth(_s,"runProtected",__runProtected),defPubMeth(_s,"runProtectedSync",__runProtectedSync),defPrivMeth(_s,"onUncaughtException",__onUncaughtException),defPubMeth(_s,"ping",__ping),defPrivMeth(_s,"initPing",__initPing),defPrivMeth(_s,"urlEncodeString",__urlEncodeString),defPubMeth(_s,"epochTimeMs",__epochTimeMs),defPubMeth(_s,"createTimer",__createTimer),defPubMeth(_s,"scheduleAction",__scheduleAction),defPubMeth(_s,"parseInt",__parseInt),defPubMeth(_s,"parseNumber",__parseNumber),defPubMeth(_s,"startFetchClientId",__startFetchClientId),defPubMeth(_s,"setClientIdFromServer",__setClientIdFromServer),defPrivMeth(_s,"writeClientId",__writeClientId),defPubMeth(_s,"randInt",__randInt),defPubMeth(_s,"randUInt",__randUInt),defPubMeth(_s,"httpRequest",__httpRequest),defPubMeth(_s,"jsonEncode",__jsonEncode),defPubMeth(_s,"jsonDecode",__jsonDecode),_s!=STAT_INIT&&_constr.apply(_s,arguments)}function DataLoader(){function _constr(){DataLoader.referenceCount++}function handleResp(e){try{var d=e.data;if("object"!==("undefined"==typeof d?"undefined":_typeof(d)))return;if("undefined"==typeof d.convivaRequestId){if("undefined"==typeof d.requestId)return;d.convivaRequestId=d.requestId}var domain_callback=DataLoader.callbacks[d.convivaRequestId];if(!domain_callback)return void Utils.getInstance().log("Received response for unknown request");if(!DataLoader.TESTAPI_forTouchstone&&e.origin!=domain_callback[0])return void Utils.getInstance().log("ERROR: Bad origin:"+e.origin);delete DataLoader.callbacks[d.convivaRequestId];var bytes=d.bytes;d.post_err&&"ok"==d.post_err?domain_callback[1](!0,bytes):(Utils.getInstance().log("ERROR: Error posting to "+e.origin+" ("+bytes+")"),domain_callback[1](!1,d.post_err))}catch(e){}}var _s=this;_s==STAT_INIT&&(DataLoader.frameId="conviva_iframe",DataLoader.frameUrl="/cws_iframe.html",DataLoader.TESTAPI_forTouchstone=!0,DataLoader.referenceCount=0,DataLoader.nextConvivaRequestId=0,DataLoader.callbacks={},DataLoader.communicationFramesIds={},"undefined"!=typeof window&&(window.addEventListener?window.addEventListener("message",handleResp,!1):window.attachEvent&&window.attachEvent("onmessage",handleResp))),this.cleanup=function(){DataLoader.referenceCount--,0==DataLoader.referenceCount&&(DataLoader.nextConvivaRequestId=0,DataLoader.callbacks={},slForEachPropValue(DataLoader.communicationFramesIds,function(communicationFrameId){_s.removeIFrame(communicationFrameId)}),DataLoader.communicationFramesIds={})},this.findFrameById=function(remoteFrameId){return remoteFrameId?document.getElementById(remoteFrameId):null},this.findFrameForDomain=function(forDomain){var remoteFrameId=DataLoader.communicationFramesIds[forDomain];return _s.findFrameById(remoteFrameId)},this.makeRequest=function(isPOST,url,data,contentType,callback){var m=url.match(/^(https?:\/\/[^\/]*)(\/.*)$/);if(!m)return Utils.getInstance().log("ERROR: UrlLoader: cannot parse url: "+url),null;var forDomain=m[1],remoteFrame=_s.findFrameForDomain(forDomain);if(remoteFrame&&remoteFrame.loaded){var convivaRequestId=DataLoader.nextConvivaRequestId++,method=isPOST?"POST":"GET",evt={url:url,method:method,data:data,contentType:contentType,requestId:convivaRequestId,convivaRequestId:convivaRequestId};DataLoader.callbacks[convivaRequestId]=[forDomain,callback],remoteFrame.contentWindow.postMessage(evt,DataLoader.TESTAPI_forTouchstone?"*":forDomain)}else remoteFrame&&!remoteFrame.loaded?setTimeout(function(){_s.makeRequest(isPOST,url,data,contentType,callback)},500):_s.insertIFrame(forDomain,function(){var remoteFrame=_s.findFrameForDomain(forDomain);remoteFrame&&(remoteFrame.loaded=!0,_s.makeRequest(isPOST,url,data,contentType,callback))});return null},this.insertIFrame=function(forDomain,callback){var remoteFrame=document.createElement("iframe");remoteFrame.id="_conviva_iframe_"+forDomain+"_"+DataLoader.frameId,remoteFrame.style.height="0px",remoteFrame.style.width="0px",remoteFrame.style.top="-50px",remoteFrame.style.left="-50px",remoteFrame.style.borderWidth="0px",remoteFrame.height=0,remoteFrame.width=0,remoteFrame.src=forDomain+DataLoader.frameUrl,remoteFrame.onload=callback,DataLoader.communicationFramesIds[forDomain]=remoteFrame.id;var body=document.body||document.getElementsByTagName("body")[0];body&&body.appendChild(remoteFrame)},this.removeIFrame=function(communicationFrameId){var remoteFrame=_s.findFrameById(communicationFrameId);if(null!=remoteFrame){var body=document.body||document.getElementsByTagName("body")[0];body.removeChild(remoteFrame)}},_s!=STAT_INIT&&_constr.apply(_s,arguments)}function Infer(){function _constr(){_s.Reset()}function __Update(phtNow){var now=Utils.getInstance().epochTimeMs();return _s._lastPollTime>0&&now>_s._lastPollTime&&_s._lastPlayHeadTimeSpeeds.Insert(0,Lang.AsDouble(phtNow-_s._lastPlayHeadTime)/(now-_s._lastPollTime)),_s._lastPollTime=now,_s._lastPlayHeadTime=Lang.AsDouble(phtNow),_s._lastPlayHeadTimeSpeeds.Count>Math.max(_s.movingMinimumSamples,_s.notMovingMinimumSamples)&&_s._lastPlayHeadTimeSpeeds.RemoveAt(_s._lastPlayHeadTimeSpeeds.Count-1),_s.InferState()}function __InferState(){var inferredState=null,numPhSpeedSamples=_s._lastPlayHeadTimeSpeeds.Count;if(numPhSpeedSamples>=Math.min(_s.movingMinimumSamples,_s.notMovingMinimumSamples)){for(var avgSpeed=0,_for_array_1=_s._lastPlayHeadTimeSpeeds.Values,_for_idx_2=0;_for_idx_2<_for_array_1.length;_for_idx_2++){var phSpeed=_for_array_1[_for_idx_2];avgSpeed+=phSpeed}avgSpeed/=numPhSpeedSamples,numPhSpeedSamples>=_s.movingMinimumSamples&&Math.abs(avgSpeed-_s.movingExpectedSpeed)<_s.movingSpeedTolerance&&(inferredState=Infer.MOVING_STATE),numPhSpeedSamples>=_s.notMovingMinimumSamples&&avgSpeed==_s.notMovingExpectedSpeed&&(inferredState=Infer.NOT_MOVING_STATE)}return _s.resetAfter&&null!=inferredState&&_s.Reset(),inferredState}function __Reset(){_s._lastPlayHeadTimeSpeeds=new ListCS,_s._lastPlayHeadTime=-1,_s._lastPollTime=0}var _s=this;_s==STAT_INIT&&(Infer.MOVING_STATE="MOVING"),_s==STAT_INIT&&(Infer.NOT_MOVING_STATE="NOT_MOVING"),_s!=STAT_INIT&&(_s.movingMinimumSamples=3),_s!=STAT_INIT&&(_s.notMovingMinimumSamples=3),_s!=STAT_INIT&&(_s.movingExpectedSpeed=1),_s!=STAT_INIT&&(_s.notMovingExpectedSpeed=0),_s!=STAT_INIT&&(_s.movingSpeedTolerance=.25),_s!=STAT_INIT&&(_s.resetAfter=!1),_s!=STAT_INIT&&(_s._lastPlayHeadTimeSpeeds=void 0),_s!=STAT_INIT&&(_s._lastPlayHeadTime=0),_s!=STAT_INIT&&(_s._lastPollTime=0),defPubMeth(_s,"Update",__Update),defPrivMeth(_s,"InferState",__InferState),defPubMeth(_s,"Reset",__Reset),_s!=STAT_INIT&&_constr.apply(_s,arguments)}function ConvivaVideojsStreamerProxy(){function _constr(vjsPlayer){ConvivaStreamerProxy.call(_s),_s.Log("ConvivaVideojsStreamerProxy._constr()"),_s._vjsPlayer=vjsPlayer,_s._infer=new Conviva.Infer,_s._setAllEventListeners(),_s._startPolling(),_s.firstPlay=!0,_s.tech=null;var requestTech=new Object;if(requestTech.IWillNotUseThisInPlugins=!0,_s.requestTech=requestTech,null!==(_s.tech=_s._vjsPlayer.tech(_s.requestTech)),_s.tech.hls){var bandW=Math.round(_s.tech.hls.bandwidth/1024),updatedStream=new StreamInfo(bandW,null,null,(-1),(-1),(-1));_s.SetStream(updatedStream)}}function __Cleanup(){_s.Log("ConvivaVideojsStreamerProxy.Cleanup()"),_s.Log("ConvivaVideojsStreamer: leave the inference in..."),_s.Log("ConvivaVideojsStreamer: leave the event listeners and player in..."),_s._duration=-1,_s.super_Cleanup()}function __GetCapabilities(){return _s._capabilities}var _s=this;_s!=STAT_INIT&&(_s._capabilities=ConvivaStreamerProxy.CAPABILITY_VIDEO+ConvivaStreamerProxy.CAPABILITY_QUALITY_METRICS+ConvivaStreamerProxy.CAPABILITY_BITRATE_METRICS,_s._duration=-1),defPubMeth(_s,"Cleanup",__Cleanup),defPubMeth(_s,"GetCapabilities",__GetCapabilities),this.GetDuration=function(){return _s._duration},this.GetBufferLengthMs=function(){return _s._bufferLengthMs},this.GetEncodedFrameRate=function(){return _s._encodedFrameRate},this.GetPlayheadTimeMs=function(){return _s._playheadTimeMs},this.SetDuration=function(duration){if(isFinite(duration)&&duration>0){var durationSec=duration;if(_s.GetDuration()!=durationSec){_s._duration=durationSec;var meta={};meta[ConvivaStreamerProxy.METADATA_DURATION]=_s._duration,_s.SetMetadata(meta)}}},this.SetPlayheadTimeMs=function(pht){if(isFinite(pht)&&pht>0){var phtMs=1e3*pht;_s.GetPlayheadTimeMs()!=phtMs&&(_s._playheadTimeMs=phtMs),_s.InferState()}},this.SetPlayerState=function(convivaState){_s.GetPlayingState()!==convivaState&&(_s.SetPlayingState(convivaState),_s._infer.Reset())},this.InferState=function(){if(_s._infer){var newState=_s._infer.Update(_s.GetPlayheadTimeMs());newState&&(newState===Conviva.Infer.MOVING_STATE&&_s.GetPlayingState()!==Conviva.ConvivaStreamerProxy.PLAYING&&(_s.Log("ConvivaVideojsStreamerProxy.InferState(): PLAYING"),_s.SetPlayerState(Conviva.ConvivaStreamerProxy.PLAYING)),newState===Conviva.Infer.NOT_MOVING_STATE&&_s.GetPlayingState()===Conviva.ConvivaStreamerProxy.PLAYING&&(_s.Log("ConvivaVideojsStreamerProxy.InferState(): BUFFERING"),_s.SetPlayerState(Conviva.ConvivaStreamerProxy.BUFFERING)))}},this._startPolling=function(){_s._polling=!0,_s._cancelTimer=Utils.getInstance()._settings.platformApi.createTimer(_s._poll,100,"ConvivaVideojsStreamerProxy._poll")},this._poll=function(){Utils.getInstance().runProtected(function(){return _s._polling&&_s._vjsPlayer?void _s.SetPlayheadTimeMs(_s._vjsPlayer.currentTime()):void _s.SetPlayheadTimeMs(0)},"ConvivaVideojsStreamerProxy._poll")},this._stopPolling=function(){_s._polling||"function"!=typeof _s._cancelTimer||_s._cancelTimer(),_s._polling=!1},this._declareError=function(errMsg){_s.Log("ConvivaVideojsStreamerProxy._declareError: "+errMsg),_s.SetError(StreamerError.makeUnscopedError(errMsg,StreamerError.SEVERITY_FATAL))},this._setAllEventListeners=function(){_s.Log("ConvivaVideojsStreamerProxy._setAllEventListeners()"),_s._vjsPlayer&&(_s._vjsPlayer.on("ended",_s.onEnded),_s._vjsPlayer.on("loadedmetadata",_s.onLoadedMetadata),_s._vjsPlayer.on("loadstart",_s.onLoadstart),_s._vjsPlayer.on("pause",_s.onPause),_s._vjsPlayer.on("durationchange",_s.onDurationchange),_s._vjsPlayer.on("emptied",_s.onEmptied),_s._vjsPlayer.on("stalled",_s.onStalled),_s._vjsPlayer.on("waiting",_s.onWaiting),_s._vjsPlayer.on("play",_s.onPlay),_s._vjsPlayer.on("error",_s.onError),_s._vjsPlayer.on("mediachange",_s.onMediaChange),_s._vjsPlayer.on("progress",_s.onProgress))},this._removeAllEventListeners=function(){_s.Log("ConvivaVideojsStreamerProxy._removeAllEventListeners()"),_s._vjsPlayer&&(_s._vjsPlayer.off("ended",_s.onEnded),_s._vjsPlayer.off("loadedmetadata",_s.onLoadedMetadata),_s._vjsPlayer.off("loadstart",_s.onLoadstart),_s._vjsPlayer.off("pause",_s.onPause),_s._vjsPlayer.off("durationchange",_s.onDurationchange),_s._vjsPlayer.off("emptied",_s.onEmptied),_s._vjsPlayer.off("stalled",_s.onStalled),_s._vjsPlayer.off("waiting",_s.onWaiting),_s._vjsPlayer.off("play",_s.onPlay),_s._vjsPlayer.off("error",_s.onError),_s._vjsPlayer.off("mediachange",_s.onMediaChange))},this.onPause=function(event,p1,p2){Utils.getInstance().runProtected(function(){_s.Log("ConvivaVideojsStreamerProxy.onPause"),_s.SetPlayerState(Conviva.ConvivaStreamerProxy.PAUSED)},"ConvivaVideojsStreamerProxy.onPause")},this.onLoadedMetadata=function(event,p1,p2){Utils.getInstance().runProtected(function(){_s.Log("ConvivaVideojsStreamerProxy.onLoadedMetadata"),_s._vjsPlayer.duration()&&_s._vjsPlayer&&_s.SetDuration(_s._vjsPlayer.duration())},"ConvivaVideojsStreamerProxy.onLoadedMetadata")},this.onEnded=function(event,p1,p2){Utils.getInstance().runProtected(function(){_s.Log("ConvivaVideojsStreamerProxy.onEnded"),_s._vjsPlayer&&_s.SetPlayerState(Conviva.ConvivaStreamerProxy.STOPPED)},"ConvivaVideojsStreamerProxy.onEnded")},this.onDurationchange=function(event,p1,p2){Utils.getInstance().runProtected(function(){_s.Log("ConvivaVideojsStreamerProxy.onDurationchange"),_s._vjsPlayer&&_s.SetDuration(_s._vjsPlayer.duration())},"ConvivaVideojsStreamerProxy.onDurationchange")},this.onLoadstart=function(event,p1,p2){Utils.getInstance().runProtected(function(){_s.Log("ConvivaVideojsStreamerProxy.onLoadstart"),_s.SetPlayerState(Conviva.ConvivaStreamerProxy.STOPPED)},"ConvivaVideojsStreamerProxy.onLoadstart")},this.onPlay=function(event,p1,p2){Utils.getInstance().runProtected(function(){return _s.Log("ConvivaVideojsStreamerProxy.onPlay"),_s.firstPlay?(_s.Log("ConvivaVideojsStreamerProxy.onPlay :First Play IGNORED!!"),void(_s.firstPlay=!1)):void _s.SetPlayerState(Conviva.ConvivaStreamerProxy.PLAYING)},"ConvivaVideojsStreamerProxy.onPlay")},this.onStalled=function(event,p1,p2){Utils.getInstance().runProtected(function(){_s.Log("ConvivaVideojsStreamerProxy.onStalled NO STATE CHANGE")},"ConvivaVideojsStreamerProxy.onStalled")},this.onEmptied=function(event,p1,p2){Utils.getInstance().runProtected(function(){_s.Log("ConvivaVideojsStreamerProxy.onEmptied"),_s.Log("ConvivaVideojsStreamerProxy.onEmptied"),_s.SetPlayerState(Conviva.ConvivaStreamerProxy.STOPPED)},"ConvivaVideojsStreamerProxy.onEmptied")},this.onWaiting=function(event,p1,p2){Utils.getInstance().runProtected(function(){_s.Log("ConvivaVideojsStreamerProxy.onWaiting"),_s.Log("ConvivaVideojsStreamerProxy.onWaiting"),_s.SetPlayerState(Conviva.ConvivaStreamerProxy.BUFFERING)},"ConvivaVideojsStreamerProxy.onWaiting")},this.onError=function(){Utils.getInstance().runProtected(function(){if(_s.Log("ConvivaVideojsStreamerProxy.onError"),_s._vjsPlayer){var errorEvent=_s._vjsPlayer.error(),reportedError=_s._convertError(errorEvent?errorEvent.code:99);_s.Log("MediaError: "+errorEvent.message),_s._declareError(reportedError)}},"ConvivaVideojsStreamerProxy.onError")},this.onProgress=function(){Utils.getInstance().runProtected(function(){if(_s.Log("ConvivaVideojsStreamerProxy.onProgress"),_s._vjsPlayer&&"undefined"!=typeof _s._vjsPlayer.tech(_s.requestTech).hls){var updatedStream=new StreamInfo(Math.round(_s._vjsPlayer.tech(_s.requestTech).hls.playlists.media().attributes.BANDWIDTH/1024),null,null,(-1),(-1),(-1));_s.SetStream(updatedStream)}},"ConvivaVideojsStreamerProxy.onProgress")},this.onMediaChange=function(){Utils.getInstance().runProtected(function(){if(_s.Log("ConvivaVideojsStreamerProxy.onMediaChange"),_s._vjsPlayer&&"undefined"!=typeof _s._vjsPlayer.tech(_s.requestTech).hls){var updatedStream=new StreamInfo(Math.round(_s._vjsPlayer.tech(_s.requestTech).hls.playlists.media().attributes.BANDWIDTH/1024),null,null,(-1),(-1),(-1));_s.SetStream(updatedStream)}},"ConvivaVideojsStreamerProxy.onMediaChange")},this._convertError=function(code){var errStr;switch(code){case 0:errStr="MEDIA_ERR_CUSTOM";break;case 1:errStr="MEDIA_ERR_ABORTED";break;case 2:errStr="MEDIA_ERR_NETWORK";break;case 3:errStr="MEDIA_ERR_DECODE";break;case 4:errStr="MEDIA_ERR_SRC_NOT_SUPPORTED";break;default:errStr="MEDIA_ERR_UNKNOWN"}return _s.Log("MediaError: code "+code+" "+errStr),errStr},_s!=STAT_INIT&&_constr.apply(_s,arguments)}function Html5PlatformApi(){function _constr(){_s._dataLoader=new DataLoader,_s.platform=navigator&&navigator.platform&&(navigator.platform.toString?navigator.platform.toString():null)}function __getPlatformMetadata(){var res={sch:"html5.1"};return res.np=navigator&&navigator.platform&&(navigator.platform.toString?navigator.platform.toString():null),res.nua=navigator&&navigator.userAgent&&(navigator.userAgent.toString?navigator.userAgent.toString():null),res}var _s=this,_convivaKey="convivaPersistent";this.cleanup=function(){null!=_s._dataLoader&&(_s._dataLoader.cleanup(),_s._dataLoader=null)},this.saveLocalData=function(data,callback){try{localStorage.setItem(_convivaKey,data)}catch(e){return void callback(!1)}callback(!0)},this.loadLocalData=function(callback){try{var data=localStorage.getItem(_convivaKey);callback(!0,data)}catch(e){callback(!1,"")}},this.deleteLocalData=function(){try{localStorage.clear()}catch(e){}},this.httpRequest=function(isPOST,url,data,contentType,callback){return"string"!=typeof data&&(data=_s.jsonEncode(data,null)),_s._dataLoader.makeRequest(isPOST,url,data,contentType,callback)},this.epochTimeMs=function(){var d=new Date;return d.getTime()},this.createTimer=function(timerAction,intervalMs,actionName){var timerId=setInterval(timerAction,intervalMs);return function(){timerId!=-1&&(clearInterval(timerId),timerId=-1)}},this.jsonEncode=function(obj){var jsonString=null;return jsonString=JSON.stringify(obj)},this.jsonDecode=function(json){var parsedJson=null;return parsedJson=JSON.parse(json)},this.consoleLog=function(message){"undefined"!=typeof console&&console.log},this.consoleErr=function(errMsg){"undefined"!=typeof console&&console.error},this.getDevice=function(){return"browser"},this.getDeviceVersion=function(){return null},this.getDeviceType=function(){return"PC"},this.getOS=function(){return _s._getPlatformName()},this.getOSVersion=function(){return null},defPubMeth(_s,"getPlatformMetadata",__getPlatformMetadata),this._getPlatformName=function(){if(null==_s.platform)return null;var stringContains=function(haystack,needle){return haystack.indexOf(needle)>=0};return stringContains(_s.platform,"iPad")||stringContains(_s.platform,"iPhone")||stringContains(_s.platform,"iPod")?"IOS":stringContains(_s.platform,"Mac")?"MAC":stringContains(_s.platform,"Win")?"WIN":stringContains(_s.platform,"Linux")||stringContains(_s.platform,"SunOS")||stringContains(_s.platform,"HP-UX")||stringContains(_s.platform,"BSD")?"UNIX":stringContains(_s.platform,"PLAYSTATION 3")?"PS3":stringContains(_s.platform,"XBOX")?"XBOX":null},_s!=STAT_INIT&&_constr.apply(_s,arguments)}function ConvivaVideojsPlatformApi(){function _constr(){Html5PlatformApi.call(_s)}var _s=this;this.getPlatformMetadata=function(){var res=_s.super_getPlatformMetadata();return res.sch="bc.perform.dt.1",res.fwv=bc.VERSION||"1.0",res},_constr.apply(_s,arguments)}registerName(registerName,"registerName"),registerName(__id,"__id"),registerName(getConvivaType,"getConvivaType"),registerName(importConvivaPrivateProgram,"importConvivaPrivateProgram"),registerName(STAT_INIT,"STAT_INIT"),registerName(statInit,"statInit"),registerName(defPubMeth,"defPubMeth"),registerName(defPrivMeth,"defPrivMeth"),registerName(defStatMeth,"defStatMeth"),registerName(defGet,"defGet"),registerName(defSet,"defSet"),registerName(defStatGet,"defStatGet"),registerName(defStatSet,"defStatSet"),registerName(slIsArray,"slIsArray"),registerName(slForEachPropValue,"slForEachPropValue"),registerName(slForEachProp,"slForEachProp"),registerName(declTestClass,"declTestClass"),registerName(declTestMethod,"declTestMethod"),statInit(sluint,"sluint"),statInit(slint,"slint"),statInit(Int64,"Int64"),statInit(UInt64,"UInt64"),statInit(CandidateStream,"CandidateStream"),statInit(ConvivaContentInfo,"ConvivaContentInfo"),statInit(ConvivaStreamerProxy,"ConvivaStreamerProxy"),statInit(LivePass,"LivePass"),statInit(PlayerStates,"PlayerStates"),statInit(StreamInfo,"StreamInfo"),statInit(StreamSwitch,"StreamSwitch"),statInit(StreamerError,"StreamerError"),statInit(Monitor,"Monitor"),statInit(EventQueue,"EventQueue"),statInit(Session,"Session"),statInit(SessionFactory,"SessionFactory"),statInit(ArrayCS,"ArrayCS"),statInit(Cleanable,"Cleanable"),statInit(DictionaryCS,"DictionaryCS"),statInit(Eventer,"Eventer"),statInit(KeyValuePairCS,"KeyValuePairCS"),statInit(Lang,"Lang"),statInit(ListCS,"ListCS"),statInit(NativeLang,"NativeLang"),statInit(Settings,"Settings"),statInit(Utils,"Utils"),statInit(DataLoader,"DataLoader"),statInit(Infer,"Infer"),statInit(ConvivaVideojsStreamerProxy,"ConvivaVideojsStreamerProxy"),statInit(Html5PlatformApi,"Html5PlatformApi"),statInit(ConvivaVideojsPlatformApi,"ConvivaVideojsPlatformApi")}();var Conviva="undefined"!=typeof Conviva?Conviva:function(){};Conviva.LivePass=ConvivaPrivateLoader.LivePass,Conviva.ConvivaContentInfo=ConvivaPrivateLoader.ConvivaContentInfo,Conviva.StreamerError=ConvivaPrivateLoader.StreamerError,Conviva.ConvivaStreamerProxy=ConvivaPrivateLoader.ConvivaStreamerProxy,Conviva.Settings=ConvivaPrivateLoader.Settings,Conviva.StreamInfo=ConvivaPrivateLoader.StreamInfo,Conviva.Utils=ConvivaPrivateLoader.Utils,Conviva.ConvivaVideojsStreamerProxy=ConvivaPrivateLoader.ConvivaVideojsStreamerProxy,Conviva.ConvivaVideojsPlatformApi=ConvivaPrivateLoader.ConvivaVideojsPlatformApi,Conviva.Infer=ConvivaPrivateLoader.Infer}module.exports=Conviva},function(module,exports,__webpack_require__){"use strict";function mergeCustomizer(objValue,srcValue){if(null===srcValue)return objValue}function init(){videojs.plugin("conviva",plugin)}var Conviva,Fan,first,merge,plugin;Conviva=__webpack_require__(24),Fan=__webpack_require__(1),merge=__webpack_require__(0),first=!0,module.exports={init:init},plugin=function(options){options.debug;var assetName,cci,cleanup,mediainfo,onAdsAdEnded,onAdsAdStarted,_onDispose,onEnded,onError,onLoadStart,onContentPlayback,onRestart,player,sessionId,setMetadata,streamProxy,tags;player=this,options.debug?(Conviva.LivePass.initWithSettings(options.customerKey,{gatewayUrl:"https://espn-com-test.testonly.conviva.com"}),Conviva.LivePass.toggleTraces(!0)):Conviva.LivePass.init(options.customerKey),streamProxy=new Conviva.ConvivaVideojsStreamerProxy(player),setMetadata=function(){mediainfo=player.mediainfo||{},tags={site:location.hostname,path:location.pathname,page:location.href,userId:Fan.SWID,bundleVersion:"1.8.3-5",hidden:document.hidden+""},mediainfo.airingId&&(tags.airingId=mediainfo.airingId),mediainfo.sourceType&&(tags.broadcastType=mediainfo.sourceType),mediainfo.eventId&&(tags.eventId=mediainfo.eventId+""),mediainfo.sourceId&&(tags.network=mediainfo.sourceId),mediainfo.status&&(tags.assetType=mediainfo.status),mediainfo.affiliate&&(tags.affiliate=mediainfo.affiliate),options.tags&&merge(tags,options.tags,mergeCustomizer),assetName=tags.broadcastType&&"linear"===tags.broadcastType&&tags.network?tags.network:mediainfo.name+(mediainfo.id?" - "+mediainfo.id:""),options.debug,cci=new Conviva.ConvivaContentInfo(assetName,tags),cci.defaultReportingCdnName=Conviva.ConvivaContentInfo.CDN_NAME_OTHER,cci.isLive=mediainfo.live,cci.streamUrl=player.currentSrc(),cci.playerName=options.playerName,cci.viewerId=Fan.SWID},onLoadStart=function(){options.debug,(!player.ads||"ad-playback"!==player.ads.state&&"content-resuming"!==player.ads.state)&&null!=sessionId&&cleanup(),null==sessionId&&(setMetadata(),player.ads&&player.ads.state?(options.debug,sessionId=Conviva.LivePass.createSession(null,cci)):(options.debug,sessionId=Conviva.LivePass.createSession(streamProxy,cci)))},onAdsAdStarted=function(){options.debug,Conviva.LivePass.detachStreamer(sessionId,streamProxy),Conviva.LivePass.adStart(sessionId)},onAdsAdEnded=function(){options.debug,Conviva.LivePass.adEnd(sessionId),options.debug,Conviva.LivePass.attachStreamer(sessionId,streamProxy)},onContentPlayback=function(){null!=sessionId&&(options.debug,Conviva.LivePass.attachStreamer(sessionId,streamProxy))},onRestart=function(){0===player.currentTime()&&(options.debug,null==sessionId?(setMetadata(),options.debug,sessionId=Conviva.LivePass.createSession(streamProxy,cci)):(options.debug,Conviva.LivePass.attachStreamer(sessionId,streamProxy)))},onEnded=function(){options.debug,player.ads&&"ad-playback"===player.ads.state||(cleanup(),player.one("seeking",onRestart))},cleanup=function(){null!=sessionId&&(player.ads&&"ad-playback"===player.ads.state&&Conviva.LivePass.adEnd(sessionId),options.debug,Conviva.LivePass.detachStreamer(sessionId,streamProxy),options.debug,Conviva.LivePass.cleanupSession(sessionId),sessionId=null)},onError=function(){var error=player.error();error||(error.code="unknown",error.message="unknown"),null==sessionId&&error.code!==-2&&(setMetadata(),options.debug,sessionId=Conviva.LivePass.createSession(streamProxy,cci));var errMsg="code:"+error.code+" "+(error.type&&error.type!==error.code?error.type:error.headline||error.message);if(sessionId){Conviva.LivePass.reportError(sessionId,errMsg);var eventName="error:"+error.code,eventAttributes={};eventAttributes.currentTime=player.currentTime()+"";var i,bufferedRanges=[];for(i=0;i<player.buffered().length;i++)bufferedRanges.push(player.buffered().start(i)+"-"+player.buffered().end(i));eventAttributes.buffered=bufferedRanges.join(", ");var seekableRanges=[];for(i=0;i<player.seekable().length;i++)seekableRanges.push(player.seekable().start(i)+"-"+player.seekable().end(i));eventAttributes.seekable=seekableRanges.join(", "),eventAttributes.hidden=document.hidden+"",options.debug,Conviva.LivePass.sendEvent(eventName,eventAttributes)}cleanup()},_onDispose=function(){null!=sessionId&&Conviva.LivePass.cleanupSession(sessionId),player.off("ads-ad-started",onAdsAdStarted),
player.off("ads-ad-ended",onAdsAdEnded),player.off("contentplayback",onContentPlayback),player.off("dispose",_onDispose),player.off("ended",onEnded),player.off("error",onError),player.off("loadstart",onLoadStart),player.off("seeking",onRestart),first=!0},first&&(first=!1,options.debug,player.on("ads-ad-started",onAdsAdStarted),player.on("ads-ad-ended",onAdsAdEnded),player.on("contentplayback",onContentPlayback),player.on("dispose",_onDispose),player.on("ended",onEnded),player.on("error",onError),player.on("loadstart",onLoadStart))}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function mergeCustomizer(objValue,srcValue){if(null===srcValue)return objValue}function playheadOffset(player,plugin){if(player.mediainfo&&"function"==typeof plugin.setPlayheadOffset&&player.mediainfo.live&&player.mediainfo.startTime){var _playheadOffset=Math.round((Date.now()-player.mediainfo.startTime)/1e3);player.on("omnitureReady",function(){plugin.setPlayheadOffset(_playheadOffset)})}}function configure(player,config){var contentMetadata={},localConfig={NIELSEN_DATA:{CONTENT_METADATA:{}},ESPN_CUSTOM_METADATA:{Showcode:player.mediainfo.showcode}};return(player.mediainfo.originalPublishDate||player.mediainfo.originalAirDate)&&(localConfig.NIELSEN_DATA.CONTENT_METADATA.airdate=tz(player.mediainfo.originalPublishDate||player.mediainfo.originalAirDate,"%Y%m%d%k%M%S",__webpack_require__(67),"America/New_York")),player.mediainfo.live&&(localConfig.MEDIAINFO={live:!0}),player.mediainfo.hasNielsenWatermarks&&(contentMetadata={adloadtype:1,dataSrc:"ID3",tv:!0}),"SHARED INV"===player.mediainfo.commercialReplacement&&(contentMetadata.adloadtype=1),player.mediainfo.nielsenCrossId1&&(contentMetadata.crossId1=player.mediainfo.nielsenCrossId1),merge(localConfig.NIELSEN_DATA.CONTENT_METADATA,contentMetadata,mergeCustomizer),merge(config,localConfig,mergeCustomizer),config}function setEventListeners(player,plugin){function startHeartbeatTimer(){heartbeatTimeout=setTimeout(trackAdStart,heartbeatThreshold)}function resetHeartbeatTimer(){clearTimeout(heartbeatTimeout),adBreakStarted&&adBreakStarted+heartbeatThreshold<Date.now()&&trackAdComplete(),startHeartbeatTimer()}function trackAdComplete(){adBreakStarted&&plugin.trackAdComplete(),adBreakStarted=!1}function trackAdStart(adID){clearTimeout(heartbeatTimeout),plugin.trackAdStart(adID),adBreakStarted=Date.now()}function onPause(){clearTimeout(heartbeatTimeout),player.one("play",function(){startHeartbeatTimer()})}function onCueChange(event,cue){var payload,shouldResetAdTimer,shouldSendID3,shouldTrackAdTransitions;try{payload=JSON.parse(cue.text)}catch(e){payload=cue.text}shouldSendID3="function"==typeof plugin.sendID3&&cue.owner&&null!==cue.owner.match(/^www\.nielsen\.com/i)&&player.mediainfo.hasNielsenWatermarks,shouldTrackAdTransitions=canTrackAdStartComplete&&"com.espn.authnet.transition"===cue.owner,shouldResetAdTimer=canTrackAdStartComplete&&player.mediainfo.hasEspnId3Heartbeats&&"com.espn.authnet.heartbeat"===cue.owner&&"PROGRAM"===payload[0].type&&!(payload[1]&&"COMMERCIAL"===payload[1].type),shouldSendID3&&plugin.sendID3(cue.owner),shouldTrackAdTransitions&&("PROGRAM"===payload.from.type&&"COMMERCIAL"===payload.to.type?trackAdStart(payload.to.id):"COMMERCIAL"===payload.from.type&&"COMMERCIAL"===payload.to.type?(trackAdComplete(),trackAdStart(payload.to.id)):payload[1]&&"COMMERCIAL"===payload[1].type?trackAdStart(payload[1].id):"COMMERCIAL"===payload.from.type&&"PROGRAM"===payload.to.type&&trackAdComplete()),shouldResetAdTimer&&resetHeartbeatTimer()}var adBreakStarted=void 0,heartbeatTimeout=void 0,canTrackAdStartComplete="function"==typeof plugin.trackAdStart&&"function"==typeof plugin.trackAdComplete;player.on("pause",onPause),player.on("espn.id3cuechange",onCueChange),player.one("dispose",function(){player.off("pause",onPause),player.off("espn.id3cuechange",onCueChange),clearTimeout(heartbeatTimeout)})}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),merge=__webpack_require__(0),tz=__webpack_require__(68),heartbeatThreshold=2e4,ESPNAdobeNielsenAdapter=function(){function ESPNAdobeNielsenAdapter(player,config){if(_classCallCheck(this,ESPNAdobeNielsenAdapter),this.player=player,config=configure(this.player,config),"function"==typeof this.player.BCGSAdobeDCRPlugin)this.plugin=this.player.BCGSAdobeDCRPlugin({options:config});else{if(!this.player.heartbeats)return;this.plugin=this.player.heartbeats(config)}playheadOffset(this.player,this.plugin),setEventListeners(this.player,this.plugin)}return _createClass(ESPNAdobeNielsenAdapter,[{key:"loadNewOptions",value:function(options){"function"==typeof this.plugin?this.plugin({options:options}):"function"==typeof this.plugin.loadNewOptions&&this.plugin.loadNewOptions(options)}},{key:"completeLiveProgram",value:function(){"function"==typeof this.plugin.completeLiveProgram&&this.plugin.completeLiveProgram()}}]),ESPNAdobeNielsenAdapter}();module.exports=ESPNAdobeNielsenAdapter},function(module,exports,__webpack_require__){"use strict";var I18n,LANG,TRANSLATIONS;TRANSLATIONS={},LANG="en",I18n=function(key){return TRANSLATIONS[LANG][key]||TRANSLATIONS.en[key]||key},I18n.add=function(lang,data){var k,v;TRANSLATIONS[lang]||(TRANSLATIONS[lang]={});for(k in data)v=data[k],TRANSLATIONS[lang][k]=v},I18n.reset=function(){TRANSLATIONS={},LANG="en"},I18n.setLang=function(lang){TRANSLATIONS[lang]&&(LANG=lang)},I18n.translations=function(){return TRANSLATIONS},I18n.add("en",__webpack_require__(74)),I18n.add("es",__webpack_require__(75)),I18n.add("pt",__webpack_require__(76)),module.exports=I18n},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(self,call){if(!self)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!call||"object"!=typeof call&&"function"!=typeof call?self:call}function _inherits(subClass,superClass){if("function"!=typeof superClass&&null!==superClass)throw new TypeError("Super expression must either be null or a function, not "+typeof superClass);subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:!1,writable:!0,configurable:!0}}),superClass&&(Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass)}function flashMightBeBlocked(element){if(!element)return!1;if(IS_CHROME){var width=element.getBoundingClientRect().width,height=Math.max(element.getBoundingClientRect().height,width*(9/16));if(width<400||height<300)return!0}return!1}var _extends=Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target},_createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),EventEmitter=__webpack_require__(11),BrightcovePlayer=__webpack_require__(15),Html5Player=__webpack_require__(16),ConfigLogger=__webpack_require__(10),Analytics=__webpack_require__(4),Advertising=__webpack_require__(3),USER_AGENT=window.navigator&&window.navigator.userAgent||"",IS_EDGE=/Edge/i.test(USER_AGENT),IS_CHROME=!IS_EDGE&&/Chrome/i.test(USER_AGENT),_bundle=void 0,_container=void 0,_element=void 0,_containerClone=void 0,ESPNVideoPlayer=function(_EventEmitter){function ESPNVideoPlayer(){var playerTech=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"brightcove",techOptions=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,ESPNVideoPlayer);var _this=_possibleConstructorReturn(this,(ESPNVideoPlayer.__proto__||Object.getPrototypeOf(ESPNVideoPlayer)).call(this));switch(playerTech){case"native":_this.playerTech=Html5Player;break;default:_this.playerTech=BrightcovePlayer}return _this.options=techOptions,_this}return _inherits(ESPNVideoPlayer,_EventEmitter),_createClass(ESPNVideoPlayer,[{key:"player",get:function(){return _bundle&&_bundle.player()}},{key:"bundle",get:function(){return _bundle}},{key:"analytics",get:function(){return Analytics}},{key:"advertising",get:function(){return Advertising}}]),ESPNVideoPlayer}(EventEmitter);ESPNVideoPlayer.prototype.embed=function(guid,el,options){var _this2=this,callback=arguments.length>3&&void 0!==arguments[3]?arguments[3]:function(){},element=el;"[object String]"===Object.prototype.toString.call(el)&&(element=document.getElementById(el)),_element=element,_container=element.parentNode,_containerClone=_container.cloneNode(!0);var config=_extends({},options);if(guid&&(config.cerebroId=guid),flashMightBeBlocked(element))if(config.advertising||(config.advertising={}),config.advertising.adTechOrder){var indx=config.advertising.adTechOrder.indexOf("html5");0!==indx&&(indx>0&&config.advertising.adTechOrder.splice(indx,1),config.advertising.adTechOrder.unshift("html5"))}else _extends(config.advertising,{adTechOrder:["html5","flash"]});return _bundle=new this.playerTech(element,config),_bundle.player().ready(function(){callback(_this2)}),this},ESPNVideoPlayer.prototype.pause=function(){return this.player&&this.player.pause(),this},ESPNVideoPlayer.prototype.ready=function(){var callback=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};return this.playerTech.loadTech(callback.bind(this),this.options),this},ESPNVideoPlayer.prototype.switchVideo=function(guid){var options=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},callback=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};if(_bundle&&(guid||options.clipId)){var autoplay="boolean"!=typeof options.autoplay||options.autoplay,source=options.clipSource||_bundle.clipSource,clipId=options.clipId;if(this.player.trigger("switch",{guid:guid,clipId:clipId,autoplay:autoplay,source:source}),this.player&&this.player.ads&&"ad-playback"===this.player.ads.state){this.unembed();var newPlaceholder=_containerClone?_containerClone.children[0]:{},newPlaceholderId=newPlaceholder.getAttribute?newPlaceholder.getAttribute("id"):null;newPlaceholderId?this.embed(guid,newPlaceholderId,options,callback):callback(new Error("cloned placeholder missing ID"))}else guid&&(options.cerebroId=guid),_bundle.player().reset(),_bundle.registerConfiguration(options),callback(null,this)}},ESPNVideoPlayer.prototype.unembed=function(){var removeContainer=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(Analytics.reset(),_bundle)return _bundle.dispose(),_bundle=null,_container&&_container.parentNode&&(removeContainer?_container.parentNode.removeChild(_container):_container.parentNode.replaceChild(_containerClone,_container)),this},ESPNVideoPlayer.prototype.remove=function(){this.unembed(!0)},ESPNVideoPlayer.prototype.error=function(err,content){return _bundle.error(err,content),this},ESPNVideoPlayer.ConfigLogger=ConfigLogger,ESPNVideoPlayer.VERSION="1.8.3-5",module.exports=ESPNVideoPlayer},function(module,exports,__webpack_require__){"use strict";function fireTrackingBeacon(beaconURL,airingID,adID){var img,imgID;beaconURL&&(imgID="passThroughTracking",img=document.getElementById(imgID),img||(img=new Image,img.id=imgID,document.body.appendChild(img)),img.src=beaconURL+"&caid="+airingID+"&pvrn="+Date.now()+"&resp=ad;adid="+encodeURIComponent(adID)+"&airing="+airingID+";ptgt=a&slau=midroll")}function init(){var plugin;plugin=function(){var player,lastID;player=this,"function"==typeof player.id3&&player.id3(),player.on("espn.id3cuechange",function(event,cue){var adID,payload;"com.espn.authnet.transition"===cue.owner&&(payload=JSON.parse(cue.text),"COMMERCIAL"===payload.to.type?(adID=payload.to.id,adID&&adID!==lastID&&(lastID=adID,fireTrackingBeacon(player.mediainfo.passThroughBeaconURL,player.mediainfo.simulcastAiringId,adID))):lastID=null)})},videojs.plugin("adPassThrough",plugin)}module.exports={init:init}},function(module,exports,__webpack_require__){"use strict";var formatTime,init;formatTime=function(seconds,guide){var gh,gm,h,m,s;return null==guide&&(guide=seconds),seconds=seconds<0?0:seconds,s=Math.floor(seconds%60),m=Math.floor(seconds/60%60),h=Math.floor(seconds/3600),gm=Math.floor(guide/60%60),gh=Math.floor(guide/3600),(isNaN(seconds)||seconds===1/0)&&(h=m=s="-"),h=h>0||gh>0?h+":":"",m=((h||gm>=10)&&m<10?"0"+m:m)+":",s=s<10?"0"+s:s,h+m+s},init=function(){var Component,ControlBar,ESPNAdRemainingTimeDisplay,RemainingTimeDisplay,currentTimeDisplayIndex;Component=videojs.getComponent("Component"),ControlBar=videojs.getComponent("ControlBar"),RemainingTimeDisplay=videojs.getComponent("RemainingTimeDisplay"),ESPNAdRemainingTimeDisplay=videojs.extend(RemainingTimeDisplay,{constructor:function(player,options){return RemainingTimeDisplay.call(this,player,options)},createEl:function(){var el;return el=Component.prototype.createEl.call(this,"div",{className:"vjs-ad-remaining-time vjs-time-control vjs-control"}),this.contentEl_=document.createElement("div"),this.contentEl_.classList.add("vjs-ad-remaining-time-display"),this.contentEl_.innerHTML='<span class="vjs-control">'+this.localize("Ad")+"</span> (0:00)",this.contentEl_.setAttribute("aria-live","off"),el.appendChild(this.contentEl_),el},updateContent:function(){var formattedTime,localizedText;this.player_.duration()&&(localizedText=this.localize("Ad"),formattedTime=formatTime(this.player_.remainingTime()),formattedTime!==this.formattedTime_&&(this.formattedTime_=formattedTime,this.contentEl_.innerHTML='<span class="vjs-control">'+localizedText+"</span> ("+formattedTime+")"))}}),Component.registerComponent("AdRemainingTimeDisplay",ESPNAdRemainingTimeDisplay),ControlBar.prototype.options_.children.indexOf("adRemainingTimeDisplay")===-1&&(currentTimeDisplayIndex=ControlBar.prototype.options_.children.indexOf("currentTimeDisplay"),ControlBar.prototype.options_.children.splice(currentTimeDisplayIndex,0,"adRemainingTimeDisplay"))},module.exports={init:init}},function(module,exports,__webpack_require__){"use strict";function init(){var plugin;plugin=function(opts){var dispose,getTech,hlsTech,player,resetBandwidth,restoreBandwidth,storeBandwidth;player=this;var options=opts||{},storageNamespace=options.namespace||"espn",bandwidthStorageKey=storageNamespace+"-bandwidth",initialBandwidth=options.initialBandwidth||15e5;getTech=function(){hlsTech=player.tech({IWillNotUseThisInPlugins:!0}).hls},restoreBandwidth=function(){if(getTech(),hlsTech){var persistedBandwidth=sessionStorage.getItem(bandwidthStorageKey);persistedBandwidth=null!=persistedBandwidth?Number(persistedBandwidth):initialBandwidth,Number.isNaN(persistedBandwidth)||(hlsTech.bandwidth=persistedBandwidth)}player.on("loadstart",getTech)},storeBandwidth=function(){if(hlsTech){var bandwidth=hlsTech.bandwidth;bandwidth>1&&sessionStorage.setItem(bandwidthStorageKey,bandwidth)}},resetBandwidth=function(){sessionStorage.setItem(bandwidthStorageKey,null),hlsTech&&(hlsTech.bandwidth=1)},dispose=function(){player.off("error",resetBandwidth),player.off("loadstart",getTech),player.off("mediachange",storeBandwidth)},player.one("dispose",dispose),player.one("loadstart",restoreBandwidth),player.on("error",resetBandwidth),player.on("mediachange",storeBandwidth)},videojs.plugin("persistBandwidth",plugin)}module.exports={init:init}},function(module,exports,__webpack_require__){"use strict";var init;init=function(){var CaptionsToggleButton,Component,ESPNCaptionSettingsMenuItem,TextTrackMenuItem;return Component=videojs.getComponent("Component"),TextTrackMenuItem=videojs.getComponent("TextTrackMenuItem"),CaptionsToggleButton=videojs.getComponent("CaptionsToggleButton"),ESPNCaptionSettingsMenuItem=videojs.extend(TextTrackMenuItem,{constructor:function(player,options){var changeHandler;options.track={kind:options.kind,player:player,label:"<span>"+player.localize(options.label||"Caption Settings")+"</span>",selectable:!1,"default":!1,mode:"disabled"},options.selectable=!1,TextTrackMenuItem.call(this,player,options),this.addClass("vjs-texttrack-settings"),this.hide(),changeHandler=this.handleTracksChange.bind(this),player.on("texttrackchange",changeHandler),player.on("espn.captionchange",changeHandler),this.on("dispose",function(){player.off("texttrackchange",changeHandler),player.off("espn.captionchange",changeHandler)})},handleClick:function(){var textTrackSettings,videoWasPlaying;return textTrackSettings=this.player_.$(".bcc-caption-settings"),textTrackSettings.classList.remove("vjs-hidden"),videoWasPlaying=!this.player_.paused(),this.player_.addClass("vjs-caption-settings-active"),this.player_.pause(),this.player_.$(".vjs-done-button",textTrackSettings).addEventListener("click",function(){this.player_.removeClass("vjs-caption-settings-active"),videoWasPlaying&&this.player_.play()}.bind(this)),textTrackSettings.focus()},handleTracksChange:function(){this.hasValidTracks()?this.show():this.hide()},hasValidTracks:CaptionsToggleButton.prototype.hasValidTracks}),Component.registerComponent("CaptionSettingsMenuItem",ESPNCaptionSettingsMenuItem)},module.exports={init:init}},function(module,exports,__webpack_require__){"use strict";var init,initialized,plugin,videoJsPlugin,LS_SAVED_LANGUAGE;initialized=!1,LS_SAVED_LANGUAGE="bgs-saved-language",init=function(){var Button,Component,ESPNCaptionsToggleButton;Component=videojs.getComponent("Component"),Button=videojs.getComponent("Button"),ESPNCaptionsToggleButton=videojs.extend(Button,{constructor:function(player,options){var changeHandler;Button.call(this,player,options),this.controlText(options&&options.controlText||this.localize("Closed Captions")),this.hide(),changeHandler=this.handleTracksChange.bind(this),player.on("texttrackchange",changeHandler),player.on("espn.captionchange",changeHandler),this.on("dispose",function(){player.off("texttrackchange",changeHandler),player.off("espn.captionchange",changeHandler)})},buildCSSClass:function(){return"evp-toggle-cc-button vjs-captions-button cc-disabled "+Button.prototype.buildCSSClass.call(this)},handleClick:function(event){return this.toggleTracks(),Button.prototype.handleClick.call(this,event)},createEl:function(tag,props,attributes){return Button.prototype.createEl.call(this,tag,props,attributes)},handleTracksChange:function(){this.hasValidTracks()?this.show():this.hide(),this.tracksEnabled()?this.el_.classList.remove("cc-disabled"):this.el_.classList.add("cc-disabled")},toggleTracks:function(){var i,len,tracks;for(tracks=this.player_.textTracks(),i=0,len=tracks.length;i<len;i++)"captions"===tracks[i].kind&&("disabled"!==tracks[i].mode?"showing"===tracks[i].mode?(tracks[i].mode="hidden",window.localStorage.setItem(LS_SAVED_LANGUAGE,"off")):(tracks[i].mode="showing",window.localStorage.setItem(LS_SAVED_LANGUAGE,tracks[i].language+"-"+tracks[i].label)):tracks[i].mode="showing");this.player_.trigger("espn.captionchange")},tracksEnabled:function(){var i,isEnabled,len,storedLanguage,tracks;for(tracks=this.player().textTracks(),isEnabled=!1,storedLanguage=window.localStorage.getItem(LS_SAVED_LANGUAGE),i=0,len=tracks.length;i<len;i++)"captions"===tracks[i].kind&&(storedLanguage!==tracks[i].language+"-"+tracks[i].label?"disabled"!==tracks[i].mode?"showing"!==tracks[i].mode||(isEnabled=!0):(tracks[i].mode="showing",tracks[i].mode="hidden"):("disabled"===tracks[i].mode&&setTimeout(function(){this.mode="showing"}.bind(tracks[i]),0),isEnabled=!0));return window.videojs.IS_ANY_SAFARI&&(this.player().el().querySelector("video").webkitClosedCaptionsVisible=isEnabled),isEnabled},kind_:"captions",hasValidTracks:function(){var _changeHandler,handleTracksChange,hasCues,i,len,tracks;for(tracks=this.player().textTracks()||[],handleTracksChange=this.handleTracksChange.bind(this),_changeHandler=function(){this.removeEventListener("cuechange",_changeHandler),handleTracksChange()},i=0,len=tracks.length;i<len;i++)if("captions"===tracks[i].kind){if(hasCues=tracks[i].cues&&tracks[i].cues.length>0,!hasCues)return tracks[i].addEventListener("cuechange",_changeHandler),!1;if(hasCues||tracks[i].label||tracks[i].language)return!0}return!1}}),Component.registerComponent("CaptionsToggleButton",ESPNCaptionsToggleButton),videojs.plugin("captionsToggleButton",videoJsPlugin),initialized=!0},videoJsPlugin=function(){var player;return player=this,player.ready(function(){var settingsMenuButtonIndex;settingsMenuButtonIndex=player.controlBar.children().map(function(c){return c.name().toUpperCase()}).indexOf("SettingsMenuButton".toUpperCase()),player.controlBar.captionsToggleButton&&(player.controlBar.removeChild(player.controlBar.captionsToggleButton),delete player.controlBar.captionsToggleButton),player.controlBar.captionsButton&&player.controlBar.removeChild(player.controlBar.captionsButton),player.controlBar.captionsToggleButton=player.controlBar.addChild("captionsToggleButton",{},settingsMenuButtonIndex-1)})},plugin=function(player){initialized||init(),player.captionsToggleButton()},module.exports={init:init,plugin:plugin}},function(module,exports,__webpack_require__){"use strict";function textFromFrame(frame){if("string"==typeof frame.data)return frame.data;frame.data instanceof ArrayBuffer&&(frame.data=new Uint8Array(frame.data));try{return String.fromCharCode.apply(null,frame.data)}catch(error){return frame.data}}function init(){var plugin;plugin=function(){var _findMetadata,player;player=this,_findMetadata=function(){var allTextTracks,track,trackIndex;return player.off("texttrackchange",_findMetadata),allTextTracks=player.textTracks(),trackIndex=allTextTracks.length-1,trackIndex<0?void player.on("texttrackchange",_findMetadata):(track=allTextTracks[trackIndex],"metadata"!==track.kind?void player.on("texttrackchange",_findMetadata):(track.mode="hidden",void track.addEventListener("cuechange",function(){if(track.activeCues.length>0)for(var i=0;i<track.activeCues.length;i++)track.activeCues[i].value&&(track.activeCues[i].text=textFromFrame(track.activeCues[i].value),track.activeCues[i].value.owner?track.activeCues[i].owner=track.activeCues[i].value.owner:track.activeCues[i].owner=track.activeCues[i].value.info,player.trigger("espn.id3cuechange",track.activeCues[i]))})))},this.on("texttrackchange",_findMetadata)},videojs.plugin("id3",plugin)}module.exports={init:init}},function(module,exports,__webpack_require__){"use strict";function init(){var Component=videojs.getComponent("Component"),LoadingSpinner=videojs.getComponent("LoadingSpinner"),ESPNLoadingSpinner=videojs.extend(LoadingSpinner,{constructor:function(player,options){LoadingSpinner.call(this,player,options)},createEl:function(){return Component.prototype.createEl.call(this,"div",{className:"vjs-loader active",dir:"ltr",innerHTML:'<div class="spinner-layer"><div class="circle-clipper left"><div class="circle"></div></div><div class="gap-patch"><div class="circle"></div></div><div class="circle-clipper right"><div class="circle"></div></div></div>'})}});Component.registerComponent("LoadingSpinner",ESPNLoadingSpinner)}module.exports={init:init}},function(module,exports,__webpack_require__){"use strict";var init;init=function(){var Component,ESPNPlayToggle,PlayToggle;return Component=videojs.getComponent("Component"),PlayToggle=videojs.getComponent("PlayToggle"),ESPNPlayToggle=videojs.extend(PlayToggle,{constructor:function(player,options){PlayToggle.call(this,player,options),this.on(player,"durationchange",this.handleDurationChange),this.on(player,"ended",this.handleEnded)},pauseText:"Pause",playText:"Play",handleDurationChange:function(){this.player_.duration()===1/0&&(this.pauseText="Stop",this.player_.paused()||this.controlText(this.pauseText))},handleEnded:function(){this.controlText("Replay")},handlePlay:function(){this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText(this.pauseText)},handlePause:function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText(this.playText)}}),Component.registerComponent("PlayToggle",ESPNPlayToggle)},module.exports={init:init}},function(module,exports,__webpack_require__){"use strict";function init(){var Component=videojs.getComponent("Component"),SeekBar=videojs.getComponent("SeekBar"),ESPNSeekBar=videojs.extend(SeekBar,{constructor:function(player,options){SeekBar.call(this,player,options)},createEl:function(){var el=SeekBar.prototype.createEl.call(this);if(!el.querySelector(".evp-progress-holder-wrapper")){var wrapper=document.createElement("div");wrapper.className="evp-progress-holder-wrapper",el.appendChild(wrapper)}return el},handleMouseDown:function(event){SeekBar.prototype.handleMouseDown.call(this,event),this.scrubbingTime=this.calculateDistance(event),this.update()},handleMouseMove:function(event){this.scrubbingTime=this.calculateDistance(event),this.update()},handleMouseUp:function(event){var newTime=this.calculateDistance(event)*this.player_.duration();return newTime===this.player_.duration()&&(newTime-=.1),this.player_.currentTime(newTime),SeekBar.prototype.handleMouseUp.call(this,event)},getPercent:function(){var percent=SeekBar.prototype.getPercent.call(this);return this.player_.scrubbing()&&(percent=this.scrubbingTime||percent),percent>=1?1:percent}});Component.registerComponent("SeekBar",ESPNSeekBar)}module.exports={init:init}},function(module,exports,__webpack_require__){"use strict";function init(){var Component=videojs.getComponent("Component"),MenuItem=videojs.getComponent("MenuItem"),MenuButton=videojs.getComponent("MenuButton"),CaptionSettingsMenuItem=videojs.getComponent("CaptionSettingsMenuItem"),CaptionsToggleButton=videojs.getComponent("CaptionsToggleButton"),AutoplayMenuItem=videojs.extend(MenuItem,{contentElType:"checkbox",constructor:function(player,options){this.isSelected=!1,options.label="<span>"+player.localize("Autoplay")+"</span>",options.selectable=!0,MenuItem.call(this,player,options),FanPreferences.getAutoStart(function(autoStart){!this.el_||autoStart!==!0&&autoStart!==!1||(this.isSelected=autoStart,this.selected(autoStart),this.el_.querySelector("input").checked=this.isSelected)}.bind(this))}});AutoplayMenuItem.prototype.handleClick=function(){this.isSelected=!this.isSelected,this.selected(this.isSelected),this.el_.querySelector("input").checked=this.isSelected,FanPreferences.setAutoStart(this.isSelected),this.player().player_.trigger("espn.autoplaytoggled",{autoplay:this.isSelected})},AutoplayMenuItem.prototype.createEl=function(type){return MenuItem.prototype.createEl.call(this,type,{innerHTML:this.localize(this.options_.label)+'<div class="toggle-btn sm"><input id="autoplay_toggle" class="toggle-input round" type="checkbox"><label for="autoplay_toggle"></label></div>'})};var CaptionsMenuItem=videojs.extend(MenuItem,{contentElType:"checkbox",constructor:function(player,options){var changeHandler;this.isSelected=!0,options.label="<span>"+player.localize("Closed Caption")+"</span>",options.selectable=!0,MenuItem.call(this,player,options),this.hide(),changeHandler=this.handleTracksChange.bind(this),player.on("texttrackchange",changeHandler),player.on("espn.captionchange",changeHandler),this.on("dispose",function(){player.off("texttrackchange",changeHandler),player.off("espn.captionchange",changeHandler)})},toggleTracks:CaptionsToggleButton.prototype.toggleTracks,handleTracksChange:function(){this.hasValidTracks()?this.show():this.hide();var tracksEnabled=CaptionsToggleButton.prototype.tracksEnabled.call(this);this.isSelected=tracksEnabled,this.selected(this.isSelected),this.el_.querySelector("input").checked=this.isSelected},hasValidTracks:CaptionsToggleButton.prototype.hasValidTracks});CaptionsMenuItem.prototype.handleClick=function(){this.toggleTracks(),this.handleTracksChange()},CaptionsMenuItem.prototype.createEl=function(type){return MenuItem.prototype.createEl.call(this,type,{innerHTML:this.localize(this.options_.label)+'<div class="toggle-btn sm"><input id="captions_toggle" class="toggle-input round" type="checkbox"'+(this.isSelected?"checked ":"")+'><label for="captions_toggle"></label></div>'})};var SettingsMenuButton=videojs.extend(MenuButton,{constructor:function(player,options){MenuButton.call(this,player,options),player.on("mouseup",function(e){this.buttonPressed_&&!this.el().contains(e.target)&&this.unpressButton(!0)}.bind(this))},handleClick:function(){this.buttonPressed_?this.unpressButton():this.pressButton()}});SettingsMenuButton.prototype.createEl=function(){return Component.prototype.createEl.call(this,"div",{className:"vjs-settings-control-button vjs-menu-button vjs-menu-button-popup vjs-control vjs-button",innerHTML:'<div class="vjs-control-text">'+this.localize("Settings")+"</div>",tabIndex:0},{role:"menuitem"})},SettingsMenuButton.prototype.pressButton=function(){return this.player().addClass("vjs-settings-active"),MenuButton.prototype.pressButton.call(this)},SettingsMenuButton.prototype.unpressButton=function(shouldNotFocus){this.player().removeClass("vjs-settings-active"),this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.el_.setAttribute("aria-expanded","false"),shouldNotFocus||this.el_.focus())},SettingsMenuButton.prototype.createItems=function(){var autoplayMenuItem,items;return items=[],autoplayMenuItem=new AutoplayMenuItem(this,{}),autoplayMenuItem.on("click",function(){}),items.push(autoplayMenuItem),items.push(new CaptionsMenuItem(this.player_,{})),IS_SAFARI||items.push(new CaptionSettingsMenuItem(this.player_,{kind:"captions"})),items},videojs.registerComponent("SettingsMenuButton",SettingsMenuButton),videojs.plugin("settingsMenu",videoJsPlugin)}function videoJsPlugin(){var player=this;player.ready(function(){var fullscreenToggleIndex=player.controlBar.children().map(function(c){return c.name().toUpperCase()}).indexOf("FullscreenToggle".toUpperCase());player.controlBar.settingsMenuButton&&(player.controlBar.removeChild(player.controlBar.settingsMenuButton),delete player.controlBar.settingsMenuButton),player.controlBar.settingsMenuButton=player.controlBar.addChild("settingsMenuButton",{},fullscreenToggleIndex-1)})}function plugin(player){player.settingsMenu()}var FanPreferences=__webpack_require__(1),IS_SAFARI=/^((?!Chrome|Android).)*Safari/i.test(window.navigator&&window.navigator.userAgent);module.exports={init:init,plugin:plugin}},function(module,exports,__webpack_require__){"use strict";function SocialESPN(options){var SocialButtonESPN=__webpack_require__(40),SocialOverlayESPN=__webpack_require__(41),player=this,defaults={title:"",description:"",url:"",offset:"00:00:00",services:{facebook:!0,twitter:!0,google:!1,tumblr:!1,pinterest:!1,linkedin:!1,email:!0},accountId:3948005062001},init=function(options){var settings=videojs.mergeOptions(defaults,options);if(!(settings&&settings.services&&(settings.services.facebook||settings.services.twitter||settings.services.google||settings.services.tumblr||settings.services.pinterest||settings.services.linkedin||settings.services.email)))throw new Error("videojs-social requires at least one service to be enabled");player.controlBar.socialButtonESPN&&(player.controlBar.removeChild(player.controlBar.socialButtonESPN),delete player.controlBar.socialButtonESPN,player.socialOverlayESPN&&(player.removeChild(player.socialOverlayESPN),
delete player.socialOverlayESPN));var socialIndex=player.controlBar.children().map(function(c){return c.name().toUpperCase()}).indexOf("CustomControlSpacer".toUpperCase())+1;player.controlBar.socialButtonESPN=player.controlBar.addChild("socialButtonESPN",settings,socialIndex),player.socialOverlayESPN=player.addChild("socialOverlayESPN",settings),player.controlBar.socialButtonESPN.el().setAttribute("tabindex",0)};videojs.registerComponent("SocialButtonESPN",SocialButtonESPN),videojs.registerComponent("SocialOverlayESPN",SocialOverlayESPN),init(options)}module.exports=SocialESPN},function(module,exports,__webpack_require__){"use strict";var Button=videojs.getComponent("Button"),SocialButtonESPN=videojs.extend(Button,{constructor:function(player,options){player.socialButtonESPN&&player.controlBar.removeChild(player.socialButtonESPN),Button.call(this,player,options),this.on("touchstart",function(e){e.preventDefault(),player.socialOverlayESPN.show(),player.addClass("vjs-share-open").removeClass("vjs-controls-disabled")}),this.on("click",function(){player.socialOverlayESPN.show(),player.addClass("vjs-share-open").removeClass("vjs-controls-disabled")})},createEl:function(){return Button.prototype.createEl.call(this,"button",{className:"vjs-share-control vjs-control vjs-icon-share vjs-button",innerHTML:'<div class="vjs-control-content"><span class="vjs-control-text">'+this.player().localize("Share")+"</span></div>"},{"aria-live":"polite"})}});module.exports=SocialButtonESPN},function(module,exports,__webpack_require__){"use strict";var Component=videojs.getComponent("Component"),SocialOverlayESPN=videojs.extend(Component,{constructor:function(player,options){player.socialOverlayESPN&&player.removeChild(player.socialOverlayESPN),"undefined"==typeof options.pauseOnOpen&&(options.pauseOnOpen=!0),"undefined"==typeof options.showOffset&&(options.showOffset=!0),player.mediainfo.live&&(options.showOffset=!1),Component.call(this,player,options),this._bindServiceButtons(options.services),this.directLinkTextBox=this.el().querySelector("#direct-link-textbox"),this.directLinkCopy=this.el().querySelector("#direct-link-copy"),this.directLinkCopyIcon=this.el().querySelector("#directLink"),this.offsetContainer=this.el().querySelector("#start-offset-container"),this.offsetTextBox=this.el().querySelector("#start-offset-textbox"),this.offsetCheckBox=this.el().querySelector("#start-offset-checkbox"),this.embedCodeTextBox=this.el().querySelector("#embed-code-textbox"),this.embedCodeCopy=this.el().querySelector("#embed-code-copy"),this.embedCodeCopyIcon=this.el().querySelector("#embedLink"),this.socialLinksInputContainer=this.el().querySelector(".vjs-social-links-input-container"),this.socialLinksInputLabel=this.el().querySelector("#social-links-input-label"),this.socialLinksTextBox=this.el().querySelector("#social-links-textbox"),document.queryCommandSupported("copy")===!1&&Array.prototype.forEach.call(this.el().querySelectorAll(".social-copy-link"),function(el){el.parentNode.removeChild(el)});var _this=this;Array.prototype.forEach.call(this.el().querySelectorAll("svg"),function(el){el.addEventListener("click",function(e){var targetEl=e.target;"copy-svg"===targetEl.getAttribute("data-behavior")&&_this._handleCopy(targetEl)})}),this.on("keydown",function(event){"none"!==player.socialOverlayESPN.el().display&&27===event.keyCode&&(player.socialOverlayESPN.hide(),player.removeClass("vjs-share-open"))}),this.on("change",function(event){var targetEl=event.target;targetEl===this.offsetTextBox&&(this.offsetTextBox.value=this._cleanupTimeString(this.offsetTextBox.value),this.directLinkTextBox.value=this._getDirectLinkWithTime("1"===this.offsetCheckBox.value),this._resetDirectLinkState())}),this.on("click",function(event){var targetEl=event.target,behavior=event.target.getAttribute("data-behavior"),targetClassName=targetEl.className&&"string"==typeof targetEl.className?targetEl.className:"";targetClassName.indexOf("vjs-social-cancel")!==-1?(player.socialOverlayESPN.hide(),player.removeClass("vjs-share-open")):"copy"===behavior?(event.preventDefault(),this._handleCopy(targetEl)):targetEl===this.offsetCheckBox?(targetEl.value="0"===targetEl.value?"1":"0",this.updateState(),this._resetDirectLinkState()):"default"===behavior&&(this._resetEmbedCodeState(),this._resetDirectLinkState(),this.socialLinksInputContainer.className=this.socialLinksInputContainer.className.replace("social-input-container-shown",""))})},createEl:function(){var player=this.player(),options=this.options_;return Component.prototype.createEl.call(this,"div",{className:"vjs-social-overlay vjs-modal-dialog vjs-hidden",tabindex:-1,innerHTML:'<div class="vjs-social-container" tabindex="0"><button class="vjs-close-button vjs-control vjs-icon-cancel vjs-button vjs-social-cancel"><span class="vjs-control-text" aria-label="'+player.localize("Close button")+'">'+player.localize("Close")+'</span></button><div class="vjs-modal-dialog-content" role="document"><form class="social-form"><div class="vjs-social-share-links">'+this._addSocialButtons(options.services)+'<div class="vjs-social-links-input-container"><label id="social-links-input-label" class="vjs-social-label-text" for="social-links-textbox">'+player.localize("URL")+'</label><input id="social-links-textbox" class="social-links-textbox" type="text" tabindex="10" readonly="true" value=""></div></div><div class="vjs-social-direct-link-container vjs-social-direct-link" aria-label="Read Only: Direct Link To Content"><div class="direct-link-header-container"><label class="vjs-social-label-text" for="direct-link-textbox">'+player.localize("URL")+'</label><span id="start-offset-container"><input type="checkbox" id="start-offset-checkbox" value="0"><label for="start-offset-checkbox">'+player.localize("Start at")+'</label><input id="start-offset-textbox" class="start-offset-textbox" type="text" title="The offset must be specified using the following pattern: hh:mm:ss" placeholder="hh:mm:ss" maxlength="10" value="00:00:00"></span><a data-behavior="copy" href="#" id="direct-link-copy" class="social-copy-link">'+player.localize("Copy")+'</a></div><input id="direct-link-textbox" class="direct-link-textbox has-link-icon" type="text" tabindex="8" readonly="true" value=""></div><div class="vjs-social-embed-container vjs-social-embed-code" aria-label="Read Only: Embed Code" style="'+(options.syndicatable?"":"display: none;")+'"><div class="direct-link-header-container"><label for="embed-code-textbox" class="vjs-social-label vjs-social-label-text">'+player.localize("Embed Code")+'</label><a data-behavior="copy" href="#" id="embed-code-copy" class="social-copy-link">'+player.localize("Copy")+'</a></div><input id="embed-code-textbox" class="embed-code-textbox has-link-icon" type="text" tabindex="10" readonly="true" value=""></div></form></div></div>'},{"aria-role":"dialog","aria-label":player.localize("Sharing Dialog")})},clearState:function(){this.offsetCheckBox.value="0",this.offsetCheckBox.checked=!1,this._resetEmbedCodeState(),this._resetDirectLinkState(),this.directLinkTextBox.value=this._getDirectLinkWithTime(!1)},updateState:function(){var player=this.player(),options=this.options_;options.showOffset||(this.offsetContainer.style.display="none");var includeTime="1"===this.offsetCheckBox.value;includeTime?this.offsetTextBox.className+=" offset-active":this.offsetTextBox.className=this.offsetTextBox.className.replace(/ offset-active/,"");var currentPlayerTime=player.ads&&"ad-playback"!==player.ads.state?this._formatSeconds(player.currentTime()):"00:00";this.offsetTextBox.value=currentPlayerTime,options.syndicatable&&(this.embedCodeTextBox.value=this._getEmbedCode()),this.directLinkTextBox.value=this._getDirectLinkWithTime(includeTime),this._bindServiceButtons(options.services)},hide:function(){Component.prototype.hide.call(this);var player=this.player();player.trigger("socialclosed"),player.controls(!0),this.clearState(),this.previouslyPlaying&&setTimeout(function(){player.play()}.bind(this),0),player.controlBar.socialButtonESPN.el().focus()},show:function(){Component.prototype.show.call(this);var player=this.player();player.trigger("socialopened"),this.updateState(),player.controls(!1),this.options_.pauseOnOpen&&(player.paused()?this.previouslyPlaying=!1:(this.previouslyPlaying=!0,player.pause())),this.el().querySelector(".vjs-social-share-links a:first-child").focus()}});SocialOverlayESPN.prototype._getMailToLink=function(){var options=this.options_,mailToLink=options.mailToLink,directLink=this._getDirectLinkWithTime(!1),bodyPrefix=this.player().localize("Check out this video on ESPN");return mailToLink=mailToLink.replace("{{subject}}",encodeURIComponent(options.title)).replace("{{body}}",bodyPrefix+": "+encodeURIComponent(directLink))},SocialOverlayESPN.prototype._resetEmbedCodeState=function(){var player=this.player();this.embedCodeCopy.className=this.embedCodeCopy.className.replace(/ copied/,""),this.embedCodeCopyIcon&&(this.embedCodeCopyIcon.parentNode.className=this.embedCodeCopyIcon.parentNode.className.replace(/ copied/,"")),this.embedCodeCopy.textContent=player.localize("Copy")},SocialOverlayESPN.prototype._resetDirectLinkState=function(){var player=this.player();this.directLinkCopy.className=this.directLinkCopy.className.replace(/ copied/,""),this.directLinkCopyIcon&&(this.directLinkCopyIcon.parentNode.className=this.directLinkCopyIcon.parentNode.className.replace(/ copied/,"")),this.directLinkCopy.textContent=player.localize("Copy")},SocialOverlayESPN.prototype._setSocialLinksInput=function(value){this.socialLinksTextBox.value=value,this.socialLinksInputContainer.className+=" social-input-container-shown",this.socialLinksTextBox.select()},SocialOverlayESPN.prototype._handleCopy=function(targetEl){var isEmbedIcon=targetEl===this.embedCodeCopyIcon,isEmbedLink=targetEl===this.embedCodeCopy,isDirectLinkIcon=targetEl===this.directLinkCopyIcon,isDirectLink=targetEl===this.directLinkCopy,player=this.player();this._resetEmbedCodeState(),this._resetDirectLinkState(),this.socialLinksInputContainer.className=this.socialLinksInputContainer.className.replace("social-input-container-hidden",""),this.socialLinksInputContainer.className=this.socialLinksInputContainer.className.replace("social-input-container-shown",""),isDirectLink?this.directLinkTextBox.select():isEmbedLink&&this.embedCodeTextBox.select(),isDirectLinkIcon||isDirectLink?this._setSocialLinksInput(this.directLinkTextBox.value):(isEmbedIcon||isEmbedLink)&&this._setSocialLinksInput(this.embedCodeTextBox.value),this.socialLinksInputLabel.textContent=isEmbedIcon||isEmbedLink?this.player().localize("Embed Code"):this.player().localize("URL");try{document.execCommand("copy")&&(isEmbedLink||isEmbedIcon?(this.embedCodeCopy.className+=" copied",this.embedCodeCopy.textContent=this.embedCodeCopy.className.indexOf("copied")!==-1?player.localize("Copied"):player.localize("Copy"),this.embedCodeCopyIcon&&(this.embedCodeCopyIcon.parentNode.className+=" copied")):(isDirectLink||isDirectLinkIcon)&&(this.directLinkCopy.className+=" copied",this.directLinkCopy.textContent=this.directLinkCopy.className.indexOf("copied")!==-1?player.localize("Copied"):player.localize("Copy"),this.directLinkCopyIcon&&(this.directLinkCopyIcon.parentNode.className+=" copied")))}catch(err){}},SocialOverlayESPN.prototype._bindServiceButtons=function(serviceButtons){var service,encodedUrl,encodedTitle,encodedDescription,encodedPoster,options=this.options_,posterUrl=this.player().poster();encodedUrl=encodeURIComponent(this._getUrl()),encodedTitle=encodeURIComponent(this._getTitle()),encodedDescription=encodeURIComponent(options.description),posterUrl&&(encodedPoster=encodeURIComponent(posterUrl));for(service in serviceButtons)serviceButtons[service]===!0&&this._bindServiceButton(service,encodedUrl,encodedTitle,encodedDescription,encodedPoster)},SocialOverlayESPN.prototype._bindServiceButton=function(service,encodedUrl,encodedTitle,encodedDescription,encodedPoster){switch(service){case"facebook":this._attachServiceButtonHandler(".vjs-icon-facebook","https://www.facebook.com/sharer/sharer.php?u={URL}&title={TITLE}".replace("{URL}",encodedUrl).replace("{TITLE}",encodedTitle));break;case"google":this._attachServiceButtonHandler(".vjs-icon-gplus","https://plus.google.com/share?url={URL}".replace("{URL}",encodedUrl));break;case"twitter":this._attachServiceButtonHandler(".vjs-icon-twitter","https://twitter.com/intent/tweet?original_referer=https%3A%2F%2Fabout.twitter.com%2Fresources%2Fbuttons&text={TITLE}&tw_p=tweetbutton&url={URL}".replace("{URL}",encodedUrl).replace("{TITLE}",encodedTitle));break;case"tumblr":this._attachServiceButtonHandler(".vjs-icon-tumblr","http://www.tumblr.com/share?v=3&u={URL}&t={TITLE}".replace("{URL}",encodedUrl).replace("{TITLE}",encodedTitle));break;case"pinterest":this._attachServiceButtonHandler(".vjs-icon-pinterest","https://pinterest.com/pin/create/button/?url={URL}{POSTER}&description={TITLE}&is_video=true".replace("{URL}",encodedUrl).replace("{TITLE}",encodedTitle).replace("{POSTER}",encodedPoster?"&media="+encodedPoster:""));break;case"linkedin":this._attachServiceButtonHandler(".vjs-icon-linkedin","https://www.linkedin.com/shareArticle?mini=true&url={URL}&title={TITLE}&summary={DESCRIPTION}&source=Classic".replace("{URL}",encodedUrl).replace("{TITLE}",encodedTitle).replace("{DESCRIPTION}",encodedDescription));break;case"email":this._attachServiceButtonHandler(".vjs-icon-email",this._getMailToLink());break;case"directlink":this._attachServiceButtonHandler(".vjs-icon-directlink");break;case"embed":this._attachServiceButtonHandler(".vjs-icon-embed");break;default:throw new Error("An unsupported social service was specified.")}},SocialOverlayESPN.prototype._handleServiceButtonClick=function(e){var behavior=e.target.getAttribute("data-behavior");"show-email"!==behavior&&e.preventDefault(),("default"===behavior||"twitter"===behavior&&"undefined"==typeof window.twttr)&&window.open(e.target.href,"_blank","width=600, height=400, top=100, left=100, titlebar=yes, modal=yes, resizable=yes, toolbar=no, status=1, location=no, menubar=no, centerscreen=yes")},SocialOverlayESPN.prototype._getEmbedCode=function(){var embedCode=this.options_.embedCode;return embedCode},SocialOverlayESPN.prototype._getUrl=function(){var url,options=this.options_;return url=options.url?options.url:window.parent!=window?document.referrer:window.location.href},SocialOverlayESPN.prototype._getDirectLinkWithTime=function(includeTime){var offset,player=this.player(),url=this._getUrl();if(includeTime&&(offset=this.offsetTextBox.value),offset){this._deFormatSeconds(offset)>=player.duration()&&(this.offsetTextBox.value=offset=this._formatSeconds(player.currentTime())||"00:00");for(var offsetArr=offset.split(":"),param="",unit="",i=0,len=offsetArr.length;i<len;i++){switch(i){case 0:unit="s";break;case 1:unit="m";break;case 2:unit="h"}param=offsetArr.pop()+unit+param}var sep=url.indexOf("?")!==-1?"&":"?";url=url+sep+"t="+param}return url},SocialOverlayESPN.prototype._getTitle=function(){var playerOptions,options=this.options_,title=options.title;return title||(playerOptions=this.player().options_,playerOptions["data-media"]&&playerOptions["data-media"].title&&(title=playerOptions["data-media"].title)),title||""},SocialOverlayESPN.prototype._attachServiceButtonHandler=function(elementSelector,url){var el=this.el().querySelector(elementSelector);el&&(el.player=this,el.href=url||"#",el.removeEventListener("touchend",this._handleServiceButtonClick,!1),el.addEventListener("touchend",this._handleServiceButtonClick,!1),el.removeEventListener("click",this._handleServiceButtonClick,!1),el.addEventListener("click",this._handleServiceButtonClick,!1))},SocialOverlayESPN.prototype._addSocialButtons=function(services){var servicesHtml,service;servicesHtml="";for(service in services)services[service]===!0&&(servicesHtml+=this._addServiceButton(service));return servicesHtml},SocialOverlayESPN.prototype._addServiceButton=function(service){var player=this.player(),link="";switch(service){case"facebook":link='<a data-behavior="default" class="vjs-social-share-link vjs-icon-facebook" aria-role="link" aria-label="Share on Facebook" tabindex="1" title="Facebook" target="_blank"><span class="vjs-control-text">Facebook</span></a>';break;case"google":link='<a data-behavior="default" class="vjs-social-share-link vjs-icon-gplus" aria-role="link" aria-label="Share on Google Plus" tabindex="2" title="Google+" target="_blank"><span class="vjs-control-text">Google+</span></a>';break;case"twitter":link='<a data-behavior="twitter" class="vjs-social-share-link vjs-icon-twitter" aria-role="link" aria-label="Share on Twitter" tabindex="3" title="Twitter" target="_blank"><span class="vjs-control-text">Twitter</span></a>';break;case"tumblr":link='<a data-behavior="default" class="vjs-social-share-link vjs-icon-tumblr" aria-role="link" aria-label="Share on Tumblr" tabindex="4" title="Tumblr" target="_blank"><span class="vjs-control-text">tumblr</span></a>';break;case"pinterest":link='<a data-behavior="default" class="vjs-social-share-link vjs-icon-pinterest" aria-role="link" aria-label="Share on Pinterest" tabindex="5" title="Pinterest" target="_blank"><span class="vjs-control-text">Pinterest</span></a>';break;case"linkedin":link='<a data-behavior="default" class="vjs-social-share-link vjs-icon-linkedin" aria-role="link" aria-label="Share on LinkedIn" tabindex="6" title="LinkedIn" target="_blank"><span class="vjs-control-text">LinkedIn</span></a>';break;case"email":link='<a data-behavior="show-email" class="vjs-social-share-link vjs-icon-email" aria-role="link" aria-label="Share via Email" tabindex="7" title="Email"><span class="vjs-control-text">'+player.localize("Email")+"</span></a>";break;case"directlink":link='<a class="vjs-social-share-link vjs-icon-directlink" aria-role="link" aria-label="Direct link" tabindex="8" title="Direct Link"><svg data-behavior="copy-svg" id="directLink" x="0px" y="0px" viewBox="119.1 223.8 356.4 359.4" enable-background="new 119.1 223.8 356.4 359.4" xml:space="preserve"><path fill="#FFFFFF" d="M290.9,310.1c-10.4,10.4-14.9,22.3-14.9,35.7c0,13.4,4.5,26.8,13.4,37.2l17.9-17.9 c-4.5-6-7.4-11.9-7.4-19.3c0-7.4,3-13.4,7.4-19.3l69.9-69.9c6-6,11.9-7.4,19.3-7.4s14.9,3,19.3,7.4l26.8,26.8 c6,6,7.4,11.9,7.4,19.3c0,7.4-3,14.9-7.4,19.3l-69.9,69.9c-6,6-11.9,7.4-19.3,7.4c-7.4,0-13.4-3-19.3-7.4l-16.4,19.3 c10.4,8.9,22.3,13.4,37.2,13.4c13.4,0,26.8-6,35.7-14.9l69.9-69.9c10.4-10.4,14.9-22.3,14.9-37.2c0-14.9-6-26.8-14.9-37.2 l-26.8-26.8c-10.4-10.4-22.3-14.9-37.2-14.9c-14.9,0-26.8,4.5-37.2,14.9L290.9,310.1z"/><path fill="#FFFFFF" d="M243.3,440.3c-4.5,4.5-6,11.9,0,17.9c4.5,4.5,13.4,4.5,17.9,0l91.5-91.5c4.5-4.5,4.5-13.4,0-17.9 c-6-6-13.4-4.5-17.9,0L243.3,440.3z"/><path fill="#FFFFFF" d="M133.9,467.1c-10.4,10.4-14.9,22.3-14.9,37.2s4.5,26.8,14.9,37.2l26.8,26.8 c10.4,10.4,22.3,14.9,37.2,14.9s26.8-6,37.2-14.9l69.9-69.9c10.4-10.4,14.9-22.3,14.9-35.7s-4.5-26.8-13.4-37.2l-19.3,16.4 c6,6,7.4,11.9,7.4,19.3c0,7.4-3,13.4-7.4,19.3l-69.9,69.9c-6,6-11.9,7.4-19.3,7.4c-7.4,0-14.9-3-19.3-7.4l-26.8-26.8 c-6-4.5-7.4-11.9-7.4-19.3c0-7.4,3-14.9,7.4-19.3l69.9-69.9c6-6,11.9-7.4,19.3-7.4c7.4,0,13.4,3,19.3,7.4l17.9-17.9 c-10.4-10.4-22.3-14.9-37.2-13.4c-13.4,0-26.8,6-35.7,14.9L133.9,467.1z"/></svg><span class="vjs-control-text">Copy Link</span></a>';break;case"embed":link='<a class="vjs-social-share-link vjs-icon-embed" aria-role="link" aria-label="Embed link" tabindex="9" title="Embed"><svg data-behavior="copy-svg" id="embedLink" x="0px" y="0px" viewBox="119.1 293 357.2 256" enable-background="new 119.1 293 357.2 256" xml:space="preserve"><path fill="#FFFFFF" d="M476.2,423.2l-81.1,81.1l-9.7-9.7l70.7-71.4l-70.7-70.7l9.7-9.7L476.2,423.2z"/><polygon fill="#FFFFFF" points="261.9,548.9 249.3,546 326.7,293 339.3,295.2  "/><path fill="#FFFFFF" d="M119.1,423.2l81.1-80.4l9.7,9.7l-70.7,70.7l70.7,71.4l-9.7,9.7L119.1,423.2z"/></svg></span><span class="vjs-control-text">Copy Embed Link</span></a>';break;default:throw new Error("An unsupported social service was specified.")}return link},SocialOverlayESPN.prototype._zeroPadNumber=function(number){return 1===String(number).length?"0"+number:number},SocialOverlayESPN.prototype._cleanupTimeString=function(value){var parts=value.split(":");if(1===parts.length)return this._formatSeconds(parts[0]);for(var i=0,len=parts.length;i<len;i++)parts[i]=isNaN(parseInt(parts[i]))?"00":this._zeroPadNumber(parseInt(parts[i]));return parts.join(":")},SocialOverlayESPN.prototype._formatSeconds=function(seconds){var secs=Number(seconds);if(isNaN(secs))return"00:00";var h=Math.floor(secs/3600),m=Math.floor(secs%3600/60),s=Math.floor(secs%3600%60);return h=h>0?(h<10?"0"+h:h)+":":"",m=(m>0?m<10?"0"+m:m:"00")+":",s=s<10?"0"+s:s,h+m+s},SocialOverlayESPN.prototype._deFormatSeconds=function(value){var parts=value.split(":");if(1===parts.length)return isNaN(1*parts[0])?0:1*parts[0];var s=1*parts.pop(),m=60*(parts.pop()||0),h=3600*(parts.pop()||0);return h+m+s},module.exports=SocialOverlayESPN},function(module,exports,__webpack_require__){"use strict";function init(){var volume,muted,plugin;volume=1,muted=!1,plugin=function(opts){var adControlBar,_dispose,fwPlugin,options,player,mouseOut,muteStorageKey,onAdsRequest,onFlashAdVolumeChange,onReady,onVolumeChange,persistedMute,persistedVolume,storageNamespace,volumeMenuButton,volumeStorageKey;player=this,options=opts||{},storageNamespace=options.namespace||"espn",volumeStorageKey=storageNamespace+"-volume",muteStorageKey=storageNamespace+"-mute",null!==options.value&&void 0!==options.value?(volume=options.value,localStorage.setItem(volumeStorageKey,volume)):(persistedVolume=localStorage.getItem(volumeStorageKey),null!==persistedVolume&&(volume=persistedVolume)),null!==options.muted&&void 0!==options.muted?(muted=options.muted===!0||"true"===options.muted,localStorage.setItem(muteStorageKey,muted)):(persistedMute=localStorage.getItem(muteStorageKey),null!==persistedMute&&(muted="true"===persistedMute)),mouseOut=function(){player.removeClass("evp-volume-menu-active"),player.addClass("evp-volume-menu-inactive")},onAdsRequest=function(){adControlBar=player.childNameIndex_.adControlBar,adControlBar&&adControlBar.volumeMenuButton&&adControlBar.volumeMenuButton.on("mouseout",mouseOut),fwPlugin=player.FreeWheelPlugin,"Flash"===fwPlugin.tech&&fwPlugin.adPlayer.on("volumechange",onFlashAdVolumeChange)},onFlashAdVolumeChange=function(){"ad-playback"===player.ads.state&&(fwPlugin.adPlayer.muted()||(volume=fwPlugin.adPlayer.volume(),localStorage.setItem(volumeStorageKey,volume)),muted=fwPlugin.adPlayer.muted(),localStorage.setItem(muteStorageKey,muted))},onVolumeChange=function(){player.muted()&&0===player.volume()||(volume=player.volume(),localStorage.setItem(volumeStorageKey,volume)),muted=player.muted(),localStorage.setItem(muteStorageKey,muted)},onReady=function(){player.volume(volume),player.muted(muted)},player.ready(function(){volumeMenuButton=player.controlBar.volumeMenuButton,volumeMenuButton.on("mouseout",mouseOut)}),_dispose=function(){player.off("dispose",_dispose),player.off("ready",onReady),player.off("volumechange",onVolumeChange),volumeMenuButton&&volumeMenuButton.off("mouseout",mouseOut),adControlBar&&adControlBar.volumeMenuButton&&adControlBar.volumeMenuButton.off("mouseout",mouseOut)},player.on("dispose",_dispose),player.on("ready",onReady),player.on("volumechange",onVolumeChange),player.one("ads-request",onAdsRequest)},videojs.plugin("espnVolumeMenuButton",plugin)}module.exports={init:init}},function(module,exports,__webpack_require__){"use strict";function isHtmlElement(val){return"[object HTMLDivElement]"===Object.prototype.toString.call(val)}function createDefaultEndCardElement(player,relatedContent,stopTimeoutHandler,timeoutHandler){var content=relatedContent,element=document.createElement("div");if(element.className="evp-endcard",content){element.innerHTML='<div class="evp-endcard-wrap"><h2>'+player.localize("Up Next")+'</h2><span class="evp-endcard-next-title">'+content.headline+"</span></div>";var thumbnailElement=document.createElement("div");thumbnailElement.className="evp-endcard-next-thumbnail";var circleElementId="evp-endcard-timer-circle_"+player.id(),timeoutButtonElement=document.createElement("span");timeoutButtonElement.className="evp-endcard-timeout-button",timeoutButtonElement.innerHTML='<svg width="54" height="54" class="evp-endcard-timer"><circle id="'+circleElementId+'" class="start-timer" r="23.57" cy="27" cx="27" stroke-width="4" stroke="#ffffff" fill="none"/></svg>',timeoutButtonElement.addEventListener("click",function(){_intervalId?stopTimeoutHandler():timeoutHandler(!0)});var i=1,intervalCount=_timeoutDelay;_intervalId=setInterval(function(){var el=document.getElementById(circleElementId);el&&(el.style.strokeDashoffset=INITIAL_OFFSET-i*(INITIAL_OFFSET/_timeoutDelay)),intervalCount-=1,intervalCount<=0&&(stopInterval(),timeoutHandler(!1)),i++},1e3);var imgElement=document.createElement("img");imgElement.src=content.poster,thumbnailElement.appendChild(timeoutButtonElement),thumbnailElement.appendChild(imgElement),element.appendChild(thumbnailElement)}return element}function stopInterval(){_intervalId&&(clearInterval(_intervalId),_intervalId=null)}function videoJsPlugin(options){function getRelatedContent(content,country,callback){var clipId=content.id,api=new API;api.getRelated(clipId,{country:country},function(err,clips){if(err||!clips||0===clips.length)return void callback(content);playlist=(clips||[]).filter(function(clip){return _playHistory.indexOf(clip.id)===-1&&_playHistory.indexOf(clip.mediaId)===-1}),playlist=playlist.length>0?playlist:clips;var relatedContent=playlist.shift();callback(relatedContent||[])})}var endcardElement,player=this,playlist=options&&options.playlist||[],timeoutHandler=options&&options.timeoutHandler||function(){};_content=options&&options.content,_country=options&&options.country,_timeoutDelay=options&&options.timeout||TIMEOUT_DELAY_SECONDS_DEFAULT,isHtmlElement(_content)&&(endcardElement=_content);var play=function(){player.play()},stopTimeout=function(){stopInterval(),player.removeClass("evp-endcard-timeout-active"),player.addClass("evp-endcard-timeout-stopped")},hide=function(){stopInterval(),endcardElement&&player.el().removeChild(endcardElement),player.removeClass("evp-endcard-open"),player.removeClass("evp-endcard-timeout-active"),player.removeClass("evp-endcard-timeout-stopped"),endcardElement=null},onVideoPlay=function(){hide()},onContentReceived=function(content){player.paused()?(endcardElement=createDefaultEndCardElement(player,content,stopTimeout,function(wasManual){timeoutHandler(content,wasManual)}),player.el().appendChild(endcardElement),player.addClass("evp-endcard-open"),player.addClass("evp-endcard-timeout-active")):hide()},onVideoEnded=function(){if(!player.ads.state||"content-playback"===player.ads.state){if(endcardElement)player.el().appendChild(endcardElement),player.addClass("evp-endcard-open");else if(_content)if(_playHistory.push(_content.id),playlist&&playlist.length>0){var nextClip=playlist.shift();nextClip&&nextClip.id&&nextClip.headline&&nextClip.poster?onContentReceived(nextClip):getRelatedContent(_content,_country,onContentReceived)}else getRelatedContent(_content,_country,onContentReceived);player.one("contentupdate",play),player.one("play",onVideoPlay),player.one("socialopened",stopTimeout)}},dispose=function dispose(){stopInterval(),player.off("dispose",dispose),player.off("switch",dispose),player.off("ended",onVideoEnded),player.off("play",onVideoPlay),player.off("contentupdate",play),player.off("socialopened",stopTimeout),_playHistory=[],_content=null,_initialized=!1,_first=!0};player.one("dispose",dispose),player.one("switch",dispose),_first&&(_first=!1,player.on("ended",onVideoEnded))}function init(){videojs.plugin("endcard",videoJsPlugin),_initialized=!0}var _content,_country,_intervalId,API=__webpack_require__(7),TIMEOUT_DELAY_SECONDS_DEFAULT=5,INITIAL_OFFSET="180",_initialized=!1,_first=!0,_playHistory=[],_timeoutDelay=TIMEOUT_DELAY_SECONDS_DEFAULT;module.exports={init:init}},function(module,exports,__webpack_require__){"use strict";function videoJsPlugin(){var player=this,stateFeedbackButton=player.addChild("stateFeedbackButton");player.stateFeedbackButton=stateFeedbackButton,player.on("pause",function(){}),player.on("play",function(){})}function init(){var Component=videojs.getComponent("Component"),Button=videojs.getComponent("Button"),StateFeedbackButton=videojs.extend(Button,{constructor:function(player,options){Button.call(this,player,options)},createEl:function(){return Component.prototype.createEl.call(this,"div",{className:"espn-player-state-feedback-button",innerHTML:""})}});Component.registerComponent("StateFeedbackButton",StateFeedbackButton),videojs.plugin("stateFeedbackButton",videoJsPlugin),_initialized=!0}function plugin(player){_initialized||init(),player.stateFeedbackButton()}var _initialized=!1;module.exports={init:init,plugin:plugin}},function(module,exports,__webpack_require__){"use strict";function videoJsPlugin(){for(var thumbnailHolderElement,player=this,progressControl=player.controlBar.progressControl,childNodes=progressControl.el().childNodes,i=0;i<childNodes.length;++i)if("vjs-thumbnail-holder"===childNodes[i].className){thumbnailHolderElement=childNodes[i];break}if(thumbnailHolderElement){var mouseTimeDisplay=player.controlBar.progressControl.seekBar.mouseTimeDisplay,timeElement=document.createElement("span");timeElement.className="vjs-thumbnail-time-tooltip",thumbnailHolderElement.appendChild(timeElement);var moveListener=function(){var currentTime=mouseTimeDisplay.el().getAttribute("data-current-time");timeElement.innerHTML=currentTime};progressControl.on("mousemove",moveListener),progressControl.on("touchmove",moveListener),mouseTimeDisplay.addClass("vjs-time-tooltip-hidden")}}function plugin(player){videojs&&videojs.plugin("thumbnailTime",videoJsPlugin),player.thumbnailTime()}module.exports={plugin:plugin}},function(module,exports,__webpack_require__){"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),NativeOmniture=function(){function NativeOmniture(player,options){_classCallCheck(this,NativeOmniture),this.player=player,this.options=options,this.options.s_omni&&this.options.s_omni.visitor&&(this.options.s_omni.visitor.getAnalyticsVisitorID&&"function"==typeof this.options.s_omni.visitor.getAnalyticsVisitorID&&(this.aid=this.options.s_omni.visitor.getAnalyticsVisitorID()),this.options.s_omni.visitor.getMarketingCloudVisitorID()&&(this.mid=this.options.s_omni.visitor.getMarketingCloudVisitorID())),player.on("play",this.onPlay.bind(this)),player.on("ended",this.onEnded.bind(this))}return _createClass(NativeOmniture,[{key:"fireTrackingBeacon",value:function(eventString){var cmsId,param,params,queryString;this.img||(this.img=new Image,this.img.id="html5playerAnalytics",document.body.appendChild(this.img)),cmsId=this.options.cmsId||this.player.mediainfo.name,params={pe:"media",c3:cmsId,v2:cmsId,events:eventString,v20:this.options.playerLocation+":"+this.options.showCode,c1:this.options.site},this.aid&&(params.aid=this.aid),this.mid&&(params.mid=this.mid),queryString=[];for(param in params)queryString.push(param+"="+encodeURIComponent(params[param]));this.img.src=(this.options.secure?"https":"http")+"://"+this.options.trackingServer+"/b/ss/"+this.options.reportSuites+"/5.4/REDIR/"+Date.now()+"?"+queryString.join("&");
}},{key:"onPlay",value:function(){var duration;duration=this.player.duration(),this.fireTrackingBeacon("event1,event14="+(duration&&duration.toFixed(2)))}},{key:"onEnded",value:function(){this.fireTrackingBeacon("event11")}}]),NativeOmniture}();module.exports=NativeOmniture},function(module,exports,__webpack_require__){"use strict";module.exports={BASE_URL:"https://watch.auth.api.espn.com/video/auth",API_KEY:"5p8m6dw513q716wt2os04mec3"}},function(module,exports,__webpack_require__){"use strict";module.exports={mailToLink:"mailto:?subject={{subject}}&body={{body}}",sendMailUrl:"http://proxy.espn.com/videohub/player/sendMail?id={{id}}&clipName={{clipName}}&youremail={{youremail}}&friendemail={{friendemail}}&message={{message}}&videoImage={{videoImage}}",embedCode:'<iframe width="640" height="360" src="http://www.espn.com/core/video/iframe?id={{ID}}&endcard=false" allowfullscreen frameborder="0"></iframe>',embedUrlTemplate:"//players.brightcove.net/{{account_id}}/{{player_id}}_{{embed_id}}/index.html{{video_id}}{{offset}}",deeplinking:!0,services:{facebook:!0,google:!1,twitter:!0,tumblr:!1,pinterest:!1,linkedin:!1,email:!0,directlink:!0,embed:!0}}},function(module,exports,__webpack_require__){"use strict";function mergeCustomizer(objValue,srcValue){if(null===srcValue)return objValue}var Social,config,merge;merge=__webpack_require__(0),config=__webpack_require__(48),Social=function(){function Social(mediainfo,callback,options){var opts=merge({},config,mergeCustomizer);options&&merge(opts,options,mergeCustomizer),opts.id=opts.id||(mediainfo.site?mediainfo.site+":"+mediainfo.advertisingId:mediainfo.id),opts.title=mediainfo.headline||mediainfo.pageTitle,opts.description=mediainfo.description,opts.url=opts.url&&opts.url.replace(/{{ID}}/g,mediainfo.id)||opts.url||mediainfo.web,opts.poster=mediainfo.poster,opts.syndicatable=!!mediainfo.syndicatable,opts.embedCode=opts.embedCode&&opts.embedCode.replace(/{{ID}}/g,mediainfo.id),opts.pauseOnOpen=!0,opts.showOffset=!0,opts.services&&opts.services.embed&&(opts.services.embed=opts.syndicatable),"live"===mediainfo.type&&(opts.pauseOnOpen=!1,opts.showOffset=!1),callback(opts)}return Social}(),module.exports=Social},function(module,exports,__webpack_require__){"use strict";function mergeCustomizer(objValue,srcValue){if(null===srcValue)return objValue}var API,StreamLimiter,config,merge,request;request=__webpack_require__(2),API=__webpack_require__(7),config={baseURL:"https://streams.adobeprimetime.com/v1/"},merge=__webpack_require__(0),StreamLimiter=function(){function StreamLimiter(player,options){var endpoint;merge(config,options,mergeCustomizer),this.accountId=config.accountId,this.baseURL=config.baseURL,this.player=player,endpoint=new API,endpoint.getProvidersByClient("watchespn-flash",function(_this){return function(error,providers){if(_this.mvpd=providers.filter(function(provider){return provider.abbreviation===config.mvpd})[0],_this.accountId&&_this.mvpd&&_this.mvpd.streamLimiting&&_this.mvpd.abbreviation)return _this.heartbeat=_this.mvpd.streamLimiting.heartbeat,_this.statusCheck=_this.mvpd.streamLimiting.statusCheck,_this.streamLimit=_this.mvpd.streamLimiting.streamLimit||3,_this.statusCheck.url=""+_this.baseURL+encodeURIComponent(_this.mvpd.streamLimiting.context)+"/"+encodeURIComponent(_this.mvpd.abbreviation)+"/accounts/"+encodeURIComponent(_this.accountId)+"/streams",request.post(_this.statusCheck.url).query({initiator:"ESPN",programmer:"ESPN"}).set("Accept","application/json").end(function(error,res){if(_this.streamId=res.body.streamId,_this.streamStart=res.body.streamStart,_this.heartbeat.url=res.body._links&&res.body._links.heartbeat&&res.body._links.heartbeat.href,_this.heartbeat.url)return _this.heartbeat.timeout=setTimeout(_this.sendHeartbeat.bind(_this),1e3*_this.heartbeat.initialDelay),void(_this.statusCheck.timeout=setTimeout(_this.sendStatusCheck.bind(_this),1e3*_this.statusCheck.initialDelay))})}}(this)),this.player.player().on("error",function(){var error=this.player.player().error();this.heartbeat.url&&["STREAM_LIMITED","STREAM_LIMIT_ERROR"].indexOf(error.message)===-1&&this.terminate()}.bind(this)),this.player.player().one("dispose",function(){this.heartbeat.url&&this.terminate()}.bind(this))}return StreamLimiter.prototype.accountId=void 0,StreamLimiter.prototype.mvpd={},StreamLimiter.prototype.heartbeat={},StreamLimiter.prototype.statusCheck={},StreamLimiter.prototype.streamLimit=3,StreamLimiter.prototype.streamId=null,StreamLimiter.prototype.streamStart=null,StreamLimiter.prototype.sendHeartbeat=function(){clearTimeout(this.heartbeat.timeout),this.heartbeat.timeout=setTimeout(function(_this){return function(){return request.post(_this.heartbeat.url.replace("{event}","alive")).end(function(error){return error&&_this.handleError(),_this.sendHeartbeat()})}}(this),1e3*this.heartbeat.interval)},StreamLimiter.prototype.sendStatusCheck=function(){clearTimeout(this.statusCheck.timeout),this.statusCheck.timeout=setTimeout(function(_this){return function(){return request.get(_this.statusCheck.url).query({programmer:"ESPN",status:"active"}).set("Accept","application/json").end(function(error,res){var rank;return error&&_this.handleError(),rank=_this.rankStreams(res.body._embedded&&res.body._embedded.streams),rank>_this.streamLimit?(_this.onLimitReached(_this.accountId),_this.terminate()):_this.sendStatusCheck()})}}(this),1e3*this.statusCheck.interval)},StreamLimiter.prototype.rankStreams=function(streams){return streams.reduce(function(_this){return function(previous,current){return current.streamStart>_this.streamStart?previous+1:previous}}(this),1)},StreamLimiter.prototype.errorCount=0,StreamLimiter.prototype.handleError=function(){if(this.errorCount++,this.errorCount>=3)return this.onError(this.accountId),this.terminate()},StreamLimiter.prototype.onLimitReached=function(accountId){this.player.error("STREAM_LIMITED"),this.player.player().trigger("espn.streamlimiter.limitreached",{accountId:accountId})},StreamLimiter.prototype.onError=function(accountId){this.player.error("STREAM_LIMIT_ERROR"),this.player.player().trigger("espn.streamlimiter.error",{accountId:accountId})},StreamLimiter.prototype.terminate=function(){clearTimeout(this.heartbeat.timeout),clearTimeout(this.statusCheck.timeout),request.post(this.heartbeat.url.replace("{event}","stop")).end(),this.errorCount=0,this.heartbeat={},this.statusCheck={},this.streamId=null,this.streamStart=null},StreamLimiter}(),StreamLimiter.configure=function(options){return merge(config,options,mergeCustomizer),config},module.exports=StreamLimiter},function(module,exports,__webpack_require__){"use strict";var TimelinePreviews;TimelinePreviews=function(){function TimelinePreviews(id,videoURL,player){var extension,i,image,numPreviews,path,previews,ref;if(videoURL){for(previews={},numPreviews=Math.floor(player.duration()/10),i=0,image=videoURL.split("/").pop(),path=videoURL.replace(image,"chaptertn"),ref=image.split("."),image=ref[0],extension="jpg";i<=numPreviews;)previews[""+10*i]={src:path+"/"+image+"_"+ ++i+"."+extension,width:"150px"};player.thumbnails(previews)}}return TimelinePreviews}(),module.exports=TimelinePreviews},function(module,exports,__webpack_require__){"use strict";module.exports={asset:"https://secure.espncdn.com/broadband/video/images/espn-watermark.png",url:"http://www.espn.com",position:"bottom-left",start:"play",end:"end"}},function(module,exports,__webpack_require__){"use strict";function mergeCustomizer(objValue,srcValue){if(null===srcValue)return objValue}var Watermark,config,merge;merge=__webpack_require__(0),config=__webpack_require__(52),Watermark=function(){function Watermark(callback,options){var content;options&&merge(config,options,mergeCustomizer),content='<a href="'+config.url+'" target="_blank" class="espn-watermark"> <img src="'+config.asset+'" /> </a>',callback({content:content,align:config.position,start:config.start,end:config.end})}return Watermark}(),module.exports=Watermark},function(module,exports,__webpack_require__){function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}module.exports=Emitter,Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){this.off(event,on),fn.apply(this,arguments)}return on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks["$"+event],this;for(var cb,i=0;i<callbacks.length;i++)if(cb=callbacks[i],cb===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks["$"+event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks["$"+event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},function(module,exports){var exports=module.exports=function(doc){doc||(doc={}),"string"==typeof doc&&(doc={cookie:doc}),void 0===doc.cookie&&(doc.cookie="");var self={};return self.get=function(key){for(var splat=doc.cookie.split(/;\s*/),i=0;i<splat.length;i++){var ps=splat[i].split("="),k=unescape(ps[0]);if(k===key)return unescape(ps[1])}},self.set=function(key,value,opts){opts||(opts={});var s=escape(key)+"="+escape(value);return opts.expires&&(s+="; expires="+opts.expires),opts.path&&(s+="; path="+escape(opts.path)),opts.domain&&(s+="; domain="+escape(opts.domain)),opts.secure&&(s+="; secure"),doc.cookie=s,s},self};if("undefined"!=typeof document){var cookie=exports(document);exports.get=cookie.get,exports.set=cookie.set}},function(module,exports){function setAttributes(script,attrs){for(var attr in attrs)script.setAttribute(attr,attrs[attr])}function stdOnEnd(script,cb){script.onload=function(){this.onerror=this.onload=null,cb(null,script)},script.onerror=function(){this.onerror=this.onload=null,cb(new Error("Failed to load "+this.src),script)}}function ieOnEnd(script,cb){script.onreadystatechange=function(){"complete"!=this.readyState&&"loaded"!=this.readyState||(this.onreadystatechange=null,cb(null,script))}}module.exports=function(src,opts,cb){var head=document.head||document.getElementsByTagName("head")[0],script=document.createElement("script");"function"==typeof opts&&(cb=opts,opts={}),opts=opts||{},cb=cb||function(){},script.type=opts.type||"text/javascript",script.charset=opts.charset||"utf8",script.async=!("async"in opts)||!!opts.async,script.src=src,opts.attrs&&setAttributes(script,opts.attrs),opts.text&&(script.text=""+opts.text);var onend="onload"in script?stdOnEnd:ieOnEnd;onend(script,cb),script.onload||stdOnEnd(script,cb),head.appendChild(script)}},function(module,exports,__webpack_require__){(function(global){function debounce(func,wait,options){function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=void 0,lastInvokeTime=time,result=func.apply(thisArg,args)}function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}function remainingWait(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime,result=wait-timeSinceLastCall;return maxing?nativeMin(result,maxWait-timeSinceLastInvoke):result}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime,timeSinceLastInvoke=time-lastInvokeTime;return void 0===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&timeSinceLastInvoke>=maxWait}function timerExpired(){var time=now();return shouldInvoke(time)?trailingEdge(time):void(timerId=setTimeout(timerExpired,remainingWait(time)))}function trailingEdge(time){return timerId=void 0,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=void 0,result)}function cancel(){void 0!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=void 0}function flush(){return void 0===timerId?result:trailingEdge(now())}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(void 0===timerId)return leadingEdge(lastCallTime);if(maxing)return timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return void 0===timerId&&(timerId=setTimeout(timerExpired,wait)),result}var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxing="maxWait"in options,maxWait=maxing?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=cancel,debounced.flush=flush,debounced}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}var FUNC_ERROR_TEXT="Expected a function",NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,nativeMax=Math.max,nativeMin=Math.min,now=function(){return root.Date.now()};module.exports=debounce}).call(exports,__webpack_require__(6))},function(module,exports,__webpack_require__){!function(define,undefined){define(function(){"use strict";function equalIC(a,b){return null!=a&&null!=b&&a.toLowerCase()===b.toLowerCase()}function containsIC(array,value){var valueLC,i,len=array.length;if(!len||!value)return!1;for(valueLC=value.toLowerCase(),i=0;i<len;++i)if(valueLC===array[i].toLowerCase())return!0;return!1}function convertPropsToRegExp(object){for(var key in object)hasOwnProp.call(object,key)&&(object[key]=new RegExp(object[key],"i"))}function MobileDetect(userAgent,maxPhoneWidth){this.ua=userAgent||"",this._cache={},this.maxPhoneWidth=maxPhoneWidth||600}var impl={};impl.mobileDetectRules={phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b",Samsung:"\\bSamsung\\b|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350|SM-J120F|SM-G920F|SM-G920V|SM-G930F|SM-N910C",LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323)",Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",NokiaLumia:"Lumia [0-9]{3,4}",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA(?!nna)|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561|SM-T713|SM-T719|SM-T813|SM-T819|SM-T580|SM-T355Y|SM-T280|SM-T817A|SM-T820|SM-W700|SM-P580|SM-T587",Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI|KFARWI|KFFOWI|KFGIWI|KFMEWI)\\b|Android.*Silk/[0-9.]+ like Chrome/[0-9.]+ (?!Mobile)",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K011 | K017 | K01E |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C|P01Y|PO1MA|P01Z",BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b|\\bA3-A20\\b|\\bA3-A30",ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|YT3-X90L|YT3-X90F|YT3-X90X|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"97G4|AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|c|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",NokiaLumiaTablet:"Lumia 2520",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612|SOT31",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris [E|M]10)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",
PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7|VF-1497",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",TecnoTablet:"TECNO P9",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382|MW1031|MW0831|MW0821|MW0931|MW0712",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",KocasoTablet:"\\b(TB-1207)\\b",HisenseTablet:"\\b(F5281|E2371)\\b",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bTP750\\b"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",Edge:"Mobile Safari/[.0-9]* Edge",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile|FxiOS",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger",PaleMoon:"Android.*PaleMoon|Mobile.*PaleMoon"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:["Firefox/[VER]","FxiOS/[VER]"],Fennec:"Fennec/[VER]",Edge:"Edge/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",SamsungBrowser:"SamsungBrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",PaleMoon:"PaleMoon/[VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",Goanna:"Goanna/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]","Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|YandexMobileBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",Watch:"SM-V700"}},impl.detectMobileBrowsers={fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,tabletPattern:/android|ipad|playbook|silk/i};var isArray,hasOwnProp=Object.prototype.hasOwnProperty;return impl.FALLBACK_PHONE="UnknownPhone",impl.FALLBACK_TABLET="UnknownTablet",impl.FALLBACK_MOBILE="UnknownMobile",isArray="isArray"in Array?Array.isArray:function(value){return"[object Array]"===Object.prototype.toString.call(value)},function(){var key,values,value,i,len,verPos,mobileDetectRules=impl.mobileDetectRules;for(key in mobileDetectRules.props)if(hasOwnProp.call(mobileDetectRules.props,key)){for(values=mobileDetectRules.props[key],isArray(values)||(values=[values]),len=values.length,i=0;i<len;++i)value=values[i],verPos=value.indexOf("[VER]"),verPos>=0&&(value=value.substring(0,verPos)+"([\\w._\\+]+)"+value.substring(verPos+5)),values[i]=new RegExp(value,"i");mobileDetectRules.props[key]=values}convertPropsToRegExp(mobileDetectRules.oss),convertPropsToRegExp(mobileDetectRules.phones),convertPropsToRegExp(mobileDetectRules.tablets),convertPropsToRegExp(mobileDetectRules.uas),convertPropsToRegExp(mobileDetectRules.utils),mobileDetectRules.oss0={WindowsPhoneOS:mobileDetectRules.oss.WindowsPhoneOS,WindowsMobileOS:mobileDetectRules.oss.WindowsMobileOS}}(),impl.findMatch=function(rules,userAgent){for(var key in rules)if(hasOwnProp.call(rules,key)&&rules[key].test(userAgent))return key;return null},impl.findMatches=function(rules,userAgent){var result=[];for(var key in rules)hasOwnProp.call(rules,key)&&rules[key].test(userAgent)&&result.push(key);return result},impl.getVersionStr=function(propertyName,userAgent){var patterns,i,len,match,props=impl.mobileDetectRules.props;if(hasOwnProp.call(props,propertyName))for(patterns=props[propertyName],len=patterns.length,i=0;i<len;++i)if(match=patterns[i].exec(userAgent),null!==match)return match[1];return null},impl.getVersion=function(propertyName,userAgent){var version=impl.getVersionStr(propertyName,userAgent);return version?impl.prepareVersionNo(version):NaN},impl.prepareVersionNo=function(version){var numbers;return numbers=version.split(/[a-z._ \/\-]/i),1===numbers.length&&(version=numbers[0]),numbers.length>1&&(version=numbers[0]+".",numbers.shift(),version+=numbers.join("")),Number(version)},impl.isMobileFallback=function(userAgent){return impl.detectMobileBrowsers.fullPattern.test(userAgent)||impl.detectMobileBrowsers.shortPattern.test(userAgent.substr(0,4))},impl.isTabletFallback=function(userAgent){return impl.detectMobileBrowsers.tabletPattern.test(userAgent)},impl.prepareDetectionCache=function(cache,userAgent,maxPhoneWidth){if(cache.mobile===undefined){var phone,tablet,phoneSized;return(tablet=impl.findMatch(impl.mobileDetectRules.tablets,userAgent))?(cache.mobile=cache.tablet=tablet,void(cache.phone=null)):(phone=impl.findMatch(impl.mobileDetectRules.phones,userAgent))?(cache.mobile=cache.phone=phone,void(cache.tablet=null)):void(impl.isMobileFallback(userAgent)?(phoneSized=MobileDetect.isPhoneSized(maxPhoneWidth),phoneSized===undefined?(cache.mobile=impl.FALLBACK_MOBILE,cache.tablet=cache.phone=null):phoneSized?(cache.mobile=cache.phone=impl.FALLBACK_PHONE,cache.tablet=null):(cache.mobile=cache.tablet=impl.FALLBACK_TABLET,cache.phone=null)):impl.isTabletFallback(userAgent)?(cache.mobile=cache.tablet=impl.FALLBACK_TABLET,cache.phone=null):cache.mobile=cache.tablet=cache.phone=null)}},impl.mobileGrade=function(t){var $isMobile=null!==t.mobile();return t.os("iOS")&&t.version("iPad")>=4.3||t.os("iOS")&&t.version("iPhone")>=3.1||t.os("iOS")&&t.version("iPod")>=3.1||t.version("Android")>2.1&&t.is("Webkit")||t.version("Windows Phone OS")>=7||t.is("BlackBerry")&&t.version("BlackBerry")>=6||t.match("Playbook.*Tablet")||t.version("webOS")>=1.4&&t.match("Palm|Pre|Pixi")||t.match("hp.*TouchPad")||t.is("Firefox")&&t.version("Firefox")>=12||t.is("Chrome")&&t.is("AndroidOS")&&t.version("Android")>=4||t.is("Skyfire")&&t.version("Skyfire")>=4.1&&t.is("AndroidOS")&&t.version("Android")>=2.3||t.is("Opera")&&t.version("Opera Mobi")>11&&t.is("AndroidOS")||t.is("MeeGoOS")||t.is("Tizen")||t.is("Dolfin")&&t.version("Bada")>=2||(t.is("UC Browser")||t.is("Dolfin"))&&t.version("Android")>=2.3||t.match("Kindle Fire")||t.is("Kindle")&&t.version("Kindle")>=3||t.is("AndroidOS")&&t.is("NookTablet")||t.version("Chrome")>=11&&!$isMobile||t.version("Safari")>=5&&!$isMobile||t.version("Firefox")>=4&&!$isMobile||t.version("MSIE")>=7&&!$isMobile||t.version("Opera")>=10&&!$isMobile?"A":t.os("iOS")&&t.version("iPad")<4.3||t.os("iOS")&&t.version("iPhone")<3.1||t.os("iOS")&&t.version("iPod")<3.1||t.is("Blackberry")&&t.version("BlackBerry")>=5&&t.version("BlackBerry")<6||t.version("Opera Mini")>=5&&t.version("Opera Mini")<=6.5&&(t.version("Android")>=2.3||t.is("iOS"))||t.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||t.version("Opera Mobi")>=11&&t.is("SymbianOS")?"B":(t.version("BlackBerry")<5||t.match("MSIEMobile|Windows CE.*Mobile")||t.version("Windows Mobile")<=5.2,"C")},impl.detectOS=function(ua){return impl.findMatch(impl.mobileDetectRules.oss0,ua)||impl.findMatch(impl.mobileDetectRules.oss,ua)},impl.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height},MobileDetect.prototype={constructor:MobileDetect,mobile:function(){return impl.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.mobile},phone:function(){return impl.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.phone},tablet:function(){return impl.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth),this._cache.tablet},userAgent:function(){return this._cache.userAgent===undefined&&(this._cache.userAgent=impl.findMatch(impl.mobileDetectRules.uas,this.ua)),this._cache.userAgent},userAgents:function(){return this._cache.userAgents===undefined&&(this._cache.userAgents=impl.findMatches(impl.mobileDetectRules.uas,this.ua)),this._cache.userAgents},os:function(){return this._cache.os===undefined&&(this._cache.os=impl.detectOS(this.ua)),this._cache.os},version:function(key){return impl.getVersion(key,this.ua)},versionStr:function(key){return impl.getVersionStr(key,this.ua)},is:function(key){return containsIC(this.userAgents(),key)||equalIC(key,this.os())||equalIC(key,this.phone())||equalIC(key,this.tablet())||containsIC(impl.findMatches(impl.mobileDetectRules.utils,this.ua),key)},match:function(pattern){return pattern instanceof RegExp||(pattern=new RegExp(pattern,"i")),pattern.test(this.ua)},isPhoneSized:function(maxPhoneWidth){return MobileDetect.isPhoneSized(maxPhoneWidth||this.maxPhoneWidth)},mobileGrade:function(){return this._cache.grade===undefined&&(this._cache.grade=impl.mobileGrade(this)),this._cache.grade}},"undefined"!=typeof window&&window.screen?MobileDetect.isPhoneSized=function(maxPhoneWidth){return maxPhoneWidth<0?undefined:impl.getDeviceSmallerSide()<=maxPhoneWidth}:MobileDetect.isPhoneSized=function(){},MobileDetect._impl=impl,MobileDetect.version="1.3.6 2017-04-05",MobileDetect})}(function(undefined){return"undefined"!=typeof module&&module.exports?function(factory){module.exports=factory()}:__webpack_require__(72)}())},function(module,exports,__webpack_require__){(function(global,process){!function(global,undefined){"use strict";function setImmediate(callback){"function"!=typeof callback&&(callback=new Function(""+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++}function clearImmediate(handle){delete tasksByHandle[handle]}function run(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args)}}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{run(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}function installNextTickImplementation(){registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}}function canUsePostMessage(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage("","*"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}function installPostMessageImplementation(){var messagePrefix="setImmediate$"+Math.random()+"$",onGlobalMessage=function(event){event.source===global&&"string"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))};global.addEventListener?global.addEventListener("message",onGlobalMessage,!1):global.attachEvent("onmessage",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,"*")}}function installMessageChannelImplementation(){var channel=new MessageChannel;channel.port1.onmessage=function(event){var handle=event.data;runIfPresent(handle)},registerImmediate=function(handle){channel.port2.postMessage(handle)}}function installReadyStateChangeImplementation(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement("script");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}}function installSetTimeoutImplementation(){registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)}}if(!global.setImmediate){var registerImmediate,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,"[object process]"==={}.toString.call(global.process)?installNextTickImplementation():canUsePostMessage()?installPostMessageImplementation():global.MessageChannel?installMessageChannelImplementation():doc&&"onreadystatechange"in doc.createElement("script")?installReadyStateChangeImplementation():installSetTimeoutImplementation(),attachTo.setImmediate=setImmediate,attachTo.clearImmediate=clearImmediate}}("undefined"==typeof self?"undefined"==typeof global?this:global:self)}).call(exports,__webpack_require__(6),__webpack_require__(14))},function(module,exports,__webpack_require__){var Promise=__webpack_require__(8),superagent=module.exports=__webpack_require__(2),Request=superagent.Request;try{Promise.config({cancellation:!0})}catch(e){}var SuperagentPromiseError=function(message,originalError){var stack;this.message=message,this.name="SuperagentPromiseError",this.originalError=originalError,Error.captureStackTrace?(Error.captureStackTrace(this,this.constructor),stack=this.stack):stack=new Error(message).stack,Object.defineProperty&&Object.defineProperty(this,"stack",{get:function(){return this.originalError?stack+"\nCaused by:  "+this.originalError.stack:stack}})};SuperagentPromiseError.prototype=new Error,SuperagentPromiseError.prototype.constructor=SuperagentPromiseError,superagent.SuperagentPromiseError=SuperagentPromiseError,Request.prototype.promise=function(){var error,req=this;return new Promise(function(resolve,reject,onCancel){req.end(function(err,res){if("undefined"!=typeof res&&null!==res&&res.status>=400){var msg="cannot "+req.method+" "+req.url+" ("+res.status+")";error=new SuperagentPromiseError(msg),error.status=res.status,error.body=res.body,error.res=res,reject(error)}else err?reject(new SuperagentPromiseError("Bad request",err)):resolve(res)}),"function"==typeof onCancel&&onCancel(function(){req.abort()})})},Request.prototype.then=function(){var promise=this.promise();return promise.then.apply(promise,arguments)},Request.prototype["catch"]=function(){var promise=this.promise();return promise["catch"].apply(promise,arguments)}},function(module,exports,__webpack_require__){function isFunction(fn){var tag=isObject(fn)?Object.prototype.toString.call(fn):"";return"[object Function]"===tag}var isObject=__webpack_require__(9);module.exports=isFunction},function(module,exports,__webpack_require__){function RequestBase(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in RequestBase.prototype)obj[key]=RequestBase.prototype[key];return obj}var isObject=__webpack_require__(9);module.exports=RequestBase,RequestBase.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},RequestBase.prototype.parse=function(fn){return this._parser=fn,this},RequestBase.prototype.responseType=function(val){return this._responseType=val,this},RequestBase.prototype.serialize=function(fn){return this._serializer=fn,this},RequestBase.prototype.timeout=function(options){if(!options||"object"!=typeof options)return this._timeout=options,this._responseTimeout=0,this;for(var option in options)switch(option){case"deadline":this._timeout=options.deadline;break;case"response":this._responseTimeout=options.response}return this},RequestBase.prototype.retry=function(count){return 0!==arguments.length&&count!==!0||(count=1),count<=0&&(count=0),this._maxRetries=count,this._retries=0,this},RequestBase.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},RequestBase.prototype.then=function(resolve,reject){if(!this._fullfilledPromise){var self=this;this._endCalled,this._fullfilledPromise=new Promise(function(innerResolve,innerReject){self.end(function(err,res){err?innerReject(err):innerResolve(res)})})}return this._fullfilledPromise.then(resolve,reject)},RequestBase.prototype["catch"]=function(cb){return this.then(void 0,cb)},RequestBase.prototype.use=function(fn){return fn(this),this},RequestBase.prototype.ok=function(cb){if("function"!=typeof cb)throw Error("Callback required");return this._okCallback=cb,this},RequestBase.prototype._isResponseOK=function(res){return!!res&&(this._okCallback?this._okCallback(res):res.status>=200&&res.status<300)},RequestBase.prototype.get=function(field){return this._header[field.toLowerCase()]},RequestBase.prototype.getHeader=RequestBase.prototype.get,RequestBase.prototype.set=function(field,val){if(isObject(field)){for(var key in field)this.set(key,field[key]);return this}return this._header[field.toLowerCase()]=val,this.header[field]=val,this},RequestBase.prototype.unset=function(field){return delete this._header[field.toLowerCase()],delete this.header[field],this},RequestBase.prototype.field=function(name,val){if(null===name||void 0===name)throw new Error(".field(name, val) name can not be empty");if(this._data,isObject(name)){for(var key in name)this.field(key,name[key]);return this}if(Array.isArray(val)){for(var i in val)this.field(name,val[i]);return this}if(null===val||void 0===val)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof val&&(val=""+val),this._getFormData().append(name,val),this},RequestBase.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},RequestBase.prototype.withCredentials=function(on){return void 0==on&&(on=!0),this._withCredentials=on,this},RequestBase.prototype.redirects=function(n){return this._maxRedirects=n,this},RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},RequestBase.prototype.send=function(data){var isObj=isObject(data),type=this._header["content-type"];if(this._formData,isObj&&!this._data)Array.isArray(data)?this._data=[]:this._isHost(data)||(this._data={});else if(data&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(isObj&&isObject(this._data))for(var key in data)this._data[key]=data[key];else"string"==typeof data?(type||this.type("form"),type=this._header["content-type"],"application/x-www-form-urlencoded"==type?this._data=this._data?this._data+"&"+data:data:this._data=(this._data||"")+data):this._data=data;return!isObj||this._isHost(data)?this:(type||this.type("json"),this)},RequestBase.prototype.sortQuery=function(sort){return this._sort="undefined"==typeof sort||sort,this},RequestBase.prototype._timeoutError=function(reason,timeout,errno){if(!this._aborted){var err=new Error(reason+timeout+"ms exceeded");err.timeout=timeout,err.code="ECONNABORTED",err.errno=errno,this.timedout=!0,this.abort(),this.callback(err)}},RequestBase.prototype._setTimeouts=function(){var self=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){self._timeoutError("Timeout of ",self._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){self._timeoutError("Response timeout of ",self._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},function(module,exports,__webpack_require__){function ResponseBase(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in ResponseBase.prototype)obj[key]=ResponseBase.prototype[key];return obj}var utils=__webpack_require__(65);module.exports=ResponseBase,ResponseBase.prototype.get=function(field){return this.header[field.toLowerCase()]},ResponseBase.prototype._setHeaderProperties=function(header){var ct=header["content-type"]||"";this.type=utils.type(ct);var params=utils.params(ct);
for(var key in params)this[key]=params[key];this.links={};try{header.link&&(this.links=utils.parseLinks(header.link))}catch(err){}},ResponseBase.prototype._setStatusProperties=function(status){var type=status/100|0;this.status=this.statusCode=status,this.statusType=type,this.info=1==type,this.ok=2==type,this.redirect=3==type,this.clientError=4==type,this.serverError=5==type,this.error=(4==type||5==type)&&this.toError(),this.accepted=202==status,this.noContent=204==status,this.badRequest=400==status,this.unauthorized=401==status,this.notAcceptable=406==status,this.forbidden=403==status,this.notFound=404==status}},function(module,exports){var ERROR_CODES=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];module.exports=function(err,res){return!!(err&&err.code&&~ERROR_CODES.indexOf(err.code))||(!!(res&&res.status&&res.status>=500)||(!!(err&&"timeout"in err&&"ECONNABORTED"==err.code)||!!(err&&"crossDomain"in err)))}},function(module,exports){exports.type=function(str){return str.split(/ *; */).shift()},exports.params=function(str){return str.split(/ *; */).reduce(function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();return key&&val&&(obj[key]=val),obj},{})},exports.parseLinks=function(str){return str.split(/ *, */).reduce(function(obj,str){var parts=str.split(/ *; */),url=parts[0].slice(1,-1),rel=parts[1].split(/ *= */)[1].slice(1,-1);return obj[rel]=url,obj},{})},exports.cleanHeader=function(header,shouldStripCookie){return delete header["content-type"],delete header["content-length"],delete header["transfer-encoding"],delete header.host,shouldStripCookie&&delete header.cookie,header}},function(module,exports,__webpack_require__){function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}var apply=Function.prototype.apply;exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout(function(){item._onTimeout&&item._onTimeout()},msecs))},__webpack_require__(59),exports.setImmediate=setImmediate,exports.clearImmediate=clearImmediate},function(module,exports){module.exports={zones:{"America/New_York":["z",{wallclock:-946944e5,format:"E%sT",abbrev:"EST",offset:-18e6,posix:-946764e5,save:0,rules:"US"},{wallclock:-7573824e5,format:"E%sT",abbrev:"EST",offset:-18e6,posix:-7573644e5,save:0,rules:"NYC"},{wallclock:-8836128e5,format:"E%sT",abbrev:"EST",offset:-18e6,posix:-8835948e5,save:0,rules:"US"},{wallclock:-15779232e5,format:"E%sT",abbrev:"EST",offset:-18e6,posix:-15779052e5,save:0,rules:"NYC"},{wallclock:-2717668562e3,format:"E%sT",abbrev:"EST",offset:-18e6,posix:-27176508e5,save:0,rules:"US"},{wallclock:-1.7976931348623157e308,format:"LMT",abbrev:"LMT",offset:-17762e3,posix:-1.7976931348623157e308,save:0}]},rules:{US:[{from:2007,to:1.7976931348623157e308,month:10,day:[0,1],time:120,clock:"wallclock",save:0,letter:"S",saved:36e5},{from:2007,to:1.7976931348623157e308,month:2,day:[0,8],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1987,to:2006,month:3,day:[0,1],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1967,to:2006,month:9,day:[0,-31],time:120,clock:"wallclock",save:0,letter:"S",saved:36e5},{from:1976,to:1986,month:3,day:[0,-30],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1975,to:1975,month:1,day:[7,23],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1974,to:1974,month:0,day:[7,6],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1967,to:1973,month:3,day:[0,-30],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1945,to:1945,month:8,day:[0,-30],time:120,clock:"wallclock",save:0,letter:"S",saved:36e5},{from:1945,to:1945,month:7,day:[7,14],time:1380,clock:"posix",save:60,letter:"P",saved:36e5},{from:1942,to:1942,month:1,day:[7,9],time:120,clock:"wallclock",save:60,letter:"W",saved:0},{from:1918,to:1919,month:9,day:[0,-31],time:120,clock:"wallclock",save:0,letter:"S",saved:36e5},{from:1918,to:1919,month:2,day:[0,-31],time:120,clock:"wallclock",save:60,letter:"D",saved:0}],NYC:[{from:1921,to:1966,month:3,day:[0,-30],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1955,to:1966,month:9,day:[0,-31],time:120,clock:"wallclock",save:0,letter:"S",saved:36e5},{from:1921,to:1954,month:8,day:[0,-30],time:120,clock:"wallclock",save:0,letter:"S",saved:36e5},{from:1920,to:1920,month:2,day:[0,-31],time:120,clock:"wallclock",save:60,letter:"D",saved:0},{from:1920,to:1920,month:9,day:[0,-31],time:120,clock:"wallclock",save:0,letter:"S",saved:36e5}]}}},function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__;!function(definition){"object"==typeof module&&module.exports?module.exports=definition():(__WEBPACK_AMD_DEFINE_FACTORY__=definition,__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof __WEBPACK_AMD_DEFINE_FACTORY__?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__,!(void 0!==__WEBPACK_AMD_DEFINE_RESULT__&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))}(function(){function actualize(entry,rule,year){var actualized,date=rule.day[1];do actualized=new Date(Date.UTC(year,rule.month,Math.abs(date++)));while(rule.day[0]<7&&actualized.getUTCDay()!=rule.day[0]);return actualized={clock:rule.clock,sort:actualized.getTime(),rule:rule,save:6e4*rule.save,offset:entry.offset},actualized[actualized.clock]=actualized.sort+6e4*rule.time,actualized.posix?actualized.wallclock=actualized[actualized.clock]+(entry.offset+rule.saved):actualized.posix=actualized[actualized.clock]-(entry.offset+rule.saved),actualized}function find(request,clock,time){var i,I,entry,found,abbrev,rules,j,zone=request[request.zone],actualized=[],year=new Date(time).getUTCFullYear(),off=1;for(i=1,I=zone.length;i<I&&!(zone[i][clock]<=time);i++);if(entry=zone[i],entry.rules){for(rules=request[entry.rules],j=year+1;j>=year-off;--j)for(i=0,I=rules.length;i<I;i++)rules[i].from<=j&&j<=rules[i].to?actualized.push(actualize(entry,rules[i],j)):rules[i].to<j&&1==off&&(off=j-rules[i].to);for(actualized.sort(function(a,b){return a.sort-b.sort}),i=0,I=actualized.length;i<I;i++)time>=actualized[i][clock]&&actualized[i][actualized[i].clock]>entry[actualized[i].clock]&&(found=actualized[i])}return found&&((abbrev=/^(.*)\/(.*)$/.exec(entry.format))?found.abbrev=abbrev[found.save?2:1]:found.abbrev=entry.format.replace(/%s/,found.rule.letter)),found||entry}function convertToWallclock(request,posix){return"UTC"==request.zone?posix:(request.entry=find(request,"posix",posix),posix+request.entry.offset+request.entry.save)}function convertToPOSIX(request,wallclock){if("UTC"==request.zone)return wallclock;var entry,diff;return request.entry=entry=find(request,"wallclock",wallclock),diff=wallclock-entry.wallclock,0<diff&&diff<entry.save?null:wallclock-entry.offset-entry.save}function adjust(request,posix,match){var date,increment=+(match[1]+1),offset=match[2]*increment,index=UNITS.indexOf(match[3].toLowerCase());if(index>9)posix+=offset*TIME[index-10];else{if(date=new Date(convertToWallclock(request,posix)),index<7)for(;offset;)date.setUTCDate(date.getUTCDate()+increment),date.getUTCDay()==index&&(offset-=increment);else 7==index?date.setUTCFullYear(date.getUTCFullYear()+offset):8==index?date.setUTCMonth(date.getUTCMonth()+offset):date.setUTCDate(date.getUTCDate()+offset);null==(posix=convertToPOSIX(request,date.getTime()))&&(posix=convertToPOSIX(request,date.getTime()+864e5*increment)-864e5*increment)}return posix}function convert(vargs){if(!vargs.length)return"1.0.6";var i,I,$,argument,date,request=Object.create(this),adjustments=[];for(i=0;i<vargs.length;i++)if(argument=vargs[i],Array.isArray(argument))i||isNaN(argument[1])?argument.splice.apply(vargs,[i--,1].concat(argument)):date=argument;else if(isNaN(argument)){if($=typeof argument,"string"==$)~argument.indexOf("%")?request.format=argument:i||"*"!=argument?!i&&($=/^(\d{4})-(\d{2})-(\d{2})(?:[T\s](\d{2}):(\d{2})(?::(\d{2})(?:\.(\d+))?)?(Z|(([+-])(\d{2}(:\d{2}){0,2})))?)?$/.exec(argument))?(date=[],date.push.apply(date,$.slice(1,8)),$[9]?(date.push($[10]+1),date.push.apply(date,$[11].split(/:/))):$[8]&&date.push(1)):/^\w{2,3}_\w{2}$/.test(argument)?request.locale=argument:($=UNIT_RE.exec(argument))?adjustments.push($):request.zone=argument:date=argument;else if("function"==$){if($=argument.call(request))return $}else if(/^\w{2,3}_\w{2}$/.test(argument.name))request[argument.name]=argument;else if(argument.zones){for($ in argument.zones)request[$]=argument.zones[$];for($ in argument.rules)request[$]=argument.rules[$]}}else i||(date=argument);if(request[request.locale]||delete request.locale,request[request.zone]||delete request.zone,null!=date){if("*"==date)date=request.clock();else if(Array.isArray(date)){for(I=!date[7],i=0;i<11;i++)date[i]=+(date[i]||0);--date[1],date=Date.UTC.apply(Date.UTC,date.slice(0,8))+-date[7]*(36e5*date[8]+6e4*date[9]+1e3*date[10])}else date=Math.floor(date);if(!isNaN(date)){if(I&&(date=convertToPOSIX(request,date)),null==date)return date;for(i=0,I=adjustments.length;i<I;i++)date=adjust(request,date,adjustments[i]);return request.format?($=new Date(convertToWallclock(request,date)),request.format.replace(/%([-0_^]?)(:{0,3})(\d*)(.)/g,function(value,flag,colons,padding,specifier){var f,pad,fill="0";if(f=request[specifier]){for(value=String(f.call(request,$,date,flag,colons.length)),"_"==(flag||f.style)&&(fill=" "),pad="-"==flag?0:f.pad||0;value.length<pad;)value=fill+value;for(pad="-"==flag?0:padding||f.pad;value.length<pad;)value=fill+value;"N"==specifier&&pad<value.length&&(value=value.slice(0,pad)),"^"==flag&&(value=value.toUpperCase())}return value})):date}}return function(){return request.convert(arguments)}}function weekOfYear(date,startOfWeek){var diff,nyd,weekStart;return nyd=new Date(Date.UTC(date.getUTCFullYear(),0)),diff=Math.floor((date.getTime()-nyd.getTime())/864e5),nyd.getUTCDay()==startOfWeek?weekStart=0:(weekStart=7-nyd.getUTCDay()+startOfWeek,8==weekStart&&(weekStart=1)),diff>=weekStart?Math.floor((diff-weekStart)/7)+1:0}function isoWeek(date){var nyd,nyy,week;return nyy=date.getUTCFullYear(),nyd=new Date(Date.UTC(nyy,0)).getUTCDay(),week=weekOfYear(date,1)+(nyd>1&&nyd<=4?1:0),week?53!=week||4==nyd||3==nyd&&29==new Date(nyy,1,29).getDate()?[week,date.getUTCFullYear()]:[1,date.getUTCFullYear()+1]:(nyy=date.getUTCFullYear()-1,nyd=new Date(Date.UTC(nyy,0)).getUTCDay(),week=4==nyd||3==nyd&&29==new Date(nyy,1,29).getDate()?53:52,[week,date.getUTCFullYear()-1])}var context={clock:function(){return+new Date},zone:"UTC",entry:{abbrev:"UTC",offset:0,save:0},UTC:1,z:function(date,posix,flag,delimiters){var i,z,offset=this.entry.offset+this.entry.save,seconds=Math.abs(offset/1e3),parts=[],part=3600;for(i=0;i<3;i++)parts.push(("0"+Math.floor(seconds/part)).slice(-2)),seconds%=part,part/=60;return"^"!=flag||offset?("^"==flag&&(delimiters=3),3==delimiters?(z=parts.join(":"),z=z.replace(/:00$/,""),"^"!=flag&&(z=z.replace(/:00$/,""))):delimiters?(z=parts.slice(0,delimiters+1).join(":"),"^"==flag&&(z=z.replace(/:00$/,""))):z=parts.slice(0,2).join(""),z=(offset<0?"-":"+")+z,z=z.replace(/([-+])(0)/,{_:" $1","-":"$1"}[flag]||"$1$2")):"Z"},"%":function(date){return"%"},n:function(date){return"\n"},t:function(date){return"\t"},U:function(date){return weekOfYear(date,0)},W:function(date){return weekOfYear(date,1)},V:function(date){return isoWeek(date)[0]},G:function(date){return isoWeek(date)[1]},g:function(date){return isoWeek(date)[1]%100},j:function(date){return Math.floor((date.getTime()-Date.UTC(date.getUTCFullYear(),0))/864e5)+1},s:function(date){return Math.floor(date.getTime()/1e3)},C:function(date){return Math.floor(date.getUTCFullYear()/100)},N:function(date){return date.getTime()%1e3*1e6},m:function(date){return date.getUTCMonth()+1},Y:function(date){return date.getUTCFullYear()},y:function(date){return date.getUTCFullYear()%100},H:function(date){return date.getUTCHours()},M:function(date){return date.getUTCMinutes()},S:function(date){return date.getUTCSeconds()},e:function(date){return date.getUTCDate()},d:function(date){return date.getUTCDate()},u:function(date){return date.getUTCDay()||7},w:function(date){return date.getUTCDay()},l:function(date){return date.getUTCHours()%12||12},I:function(date){return date.getUTCHours()%12||12},k:function(date){return date.getUTCHours()},Z:function(date){return this.entry.abbrev},a:function(date){return this[this.locale].day.abbrev[date.getUTCDay()]},A:function(date){return this[this.locale].day.full[date.getUTCDay()]},h:function(date){return this[this.locale].month.abbrev[date.getUTCMonth()]},b:function(date){return this[this.locale].month.abbrev[date.getUTCMonth()]},B:function(date){return this[this.locale].month.full[date.getUTCMonth()]},P:function(date){return this[this.locale].meridiem[Math.floor(date.getUTCHours()/12)].toLowerCase()},p:function(date){return this[this.locale].meridiem[Math.floor(date.getUTCHours()/12)]},R:function(date,posix){return this.convert([posix,"%H:%M"])},T:function(date,posix){return this.convert([posix,"%H:%M:%S"])},D:function(date,posix){return this.convert([posix,"%m/%d/%y"])},F:function(date,posix){return this.convert([posix,"%Y-%m-%d"])},x:function(date,posix){return this.convert([posix,this[this.locale].date])},r:function(date,posix){return this.convert([posix,this[this.locale].time12||"%I:%M:%S"])},X:function(date,posix){return this.convert([posix,this[this.locale].time24])},c:function(date,posix){return this.convert([posix,this[this.locale].dateTime])},convert:convert,locale:"en_US",en_US:{date:"%m/%d/%Y",time24:"%I:%M:%S %p",time12:"%I:%M:%S %p",dateTime:"%a %d %b %Y %I:%M:%S %p %Z",meridiem:["AM","PM"],month:{abbrev:"Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec".split("|"),full:"January|February|March|April|May|June|July|August|September|October|November|December".split("|")},day:{abbrev:"Sun|Mon|Tue|Wed|Thu|Fri|Sat".split("|"),full:"Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday".split("|")}}},UNITS="Sunday|Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|year|month|day|hour|minute|second|millisecond",UNIT_RE=new RegExp("^\\s*([+-])(\\d+)\\s+("+UNITS+")s?\\s*$","i"),TIME=[36e5,6e4,1e3,1];return UNITS=UNITS.toLowerCase().split("|"),"delmHMSUWVgCIky".replace(/./g,function(e){context[e].pad=2}),context.N.pad=9,context.j.pad=3,context.k.style="_",context.l.style="_",context.e.style="_",function(){return context.convert(arguments)}})},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getFan(id,resolve,reject){var url=FAN_PRODUCT_PROD_HOST+"/apis/v2/fans/"+id;_superagentBluebirdPromise2["default"].get(url).withCredentials().set("X-Personalization-Source",_sourceHeader).end(function(err,res){if(err||!res.ok)reject(err);else{var fan=res&&res.body;_storage.setFan({item:fan,id:fan.id,timestamp:Date.now()}),resolve(fan)}})}function getFanForId(id){return SWID_RE.test(id)?new _bluebird2["default"](function(resolve,reject){_storage.getFan().then(function(cache){var fan=cache&&cache.item,cacheExpired=Date.now()-cache.timestamp>60*_cacheDuration*1e3;null===fan||fan.id!==id||cacheExpired?getFan(id,resolve,reject):resolve(fan)})["catch"](function(){getFan(id,resolve,reject)})}):_bluebird2["default"].reject(new Error("Invalid SWID"))}function updateSettingsForFanId(id,postData){if(!SWID_RE.test(id))return _bluebird2["default"].reject(new Error("Invalid SWID"));var url=FAN_CORE_PROD_HOST+"/apis/v2/fans/"+id+"/profile/";return _superagentBluebirdPromise2["default"].post(url).withCredentials().set("X-Personalization-Source",_sourceHeader).send(postData).promise()}function FanAPI(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DEFAULT_CONFIGURATION,_ref$sourceHeader=_ref.sourceHeader,sourceHeader=void 0===_ref$sourceHeader?DEFAULT_CONFIGURATION.sourceHeader:_ref$sourceHeader,_ref$cacheDuration=_ref.cacheDuration,cacheDuration=void 0===_ref$cacheDuration?DEFAULT_CONFIGURATION.cacheDuration:_ref$cacheDuration;return this instanceof FanAPI?(_sourceHeader=sourceHeader,_cacheDuration=cacheDuration,_storage=new _Storage2["default"](_cacheDuration),this):new FanAPI({sourceHeader:sourceHeader,cacheDuration:cacheDuration})}var _superagentBluebirdPromise=__webpack_require__(60),_superagentBluebirdPromise2=_interopRequireDefault(_superagentBluebirdPromise),_bluebird=__webpack_require__(8),_bluebird2=_interopRequireDefault(_bluebird),_Storage=__webpack_require__(70),_Storage2=_interopRequireDefault(_Storage),FAN_PRODUCT_PROD_HOST="//fan.api.espn.com",FAN_CORE_PROD_HOST="//fan.core.api.espn.com",DEFAULT_SOURCE_HEADER="espn-video-player",FAN_API_CACHE_MINUTES=10,SWID_RE=/^\{[\w\-]+\}/,DEFAULT_CONFIGURATION={sourceHeader:DEFAULT_SOURCE_HEADER,cacheDuration:FAN_API_CACHE_MINUTES},_sourceHeader=void 0,_cacheDuration=void 0,_storage=void 0;FanAPI.prototype.getFanForId=function(id,callback){return getFanForId(id).tap(function(fan){"function"==typeof callback&&callback(fan)})},FanAPI.prototype.getAutoStartForFanId=function(id,callback){return getFanForId(id).then(function(fan){var profile=fan&&fan.profile,settings=profile&&profile.settings,videoAutoStartValue=settings&&settings.videoAutoStart&&settings.videoAutoStart.value;return"2"!==videoAutoStartValue})["catch"](function(){return!0}).tap(function(videoAutoStart){"function"==typeof callback&&callback(videoAutoStart)})},FanAPI.prototype.updateAutoStartForFanId=function(id,autoStart,callback){var videoAutoStartValue=(autoStart?"1":"2").toString(),postData={settings:{videoAutoStart:{value:videoAutoStartValue,lastUpdateSource:_sourceHeader,lastUpdateDate:Date.now()}}};return updateSettingsForFanId(id,postData).tap(function(err,res){"function"==typeof callback&&callback(err,res)})["catch"](function(){return!0})["finally"](function(){FanAPI.prototype.updateAutoStartCache(postData.settings)})},FanAPI.prototype.updateAutoStartCache=function(settings){var videoAutoStart=settings.videoAutoStart;_storage.getFan().then(function(cache){var fan=cache&&cache.item,key=void 0;for(key in videoAutoStart)videoAutoStart.hasOwnProperty(key)&&(fan.profile.settings.videoAutoStart[key]=videoAutoStart[key]);_storage.setFan({item:fan,id:fan.id,timestamp:Date.now()})})["catch"](function(){})},FanAPI.prototype.getUidsForFanId=function(id,callback){function hasUid(preference){return preference.metaData.team||preference.metaData.sport}function collectUids(preference){return preference.metaData.team?preference.metaData.team.uid:preference.metaData.sport?preference.metaData.sport.uid:null}return getFanForId(id).then(function(fan){var preferences=fan&&fan.preferences;return preferences.filter(hasUid).map(collectUids)})["catch"](function(){return[]}).tap(function(uids){"function"==typeof callback&&callback(uids)})},module.exports=FanAPI},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_bluebird=__webpack_require__(8),_bluebird2=_interopRequireDefault(_bluebird),ESPN_FAN_STORAGE_KEY="fanapi_fan",StorageType={ESPN:"ESPN",LOCAL_STORAGE:"LOCAL_STORAGE"},ls={getItem:function(key){return _bluebird2["default"].resolve(JSON.parse(localStorage.getItem(key)))},setItem:function(key,value){localStorage.setItem(key,JSON.stringify(value))}},Storage=function(){function Storage(){var expiration=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;_classCallCheck(this,Storage),this.expiration=expiration,this.storageType=StorageType.LOCAL_STORAGE}return _createClass(Storage,[{key:"inferStorageType",value:function(){this.storageType!==StorageType.ESPN&&window&&window.espn&&window.espn.storageFactory&&(this.storageType=StorageType.ESPN,this.espnStorage=espn.storageFactory.getMostPermanent())}},{key:"getFan",value:function(){var _this=this;return this.inferStorageType(),this.storageType===StorageType.ESPN?new _bluebird2["default"](function(resolve,reject){var cache=_this.espnStorage.getItem(ESPN_FAN_STORAGE_KEY),fan=cache&&cache.item;fan?(ls.setItem(ESPN_FAN_STORAGE_KEY,{item:fan,id:fan.id,timestamp:Date.now()}),resolve(cache)):reject(new Error("No item for key"))}):ls.getItem(ESPN_FAN_STORAGE_KEY)}},{key:"setFan",value:function(fan){this.inferStorageType(),ls.setItem(ESPN_FAN_STORAGE_KEY,{item:fan.item,id:fan.id,timestamp:Date.now()}),this.storageType===StorageType.ESPN&&this.espnStorage.setItem(ESPN_FAN_STORAGE_KEY,{item:fan.item,id:fan&&fan.id,expiresAt:(new Date).getTime()+6e4*this.expiration})}}]),Storage}();exports["default"]=Storage},function(module,exports,__webpack_require__){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _FanAPI=__webpack_require__(69),_FanAPI2=_interopRequireDefault(_FanAPI);module.exports=_FanAPI2["default"]},function(module,exports){module.exports=function(){throw new Error("define cannot be used indirect")}},function(module,exports){module.exports=function(module){return module.webpackPolyfill||(module.deprecate=function(){},module.paths=[],module.children||(module.children=[]),Object.defineProperty(module,"loaded",{enumerable:!0,get:function(){return module.l}}),Object.defineProperty(module,"id",{enumerable:!0,get:function(){return module.i}}),module.webpackPolyfill=1),module}},function(module,exports){module.exports={"Could not download the video":"An error occurred during video playback, possibly due to network connectivity or being in a backgrounded browser tab. Please try again.",EMBARGOED:"Video is not yet available.",EXPIRED:"Video has expired.",EXPIRED_CONTENT:"Video has expired.",Fullscreen:"Full Screen",GEOLOCATION_NOT_ALLOWED:"Video is not available in your country.",NOT_FOUND:"This video is unavailable.","Non-Fullscreen":"Exit Full Screen",STREAM_LIMITED:"The maximum number of concurrent streams has been reached on your account. If you have any questions or need assistance please visit es.pn/watchfaq or call 888-549-ESPN.",STREAM_LIMIT_ERROR:"The maximum number of concurrent streams has been reached on your account. If you have any questions or need assistance please visit es.pn/watchfaq or call 888-549-ESPN."}},function(module,exports){module.exports={"A network error caused the video download to fail part-way.":"Un error de red ha interrumpido la descarga del vÃ­deo.",Autoplay:"ReproducciÃ³n automÃ¡tica","Caption Settings":"Opciones de subtÃ­tulos",Captions:"SubtÃ­tulos especiales",Chapters:"CapÃ­tulos","Check out this video on ESPN":"No te pierdas este video de ESPN","Closed Caption":"SubtÃ­tulos","Closed Captions":"SubtÃ­tulos",Copied:"Copiado",Copy:"Copiar","Copy Embed Link":"Obtener cÃ³digo","Copy Link":"Obtener URL","Could not download the video":"No se ha podido descargar el vÃ­deo.","Current Time":"Tiempo reproducido","Duration Time":"DuraciÃ³n total","Email Video":"Enviar por Email",Email:"Enviar por correo","Embed Code":"Insertar cÃ³digo",EMBARGOED:"El vÃ­deo no estÃ¡ disponible todavÃ­a.","Error Code":"CÃ³digo De Error",EXPIRED:"El video ha expirado.",EXPIRED_CONTENT:"El video ha expirado.",From:"De",Fullscreen:"Maximizar video",GEOLOCATION_NOT_ALLOWED:"El vÃ­deo no estÃ¡ disponible en tu paÃ­s.",LIVE:"DIRECTO",Loaded:"Cargado",Message:"Mensaje",Menu:"MenÃº",Mute:"Silenciador","No compatible source was found for this video.":"No se ha encontrado ninguna fuente compatible con este vÃ­deo.","No video has been loaded":"No hay ningÃºn vÃ­deo cargado.","Non-Fullscreen":"TamaÃ±o original",NOT_FOUND:"Este vÃ­deo no estÃ¡ disponible.",OK:"aprobar",Pause:"Pausa",Play:"Reproducir","Playback Rate":"Velocidad de reproducciÃ³n",Progress:"Progreso","Remaining Time":"Tiempo restante",Replay:"Reproducir de nuevo",Send:"Enviar",Settings:"ConfiguraciÃ³n",Share:"Compartir","Start at":"Iniciar en",Stop:"Detener",STREAM_LIMITED:"The maximum number of concurrent streams has been reached on your account.",STREAM_LIMIT_ERROR:"The maximum number of concurrent streams has been reached on your account.","Stream Type":"Tipo de secuencia",Subtitles:"SubtÃ­tulos","Technical details":"Detalles tÃ©cnicos","The video connection was lost, please confirm you are connected to the internet":"Se ha perdido la conexiÃ³n al vÃ­deo. Compruebe si su equipo estÃ¡ conectado a internet.","The video could not be loaded, either because the server or network failed or because the format is not supported.":"No se ha podido cargar el vÃ­deo debido a un fallo de red o del servidor o porque el formato es incompatible.","The video download was cancelled":"Ha interrumpido la reproducciÃ³n del vÃ­deo.","The video is bad or in a format that cannot be played on your browser":"El vÃ­deo estÃ¡ daÃ±ado o tiene un formato no reproducible en su navegador.","The video playback was aborted due to a corruption problem or because the video used features your browser did not support.":"La reproducciÃ³n de vÃ­deo se ha interrumpido por un problema de corrupciÃ³n de datos o porque el vÃ­deo precisa funciones que su navegador no ofrece.","The video you're trying to watch is encrypted and we don't know how to decrypt it":"The video you're trying to watch is encrypted and we don't know how to decrypt it","This video is either unavailable or not supported in this browser":"Este vÃ­deo no estÃ¡ disponible o es incompatible con este navegador.","This video is unavailable":"Este vÃ­deo no estÃ¡ disponible.",To:"A",Unmute:"Eliminar silenciador",Unmuted:"Eliminar silenciador","Up Next":"A continuaciÃ³n","You aborted the video playback":"Ha interrumpido la reproducciÃ³n del vÃ­deo.","captions off":"SubtÃ­tulos especiales desactivados","subtitles off":"SubtÃ­tulos desactivados"}},function(module,exports){module.exports={"A network error caused the media download to fail part-way.":"Um erro na rede fez o vÃ­deo parar parcialmente.","An unanticipated problem was encountered, check back soon and try again":"Aconteceu um erro inesperado, tente novamente mais tarde",Captions:"AnotaÃ§Ãµes","captions off":"Sem AnotaÃ§Ãµes",Chapters:"CapÃ­tulos","Check out this video on ESPN":"Confira esse vÃ­deo no WatchESPN","Could not download the video":"NÃ£o foi possÃ­vel realizar o download do vÃ­deo","Current Time":"Tempo","Duration Time":"DuraÃ§Ã£o","Error Code":"CÃ³digo do Erro",Fullscreen:"Tela Cheia",LIVE:"AO VIVO",Loaded:"Carregado",Mute:"Mudo","No compatible source was found for this media.":"NÃ£o foi encontrada fonte de vÃ­deo compatÃ­vel.","No video has been loaded":"Nenhum vÃ­deo foi carregado","Non-Fullscreen":"Tela Normal",Pause:"Pausar",Play:"Tocar","Playback Rate":"Velocidade",Progress:"Progresso","Remaining Time":"Tempo Restante","Stream Type":"Tipo de Stream",Subtitles:"Legendas","subtitles off":"Sem Legendas","Technical details":"Detalhes tÃ©cnicos","The media could not be loaded, either because the server or network failed or because the format is not supported.":"O vÃ­deo nÃ£o pode ser carregado, ou porque houve um problema com sua rede ou pelo formato do vÃ­deo nÃ£o ser suportado.","The media playback was aborted due to a corruption problem or because the media used features your browser did not support.":"A execuÃ§Ã£o foi interrompida por um problema com o vÃ­deo ou por seu navegador nÃ£o dar suporte ao seu formato.","The video connection was lost, please confirm you are connected to the internet":"A conexÃ£o com o vÃ­deo foi perdida. Por favor, confirme que estÃ¡ conectado a internet","The video download was cancelled":"O download do vÃ­deo foi cancelado","The video is bad or in a format that cannot be played on your browser":"O vÃ­deo estÃ¡ em um formato que o seu browser nÃ£o suporta","The video you are trying to watch is encrypted and we do not know how to decrypt it":"O vÃ­deo que vocÃª estÃ¡ tentando assistir Ã© criptografado e nÃ³s nÃ£o sabemos como decodificÃ¡-lo","This video is either unavailable or not supported in this browser":"O vÃ­deo nÃ£o estÃ¡ disponÃ­vel ou nÃ£o Ã© suportado pelo seu browser",Unmute:"Habilitar Som","You aborted the media playback":"VocÃª parou a execuÃ§Ã£o do vÃ­deo."}}])}),function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(require,module,exports){!function(root,$,factory){"function"==typeof define&&define.amd?define(["video",factory]):"object"==typeof module&&module.exports?module.exports=factory($,window.espn||{}):(root.PLAYER=null,root.espn=root.espn||{},root.espn.video=factory($,root.espn))}(this,jQuery,function($,espn){function remove(playerId){espn.video.player&&espn.video.player.playerElement&&espn.video.player.playerElement.parentElement&&(espn.video.player.playerElement.parentElement.removeChild(espn.video.player.playerElement),PLAYER=null)}function doEmbed(options){return options=JSON.parse(JSON.stringify(options)),Util.isKindle&&(options.platform="player-image"),"html5-video"===options.platform?(options.geoLocation=GEO_LOCATION,PLAYER=new HTML5VideoPlayer(options)):"player-image"===options.platform?(options.geoLocation=GEO_LOCATION,PLAYER=new PlayerImage(options)):(options.fallingBack=!0,options.geoLocation=GEO_LOCATION,PLAYER=new HTML5VideoPlayer(options)),espn.video.player=PLAYER,options.callback&&options.callback(PLAYER),PLAYER}function playOnce(){var callbackHandler,playWrapper=function(){espn.video.play(),$.unsubscribe(callbackHandler)};callbackHandler=$.subscribe("espn.video.ready",playWrapper)}function play(id,options,userInitiated){if(options=options||{},options.id=id||null,options.userInitiated=userInitiated||null,options.userInitiated&&playOnce(),!PLAYER)return espn.video.embed(options);if(options.id){if(options.id!==PLAYER.clip.id||!PLAYER.getAutoPlay())return espn.video.embed(options);PLAYER.playVideo()}else PLAYER.playVideo()}function embed(options,done){options=options||{},options.platform=options.platform||Util.getDefaultPlatform();var p=null;return isGeoReady?(p=doEmbed(options),"function"==typeof done&&done(p)):$.subscribe("espn.video.locationReady",function(){isGeoReady=!0,p=doEmbed(options),"function"==typeof done&&done(p)}),p}function pause(){PLAYER.pauseVideo()}function skipAd(){PLAYER.skipAd()}function subscribe(topic,handler){return $.subscribe(topic,handler)}function embeddedPlay(){function startPlaylistVideo($video,userInitiated){var videoId=$.parseUri($video.attr("href")).queryKey.id||null,options=$video.metadata(),info=$video.siblings("span").html();null!==info&&$("#videoInfo").html(info),options.endCard=options.endCard||"false",($video.parent().hasClass("last")||$playlist.children("li").length<=1)&&(options.endCard="true"),
"undefined"==typeof options.playRelatedExternally&&(options.playRelatedExternally="false"),"true"==options.playRelatedExternally&&(advance=!1,options.endCard="true"),$("div.videoplayer").addClass("videoplayer-show"),espn.video.play(videoId,options,userInitiated)}function advancePlaylist($item,userInitiated){$item.addClass("active").siblings().removeClass("active"),$item.next().addClass("next").siblings().removeClass("next"),0===$item.next().length&&$(".video-player").hasClass("next")&&($(".mod-video-playlist").hide(),$(".video-player").removeClass("with-playlist")),startPlaylistVideo($item.find("a"),userInitiated)}var playlistEndHandle,$currentItem,advance=!0,$first=$("#videotoplay"),$playlist=$(".mod-video-playlist ul");startPlaylistVideo($first,!1),$playlist.children("li").bind("click",function(e){e.preventDefault(),advance=!0,$currentItem=$(this),advancePlaylist($currentItem,!0)}),playlistEndHandle=$.subscribe("espn.video.complete",function(){advance&&($currentItem=$playlist.find("li.active"),$currentItem.next().length>0&&advancePlaylist($currentItem.next(),!1))})}function insertAd(adParams,cms){var adSet=adParams.adSet||"espn";adParams.SWID=$.cookie("SWID")||"",adParams.FRMSegment=common.AD_SEGMENTS(),"string"==typeof adParams.siteSection&&(adParams.fw_site_section_id=adParams.siteSection,delete adParams.siteSection),"string"==typeof adParams.videoID&&(adParams.videoId=adParams.videoID,delete adParams.videoID);var pointer=(adParams.trackingName||adParams.playerType||adParams.player||null,$.subscribe("espn.video.ready",function(){espn.video.player.playerElement.setModuleParams({"freewheel-ads-manager":adParams});try{pcode=OoyalaData.OOYALA_SETTINGS.espn.pcode,espn.video.player.playerElement.setQueryStringParameters({playerBrandingId:OoyalaData.OOYALA_SETTINGS[adSet].adPlayerBrandingId,adSetCode:OoyalaData.ADInfo.adSets[pcode][adSet],"thruParam_espn-ui[autoPlay]":"true","thruParam_espn-ui[endCard]":"false"})}catch(e){}$.unsubscribe(pointer)}));espn.video.player=PLAYER=new OoyalaPlayer(adParams,GEO_LOCATION,(!1))}var OoyalaData=function(){return{OOYALA_SETTINGS:{},applicationGUIDs:{soccerfc:{domestic:"20879ce0-ad85-4acf-b0b4-f4a91a6c1517",international:"e723ef32-c3ff-4bdb-b5b3-9fe2ca1b96ba"},espn:{domestic:"85957be9-026a-415e-a8ce-7bfdc19d5e23",international:"85957be9-026a-415e-a8ce-7bfdc19d5e23"},deportes:{domestic:"94cf98b3-19cf-4c12-9305-15e5b07488bd",international:"94cf98b3-19cf-4c12-9305-15e5b07488bd"},cricinfo:{domestic:"681b074f-2ced-4a68-a0dc-9b1465c855bd",international:"6ffb1a11-c953-4127-bd27-f2296fec5aa7"}},ADInfo:{}}}(),common={OOYALA_SETTINGS:"undefined"!=typeof OoyalaData?OoyalaData.OOYALA_SETTINGS:{},ADInfo:"undefined"!=typeof OoyalaData?OoyalaData.ADInfo:{},countryMap:{FSM:"FM",JAM:"JM",SHN:"SH",CXR:"CX",TLS:"TL",ROU:"RO",BTN:"BT",DJI:"DJ",KGZ:"KG",MOZ:"MZ",NOR:"NO",SYR:"SY",JPN:"JP",UZB:"UZ",FRO:"FO",IND:"IN",ARE:"AE",SYC:"SC",MNP:"MP",ARG:"AR",MNG:"MN",ARM:"AM",MNE:"ME",GEO:"GE",IMN:"IM",TJK:"TJ",KEN:"KE",GUY:"GY",ASM:"AS",SJM:"SJ",LIE:"LI",BDI:"BI",PYF:"PF",DMA:"DM",SAU:"SA",MMR:"MM",ATG:"AG",TKM:"TM",TKL:"TK",MLI:"ML",ABW:"AW",ATF:"TF",NPL:"NP",GTM:"GT",BFA:"BF",CUB:"CU",GUF:"GF",GUM:"GU",KWT:"KW",IOT:"IO",JOR:"JO",GGY:"GG",PHL:"PH",MLT:"MT",ZMB:"ZM",ATA:"AQ",BEN:"BJ",UKR:"UA",BEL:"BE",NAM:"NA",SUR:"SR",AUS:"AU",TZA:"TZ",BGD:"BD",MKD:"MK",SDN:"SD",GHA:"GH",THA:"TH",LKA:"LK",HMD:"HM",MYT:"YT",GIN:"GN",SEN:"SN",GIB:"GI",MYS:"MY",BWA:"BW",BGR:"BG",AUT:"AT",BVT:"BV",UMI:"UM",STP:"ST",HND:"HN",SWZ:"SZ",ZAF:"ZA",DZA:"DZ",KIR:"KI",VNM:"VN",TWN:"TW",CHE:"CH",BHR:"BH",BHS:"BS",AGO:"AO",SWE:"SE",CHL:"CL",CZE:"CZ",CHN:"CN",HKG:"HK",TGO:"TG",CYM:"KY",CIV:"CI",SGS:"GS",NLD:"NL",SGP:"SG",CYP:"CY",KHM:"KH",MHL:"MH",AFG:"AF",SVK:"SK",SVN:"SI",PLW:"PW",BIH:"BA",NFK:"NF",UGA:"UG",TTO:"TT",KOR:"KR",COK:"CK",YEM:"YE",COG:"CG",COD:"CD",PNG:"PG",HTI:"HT",RWA:"RW",TCA:"TC",FIN:"FI",MEX:"MX",TCD:"TD",SPM:"PM",IDN:"ID",REU:"RE",HRV:"HR",MWI:"MW",COM:"KM",VUT:"VU",TUN:"TN",COL:"CO",AZE:"AZ",TUR:"TR",POL:"PL",TUV:"TV",FJI:"FJ",GNQ:"GQ",NGA:"NG",VAT:"VA",AIA:"AI",PAN:"PA",GNB:"GW",BLM:"BL",MDV:"MV",PAK:"PK",SRB:"RS",MDG:"MG",VEN:"VE",WSM:"WS",URY:"UY",HUN:"HU",EGY:"EG",BLR:"BY",MDA:"MD",ALA:"AX",MUS:"MU",ALB:"AL",BLZ:"BZ",KNA:"KN",CMR:"CM",OMN:"OM",GMB:"GM",SSD:"SS",NIU:"NU",BMU:"BM",VCT:"VC",FLK:"FK",USA:"US",NZL:"NZ",GLP:"GP",LAO:"LA",MTQ:"MQ",NIC:"NI",PRY:"PY",ESH:"EH",PRT:"PT",CAF:"CF",ISR:"IL",KAZ:"KZ",VGB:"VG",SLE:"SL",PCN:"PN",ISL:"IS",SLB:"SB",LSO:"LS",PRI:"PR",DNK:"DK",BOL:"BO",DEU:"DE",AND:"AD",LBN:"LB",ITA:"IT",SLV:"SV",LBR:"LR",CAN:"CA",PRK:"KP",MSR:"MS",LBY:"LY",QAT:"QA",WLF:"WF",IRQ:"IQ",ETH:"ET",LCA:"LC",IRN:"IR",NCL:"NC",NRU:"NR",MCO:"MC",IRL:"IE",DOM:"DO",GRL:"GL",JEY:"JE",PSE:"PS",GAB:"GA",EST:"EE",SMR:"SM",MRT:"MR",ESP:"ES",VIR:"VI",CCK:"CC",ECU:"EC",PER:"PE",GRC:"GR",GRD:"GD",FRA:"FR",CPV:"CV",LUX:"LU",ZWE:"ZW",GBR:"GB",LVA:"LV",MAF:"MF",ERI:"ER",NER:"NE",MAR:"MA",LTU:"LT",ANT:"AN",SOM:"SO",BRN:"BN",RUS:"RU",CRI:"CR",MAC:"MO",BRA:"BR",TON:"TO",BRB:"BB"},IMG_REF:"https:"===window.location.protocol?"https://secure.espncdn.com":"http://a.espncdn.com",COOKIE_HOST:"www.espn.com",AD_SEGMENTS:window.espn&&window.espn.core&&window.espn.core.ad_segments,CMS_INFO:{espn:{videohub:"//www.espn.com/video",useExternalIdFilter:!1},deportes:{videohub:"//espndeportes.espn.com/videohub/video/indexDeportes",useExternalIdFilter:!1},intl:{videohub:"//espnfc.com/video/espnfc/index",useExternalIdFilter:!0},cric:{videohub:"//espncric.com/",useExternalIdFilter:!1}}},Util=function(common){function getP13AutoStart(callback){espn.fanapi?jQuery.when(espn.fanapi.getAsP13n()).done(function(p13n){if(p13n&&p13n.mySettings){if(P13N_VIDEO_AUTOSTART=p13n.mySettings.videoAutoStart,!callback)return p13n.mySettings.videoAutoStart;callback(p13n.mySettings.videoAutoStart)}}).fail(function(){callback&&callback()}):espn.p13n&&espn.p13n.get({success:function(p13n){try{if(p13n&&p13n.mySettings){if(P13N_VIDEO_AUTOSTART=p13n.mySettings.videoAutoStart,!callback)return p13n.mySettings.videoAutoStart;callback(p13n.mySettings.videoAutoStart)}}catch(e){}},error:function(){}})}function getVideoPlaylistInfo(videoPlaylist,mobilePath,async,callback){for(var cmsAndIds="",i=0;i<videoPlaylist.videos.length;i++)for(var key in videoPlaylist.videos[i]){var replace={id:key,cms:videoPlaylist.videos[i][key].cms,url:videoPlaylist.videos[i][key].url};cmsAndIds+="id="+replace.cms+":"+key+"&",videoPlaylist.videos[i]=replace;break}if(mobilePath){var analyticsParams="",deviceParam="desktop",rsid="wdgespge",site="espn",baseUrl="http://www.espn.com/videohub/video/util/getMinifiedClipJsonById?";isMobile?deviceParam="mobile":(isIpad||isAndroid)&&(deviceParam="tablet"),"undefined"!=typeof window.s_account&&(rsid=window.s_account+","+rsid),analyticsParams+="&omniReportSuite="+rsid,"undefined"!=typeof window.omniSite&&(site=Analytics.getSiteSection(window.omniSite)),analyticsParams+="&siteSection="+site,analyticsParams+="&trackingName="+encodeURIComponent(Analytics.getTrackingName()),$.ajax({url:baseUrl+cmsAndIds+"device="+deviceParam+analyticsParams,async:async,success:function(response){callback&&callback(response)}})}return videoPlaylist}function hasFlashAndUsable(){var hasFlash=!1;try{var fo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");fo&&(hasFlash=!0)}catch(e){navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(hasFlash=!0)}return hasFlash}function fullScreenRequest(elem){elem.requestFullscreen?elem.requestFullscreen():elem.msRequestFullscreen?elem.msRequestFullscreen():elem.mozRequestFullScreen?elem.mozRequestFullScreen():elem.webkitRequestFullscreen?elem.webkitRequestFullscreen():elem.webkitEnterFullScreen&&elem.webkitEnterFullScreen()}function autoPlayHelper(options){options=options||{};var autoplay=!0,vasCookie=(document.cookie.match(/VAS=([^;]+)/)||[])[1];vasCookie&&(autoplay=convertToBoolean(vasCookie)),espn.video.autoplay=autoplay,getP13AutoStart(function(autoStart){autoStart&&(autoplay="2"!==autoStart),espn.video.autoplay=autoplay,options.callback&&options.callback(autoplay)})}function isForceHTML5(){var forceHTML5=/(^|; )espn.html5=1/.test(document.cookie);return forceHTML5}function getGeoLocation(cbk){cbk=cbk||$.noop;var validateGeoLocationAndReturn=function(loc){if(!loc)return cbk(new Error("failed to lookup valid geolocation"));var geoLocation=Util.getGeoLocationFromGeoService(loc);return geoLocation?void cbk(null,geoLocation):cbk(new Error("failed to determine geolocation"))},ifFail=function(){var country=(document.cookie.match(/country=([^;]+)/)||[])[1]||"us";validateGeoLocationAndReturn(Util.getGeoLocationFromGeoService({country:{isoCode:null,isoCodeAlpha2:(country+"").toUpperCase()}}))};window.espn&&window.espn.geo&&window.espn.geo.getLocation?espn.geo.getLocation().done(validateGeoLocationAndReturn).fail(function(){espn.geo.promise=null,espn.geo.getLocation().done(validateGeoLocationAndReturn).fail(ifFail)}):ifFail()}function getGeoLocationFromGeoService(loc){var isoCodeAlpha3=null;loc.country&&loc.country.isoCode&&(isoCodeAlpha3=loc.country.isoCode.toUpperCase());var isoCodeAlpha2=loc.country.isoCodeAlpha2;return isoCodeAlpha3&&!isoCodeAlpha2&&countryMap&&(isoCodeAlpha2="string"==typeof countryMap[isoCodeAlpha3]?countryMap[isoCodeAlpha3].toLowerCase():isoCodeAlpha3.substring(0,2).toLowerCase()),loc.country.isoCodeAlpha2=isoCodeAlpha2,loc}function getDefaultPlatform(){var defaultPlatform="ooyala";return(this.isMobile||this.isIpad||this.isAndroid)&&(defaultPlatform=this.canPlayVideo?"html5-video":"player-image"),isForceHTML5()&&(defaultPlatform="html5-video"),defaultPlatform}function convertToBoolean(val){var type=typeof val;return"boolean"!==type&&("string"===type&&isNaN(val)?val="true"===val:(val=parseInt(val),val=1===val)),val}function checkMemHasVideo(){return checkMemHasVideo._cache||(checkMemHasVideo._cache=!1,"object"==typeof espn.mem&&"boolean"==typeof espn.mem.hasVideo&&(checkMemHasVideo._cache=espn.mem.hasVideo)),checkMemHasVideo._cache}function getBusinessUnit(cms){return"deportes_dev"==cms||"deportes_qa"==cms?"deportes":"cric"==cms||"cric_qa"==cms||"cric_dev"==cms||"cricinfo"==cms||"cricinfo_qa"==cms||"cricinfo_dev"==cms?"cricinfo":"intl"==cms||"intl_dev"==cms||"intl_qa"==cms?"soccerfc":cms}function cleanDimension(dim){return"default"==dim?null:dim?(dim+="",/\d{2,3}%/.test(dim)?dim:dim.replace(/\D/g,"")+"px"):null}function getCMSFromTrackingName(trackingName){var cms="espn";return trackingName.search(/deportes/i)>-1?cms="deportes":trackingName.search(/intl/i)>-1&&(cms="intl"),cms}function get(object,keys,defaultVal){return keys=Array.isArray(keys)?keys:keys.split("."),object=object[keys[0]]||object[parseInt(keys[0],10)],object&&keys.length>1?get(object,keys.slice(1),defaultVal):void 0===object?defaultVal:object}var debugLog=function(){var domVideoLog=document.getElementById("video-log"),ON_SCREEN_DEBUG=/(\?|&)onScreenMobileVideoDebug=true(&|$)/.test(document.location.search)||!!domVideoLog,DEBUG_MODE=/(\?|&)debug=true(&|$)/.test(document.location.search)||ON_SCREEN_DEBUG;return DEBUG_MODE?ON_SCREEN_DEBUG?(domVideoLog||(domVideoLog=document.createElement("div"),Object.assign&&Object.assign(domVideoLog.style,{position:"fixed",top:0,right:0,whiteSpace:"nowrap",width:"50%",height:"300px",overflow:"scroll",background:"rgba(0,0,0,.85)",color:"#fff",fontSize:"10px",lineHeight:"8px",padding:"2px 6px",boxSizing:"border-box",zIndex:9999999}),window.addEventListener("load",function(){document.body.appendChild(domVideoLog)})),function(){var messagePre=document.createElement("pre");messagePre.innerHTML='<span style="color: #ff0033; font-weight: bold">ESPNVideo:</span> '+[].slice.call(arguments).map(function(m){return m.replace(/</g,"&lt;").replace(/>/g,"&gt;")}).join(" "),domVideoLog.appendChild(messagePre)}):window.console?function(){window.console.log.apply(window,["%cESPNVideo:","color: #ff0033; font-weight: bold"].concat([].slice.call(arguments)))}:function(){}:function(){}}(),canPlayVideo=function _v(){return _v._cache||(_v._cache=document.createElement("video")),!!_v._cache.canPlayType}(),isIpad=function _i(){return _i._cache||(_i._cache=/iPad/i.test(window.navigator.userAgent)||/Mini/i.test(window.navigator.userAgent)),_i._cache}(),isIos=function _ios(){return _ios._cache||(_ios._cache=navigator.userAgent.match(/Mozilla.*\((iPhone|iPad|iPod).*like Mac OS X.*AppleWebKit/)),_ios._cache}(),isAndroid=function _a(){return _a._cache||(_a.cache=navigator.userAgent.match(/Android/g)),_a.cache}(),isKindle=function _k(){return _k._cache||(_k.cache=navigator.userAgent.match(/Silk/g)),_k.cache}(),needsClickToPlay=function _nCTP(){return _nCTP._cache||(_nCTP.cache=navigator.userAgent.match(/Nexus 4/g)&&navigator.userAgent.match(/Android 4.2/g)),_nCTP.cache}(),P13N_VIDEO_AUTOSTART=null,isMobile=!1,isTablet=!1;navigator.userAgent.match(/Mobi/)?navigator.userAgent.match(/iPad/)?isTablet=!0:isMobile=!0:navigator.userAgent.match(/Tab/)?isTablet=!0:navigator.userAgent.match(/Android/)?isTablet=!0:navigator.userAgent.match(/Touch/)&&navigator.userAgent.match(/IE/)&&(isTablet=!0),/[?&]html5=false/.test(window.location.search)?document.cookie="espn.html5=0; path=/; domain=espn.com":/[?&]html5=./.test(window.location.search)&&(document.cookie="espn.html5=1; path=/; domain=espn.com");var countryMap=common.countryMap||{FSM:"FM",JAM:"JM",SHN:"SH",CXR:"CX",TLS:"TL",ROU:"RO",BTN:"BT",DJI:"DJ",KGZ:"KG",MOZ:"MZ",NOR:"NO",SYR:"SY",JPN:"JP",UZB:"UZ",FRO:"FO",IND:"IN",ARE:"AE",SYC:"SC",MNP:"MP",ARG:"AR",MNG:"MN",ARM:"AM",MNE:"ME",GEO:"GE",IMN:"IM",TJK:"TJ",KEN:"KE",GUY:"GY",ASM:"AS",SJM:"SJ",LIE:"LI",BDI:"BI",PYF:"PF",DMA:"DM",SAU:"SA",MMR:"MM",ATG:"AG",TKM:"TM",TKL:"TK",MLI:"ML",ABW:"AW",ATF:"TF",NPL:"NP",GTM:"GT",BFA:"BF",CUB:"CU",GUF:"GF",GUM:"GU",KWT:"KW",IOT:"IO",JOR:"JO",GGY:"GG",PHL:"PH",MLT:"MT",ZMB:"ZM",ATA:"AQ",BEN:"BJ",UKR:"UA",BEL:"BE",NAM:"NA",SUR:"SR",AUS:"AU",TZA:"TZ",BGD:"BD",MKD:"MK",SDN:"SD",GHA:"GH",THA:"TH",LKA:"LK",HMD:"HM",MYT:"YT",GIN:"GN",SEN:"SN",GIB:"GI",MYS:"MY",BWA:"BW",BGR:"BG",AUT:"AT",BVT:"BV",UMI:"UM",STP:"ST",HND:"HN",SWZ:"SZ",ZAF:"ZA",DZA:"DZ",KIR:"KI",VNM:"VN",TWN:"TW",CHE:"CH",BHR:"BH",BHS:"BS",AGO:"AO",SWE:"SE",CHL:"CL",CZE:"CZ",CHN:"CN",HKG:"HK",TGO:"TG",CYM:"KY",CIV:"CI",SGS:"GS",NLD:"NL",SGP:"SG",CYP:"CY",KHM:"KH",MHL:"MH",AFG:"AF",SVK:"SK",SVN:"SI",PLW:"PW",BIH:"BA",NFK:"NF",UGA:"UG",TTO:"TT",KOR:"KR",COK:"CK",YEM:"YE",COG:"CG",COD:"CD",PNG:"PG",HTI:"HT",RWA:"RW",TCA:"TC",FIN:"FI",MEX:"MX",TCD:"TD",SPM:"PM",IDN:"ID",REU:"RE",HRV:"HR",MWI:"MW",COM:"KM",VUT:"VU",TUN:"TN",COL:"CO",AZE:"AZ",TUR:"TR",POL:"PL",TUV:"TV",FJI:"FJ",GNQ:"GQ",NGA:"NG",VAT:"VA",AIA:"AI",PAN:"PA",GNB:"GW",BLM:"BL",MDV:"MV",PAK:"PK",SRB:"RS",MDG:"MG",VEN:"VE",WSM:"WS",URY:"UY",HUN:"HU",EGY:"EG",BLR:"BY",MDA:"MD",ALA:"AX",MUS:"MU",ALB:"AL",BLZ:"BZ",KNA:"KN",CMR:"CM",OMN:"OM",GMB:"GM",SSD:"SS",NIU:"NU",BMU:"BM",VCT:"VC",FLK:"FK",USA:"US",NZL:"NZ",GLP:"GP",LAO:"LA",MTQ:"MQ",NIC:"NI",PRY:"PY",ESH:"EH",PRT:"PT",CAF:"CF",ISR:"IL",KAZ:"KZ",VGB:"VG",SLE:"SL",PCN:"PN",ISL:"IS",SLB:"SB",LSO:"LS",PRI:"PR",DNK:"DK",BOL:"BO",DEU:"DE",AND:"AD",LBN:"LB",ITA:"IT",SLV:"SV",LBR:"LR",CAN:"CA",PRK:"KP",MSR:"MS",LBY:"LY",QAT:"QA",WLF:"WF",IRQ:"IQ",ETH:"ET",LCA:"LC",IRN:"IR",NCL:"NC",NRU:"NR",MCO:"MC",IRL:"IE",DOM:"DO",GRL:"GL",JEY:"JE",PSE:"PS",GAB:"GA",EST:"EE",SMR:"SM",MRT:"MR",ESP:"ES",VIR:"VI",CCK:"CC",ECU:"EC",PER:"PE",GRC:"GR",GRD:"GD",FRA:"FR",CPV:"CV",LUX:"LU",ZWE:"ZW",GBR:"GB",LVA:"LV",MAF:"MF",ERI:"ER",NER:"NE",MAR:"MA",LTU:"LT",ANT:"AN",SOM:"SO",BRN:"BN",RUS:"RU",CRI:"CR",MAC:"MO",BRA:"BR",TON:"TO",BRB:"BB"};return{debugLog:debugLog,canPlayVideo:canPlayVideo,isIpad:isIpad,isIos:isIos,isMobile:isMobile,isAndroid:isAndroid,isKindle:isKindle,needsClickToPlay:needsClickToPlay,autoPlayHelper:autoPlayHelper,get:get,getP13AutoStart:getP13AutoStart,getGeoLocation:getGeoLocation,getGeoLocationFromGeoService:getGeoLocationFromGeoService,getDefaultPlatform:getDefaultPlatform,fullScreenRequest:fullScreenRequest,convertToBoolean:convertToBoolean,checkMemHasVideo:checkMemHasVideo,getBusinessUnit:getBusinessUnit,cleanDimension:cleanDimension,hasFlashAndUsable:hasFlashAndUsable,getVideoPlaylistInfo:getVideoPlaylistInfo,getCMSFromTrackingName:getCMSFromTrackingName,requiresFlashUpgrade:navigator.userAgent.indexOf("Safari/537.76.4")!==-1&&navigator.userAgent.indexOf("Version/7")!==-1&&"undefined"!=typeof swfobject&&!swfobject.hasFlashPlayerVersion("14.0.0")||"undefined"!=typeof swfobject&&!swfobject.hasFlashPlayerVersion("10.0.0"),requiresFlashDownload:"undefined"!=typeof swfobject&&!swfobject.hasFlashPlayerVersion("0.0.1")}}("undefined"!=typeof common?common:{});"object"==typeof module&&module.exports&&(module.exports=Util);var Analytics=function(Util){function getSiteSection(str){var s=str.split(":").slice(0,3).join(":"),i=s.indexOf(":videoid");return i===-1?s:s.substr(0,i)}function getOmnitureAccount(str){var result=[];if("string"==typeof str){var accounts=str.split(","),exclude=["wdgespge","wdgespvideo","wdgespinternational","wdgesptest"];$.each(accounts,function(i,value){$.inArray(value,exclude)===-1&&result.push(value)})}return result.join(",")||null}function getTrackingName(){return"cricinfo"===window.omniSite&&window.omniCt?window.omniCt.replace(/\s+/g,"-").toLowerCase():window.omniTrackingName||null}function getOmniSite(){return window.omniSite||null}return{getSiteSection:getSiteSection,getOmnitureAccount:getOmnitureAccount,getTrackingName:getTrackingName,getOmniSite:getOmniSite}}(Util),Clip=function(common,Util,Analytics){function Clip(options){function loadAPIClip(options,handleErrors,cbk){var analyticsParams="",deviceParam="desktop",rsid="wdgespge",site="espn";Util.isMobile||options.fallingBack?deviceParam="mobile":(Util.isIpad||Util.isAndroid)&&(deviceParam="tablet"),"cric"===options.cms&&(rsid="wdgespge"),"undefined"!=typeof window.s_account&&(rsid=window.s_account+","+rsid),analyticsParams+="&omniReportSuite="+rsid,"undefined"!=typeof window.omniSite&&(site=Analytics.getSiteSection(window.omniSite)),analyticsParams+="&siteSection="+site,analyticsParams+="&trackingName="+encodeURIComponent(Analytics.getTrackingName());var protocol="file:"===window.location.protocol?"http:":window.location.protocol,endpoint="";if("cric"===options.cms)endpoint=protocol+"//www.espncricinfo.com/ci/content/video_audio/api/getMinifiedClipJsonById.json?id="+options.cerebroId+"&device="+deviceParam+analyticsParams;else{var apiHost="www.espn.com";document.location.search.match(/(^\?|&)useqa=true/)&&(apiHost="www.espnqa.com"),endpoint=protocol+"//"+apiHost+"/videohub/video/util/getMinifiedClipJsonById?id="+options.id+"&cms="+cms+"&device="+deviceParam+analyticsParams}return"https:"===protocol&&(endpoint+="&secure=true"),options={method:"GET",url:endpoint,success:function(data){convertAPIClip(data),(cbk||$.noop)()},error:handleErrors},"undefined"!=typeof espn_ui&&espn_ui.ie8&&(options.dataType="jsonp",options.jsonpCallback="videoapi"),$.ajax(options)}function loadCerebroClip(options,handleErrors,cbk){var endpoint="https://watch.auth.api.espn.com/video/auth/getclip/"+options.cerebroId;return $.ajax({method:"GET",data:{apikey:"5p8m6dw513q716wt2os04mec3"},url:endpoint,success:function(data){convertCerebroClip(data),(cbk||$.noop)()},error:handleErrors})}function convertAPIClip(obj){if(obj.videos&&obj.videos.length>0){var apiClip=obj.videos[0],clipLang=apiClip.lang;if(id=apiClip.id,timeRestrictions.embargoDate=apiClip.timeRestrictions.embargoDate,timeRestrictions.expirationDate=apiClip.timeRestrictions.expirationDate,posterImages&&posterImages.full&&posterImages.full.href&&""!==posterImages.full.href.trim||(posterImages.full.href=apiClip.posterImages.full.href),"object"==typeof apiClip.geoRestrictions&&(geoRestrictions.type=apiClip.geoRestrictions.type,geoRestrictions.countries=apiClip.geoRestrictions.countries),apiClip&&apiClip.links&&"object"==typeof apiClip.links.mobile){if(apiClip.links.mobile.href?links.mobile.href=apiClip.links.mobile.href:apiClip.links.source.full.href&&(links.mobile.href=apiClip.links.source.full.href),apiClip.links.mobile.omniHref&&(links.mobile.omniHref=apiClip.links.mobile.omniHref.replace(/.m.espn/,""),espn&&espn.core&&espn.core.SWID&&(links.mobile.omniHref=links.mobile.omniHref+"&c2="+espn.core.SWID)),Util.isIpad&&apiClip.links.source&&apiClip.links.source.HLS&&(links.mobile.href=apiClip.links.source.HLS.href),links.mobile.href&&options.siteSection&&links.mobile.href.match(/unicorn/)){var sep=links.mobile.href.indexOf("?")!==-1?"&":"?";links.mobile.href+=sep+"UMADPARAMcsid="+options.siteSection}apiClip.links.textTrack&&(Util.debugLog("API (getMinifiedClipJsonById) returned VTT: "+apiClip.links.textTrack),links.textTrack={type:"Subtitle",lang:clipLang,url:apiClip.links.textTrack}),apiClip.links.adlessClip&&(Util.debugLog("API (getMinifiedClipJsonById) returned ad-less Clip: "+apiClip.links.adlessClip),links.adlessClip=apiClip.links.adlessClip)}}else $.publish("espn.video.unavailable",[this,"Clip not found"])}function convertCerebroClip(response){var cerebroClip=response.clip;if(cerebroClip){guid=cerebroClip._id,timeRestrictions.embargoDate=cerebroClip.videoRights.embargoDate,timeRestrictions.expirationDate=cerebroClip.videoRights.expirationDate,posterImages&&posterImages.full&&posterImages.full.href&&""!==posterImages.full.href.trim||(posterImages.full.href=common.IMG_REF+cerebroClip.mezzaninePathImage);var clipLang={domestic:"en",deportes:"es"}[cerebroClip.site]||"en",type=cerebroClip.videoRights.geoTargetType;"inclusion"===type&&(type="whitelist"),"exclusion"===type&&(type="blacklist"),geoRestrictions.type=type;var countries=cerebroClip.videoRights.geoTargets;"[object Array]"===Object.prototype.toString.call(countries)&&(geoRestrictions.countries=countries);var businessUnit=Util.getBusinessUnit(cms);cerebroClip.syndicationDetails[businessUnit]||cerebroClip.syndicationDetails.domestic&&(businessUnit="domestic"),"object"==typeof cerebroClip.syndicationDetails[businessUnit]&&("object"==typeof cerebroClip.syndicationDetails[businessUnit].cms&&(id=cerebroClip.syndicationDetails[businessUnit].cms.syndicationId),"object"==typeof cerebroClip.syndicationDetails[businessUnit].brightcove?links.mobile.href=cerebroClip.syndicationDetails[businessUnit].brightcove.url:"object"==typeof cerebroClip.syndicationDetails[businessUnit].ooyala&&(links.mobile.href=cerebroClip.syndicationDetails[businessUnit].ooyala.url),"object"==typeof cerebroClip.syndicationDetails[businessUnit].ooyala&&(ooyalaId=cerebroClip.syndicationDetails[businessUnit].ooyala.syndicationId),"object"==typeof cerebroClip.syndicationDetails[businessUnit].threeplay&&(Util.debugLog("API (Shield) returned VTT: "+cerebroClip.syndicationDetails[businessUnit].threeplay.url),links.textTrack={type:"Subtitle",lang:clipLang,url:cerebroClip.syndicationDetails[businessUnit].threeplay.url}),cerebroClip.transcodes&&cerebroClip.transcodes.primary_mezzanine&&(Util.debugLog("API (Shield) returned ad-less Clip: "+cerebroClip.transcodes.primary_mezzanine),links.adlessClip=cerebroClip.transcodes.primary_mezzanine))}}function isExpired(){return Date.parse(timeRestrictions.expirationDate)<Date.parse((new Date).toGMTString())}function isEmbargoed(){return Date.parse(timeRestrictions.embargoDate)>Date.parse((new Date).toGMTString())}function isGeoRestricted(geoLocation){var geoRestricted=!1,type=geoRestrictions.type,countries=geoRestrictions.countries;if(countries.length>0){var country,currentCountry=geoLocation.country.isoCodeAlpha2;if(currentCountry){currentCountry=currentCountry.toLowerCase(),"whitelist"===type?geoRestricted=!0:"blacklist"===type&&(geoRestricted=!1);for(var i=0,len=countries.length;i<len;i++)if(country=countries[i].toLowerCase(),country===currentCountry){"whitelist"===type?geoRestricted=!1:"blacklist"===type&&(geoRestricted=!0);break}}else geoRestricted=!0}return geoRestricted}function getRestrictions(){var response={};if(response.status="success",response.data="",isExpired())response.status="fail",response.message="This video is no longer available";else if(isEmbargoed())response.status="fail",response.message="This video is not yet available";else if(isGeoRestricted(geoLocation)){response.status="fail";var isoCodeAlpha2=geoLocation.country.isoCodeAlpha2;response.message="This video is not authorized for your location","string"==typeof isoCodeAlpha2&&(response.message+=" ("+isoCodeAlpha2.toUpperCase()+")")}return response}options=options||{};var id=options.id||null,guid=options.guid||null,ooyalaId=null,cms=options.cms||null,geoLocation=(options.cms||null,options.geoLocation||{}),timeRestrictions={embargoDate:null,expirationDate:null},geoRestrictions={type:null,countries:[]},posterImages={full:{href:options.thumbnailURL}},links={mobile:{href:null,omniHref:null},textTrack:null};this.loadAPIClip=loadAPIClip,this.loadCerebroClip=loadCerebroClip,this.id=id,this.guid=guid,this.ooyalaId=ooyalaId,this.links=links,this.posterImages=posterImages,this.isExpired=isExpired,this.isEmbargoed=isEmbargoed,this.isGeoRestricted=isGeoRestricted,this.getRestrictions=getRestrictions}return Clip}(common,Util,Analytics),Player=function(common,Util,Clip,OoyalaData){function Player(){this.isPlaying=!1,this.playerReady=!1,this.playType=null,this.playVerified=!1,this.autoPlay=!1,this.autoClose=!0,this.width=null,this.height=null,this.cms=null,this.clip=null,this.targetReplaceId=null,this.targetElement=null,this.$targetElement=null,this.$container=null,this.playerElement=null,this.$playerElement=null,this.onErrorBehavior=null,this.hasPlaylist=null,this.videoPlaylist=null,this.currentIndex=null,this.originalIndex=null,this.playlistPasses=0,this.useExternalIdFilter=null,this.iterationCount=1,this.currentPlayingId=null,this.showPoster=!1,this.setDefaults=function(options){options=options||{},this.playType=null,this.autoPlay=this.getAutoPlay(options),options.height=options.height||"default",options.width=options.width||"default",this.height=Util.cleanDimension(options.height),this.width=Util.cleanDimension(options.width),this.cms=options.cms||"espn",options.cms=this.cms,options.playerBrandingId&&(this.playerBrandingId=options.playerBrandingId),this.clip=new Clip(options),this.hasPlaylist=!!options.videoPlaylist,this.videoPlaylist=this.hasPlaylist?Util.getVideoPlaylistInfo(options.videoPlaylist):null,this.currentIndex=this.hasPlaylist&&options.videoPlaylist.startIndex?options.videoPlaylist.startIndex:0,this.currentPlayingId=this.hasPlaylist?this.videoPlaylist.videos[this.currentIndex].id:null,this.originalIndex=this.currentIndex,this.hasPlaylist&&options.videoPlaylist.iterationCount&&(this.iterationCount=options.videoPlaylist.iterationCount),this.targetReplaceId=options.targetReplaceId||"videoPlayer";var $container,$targetElement=$("#"+this.targetReplaceId);0===$targetElement.length?($container=$(".videoplayer")||$("body"),$container.html('<div id="'+this.targetReplaceId+'"></div>'),$targetElement=$("#"+this.targetReplaceId)):$container=$targetElement.parent(),this.$targetElement=$targetElement,this.$container=$container,Util.checkMemHasVideo()&&$container.addClass("videoplayer-show"),this.targetElement=document.getElementById(this.targetReplaceId),$.publish("espn.video.container.ready",[this.$container]),$.publish("espn.video.targetReady",[this.targetReplaceId]),this.playerElement=null,$playerElement=null,onErrorBehavior=options.onErrorBehavior||"default","undefined"!=typeof options.useExternalIdFilter?this.useExternalIdFilter=options.useExternalIdFilter:this.useExternalIdFilter=common.CMS_INFO[this.cms].useExternalIdFilter,"boolean"==typeof options.showPoster&&(this.showPoster=options.showPoster)},this.handleErrors=function(message){if($.publish("espn.video.unavailable",[this,message]),"message"===onErrorBehavior)this.displayError(message);else if("image"===this.onErrorBehavior){var w="default"==this.width?"":this.width,h="default"==this.height?"":this.height;$("#"+this.targetReplaceId).replaceWith('<img id="'+this.targetReplaceId+'" src="'+this.clip.posterImages.full.href+'" width="'+w+'" height="'+h+'" />')}else"hide"===this.onErrorBehavior&&$("#"+this.targetReplaceId).hide()},this.displayError=function(message){message="string"==typeof message?message+"<br />":"";var w="default"==this.width?"":this.width,h="default"==this.height?"":this.height,$container=$('<div id="'+this.targetReplaceId+'" class="imageHolder"></div>').css("position","relative"),$imgObj=$('<img src="'+this.clip.posterImages.full.href+'" width="'+w+'" height="'+h+'">');$container.append($imgObj);var $messObj=$('<div class="message">CONTENT UNAVAILABLE: '+message+"</div>").css({"font-family":"klavika, arial, sans-serif","font-size":"24px","text-decoration":"none","text-align":"center",position:"absolute",width:"100%",top:"50%",color:"#FFF","text-shadow":"black 0.1em 0.1em 0.2em"});$container.append($messObj);var videoHub=common.CMS_INFO[this.cms].videohub;$container.css("cursor","pointer").click(function(){window.location.href=videoHub}),$("#"+this.targetReplaceId).replaceWith($container)},this.setAutoPlay=function(aPlay){this.autoPlay=aPlay;var num=this.autoPlay?"1":"2";if(window.location.hostname.match(/\.espn\.com$/)){var _i=new Image;_i.src="http://"+common.COOKIE_HOST+"/personalization/setAutoStart?vasPref="+num+"&rand="+new Date}else espn.cookie.set("VAS",num,366);espn.fanapi?espn.fanapi.updateProfile({settings:{videoAutoStart:{value:num.toString()}}},{success:function(){},error:function(){}}):espn.p13n&&espn.p13n.update({mySettings:{videoAutoStart:num}},{success:function(){},error:function(){}})},this.getAutoPlay=function(options,p13nVideoAutoStart,callback){options=options||{},options.autoPlay=options.autoPlay||options.autoplay||options.autostart||options.autoStart||null,options.callback=callback,Util.autoPlayHelper(options)},this.getClipUrl=function(clipUrl,cms,geoLocation){return clipUrl},this.getPlayType=function(options,callback){if(options.playType&&callback)callback(options.playType);else{var setPlayType=function(value){var type=value?"autoplay":"manual";callback&&callback(type)};options.autoPlay?setPlayType(options.autoPlay):this.getAutoPlay(options,null,setPlayType)}},this.getOmniClipUrl=function(clipUrl,cms,geoLocation){var businessUnit=Util.getBusinessUnit(this.cms);return clipUrl&&(clipUrl=geoLocation.country&&geoLocation.country.isoCodeAlpha2&&"US"!=geoLocation.country.isoCodeAlpha2.toUpperCase()?clipUrl.replace(OoyalaData.applicationGUIDs[businessUnit].domestic,OoyalaData.applicationGUIDs[businessUnit].international):clipUrl.replace(OoyalaData.applicationGUIDs[businessUnit].international,OoyalaData.applicationGUIDs[businessUnit].domestic)),clipUrl},this.skipAd=function(){},this.pauseVideo=function(){}}return Player}(common,Util,Clip,OoyalaData),isClipId=function(id){return/^[0-9]*$/.test(id)||"string"==typeof id&&id.indexOf(":")!==-1},HTML5VideoPlayer=function(Player,Util,common){function HTML5VideoPlayer(options){function init(url,imageUrl){if(vttType="",!url&&context.clip&&context.clip.links&&context.clip.links.mobile&&context.clip.links.mobile.href){$.publish("espn.video.embed.begin");var restrictions=context.clip.getRestrictions();if("fail"===restrictions.status)return void context.handleErrors(restrictions.message);setupHTMLAfterOnceUX(context.getClipUrl(context.clip.links.mobile.href,context.cms,geoLocation),context.clip.posterImages.full.href)}else url?setupHTMLAfterOnceUX(url,imageUrl):context.handleErrors("")}function offsetTextTrack(textTrack,offset,cbk){var timestampWithOffset=function(tsParts,offset){var tsTime=36e5*parseInt(tsParts[1],10)+6e4*parseInt(tsParts[2],10)+1e3*parseInt(tsParts[3],10)+parseInt(tsParts[4],10),offsetTime=tsTime+offset,seconds=Math.floor(offsetTime/1e3%60),minutes=Math.floor(offsetTime/6e4%60),hours=Math.floor(offsetTime/36e5%24);return(hours?("00"+hours).slice(-2):"00")+":"+(minutes?("00"+minutes).slice(-2):"00")+":"+("00"+seconds).slice(-2)+"."+("000"+seconds).slice(-3)};$.ajax({url:textTrack.url,dataType:"text",success:function(content){var timeStampOffset,offsetContent="",match=[];try{if(!content||!(content.match(/(\d{2}):(\d{2}):(\d{2}).(\d{3})/g)||[]).length)return cbk(null,content);
for(;match;)match=content.match(TIMESTAMP_REGEX),match?(offsetContent+=content.substring(0,match.index),timeStampOffset=timestampWithOffset(match,offset),offsetContent+=timeStampOffset,content=content.substring(match.index+timeStampOffset.length)):offsetContent+=content;window.URL&&window.Blob?textTrack.url=URL.createObjectURL(new Blob([offsetContent],{type:"text/plain"})):textTrack.url="data:text/vtt;base64,"+btoa(offsetContent)}catch(err){return cbk(err)}cbk(null,textTrack)},error:function(err){cbk(err)}})}function setupHTMLAfterOnceUX(url,imageUrl,textTrack){var oncePrefix="//once.unicornmedia.com/now/od/auto/",onceUxPrefix="//onceux.unicornmedia.com/now/ads/vmap/od/auto/",next=function(err,textTrackWithOffset){var textTrackURL=Util.get(context,"clip.links.textTrack.url")||"",adlessClip=Util.get(context,"clip.links.adlessClip");0===textTrackURL.indexOf("blob:")||0===textTrackURL.indexOf("data:")?vttType="MANUALLY_OFFSET_ESPN_VTT":textTrackURL.indexOf("unicornmedia.com")!==-1?vttType="BRIGHTCOVE_VTT":/^(http|https):\/\/media.video-cdn.espn.com/.test(textTrackURL)?vttType="ORIGINAL_ESPN_VTT":textTrackURL&&(vttType="UNKNOWN"),vttType?Util.debugLog("Video player will use VTT type: "+vttType):Util.debugLog("Video player does not have a VTT to use"),adlessClip&&"ORIGINAL_ESPN_VTT"===vttType?(Util.debugLog("Use ad-less clip with original VTT"),setupHTML(adlessClip,imageUrl)):setupHTML(url,imageUrl)};/(\?|&)onceux=false/.test(window.location.search)||url.indexOf(oncePrefix)===-1?next():(Util.debugLog("Video URL looks like a brightcove URL "+url+", rewrite it to return JSON data potentially including a VTT"),/(\?|&)testux=true/.test(window.location.search)?(Util.debugLog("Forcing video to hit a Brightcove endpoint with a processed VTT file. The resulting video that plays will not correspond to the video originally played!"),url="http://once.unicornmedia.com/now/ads/vmap/od/auto/4d993388-8b49-4f34-9e48-87906e690281/aab9a505-05a5-4777-a2a0-f64d5adc35e4/f6d9486a-5837-4fe0-a74b-9b21335fb1f3/content.once?UMADPARAMreferer=http://www.espn.com/video/clip?id=19675353"):url=url.replace(oncePrefix,onceUxPrefix),Util.debugLog("Fetching data from Brightcove with "+url+"&timedtextextension=vtt&output=1"),$.ajax({url:url,data:{timedtextextension:"vtt",output:1},success:function(resp){var ext=Util.get(resp,"vmap:VMAP.vmap:Extensions"),clipLinks=Util.get(context,"clip.links")||{},textTrackData=ext["uo:timedTextURL"];if(url=Util.get(ext,"uo:unicornOnce.@contenturi")||url,textTrackData)Util.debugLog("Brightcove returned a processed VTT file"),clipLinks.textTrack={type:textTrackData["@type"],lang:textTrackData["@languageCode"],url:textTrackData["#cdata-section"]},next();else if(clipLinks.textTrack&&window.btoa){Util.debugLog("Brightcove does not have a processed VTT available. Attempt to manually offset original VTT.");var adDuration=0,adCreative=Util.get(resp,"vmap:VMAP.vmap:AdBreak.vmap:AdSource.vmap:VASTData.VAST.Ad.InLine.Creatives.Creative")||{};adCreative=adCreative instanceof Array?adCreative[0]:adCreative;var adDurationData=Util.get(adCreative,"Linear.Duration");if(adDurationData){var durationParts=adDurationData.match(TIMESTAMP_REGEX);adDuration=36e5*parseInt(durationParts[1],10)+6e4*parseInt(durationParts[2],10)+1e3*parseInt(durationParts[3],10)+parseInt(durationParts[4],10)}adDuration?offsetTextTrack(clipLinks.textTrack,adDuration,next):(Util.debugLog("Could not find an ad duration, no need to offset original VTT"),next())}else clipLinks.textTrack&&Util.debugLog("Browser incapable of using orignal VTT w/ offset."),next()},error:next}))}function setupHTML(url,imageUrl,textTrack){var forceSSL=!1,playbackURL=url;if(countryCode&&("uk"!=countryCode&&"gb"!=countryCode||Util.isIos&&(forceSSL=!0)),forceSSL&&playbackURL&&playbackURL.match(/unicornmedia\.com/)&&(playbackURL=playbackURL.replace(/^http:\/\//,"https://")),context.$playerElement=context.$playerElement||$("<video>"),!Util.needsClickToPlay&&context.$playerElement.get(0)&&context.$playerElement.get(0).pause(),context.$playerElement.attr("id",context.targetReplaceId),context.$playerElement.attr("src",playbackURL),context.$playerElement.attr("autobuffer","autobuffer"),context.$playerElement.attr("controls","controls"),(/crossOriginVTT=true/.test(window.location.search)||/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor))&&(Util.debugLog('Adding crossorigin="anonymous" attribute so we can use VTT as required by Chrome, but breaks Safari. Looks like this is Chrome '+navigator.userAgent),context.$playerElement.attr("crossorigin","anonymous")),Util.isMobile&&!context.showPoster||context.$playerElement.attr("poster",imageUrl),context.$playerElement.css({width:context.width,height:context.height}),context.$playerElement.promise().done(registerEvents()),context.$targetElement.replaceWith(context.$playerElement),context.$targetElement=context.$playerElement,Util.needsClickToPlay||$("#"+context.targetReplaceId)[0].play(),context.$playerElement.bind("webkitendfullscreen",exit),context.$playerElement.bind("contextmenu",function(){return!1}),Util.isAndroid||Util.needsClickToPlay){var raw=context.$playerElement[0];context.$playerElement.click(function(){played&&"paused"!==context.state||Util.fullScreenRequest(raw)}),$(document).on("webkitfullscreenchange",function(){document.webkitIsFullScreen||raw.pause()}),$(document).on("mozfullscreenchange",function(){document.mozFullScreen||raw.pause()}),$(document).on("fullscreenchange",function(){document.fullscreen||raw.pause()})}}function makeBackgroundOmniRequest(options){setTimeout(function(){context.clip.loadAPIClip(options,context.handleErrors.bind(context),function(){if(context.clip&&context.clip.links&&context.clip.links.mobile&&context.clip.links.mobile.omniHref){var omniHref=context.clip.links.mobile.omniHref,appVisitorId=$.cookie("viAppId");if(null!==appVisitorId&&(omniHref+="&vid="+appVisitorId),"undefined"!=typeof s_omni&&"undefined"!=typeof s_omni.visitor&&s_omni.visitor.getAnalyticsVisitorID()){var aid=s_omni.visitor.getAnalyticsVisitorID();omniHref+="&aid="+aid}vttType&&(omniHref+="&vttType="+vttType);var _i=new Image;_i.src=omniHref+"&rand="+ +new Date,context.hasTracked=!0}})})}function playVideo(){try{context.$playerElement[0].play()}catch(e){}}function pauseVideo(){try{context.$playerElement[0].pause()}catch(e){}}function switchVideo(options){options=options||{},context.hasPlaylist?(context.currentIndex=context.currentIndex+1>=context.videoPlaylist.videos.length&&context.videoPlaylist.continuous?0:context.currentIndex+1,context.currentIndex===context.originalIndex&&context.playlistPasses++,context.currentIndex<context.videoPlaylist.videos.length&&context.playlistPasses<context.iterationCount&&(options.id=context.videoPlaylist.videos[context.currentIndex].id,context.clip=new Clip(options),context.clip.loadAPIClip(options,context.handleErrors.bind(context),init))):(pauseVideo(),options.id?context.clip.loadAPIClip(options,context.handleErrors.bind(context),function(){changeSource(this)}):options.cerebroId?context.handleErrors("switching by cerebro id not yet enabled"):context.handleErrors("no clip id specified"),Util.checkMemHasVideo()&&context.$container.addClass("videoplayer-show"))}function changeSource(){context.$playerElement.attr("src",context.clip.links.mobile.href),context.$playerElement.attr("poster",context.clip.posterImages.full.href);var changeType="switch";$.publish("espn.video.embedCodeChanged",[changeType]),$.publish("espn.video.switch",[context.autoPlay,context.clip.id,context.clip.posterImages.full.href])}function handleEvents(data){var eventName=data.type;switch(eventName){case"canplay":context.playerReady=!0,context.state="ready",$.publish("espn.video.ready",[data,context.targetReplaceId,eventName,"espn.video.ready",context.currentPlayingId]),$.publish("espn.video.init",[data,context.targetReplaceId,eventName,"espn.video.init",context.currentPlayingId]);var changeType="init";$.publish("espn.video.embedCodeChanged",[changeType]);break;case"ended":$.publish("espn.video.complete",[data,context.targetReplaceId,eventName]),context.$playerElement&&context.autoClose&&"function"==typeof context.$playerElement[0].webkitExitFullScreen&&context.$playerElement[0].webkitExitFullScreen(),context.hasPlaylist&&switchVideo();break;case"error":context.handleErrors(),context.state="error",$.publish("espn.video.error",[data,playerId]);break;case"loadstart":context.playerElement=document.getElementById(context.targetReplaceId),context.playerElement&&(context.playerElement.onmouseover=function(){$.publish("espn.video.hoverIn")},context.playerElement.onmouseout=function(){$.publish("espn.video.hoverOut")});break;case"loadedmetadata":Util.debugLog('"loadedmetadata" fired, check for textTrack');var textTrack=Util.get(context,"clip.links.textTrack");if(textTrack){Util.debugLog('Appending <track src="'+textTrack.url+'" ...> to video player');var defaultAttr="";context.$playerElement.append('<track src="'+textTrack.url+'" kind="subtitles" srclang="'+textTrack.lang+'" label="CC"'+defaultAttr+">")}else Util.debugLog("No text track available");break;case"pause":context.state="paused",context.isPlaying=!1,$.publish("espn.video.pause",[data,context.targetReplaceId,eventName]);break;case"play":if(played=!0,context.state="playing",context.isPlaying=!0,Util.isMobile&&context.$playerElement&&context.$playerElement[0]){var playerObj=context.$playerElement[0],requestFullScreen=playerObj.requestFullscreen||playerObj.webkitRequestFullscreen||playerObj.webkitEnterFullscreen;if("function"==typeof requestFullScreen)try{requestFullScreen.call(playerObj)}catch(e){}}if(!context.hasTracked)if(context.clip&&context.clip.links&&context.clip.links.mobile&&context.clip.links.mobile.omniHref){var omniHref=context.clip.links.mobile.omniHref,appVisitorId=$.cookie("viAppId");if(null!==appVisitorId&&(omniHref+="&vid="+appVisitorId),"undefined"!=typeof s_omni&&"undefined"!=typeof s_omni.visitor&&s_omni.visitor.getAnalyticsVisitorID()){var aid=s_omni.visitor.getAnalyticsVisitorID();omniHref+="&aid="+aid}vttType&&(omniHref+="&vttType="+vttType);var _i=new Image;_i.src=omniHref+"&rand="+ +new Date,context.hasTracked=!0}else context.inlineData&&makeBackgroundOmniRequest(context.inlineData);$.publish("espn.video.play",[data,context.targetReplaceId,eventName]);break;case"seeked":$.publish("espn.video.seeked",[data,context.targetReplaceId]);break;case"timeupdate":$.publish("espn.video.playheadTimeChanged",[data,context.targetReplaceId,eventName]);break;case"volumechange":$.publish("espn.video.volumeChanged",[data,context.targetReplaceId,eventName])}}function registerEvents(){for(var events=["abort","canplay","canplaythrough","durationchange","emptied","ended","error","loadeddata","loadedmetadata","loadstart","mozaudioavailable","play","pause","playing","progress","ratechange","seeked","seeking","stalled","suspend","timeupdate","volumechange","waiting"],i=0,len=events.length;i<len;i++)context.$playerElement.bind(events[i],events[i],handleEvents)}function exit(){try{var state=document.fullScreen||document.mozFullScreen||document.webkitIsFullScreen,event=state?"FullscreenOn":"FullscreenOff";"FullscreenOff"==event&&(options&&options.removeOnClose?context.$playerElement.remove():$.publish("espn.video.videoClosed",[]))}catch(e){}}var vttType,context=this,played=null,playerId=null;context.hasTracked=!1,options=options||{},context.setDefaults(options);var geoLocation=options.geoLocation,countryCode=null;geoLocation&&geoLocation.country&&geoLocation.country.isoCodeAlpha2?countryCode=geoLocation.country.isoCodeAlpha2.toLowerCase():$.cookie("country")?countryCode=$.cookie("country"):espn&&espn.geo&&espn.geo.getLocation().done(function(loc){loc&&_.get(loc,["country","isoCodeAlpha2"])&&(countryCode=loc.country.isoCodeAlpha2.toLowerCase())}),isClipId(options.id)||options.cerebroId||(options.cerebroId=options.id,delete options.id,options.cms||(options.cms="cric",context.cms="cric")),options.url&&Util.debugLog("We can no longer use video URL directly, since we want to check brightcove for processed VTT (closed captions for commercial AND original video clip)"),options.id||"cric"===options.cms&&options.cerebroId?context.clip.loadAPIClip(options,context.handleErrors.bind(context),init):options.cerebroId?context.clip.loadCerebroClip(options,context.handleErrors.bind(context),init):options.videoPlaylist?context.videoPlaylist.videos[context.currentIndex].url?(options.id=context.videoPlaylist.videos[context.currentIndex].id,context.clip.loadAPIClip(options,context.handleErrors.bind(context),init)):(options.id=context.videoPlaylist.videos[context.currentIndex].id,context.clip.loadAPIClip(options,context.handleErrors.bind(context),init)):init(),context.$playerElement=context.$playerElement||$("<video>"),Util.needsClickToPlay||context.$playerElement[0].play(),this.switchVideo=switchVideo,this.playVideo=playVideo,this.pauseVideo=pauseVideo,this.exit=exit,this.state=null,this.ready=!1}var TIMESTAMP_REGEX=/(\d{2}):(\d{2}):(\d{2}).(\d{3})/;return HTML5VideoPlayer.prototype=new Player,HTML5VideoPlayer}(Player,Util,common),PlayerImage=function(Player,common,Util){function PlayerImage(options){function init(){$.publish("espn.video.embed.begin");var restrictions=context.clip.getRestrictions();if("fail"===restrictions.status)return void context.handleErrors(restrictions.message);var w="default"==context.width?"":context.width,h="default"==context.height?"":context.height,$container=$('<div id="'+context.targetReplaceId+'"></div>'),$imageHolderParent=$('<div class="imageHolderParent"></div>'),$imageHolderChild=$('<div class="imageHolderChild"></div>'),$fauxPlayer=$('<div class="faux-player"></div>'),$fauxPlayerImage=$('<img src="'+context.clip.posterImages.full.href+'" class="faux-player-image" height="'+h+'" width="'+w+'"/>'),clipUrl=context.getClipUrl(context.clip.links.mobile.href,context.cms,geoLocation),link=clipUrl?clipUrl:common.CMS_INFO[context.cms].videohub,$fauxPlayerButton=$('<a class="faux-player-button" href="'+link+'" target="_blank"></a>');$container.css({display:"inline-block",width:w,height:h,overflow:"hidden"}),$imageHolderParent.css({display:"table"}),$imageHolderChild.css({display:"table-cell","vertical-align":"middle"}),$fauxPlayer.css({position:"relative"}),$fauxPlayerImage.css({display:"block","max-width":"100%","margin-left":"auto","margin-right":"auto",position:"relative","z-index":"10"}),$fauxPlayerButton.hover(function(){$(this).css({"background-position":"0px 0px"})},function(){$(this).css({"background-position":"0px -59px"})}),$fauxPlayerButton.css({"z-index":"20",top:"50%",left:"50%",color:"#FFF",cursor:"pointer",position:"absolute","font-family":"klavika, arial, sans-serif","font-size":"20px","text-decoration":"none","background-image":"url('"+common.IMG_REF+"/prod/assets/video/play-btn.png')","background-position":"0px -59px",width:"57px",height:"57px","margin-left":"-27.5px","margin-top":"-27.5px"}),$fauxPlayer.append($fauxPlayerImage),$fauxPlayer.append($fauxPlayerButton),$imageHolderChild.append($fauxPlayer),$imageHolderParent.append($imageHolderChild),$container.append($imageHolderParent),$("#"+context.targetReplaceId).replaceWith($container),Util.isKindle&&window.open(clipUrl)}var context=this;options=options||{};var geoLocation=options.geoLocation;context.setDefaults(options),options.id?context.clip.loadAPIClip(options,$.noop,init):options.cerebroId?context.clip.loadCerebroClip(options,$.noop,init):init()}return PlayerImage.prototype=new Player,PlayerImage}(Player,common,Util),isGeoReady=!1,GEO_LOCATION={country:{isoCode:null,isoCodeAlpha2:null}};return espn&&espn.geo&&espn.geo.getLocation&&espn.geo.getLocation().done(function(loc){GEO_LOCATION=Util.getGeoLocationFromGeoService(loc),isGeoReady=!0,$.publish("espn.video.locationReady")}).fail(function(){espn.geo.promise=null,espn.geo.getLocation().done(function(loc){GEO_LOCATION=Util.getGeoLocationFromGeoService(loc),isGeoReady=!0,$.publish("espn.video.locationReady")}).fail(function(){var countryCookie=$.cookie("country");"string"==typeof countryCookie&&(countryCookie=countryCookie.toUpperCase()),GEO_LOCATION=Util.getGeoLocationFromGeoService({country:{isoCode:null,isoCodeAlpha2:countryCookie}}),isGeoReady=!0,$.publish("espn.video.locationReady")})}),Util.getP13AutoStart(),{player:PLAYER,embedded:{play:embeddedPlay},remove:remove,getAutoPlay:Util.autoPlayHelper,embed:embed,play:play,pause:pause,skipAd:skipAd,subscribe:subscribe,insertAd:insertAd}})},{}],2:[function(require,module,exports){(function(process,global){!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var f;"undefined"!=typeof window?f=window:"undefined"!=typeof global?f=global:"undefined"!=typeof self&&(f=self),f.Promise=e()}}(function(){var define,module,exports;return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a="function"==typeof _dereq_&&_dereq_;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}for(var i="function"==typeof _dereq_&&_dereq_,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function any(promises){var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(1),ret.setUnwrap(),ret.init(),promise}var SomePromiseArray=Promise._SomePromiseArray;Promise.any=function(promises){return any(promises)},Promise.prototype.any=function(){return any(this)}}},{}],2:[function(_dereq_,module,exports){"use strict";function Async(){this._customScheduler=!1,this._isTickUsed=!1,this._lateQueue=new Queue(16),this._normalQueue=new Queue(16),this._haveDrainedQueues=!1,this._trampolineEnabled=!0;var self=this;this.drainQueues=function(){self._drainQueues()},this._schedule=schedule}function AsyncInvokeLater(fn,receiver,arg){this._lateQueue.push(fn,receiver,arg),this._queueTick()}function AsyncInvoke(fn,receiver,arg){this._normalQueue.push(fn,receiver,arg),this._queueTick()}function AsyncSettlePromises(promise){this._normalQueue._pushOne(promise),this._queueTick()}var firstLineError;try{throw new Error}catch(e){firstLineError=e}var schedule=_dereq_("./schedule"),Queue=_dereq_("./queue"),util=_dereq_("./util");Async.prototype.setScheduler=function(fn){var prev=this._schedule;return this._schedule=fn,this._customScheduler=!0,prev},Async.prototype.hasCustomScheduler=function(){return this._customScheduler},Async.prototype.enableTrampoline=function(){this._trampolineEnabled=!0},Async.prototype.disableTrampolineIfNecessary=function(){util.hasDevTools&&(this._trampolineEnabled=!1)},Async.prototype.haveItemsQueued=function(){return this._isTickUsed||this._haveDrainedQueues},Async.prototype.fatalError=function(e,isNode){isNode?(process.stderr.write("Fatal "+(e instanceof Error?e.stack:e)+"\n"),process.exit(2)):this.throwLater(e)},Async.prototype.throwLater=function(fn,arg){if(1===arguments.length&&(arg=fn,fn=function(){throw arg}),"undefined"!=typeof setTimeout)setTimeout(function(){fn(arg)},0);else try{this._schedule(function(){fn(arg)})}catch(e){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")}},util.hasDevTools?(Async.prototype.invokeLater=function(fn,receiver,arg){this._trampolineEnabled?AsyncInvokeLater.call(this,fn,receiver,arg):this._schedule(function(){setTimeout(function(){fn.call(receiver,arg)},100)})},Async.prototype.invoke=function(fn,receiver,arg){this._trampolineEnabled?AsyncInvoke.call(this,fn,receiver,arg):this._schedule(function(){fn.call(receiver,arg)})},Async.prototype.settlePromises=function(promise){this._trampolineEnabled?AsyncSettlePromises.call(this,promise):this._schedule(function(){promise._settlePromises()})}):(Async.prototype.invokeLater=AsyncInvokeLater,Async.prototype.invoke=AsyncInvoke,Async.prototype.settlePromises=AsyncSettlePromises),Async.prototype.invokeFirst=function(fn,receiver,arg){this._normalQueue.unshift(fn,receiver,arg),this._queueTick()},Async.prototype._drainQueue=function(queue){for(;queue.length()>0;){var fn=queue.shift();if("function"==typeof fn){var receiver=queue.shift(),arg=queue.shift();fn.call(receiver,arg)}else fn._settlePromises()}},Async.prototype._drainQueues=function(){this._drainQueue(this._normalQueue),this._reset(),this._haveDrainedQueues=!0,this._drainQueue(this._lateQueue)},Async.prototype._queueTick=function(){this._isTickUsed||(this._isTickUsed=!0,this._schedule(this.drainQueues))},Async.prototype._reset=function(){this._isTickUsed=!1},module.exports=Async,module.exports.firstLineError=firstLineError},{"./queue":26,"./schedule":29,"./util":36}],3:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,debug){var calledBind=!1,rejectThis=function(_,e){this._reject(e)},targetRejected=function(e,context){context.promiseRejectionQueued=!0,context.bindingPromise._then(rejectThis,rejectThis,null,this,e)},bindingResolved=function(thisArg,context){0===(50397184&this._bitField)&&this._resolveCallback(context.target)},bindingRejected=function(e,context){context.promiseRejectionQueued||this._reject(e)};Promise.prototype.bind=function(thisArg){calledBind||(calledBind=!0,Promise.prototype._propagateFrom=debug.propagateFromFunction(),Promise.prototype._boundValue=debug.boundValueFunction());var maybePromise=tryConvertToPromise(thisArg),ret=new Promise(INTERNAL);ret._propagateFrom(this,1);var target=this._target();if(ret._setBoundTo(maybePromise),maybePromise instanceof Promise){var context={promiseRejectionQueued:!1,promise:ret,target:target,bindingPromise:maybePromise};target._then(INTERNAL,targetRejected,void 0,ret,context),maybePromise._then(bindingResolved,bindingRejected,void 0,ret,context),ret._setOnCancel(maybePromise)}else ret._resolveCallback(target);return ret},Promise.prototype._setBoundTo=function(obj){void 0!==obj?(this._bitField=2097152|this._bitField,this._boundTo=obj):this._bitField=this._bitField&-2097153},Promise.prototype._isBound=function(){return 2097152===(2097152&this._bitField)},Promise.bind=function(thisArg,value){return Promise.resolve(value).bind(thisArg)}}},{}],4:[function(_dereq_,module,exports){"use strict";function noConflict(){try{Promise===bluebird&&(Promise=old)}catch(e){}return bluebird}var old;"undefined"!=typeof Promise&&(old=Promise);var bluebird=_dereq_("./promise")();bluebird.noConflict=noConflict,module.exports=bluebird},{"./promise":22}],5:[function(_dereq_,module,exports){"use strict";var cr=Object.create;if(cr){var callerCache=cr(null),getterCache=cr(null);callerCache[" size"]=getterCache[" size"]=0}module.exports=function(Promise){function ensureMethod(obj,methodName){var fn;if(null!=obj&&(fn=obj[methodName]),"function"!=typeof fn){var message="Object "+util.classString(obj)+" has no method '"+util.toString(methodName)+"'";throw new Promise.TypeError(message)}return fn}function caller(obj){var methodName=this.pop(),fn=ensureMethod(obj,methodName);return fn.apply(obj,this)}function namedGetter(obj){return obj[this]}function indexedGetter(obj){var index=+this;return index<0&&(index=Math.max(0,index+obj.length)),obj[index]}var getGetter,util=_dereq_("./util"),canEvaluate=util.canEvaluate;util.isIdentifier;Promise.prototype.call=function(methodName){var args=[].slice.call(arguments,1);return args.push(methodName),this._then(caller,void 0,void 0,args,void 0)},Promise.prototype.get=function(propertyName){var getter,isIndex="number"==typeof propertyName;if(isIndex)getter=indexedGetter;else if(canEvaluate){var maybeGetter=getGetter(propertyName);getter=null!==maybeGetter?maybeGetter:namedGetter}else getter=namedGetter;return this._then(getter,void 0,void 0,propertyName,void 0)}}},{"./util":36}],6:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,debug){var util=_dereq_("./util"),tryCatch=util.tryCatch,errorObj=util.errorObj,async=Promise._async;Promise.prototype["break"]=Promise.prototype.cancel=function(){if(!debug.cancellation())return this._warn("cancellation is disabled");for(var promise=this,child=promise;promise._isCancellable();){if(!promise._cancelBy(child)){child._isFollowing()?child._followee().cancel():child._cancelBranched();break}var parent=promise._cancellationParent;if(null==parent||!parent._isCancellable()){promise._isFollowing()?promise._followee().cancel():promise._cancelBranched();break}promise._isFollowing()&&promise._followee().cancel(),promise._setWillBeCancelled(),child=promise,promise=parent}},Promise.prototype._branchHasCancelled=function(){this._branchesRemainingToCancel--},Promise.prototype._enoughBranchesHaveCancelled=function(){return void 0===this._branchesRemainingToCancel||this._branchesRemainingToCancel<=0},Promise.prototype._cancelBy=function(canceller){return canceller===this?(this._branchesRemainingToCancel=0,this._invokeOnCancel(),!0):(this._branchHasCancelled(),!!this._enoughBranchesHaveCancelled()&&(this._invokeOnCancel(),!0))},Promise.prototype._cancelBranched=function(){this._enoughBranchesHaveCancelled()&&this._cancel()},Promise.prototype._cancel=function(){this._isCancellable()&&(this._setCancelled(),async.invoke(this._cancelPromises,this,void 0))},Promise.prototype._cancelPromises=function(){this._length()>0&&this._settlePromises()},Promise.prototype._unsetOnCancel=function(){this._onCancelField=void 0},Promise.prototype._isCancellable=function(){return this.isPending()&&!this._isCancelled()},Promise.prototype.isCancellable=function(){return this.isPending()&&!this.isCancelled()},Promise.prototype._doInvokeOnCancel=function(onCancelCallback,internalOnly){if(util.isArray(onCancelCallback))for(var i=0;i<onCancelCallback.length;++i)this._doInvokeOnCancel(onCancelCallback[i],internalOnly);else if(void 0!==onCancelCallback)if("function"==typeof onCancelCallback){if(!internalOnly){var e=tryCatch(onCancelCallback).call(this._boundValue());e===errorObj&&(this._attachExtraTrace(e.e),async.throwLater(e.e))}}else onCancelCallback._resultCancelled(this)},Promise.prototype._invokeOnCancel=function(){var onCancelCallback=this._onCancel();this._unsetOnCancel(),async.invoke(this._doInvokeOnCancel,this,onCancelCallback)},Promise.prototype._invokeInternalOnCancel=function(){this._isCancellable()&&(this._doInvokeOnCancel(this._onCancel(),!0),this._unsetOnCancel())},Promise.prototype._resultCancelled=function(){this.cancel()}}},{"./util":36}],7:[function(_dereq_,module,exports){"use strict";module.exports=function(NEXT_FILTER){function catchFilter(instances,cb,promise){return function(e){var boundTo=promise._boundValue();predicateLoop:for(var i=0;i<instances.length;++i){var item=instances[i];if(item===Error||null!=item&&item.prototype instanceof Error){if(e instanceof item)return tryCatch(cb).call(boundTo,e)}else if("function"==typeof item){var matchesPredicate=tryCatch(item).call(boundTo,e);if(matchesPredicate===errorObj)return matchesPredicate;if(matchesPredicate)return tryCatch(cb).call(boundTo,e)}else if(util.isObject(e)){for(var keys=getKeys(item),j=0;j<keys.length;++j){var key=keys[j];if(item[key]!=e[key])continue predicateLoop}return tryCatch(cb).call(boundTo,e)}}return NEXT_FILTER}}var util=_dereq_("./util"),getKeys=_dereq_("./es5").keys,tryCatch=util.tryCatch,errorObj=util.errorObj;return catchFilter}},{"./es5":13,"./util":36}],8:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function Context(){this._trace=new Context.CapturedTrace(peekContext())}function createContext(){if(longStackTraces)return new Context}function peekContext(){var lastIndex=contextStack.length-1;if(lastIndex>=0)return contextStack[lastIndex]}var longStackTraces=!1,contextStack=[];return Promise.prototype._promiseCreated=function(){},Promise.prototype._pushContext=function(){},Promise.prototype._popContext=function(){return null},Promise._peekContext=Promise.prototype._peekContext=function(){},Context.prototype._pushContext=function(){void 0!==this._trace&&(this._trace._promiseCreated=null,contextStack.push(this._trace))},Context.prototype._popContext=function(){if(void 0!==this._trace){var trace=contextStack.pop(),ret=trace._promiseCreated;return trace._promiseCreated=null,ret}return null},Context.CapturedTrace=null,Context.create=createContext,Context.deactivateLongStackTraces=function(){},Context.activateLongStackTraces=function(){var Promise_pushContext=Promise.prototype._pushContext,Promise_popContext=Promise.prototype._popContext,Promise_PeekContext=Promise._peekContext,Promise_peekContext=Promise.prototype._peekContext,Promise_promiseCreated=Promise.prototype._promiseCreated;Context.deactivateLongStackTraces=function(){Promise.prototype._pushContext=Promise_pushContext,Promise.prototype._popContext=Promise_popContext,Promise._peekContext=Promise_PeekContext,Promise.prototype._peekContext=Promise_peekContext,Promise.prototype._promiseCreated=Promise_promiseCreated,longStackTraces=!1},longStackTraces=!0,Promise.prototype._pushContext=Context.prototype._pushContext,Promise.prototype._popContext=Context.prototype._popContext,Promise._peekContext=Promise.prototype._peekContext=peekContext,Promise.prototype._promiseCreated=function(){var ctx=this._peekContext();ctx&&null==ctx._promiseCreated&&(ctx._promiseCreated=this)}},Context}},{}],9:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,Context){function generatePromiseLifecycleEventObject(name,promise){return{promise:promise}}function defaultFireEvent(){return!1}function cancellationExecute(executor,resolve,reject){var promise=this;try{executor(resolve,reject,function(onCancel){if("function"!=typeof onCancel)throw new TypeError("onCancel must be a function, got: "+util.toString(onCancel));promise._attachCancellationCallback(onCancel)})}catch(e){return e}}function cancellationAttachCancellationCallback(onCancel){if(!this._isCancellable())return this;var previousOnCancel=this._onCancel();void 0!==previousOnCancel?util.isArray(previousOnCancel)?previousOnCancel.push(onCancel):this._setOnCancel([previousOnCancel,onCancel]):this._setOnCancel(onCancel)}function cancellationOnCancel(){return this._onCancelField}function cancellationSetOnCancel(onCancel){this._onCancelField=onCancel}function cancellationClearCancellationData(){this._cancellationParent=void 0,this._onCancelField=void 0}function cancellationPropagateFrom(parent,flags){if(0!==(1&flags)){this._cancellationParent=parent;var branchesRemainingToCancel=parent._branchesRemainingToCancel;void 0===branchesRemainingToCancel&&(branchesRemainingToCancel=0),parent._branchesRemainingToCancel=branchesRemainingToCancel+1}0!==(2&flags)&&parent._isBound()&&this._setBoundTo(parent._boundTo)}function bindingPropagateFrom(parent,flags){0!==(2&flags)&&parent._isBound()&&this._setBoundTo(parent._boundTo)}function boundValueFunction(){var ret=this._boundTo;return void 0!==ret&&ret instanceof Promise?ret.isFulfilled()?ret.value():void 0:ret}function longStackTracesCaptureStackTrace(){this._trace=new CapturedTrace(this._peekContext())}function longStackTracesAttachExtraTrace(error,ignoreSelf){if(canAttachTrace(error)){var trace=this._trace;if(void 0!==trace&&ignoreSelf&&(trace=trace._parent),void 0!==trace)trace.attachExtraTrace(error);else if(!error.__stackCleaned__){var parsed=parseStackAndMessage(error);util.notEnumerableProp(error,"stack",parsed.message+"\n"+parsed.stack.join("\n")),util.notEnumerableProp(error,"__stackCleaned__",!0)}}}function checkForgottenReturns(returnValue,promiseCreated,name,promise,parent){if(void 0===returnValue&&null!==promiseCreated&&wForgottenReturn){if(void 0!==parent&&parent._returnedNonUndefined())return;if(0===(65535&promise._bitField))return;name&&(name+=" ");var handlerLine="",creatorLine="";if(promiseCreated._trace){for(var traceLines=promiseCreated._trace.stack.split("\n"),stack=cleanStack(traceLines),i=stack.length-1;i>=0;--i){
var line=stack[i];if(!nodeFramePattern.test(line)){var lineMatches=line.match(parseLinePattern);lineMatches&&(handlerLine="at "+lineMatches[1]+":"+lineMatches[2]+":"+lineMatches[3]+" ");break}}if(stack.length>0)for(var firstUserLine=stack[0],i=0;i<traceLines.length;++i)if(traceLines[i]===firstUserLine){i>0&&(creatorLine="\n"+traceLines[i-1]);break}}var msg="a promise was created in a "+name+"handler "+handlerLine+"but was not returned from it, see http://goo.gl/rRqMUw"+creatorLine;promise._warn(msg,!0,promiseCreated)}}function deprecated(name,replacement){var message=name+" is deprecated and will be removed in a future version.";return replacement&&(message+=" Use "+replacement+" instead."),warn(message)}function warn(message,shouldUseOwnTrace,promise){if(config.warnings){var ctx,warning=new Warning(message);if(shouldUseOwnTrace)promise._attachExtraTrace(warning);else if(config.longStackTraces&&(ctx=Promise._peekContext()))ctx.attachExtraTrace(warning);else{var parsed=parseStackAndMessage(warning);warning.stack=parsed.message+"\n"+parsed.stack.join("\n")}activeFireEvent("warning",warning)||formatAndLogError(warning,"",!0)}}function reconstructStack(message,stacks){for(var i=0;i<stacks.length-1;++i)stacks[i].push("From previous event:"),stacks[i]=stacks[i].join("\n");return i<stacks.length&&(stacks[i]=stacks[i].join("\n")),message+"\n"+stacks.join("\n")}function removeDuplicateOrEmptyJumps(stacks){for(var i=0;i<stacks.length;++i)(0===stacks[i].length||i+1<stacks.length&&stacks[i][0]===stacks[i+1][0])&&(stacks.splice(i,1),i--)}function removeCommonRoots(stacks){for(var current=stacks[0],i=1;i<stacks.length;++i){for(var prev=stacks[i],currentLastIndex=current.length-1,currentLastLine=current[currentLastIndex],commonRootMeetPoint=-1,j=prev.length-1;j>=0;--j)if(prev[j]===currentLastLine){commonRootMeetPoint=j;break}for(var j=commonRootMeetPoint;j>=0;--j){var line=prev[j];if(current[currentLastIndex]!==line)break;current.pop(),currentLastIndex--}current=prev}}function cleanStack(stack){for(var ret=[],i=0;i<stack.length;++i){var line=stack[i],isTraceLine="    (No stack trace)"===line||stackFramePattern.test(line),isInternalFrame=isTraceLine&&shouldIgnore(line);isTraceLine&&!isInternalFrame&&(indentStackFrames&&" "!==line.charAt(0)&&(line="    "+line),ret.push(line))}return ret}function stackFramesAsArray(error){for(var stack=error.stack.replace(/\s+$/g,"").split("\n"),i=0;i<stack.length;++i){var line=stack[i];if("    (No stack trace)"===line||stackFramePattern.test(line))break}return i>0&&(stack=stack.slice(i)),stack}function parseStackAndMessage(error){var stack=error.stack,message=error.toString();return stack="string"==typeof stack&&stack.length>0?stackFramesAsArray(error):["    (No stack trace)"],{message:message,stack:cleanStack(stack)}}function formatAndLogError(error,title,isSoft){if("undefined"!=typeof console){var message;if(util.isObject(error)){var stack=error.stack;message=title+formatStack(stack,error)}else message=title+String(error);"function"==typeof printWarning?printWarning(message,isSoft):"function"==typeof console.log||"object"==typeof console.log}}function fireRejectionEvent(name,localHandler,reason,promise){var localEventFired=!1;try{"function"==typeof localHandler&&(localEventFired=!0,"rejectionHandled"===name?localHandler(promise):localHandler(reason,promise))}catch(e){async.throwLater(e)}"unhandledRejection"===name?activeFireEvent(name,reason,promise)||localEventFired||formatAndLogError(reason,"Unhandled rejection "):activeFireEvent(name,promise)}function formatNonError(obj){var str;if("function"==typeof obj)str="[function "+(obj.name||"anonymous")+"]";else{str=obj&&"function"==typeof obj.toString?obj.toString():util.toString(obj);var ruselessToString=/\[object [a-zA-Z0-9$_]+\]/;if(ruselessToString.test(str))try{var newStr=JSON.stringify(obj);str=newStr}catch(e){}0===str.length&&(str="(empty array)")}return"(<"+snip(str)+">, no stack trace)"}function snip(str){var maxChars=41;return str.length<maxChars?str:str.substr(0,maxChars-3)+"..."}function longStackTracesIsSupported(){return"function"==typeof captureStackTrace}function parseLineInfo(line){var matches=line.match(parseLineInfoRegex);if(matches)return{fileName:matches[1],line:parseInt(matches[2],10)}}function setBounds(firstLineError,lastLineError){if(longStackTracesIsSupported()){for(var firstFileName,lastFileName,firstStackLines=firstLineError.stack.split("\n"),lastStackLines=lastLineError.stack.split("\n"),firstIndex=-1,lastIndex=-1,i=0;i<firstStackLines.length;++i){var result=parseLineInfo(firstStackLines[i]);if(result){firstFileName=result.fileName,firstIndex=result.line;break}}for(var i=0;i<lastStackLines.length;++i){var result=parseLineInfo(lastStackLines[i]);if(result){lastFileName=result.fileName,lastIndex=result.line;break}}firstIndex<0||lastIndex<0||!firstFileName||!lastFileName||firstFileName!==lastFileName||firstIndex>=lastIndex||(shouldIgnore=function(line){if(bluebirdFramePattern.test(line))return!0;var info=parseLineInfo(line);return!!(info&&info.fileName===firstFileName&&firstIndex<=info.line&&info.line<=lastIndex)})}}function CapturedTrace(parent){this._parent=parent,this._promisesCreated=0;var length=this._length=1+(void 0===parent?0:parent._length);captureStackTrace(this,CapturedTrace),length>32&&this.uncycle()}var unhandledRejectionHandled,possiblyUnhandledRejection,printWarning,getDomain=Promise._getDomain,async=Promise._async,Warning=_dereq_("./errors").Warning,util=_dereq_("./util"),canAttachTrace=util.canAttachTrace,bluebirdFramePattern=/[\\\/]bluebird[\\\/]js[\\\/](release|debug|instrumented)/,nodeFramePattern=/\((?:timers\.js):\d+:\d+\)/,parseLinePattern=/[\/<\(](.+?):(\d+):(\d+)\)?\s*$/,stackFramePattern=null,formatStack=null,indentStackFrames=!1,debugging=!(0==util.env("BLUEBIRD_DEBUG")),warnings=!(0==util.env("BLUEBIRD_WARNINGS")||!debugging&&!util.env("BLUEBIRD_WARNINGS")),longStackTraces=!(0==util.env("BLUEBIRD_LONG_STACK_TRACES")||!debugging&&!util.env("BLUEBIRD_LONG_STACK_TRACES")),wForgottenReturn=0!=util.env("BLUEBIRD_W_FORGOTTEN_RETURN")&&(warnings||!!util.env("BLUEBIRD_W_FORGOTTEN_RETURN"));Promise.prototype.suppressUnhandledRejections=function(){var target=this._target();target._bitField=target._bitField&-1048577|524288},Promise.prototype._ensurePossibleRejectionHandled=function(){0===(524288&this._bitField)&&(this._setRejectionIsUnhandled(),async.invokeLater(this._notifyUnhandledRejection,this,void 0))},Promise.prototype._notifyUnhandledRejectionIsHandled=function(){fireRejectionEvent("rejectionHandled",unhandledRejectionHandled,void 0,this)},Promise.prototype._setReturnedNonUndefined=function(){this._bitField=268435456|this._bitField},Promise.prototype._returnedNonUndefined=function(){return 0!==(268435456&this._bitField)},Promise.prototype._notifyUnhandledRejection=function(){if(this._isRejectionUnhandled()){var reason=this._settledValue();this._setUnhandledRejectionIsNotified(),fireRejectionEvent("unhandledRejection",possiblyUnhandledRejection,reason,this)}},Promise.prototype._setUnhandledRejectionIsNotified=function(){this._bitField=262144|this._bitField},Promise.prototype._unsetUnhandledRejectionIsNotified=function(){this._bitField=this._bitField&-262145},Promise.prototype._isUnhandledRejectionNotified=function(){return(262144&this._bitField)>0},Promise.prototype._setRejectionIsUnhandled=function(){this._bitField=1048576|this._bitField},Promise.prototype._unsetRejectionIsUnhandled=function(){this._bitField=this._bitField&-1048577,this._isUnhandledRejectionNotified()&&(this._unsetUnhandledRejectionIsNotified(),this._notifyUnhandledRejectionIsHandled())},Promise.prototype._isRejectionUnhandled=function(){return(1048576&this._bitField)>0},Promise.prototype._warn=function(message,shouldUseOwnTrace,promise){return warn(message,shouldUseOwnTrace,promise||this)},Promise.onPossiblyUnhandledRejection=function(fn){var domain=getDomain();possiblyUnhandledRejection="function"==typeof fn?null===domain?fn:util.domainBind(domain,fn):void 0},Promise.onUnhandledRejectionHandled=function(fn){var domain=getDomain();unhandledRejectionHandled="function"==typeof fn?null===domain?fn:util.domainBind(domain,fn):void 0};var disableLongStackTraces=function(){};Promise.longStackTraces=function(){if(async.haveItemsQueued()&&!config.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");if(!config.longStackTraces&&longStackTracesIsSupported()){var Promise_captureStackTrace=Promise.prototype._captureStackTrace,Promise_attachExtraTrace=Promise.prototype._attachExtraTrace;config.longStackTraces=!0,disableLongStackTraces=function(){if(async.haveItemsQueued()&&!config.longStackTraces)throw new Error("cannot enable long stack traces after promises have been created\n\n    See http://goo.gl/MqrFmX\n");Promise.prototype._captureStackTrace=Promise_captureStackTrace,Promise.prototype._attachExtraTrace=Promise_attachExtraTrace,Context.deactivateLongStackTraces(),async.enableTrampoline(),config.longStackTraces=!1},Promise.prototype._captureStackTrace=longStackTracesCaptureStackTrace,Promise.prototype._attachExtraTrace=longStackTracesAttachExtraTrace,Context.activateLongStackTraces(),async.disableTrampolineIfNecessary()}},Promise.hasLongStackTraces=function(){return config.longStackTraces&&longStackTracesIsSupported()};var fireDomEvent=function(){try{if("function"==typeof CustomEvent){var event=new CustomEvent("CustomEvent");return util.global.dispatchEvent(event),function(name,event){var domEvent=new CustomEvent(name.toLowerCase(),{detail:event,cancelable:!0});return!util.global.dispatchEvent(domEvent)}}if("function"==typeof Event){var event=new Event("CustomEvent");return util.global.dispatchEvent(event),function(name,event){var domEvent=new Event(name.toLowerCase(),{cancelable:!0});return domEvent.detail=event,!util.global.dispatchEvent(domEvent)}}var event=document.createEvent("CustomEvent");return event.initCustomEvent("testingtheevent",!1,!0,{}),util.global.dispatchEvent(event),function(name,event){var domEvent=document.createEvent("CustomEvent");return domEvent.initCustomEvent(name.toLowerCase(),!1,!0,event),!util.global.dispatchEvent(domEvent)}}catch(e){}return function(){return!1}}(),fireGlobalEvent=function(){return util.isNode?function(){return process.emit.apply(process,arguments)}:util.global?function(name){var methodName="on"+name.toLowerCase(),method=util.global[methodName];return!!method&&(method.apply(util.global,[].slice.call(arguments,1)),!0)}:function(){return!1}}(),eventToObjectGenerator={promiseCreated:generatePromiseLifecycleEventObject,promiseFulfilled:generatePromiseLifecycleEventObject,promiseRejected:generatePromiseLifecycleEventObject,promiseResolved:generatePromiseLifecycleEventObject,promiseCancelled:generatePromiseLifecycleEventObject,promiseChained:function(name,promise,child){return{promise:promise,child:child}},warning:function(name,warning){return{warning:warning}},unhandledRejection:function(name,reason,promise){return{reason:reason,promise:promise}},rejectionHandled:generatePromiseLifecycleEventObject},activeFireEvent=function(name){var globalEventFired=!1;try{globalEventFired=fireGlobalEvent.apply(null,arguments)}catch(e){async.throwLater(e),globalEventFired=!0}var domEventFired=!1;try{domEventFired=fireDomEvent(name,eventToObjectGenerator[name].apply(null,arguments))}catch(e){async.throwLater(e),domEventFired=!0}return domEventFired||globalEventFired};Promise.config=function(opts){if(opts=Object(opts),"longStackTraces"in opts&&(opts.longStackTraces?Promise.longStackTraces():!opts.longStackTraces&&Promise.hasLongStackTraces()&&disableLongStackTraces()),"warnings"in opts){var warningsOption=opts.warnings;config.warnings=!!warningsOption,wForgottenReturn=config.warnings,util.isObject(warningsOption)&&"wForgottenReturn"in warningsOption&&(wForgottenReturn=!!warningsOption.wForgottenReturn)}if("cancellation"in opts&&opts.cancellation&&!config.cancellation){if(async.haveItemsQueued())throw new Error("cannot enable cancellation after promises are in use");Promise.prototype._clearCancellationData=cancellationClearCancellationData,Promise.prototype._propagateFrom=cancellationPropagateFrom,Promise.prototype._onCancel=cancellationOnCancel,Promise.prototype._setOnCancel=cancellationSetOnCancel,Promise.prototype._attachCancellationCallback=cancellationAttachCancellationCallback,Promise.prototype._execute=cancellationExecute,propagateFromFunction=cancellationPropagateFrom,config.cancellation=!0}"monitoring"in opts&&(opts.monitoring&&!config.monitoring?(config.monitoring=!0,Promise.prototype._fireEvent=activeFireEvent):!opts.monitoring&&config.monitoring&&(config.monitoring=!1,Promise.prototype._fireEvent=defaultFireEvent))},Promise.prototype._fireEvent=defaultFireEvent,Promise.prototype._execute=function(executor,resolve,reject){try{executor(resolve,reject)}catch(e){return e}},Promise.prototype._onCancel=function(){},Promise.prototype._setOnCancel=function(handler){},Promise.prototype._attachCancellationCallback=function(onCancel){},Promise.prototype._captureStackTrace=function(){},Promise.prototype._attachExtraTrace=function(){},Promise.prototype._clearCancellationData=function(){},Promise.prototype._propagateFrom=function(parent,flags){};var propagateFromFunction=bindingPropagateFrom,shouldIgnore=function(){return!1},parseLineInfoRegex=/[\/<\(]([^:\/]+):(\d+):(?:\d+)\)?\s*$/;util.inherits(CapturedTrace,Error),Context.CapturedTrace=CapturedTrace,CapturedTrace.prototype.uncycle=function(){var length=this._length;if(!(length<2)){for(var nodes=[],stackToIndex={},i=0,node=this;void 0!==node;++i)nodes.push(node),node=node._parent;length=this._length=i;for(var i=length-1;i>=0;--i){var stack=nodes[i].stack;void 0===stackToIndex[stack]&&(stackToIndex[stack]=i)}for(var i=0;i<length;++i){var currentStack=nodes[i].stack,index=stackToIndex[currentStack];if(void 0!==index&&index!==i){index>0&&(nodes[index-1]._parent=void 0,nodes[index-1]._length=1),nodes[i]._parent=void 0,nodes[i]._length=1;var cycleEdgeNode=i>0?nodes[i-1]:this;index<length-1?(cycleEdgeNode._parent=nodes[index+1],cycleEdgeNode._parent.uncycle(),cycleEdgeNode._length=cycleEdgeNode._parent._length+1):(cycleEdgeNode._parent=void 0,cycleEdgeNode._length=1);for(var currentChildLength=cycleEdgeNode._length+1,j=i-2;j>=0;--j)nodes[j]._length=currentChildLength,currentChildLength++;return}}}},CapturedTrace.prototype.attachExtraTrace=function(error){if(!error.__stackCleaned__){this.uncycle();for(var parsed=parseStackAndMessage(error),message=parsed.message,stacks=[parsed.stack],trace=this;void 0!==trace;)stacks.push(cleanStack(trace.stack.split("\n"))),trace=trace._parent;removeCommonRoots(stacks),removeDuplicateOrEmptyJumps(stacks),util.notEnumerableProp(error,"stack",reconstructStack(message,stacks)),util.notEnumerableProp(error,"__stackCleaned__",!0)}};var captureStackTrace=function(){var v8stackFramePattern=/^\s*at\s*/,v8stackFormatter=function(stack,error){return"string"==typeof stack?stack:void 0!==error.name&&void 0!==error.message?error.toString():formatNonError(error)};if("number"==typeof Error.stackTraceLimit&&"function"==typeof Error.captureStackTrace){Error.stackTraceLimit+=6,stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter;var captureStackTrace=Error.captureStackTrace;return shouldIgnore=function(line){return bluebirdFramePattern.test(line)},function(receiver,ignoreUntil){Error.stackTraceLimit+=6,captureStackTrace(receiver,ignoreUntil),Error.stackTraceLimit-=6}}var err=new Error;if("string"==typeof err.stack&&err.stack.split("\n")[0].indexOf("stackDetection@")>=0)return stackFramePattern=/@/,formatStack=v8stackFormatter,indentStackFrames=!0,function(o){o.stack=(new Error).stack};var hasStackAfterThrow;try{throw new Error}catch(e){hasStackAfterThrow="stack"in e}return"stack"in err||!hasStackAfterThrow||"number"!=typeof Error.stackTraceLimit?(formatStack=function(stack,error){return"string"==typeof stack?stack:"object"!=typeof error&&"function"!=typeof error||void 0===error.name||void 0===error.message?formatNonError(error):error.toString()},null):(stackFramePattern=v8stackFramePattern,formatStack=v8stackFormatter,function(o){Error.stackTraceLimit+=6;try{throw new Error}catch(e){o.stack=e.stack}Error.stackTraceLimit-=6})}([]);"undefined"!=typeof console&&"undefined"!=typeof console.warn&&(printWarning=function(message){},util.isNode&&process.stderr.isTTY?printWarning=function(message,isSoft){}:util.isNode||"string"!=typeof(new Error).stack||(printWarning=function(message,isSoft){}));var config={warnings:warnings,longStackTraces:!1,cancellation:!1,monitoring:!1};return longStackTraces&&Promise.longStackTraces(),{longStackTraces:function(){return config.longStackTraces},warnings:function(){return config.warnings},cancellation:function(){return config.cancellation},monitoring:function(){return config.monitoring},propagateFromFunction:function(){return propagateFromFunction},boundValueFunction:function(){return boundValueFunction},checkForgottenReturns:checkForgottenReturns,setBounds:setBounds,warn:warn,deprecated:deprecated,CapturedTrace:CapturedTrace,fireDomEvent:fireDomEvent,fireGlobalEvent:fireGlobalEvent}}},{"./errors":12,"./util":36}],10:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function returner(){return this.value}function thrower(){throw this.reason}Promise.prototype["return"]=Promise.prototype.thenReturn=function(value){return value instanceof Promise&&value.suppressUnhandledRejections(),this._then(returner,void 0,void 0,{value:value},void 0)},Promise.prototype["throw"]=Promise.prototype.thenThrow=function(reason){return this._then(thrower,void 0,void 0,{reason:reason},void 0)},Promise.prototype.catchThrow=function(reason){if(arguments.length<=1)return this._then(void 0,thrower,void 0,{reason:reason},void 0);var _reason=arguments[1],handler=function(){throw _reason};return this.caught(reason,handler)},Promise.prototype.catchReturn=function(value){if(arguments.length<=1)return value instanceof Promise&&value.suppressUnhandledRejections(),this._then(void 0,returner,void 0,{value:value},void 0);var _value=arguments[1];_value instanceof Promise&&_value.suppressUnhandledRejections();var handler=function(){return _value};return this.caught(value,handler)}}},{}],11:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){function promiseAllThis(){return PromiseAll(this)}function PromiseMapSeries(promises,fn){return PromiseReduce(promises,fn,INTERNAL,INTERNAL)}var PromiseReduce=Promise.reduce,PromiseAll=Promise.all;Promise.prototype.each=function(fn){return PromiseReduce(this,fn,INTERNAL,0)._then(promiseAllThis,void 0,void 0,this,void 0)},Promise.prototype.mapSeries=function(fn){return PromiseReduce(this,fn,INTERNAL,INTERNAL)},Promise.each=function(promises,fn){return PromiseReduce(promises,fn,INTERNAL,0)._then(promiseAllThis,void 0,void 0,promises,void 0)},Promise.mapSeries=PromiseMapSeries}},{}],12:[function(_dereq_,module,exports){"use strict";function subError(nameProperty,defaultMessage){function SubError(message){return this instanceof SubError?(notEnumerableProp(this,"message","string"==typeof message?message:defaultMessage),notEnumerableProp(this,"name",nameProperty),void(Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):Error.call(this))):new SubError(message)}return inherits(SubError,Error),SubError}function OperationalError(message){return this instanceof OperationalError?(notEnumerableProp(this,"name","OperationalError"),notEnumerableProp(this,"message",message),this.cause=message,this.isOperational=!0,void(message instanceof Error?(notEnumerableProp(this,"message",message.message),notEnumerableProp(this,"stack",message.stack)):Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor))):new OperationalError(message)}var _TypeError,_RangeError,es5=_dereq_("./es5"),Objectfreeze=es5.freeze,util=_dereq_("./util"),inherits=util.inherits,notEnumerableProp=util.notEnumerableProp,Warning=subError("Warning","warning"),CancellationError=subError("CancellationError","cancellation error"),TimeoutError=subError("TimeoutError","timeout error"),AggregateError=subError("AggregateError","aggregate error");try{_TypeError=TypeError,_RangeError=RangeError}catch(e){_TypeError=subError("TypeError","type error"),_RangeError=subError("RangeError","range error")}for(var methods="join pop push shift unshift slice filter forEach some every map indexOf lastIndexOf reduce reduceRight sort reverse".split(" "),i=0;i<methods.length;++i)"function"==typeof Array.prototype[methods[i]]&&(AggregateError.prototype[methods[i]]=Array.prototype[methods[i]]);es5.defineProperty(AggregateError.prototype,"length",{value:0,configurable:!1,writable:!0,enumerable:!0}),AggregateError.prototype.isOperational=!0;var level=0;AggregateError.prototype.toString=function(){var indent=Array(4*level+1).join(" "),ret="\n"+indent+"AggregateError of:\n";level++,indent=Array(4*level+1).join(" ");for(var i=0;i<this.length;++i){for(var str=this[i]===this?"[Circular AggregateError]":this[i]+"",lines=str.split("\n"),j=0;j<lines.length;++j)lines[j]=indent+lines[j];str=lines.join("\n"),ret+=str+"\n"}return level--,ret},inherits(OperationalError,Error);var errorTypes=Error.__BluebirdErrorTypes__;errorTypes||(errorTypes=Objectfreeze({CancellationError:CancellationError,TimeoutError:TimeoutError,OperationalError:OperationalError,RejectionError:OperationalError,AggregateError:AggregateError}),es5.defineProperty(Error,"__BluebirdErrorTypes__",{value:errorTypes,writable:!1,enumerable:!1,configurable:!1})),module.exports={Error:Error,TypeError:_TypeError,RangeError:_RangeError,CancellationError:errorTypes.CancellationError,OperationalError:errorTypes.OperationalError,TimeoutError:errorTypes.TimeoutError,AggregateError:errorTypes.AggregateError,Warning:Warning}},{"./es5":13,"./util":36}],13:[function(_dereq_,module,exports){var isES5=function(){"use strict";return void 0===this}();if(isES5)module.exports={freeze:Object.freeze,defineProperty:Object.defineProperty,getDescriptor:Object.getOwnPropertyDescriptor,keys:Object.keys,names:Object.getOwnPropertyNames,getPrototypeOf:Object.getPrototypeOf,isArray:Array.isArray,isES5:isES5,propertyIsWritable:function(obj,prop){var descriptor=Object.getOwnPropertyDescriptor(obj,prop);return!(descriptor&&!descriptor.writable&&!descriptor.set)}};else{var has={}.hasOwnProperty,str={}.toString,proto={}.constructor.prototype,ObjectKeys=function(o){var ret=[];for(var key in o)has.call(o,key)&&ret.push(key);return ret},ObjectGetDescriptor=function(o,key){return{value:o[key]}},ObjectDefineProperty=function(o,key,desc){return o[key]=desc.value,o},ObjectFreeze=function(obj){return obj},ObjectGetPrototypeOf=function(obj){try{return Object(obj).constructor.prototype}catch(e){return proto}},ArrayIsArray=function(obj){try{return"[object Array]"===str.call(obj)}catch(e){return!1}};module.exports={isArray:ArrayIsArray,keys:ObjectKeys,names:ObjectKeys,defineProperty:ObjectDefineProperty,getDescriptor:ObjectGetDescriptor,freeze:ObjectFreeze,getPrototypeOf:ObjectGetPrototypeOf,isES5:isES5,propertyIsWritable:function(){return!0}}}},{}],14:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){var PromiseMap=Promise.map;Promise.prototype.filter=function(fn,options){return PromiseMap(this,fn,options,INTERNAL)},Promise.filter=function(promises,fn,options){return PromiseMap(promises,fn,options,INTERNAL)}}},{}],15:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,tryConvertToPromise){function PassThroughHandlerContext(promise,type,handler){this.promise=promise,this.type=type,this.handler=handler,this.called=!1,this.cancelPromise=null}function FinallyHandlerCancelReaction(finallyHandler){this.finallyHandler=finallyHandler}function checkCancel(ctx,reason){return null!=ctx.cancelPromise&&(arguments.length>1?ctx.cancelPromise._reject(reason):ctx.cancelPromise._cancel(),ctx.cancelPromise=null,!0)}function succeed(){return finallyHandler.call(this,this.promise._target()._settledValue())}function fail(reason){if(!checkCancel(this,reason))return errorObj.e=reason,errorObj}function finallyHandler(reasonOrValue){var promise=this.promise,handler=this.handler;if(!this.called){this.called=!0;var ret=this.isFinallyHandler()?handler.call(promise._boundValue()):handler.call(promise._boundValue(),reasonOrValue);if(void 0!==ret){promise._setReturnedNonUndefined();var maybePromise=tryConvertToPromise(ret,promise);if(maybePromise instanceof Promise){if(null!=this.cancelPromise){if(maybePromise._isCancelled()){var reason=new CancellationError("late cancellation observer");return promise._attachExtraTrace(reason),errorObj.e=reason,errorObj}maybePromise.isPending()&&maybePromise._attachCancellationCallback(new FinallyHandlerCancelReaction(this))}return maybePromise._then(succeed,fail,void 0,this,void 0)}}}return promise.isRejected()?(checkCancel(this),errorObj.e=reasonOrValue,errorObj):(checkCancel(this),reasonOrValue)}var util=_dereq_("./util"),CancellationError=Promise.CancellationError,errorObj=util.errorObj;return PassThroughHandlerContext.prototype.isFinallyHandler=function(){return 0===this.type},FinallyHandlerCancelReaction.prototype._resultCancelled=function(){checkCancel(this.finallyHandler)},Promise.prototype._passThrough=function(handler,type,success,fail){return"function"!=typeof handler?this.then():this._then(success,fail,void 0,new PassThroughHandlerContext(this,type,handler),void 0)},Promise.prototype.lastly=Promise.prototype["finally"]=function(handler){return this._passThrough(handler,0,finallyHandler,finallyHandler)},Promise.prototype.tap=function(handler){return this._passThrough(handler,1,finallyHandler)},PassThroughHandlerContext}},{"./util":36}],16:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,INTERNAL,tryConvertToPromise,Proxyable,debug){function promiseFromYieldHandler(value,yieldHandlers,traceParent){for(var i=0;i<yieldHandlers.length;++i){traceParent._pushContext();var result=tryCatch(yieldHandlers[i])(value);if(traceParent._popContext(),result===errorObj){traceParent._pushContext();var ret=Promise.reject(errorObj.e);return traceParent._popContext(),ret}var maybePromise=tryConvertToPromise(result,traceParent);if(maybePromise instanceof Promise)return maybePromise}return null}function PromiseSpawn(generatorFunction,receiver,yieldHandler,stack){if(debug.cancellation()){var internal=new Promise(INTERNAL),_finallyPromise=this._finallyPromise=new Promise(INTERNAL);this._promise=internal.lastly(function(){return _finallyPromise}),internal._captureStackTrace(),internal._setOnCancel(this)}else{var promise=this._promise=new Promise(INTERNAL);promise._captureStackTrace()}this._stack=stack,this._generatorFunction=generatorFunction,this._receiver=receiver,this._generator=void 0,this._yieldHandlers="function"==typeof yieldHandler?[yieldHandler].concat(yieldHandlers):yieldHandlers,this._yieldedPromise=null,this._cancellationPhase=!1}var errors=_dereq_("./errors"),TypeError=errors.TypeError,util=_dereq_("./util"),errorObj=util.errorObj,tryCatch=util.tryCatch,yieldHandlers=[];util.inherits(PromiseSpawn,Proxyable),PromiseSpawn.prototype._isResolved=function(){return null===this._promise},PromiseSpawn.prototype._cleanup=function(){this._promise=this._generator=null,debug.cancellation()&&null!==this._finallyPromise&&(this._finallyPromise._fulfill(),this._finallyPromise=null)},PromiseSpawn.prototype._promiseCancelled=function(){if(!this._isResolved()){var result,implementsReturn="undefined"!=typeof this._generator["return"];if(implementsReturn)this._promise._pushContext(),result=tryCatch(this._generator["return"]).call(this._generator,void 0),this._promise._popContext();else{var reason=new Promise.CancellationError("generator .return() sentinel");Promise.coroutine.returnSentinel=reason,this._promise._attachExtraTrace(reason),this._promise._pushContext(),result=tryCatch(this._generator["throw"]).call(this._generator,reason),this._promise._popContext()}this._cancellationPhase=!0,this._yieldedPromise=null,this._continue(result)}},PromiseSpawn.prototype._promiseFulfilled=function(value){this._yieldedPromise=null,this._promise._pushContext();var result=tryCatch(this._generator.next).call(this._generator,value);this._promise._popContext(),this._continue(result)},PromiseSpawn.prototype._promiseRejected=function(reason){this._yieldedPromise=null,this._promise._attachExtraTrace(reason),this._promise._pushContext();var result=tryCatch(this._generator["throw"]).call(this._generator,reason);this._promise._popContext(),this._continue(result)},PromiseSpawn.prototype._resultCancelled=function(){if(this._yieldedPromise instanceof Promise){var promise=this._yieldedPromise;this._yieldedPromise=null,promise.cancel()}},PromiseSpawn.prototype.promise=function(){return this._promise},PromiseSpawn.prototype._run=function(){this._generator=this._generatorFunction.call(this._receiver),this._receiver=this._generatorFunction=void 0,this._promiseFulfilled(void 0)},PromiseSpawn.prototype._continue=function(result){var promise=this._promise;if(result===errorObj)return this._cleanup(),this._cancellationPhase?promise.cancel():promise._rejectCallback(result.e,!1);var value=result.value;if(result.done===!0)return this._cleanup(),this._cancellationPhase?promise.cancel():promise._resolveCallback(value);var maybePromise=tryConvertToPromise(value,this._promise);if(!(maybePromise instanceof Promise)&&(maybePromise=promiseFromYieldHandler(maybePromise,this._yieldHandlers,this._promise),null===maybePromise))return void this._promiseRejected(new TypeError("A value %s was yielded that could not be treated as a promise\n\n    See http://goo.gl/MqrFmX\n\n".replace("%s",value)+"From coroutine:\n"+this._stack.split("\n").slice(1,-7).join("\n")));maybePromise=maybePromise._target();var bitField=maybePromise._bitField;0===(50397184&bitField)?(this._yieldedPromise=maybePromise,maybePromise._proxy(this,null)):0!==(33554432&bitField)?Promise._async.invoke(this._promiseFulfilled,this,maybePromise._value()):0!==(16777216&bitField)?Promise._async.invoke(this._promiseRejected,this,maybePromise._reason()):this._promiseCancelled()},Promise.coroutine=function(generatorFunction,options){if("function"!=typeof generatorFunction)throw new TypeError("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var yieldHandler=Object(options).yieldHandler,PromiseSpawn$=PromiseSpawn,stack=(new Error).stack;return function(){var generator=generatorFunction.apply(this,arguments),spawn=new PromiseSpawn$((void 0),(void 0),yieldHandler,stack),ret=spawn.promise();return spawn._generator=generator,spawn._promiseFulfilled(void 0),ret}},Promise.coroutine.addYieldHandler=function(fn){if("function"!=typeof fn)throw new TypeError("expecting a function but got "+util.classString(fn));yieldHandlers.push(fn)},Promise.spawn=function(generatorFunction){if(debug.deprecated("Promise.spawn()","Promise.coroutine()"),"function"!=typeof generatorFunction)return apiRejection("generatorFunction must be a function\n\n    See http://goo.gl/MqrFmX\n");var spawn=new PromiseSpawn(generatorFunction,this),ret=spawn.promise();return spawn._run(Promise.spawn),ret}}},{"./errors":12,"./util":36}],17:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,INTERNAL,async,getDomain){var util=_dereq_("./util");util.canEvaluate,util.tryCatch,util.errorObj;Promise.join=function(){var fn,last=arguments.length-1;if(last>0&&"function"==typeof arguments[last]){fn=arguments[last];var ret}var args=[].slice.call(arguments);fn&&args.pop();var ret=new PromiseArray(args).promise();return void 0!==fn?ret.spread(fn):ret}}},{"./util":36}],18:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug){function MappingPromiseArray(promises,fn,limit,_filter){this.constructor$(promises),
this._promise._captureStackTrace();var domain=getDomain();this._callback=null===domain?fn:util.domainBind(domain,fn),this._preservedValues=_filter===INTERNAL?new Array(this.length()):null,this._limit=limit,this._inFlight=0,this._queue=[],this._init$(void 0,-2)}function map(promises,fn,options,_filter){if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var limit=0;if(void 0!==options){if("object"!=typeof options||null===options)return Promise.reject(new TypeError("options argument must be an object but it is "+util.classString(options)));if("number"!=typeof options.concurrency)return Promise.reject(new TypeError("'concurrency' must be a number but it is "+util.classString(options.concurrency)));limit=options.concurrency}return limit="number"==typeof limit&&isFinite(limit)&&limit>=1?limit:0,new MappingPromiseArray(promises,fn,limit,_filter).promise()}var getDomain=Promise._getDomain,util=_dereq_("./util"),tryCatch=util.tryCatch,errorObj=util.errorObj;util.inherits(MappingPromiseArray,PromiseArray),MappingPromiseArray.prototype._init=function(){},MappingPromiseArray.prototype._promiseFulfilled=function(value,index){var values=this._values,length=this.length(),preservedValues=this._preservedValues,limit=this._limit;if(index<0){if(index=index*-1-1,values[index]=value,limit>=1&&(this._inFlight--,this._drainQueue(),this._isResolved()))return!0}else{if(limit>=1&&this._inFlight>=limit)return values[index]=value,this._queue.push(index),!1;null!==preservedValues&&(preservedValues[index]=value);var promise=this._promise,callback=this._callback,receiver=promise._boundValue();promise._pushContext();var ret=tryCatch(callback).call(receiver,value,index,length),promiseCreated=promise._popContext();if(debug.checkForgottenReturns(ret,promiseCreated,null!==preservedValues?"Promise.filter":"Promise.map",promise),ret===errorObj)return this._reject(ret.e),!0;var maybePromise=tryConvertToPromise(ret,this._promise);if(maybePromise instanceof Promise){maybePromise=maybePromise._target();var bitField=maybePromise._bitField;if(0===(50397184&bitField))return limit>=1&&this._inFlight++,values[index]=maybePromise,maybePromise._proxy(this,(index+1)*-1),!1;if(0===(33554432&bitField))return 0!==(16777216&bitField)?(this._reject(maybePromise._reason()),!0):(this._cancel(),!0);ret=maybePromise._value()}values[index]=ret}var totalResolved=++this._totalResolved;return totalResolved>=length&&(null!==preservedValues?this._filter(values,preservedValues):this._resolve(values),!0)},MappingPromiseArray.prototype._drainQueue=function(){for(var queue=this._queue,limit=this._limit,values=this._values;queue.length>0&&this._inFlight<limit;){if(this._isResolved())return;var index=queue.pop();this._promiseFulfilled(values[index],index)}},MappingPromiseArray.prototype._filter=function(booleans,values){for(var len=values.length,ret=new Array(len),j=0,i=0;i<len;++i)booleans[i]&&(ret[j++]=values[i]);ret.length=j,this._resolve(ret)},MappingPromiseArray.prototype.preservedValues=function(){return this._preservedValues},Promise.prototype.map=function(fn,options){return map(this,fn,options,null)},Promise.map=function(promises,fn,options,_filter){return map(promises,fn,options,_filter)}}},{"./util":36}],19:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection,debug){var util=_dereq_("./util"),tryCatch=util.tryCatch;Promise.method=function(fn){if("function"!=typeof fn)throw new Promise.TypeError("expecting a function but got "+util.classString(fn));return function(){var ret=new Promise(INTERNAL);ret._captureStackTrace(),ret._pushContext();var value=tryCatch(fn).apply(this,arguments),promiseCreated=ret._popContext();return debug.checkForgottenReturns(value,promiseCreated,"Promise.method",ret),ret._resolveFromSyncValue(value),ret}},Promise.attempt=Promise["try"]=function(fn){if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var ret=new Promise(INTERNAL);ret._captureStackTrace(),ret._pushContext();var value;if(arguments.length>1){debug.deprecated("calling Promise.try with more than 1 argument");var arg=arguments[1],ctx=arguments[2];value=util.isArray(arg)?tryCatch(fn).apply(ctx,arg):tryCatch(fn).call(ctx,arg)}else value=tryCatch(fn)();var promiseCreated=ret._popContext();return debug.checkForgottenReturns(value,promiseCreated,"Promise.try",ret),ret._resolveFromSyncValue(value),ret},Promise.prototype._resolveFromSyncValue=function(value){value===util.errorObj?this._rejectCallback(value.e,!1):this._resolveCallback(value,!0)}}},{"./util":36}],20:[function(_dereq_,module,exports){"use strict";function isUntypedError(obj){return obj instanceof Error&&es5.getPrototypeOf(obj)===Error.prototype}function wrapAsOperationalError(obj){var ret;if(isUntypedError(obj)){ret=new OperationalError(obj),ret.name=obj.name,ret.message=obj.message,ret.stack=obj.stack;for(var keys=es5.keys(obj),i=0;i<keys.length;++i){var key=keys[i];rErrorKey.test(key)||(ret[key]=obj[key])}return ret}return util.markAsOriginatingFromRejection(obj),obj}function nodebackForPromise(promise,multiArgs){return function(err,value){if(null!==promise){if(err){var wrapped=wrapAsOperationalError(maybeWrapAsError(err));promise._attachExtraTrace(wrapped),promise._reject(wrapped)}else if(multiArgs){var args=[].slice.call(arguments,1);promise._fulfill(args)}else promise._fulfill(value);promise=null}}}var util=_dereq_("./util"),maybeWrapAsError=util.maybeWrapAsError,errors=_dereq_("./errors"),OperationalError=errors.OperationalError,es5=_dereq_("./es5"),rErrorKey=/^(?:name|message|stack|cause)$/;module.exports=nodebackForPromise},{"./errors":12,"./es5":13,"./util":36}],21:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function spreadAdapter(val,nodeback){var promise=this;if(!util.isArray(val))return successAdapter.call(promise,val,nodeback);var ret=tryCatch(nodeback).apply(promise._boundValue(),[null].concat(val));ret===errorObj&&async.throwLater(ret.e)}function successAdapter(val,nodeback){var promise=this,receiver=promise._boundValue(),ret=void 0===val?tryCatch(nodeback).call(receiver,null):tryCatch(nodeback).call(receiver,null,val);ret===errorObj&&async.throwLater(ret.e)}function errorAdapter(reason,nodeback){var promise=this;if(!reason){var newReason=new Error(reason+"");newReason.cause=reason,reason=newReason}var ret=tryCatch(nodeback).call(promise._boundValue(),reason);ret===errorObj&&async.throwLater(ret.e)}var util=_dereq_("./util"),async=Promise._async,tryCatch=util.tryCatch,errorObj=util.errorObj;Promise.prototype.asCallback=Promise.prototype.nodeify=function(nodeback,options){if("function"==typeof nodeback){var adapter=successAdapter;void 0!==options&&Object(options).spread&&(adapter=spreadAdapter),this._then(adapter,errorAdapter,void 0,this,nodeback)}return this}}},{"./util":36}],22:[function(_dereq_,module,exports){"use strict";module.exports=function(){function Proxyable(){}function check(self,executor){if("function"!=typeof executor)throw new TypeError("expecting a function but got "+util.classString(executor));if(self.constructor!==Promise)throw new TypeError("the promise constructor cannot be invoked directly\n\n    See http://goo.gl/MqrFmX\n")}function Promise(executor){this._bitField=0,this._fulfillmentHandler0=void 0,this._rejectionHandler0=void 0,this._promise0=void 0,this._receiver0=void 0,executor!==INTERNAL&&(check(this,executor),this._resolveFromExecutor(executor)),this._promiseCreated(),this._fireEvent("promiseCreated",this)}function deferResolve(v){this.promise._resolveCallback(v)}function deferReject(v){this.promise._rejectCallback(v,!1)}function fillTypes(value){var p=new Promise(INTERNAL);p._fulfillmentHandler0=value,p._rejectionHandler0=value,p._promise0=value,p._receiver0=value}var getDomain,makeSelfResolutionError=function(){return new TypeError("circular promise resolution chain\n\n    See http://goo.gl/MqrFmX\n")},reflectHandler=function(){return new Promise.PromiseInspection(this._target())},apiRejection=function(msg){return Promise.reject(new TypeError(msg))},UNDEFINED_BINDING={},util=_dereq_("./util");getDomain=util.isNode?function(){var ret=process.domain;return void 0===ret&&(ret=null),ret}:function(){return null},util.notEnumerableProp(Promise,"_getDomain",getDomain);var es5=_dereq_("./es5"),Async=_dereq_("./async"),async=new Async;es5.defineProperty(Promise,"_async",{value:async});var errors=_dereq_("./errors"),TypeError=Promise.TypeError=errors.TypeError;Promise.RangeError=errors.RangeError;var CancellationError=Promise.CancellationError=errors.CancellationError;Promise.TimeoutError=errors.TimeoutError,Promise.OperationalError=errors.OperationalError,Promise.RejectionError=errors.OperationalError,Promise.AggregateError=errors.AggregateError;var INTERNAL=function(){},APPLY={},NEXT_FILTER={},tryConvertToPromise=_dereq_("./thenables")(Promise,INTERNAL),PromiseArray=_dereq_("./promise_array")(Promise,INTERNAL,tryConvertToPromise,apiRejection,Proxyable),Context=_dereq_("./context")(Promise),createContext=Context.create,debug=_dereq_("./debuggability")(Promise,Context),PassThroughHandlerContext=(debug.CapturedTrace,_dereq_("./finally")(Promise,tryConvertToPromise)),catchFilter=_dereq_("./catch_filter")(NEXT_FILTER),nodebackForPromise=_dereq_("./nodeback"),errorObj=util.errorObj,tryCatch=util.tryCatch;return Promise.prototype.toString=function(){return"[object Promise]"},Promise.prototype.caught=Promise.prototype["catch"]=function(fn){var len=arguments.length;if(len>1){var i,catchInstances=new Array(len-1),j=0;for(i=0;i<len-1;++i){var item=arguments[i];if(!util.isObject(item))return apiRejection("expecting an object but got A catch statement predicate "+util.classString(item));catchInstances[j++]=item}return catchInstances.length=j,fn=arguments[i],this.then(void 0,catchFilter(catchInstances,fn,this))}return this.then(void 0,fn)},Promise.prototype.reflect=function(){return this._then(reflectHandler,reflectHandler,void 0,this,void 0)},Promise.prototype.then=function(didFulfill,didReject){if(debug.warnings()&&arguments.length>0&&"function"!=typeof didFulfill&&"function"!=typeof didReject){var msg=".then() only accepts functions but was passed: "+util.classString(didFulfill);arguments.length>1&&(msg+=", "+util.classString(didReject)),this._warn(msg)}return this._then(didFulfill,didReject,void 0,void 0,void 0)},Promise.prototype.done=function(didFulfill,didReject){var promise=this._then(didFulfill,didReject,void 0,void 0,void 0);promise._setIsFinal()},Promise.prototype.spread=function(fn){return"function"!=typeof fn?apiRejection("expecting a function but got "+util.classString(fn)):this.all()._then(fn,void 0,void 0,APPLY,void 0)},Promise.prototype.toJSON=function(){var ret={isFulfilled:!1,isRejected:!1,fulfillmentValue:void 0,rejectionReason:void 0};return this.isFulfilled()?(ret.fulfillmentValue=this.value(),ret.isFulfilled=!0):this.isRejected()&&(ret.rejectionReason=this.reason(),ret.isRejected=!0),ret},Promise.prototype.all=function(){return arguments.length>0&&this._warn(".all() was passed arguments but it does not take any"),new PromiseArray(this).promise()},Promise.prototype.error=function(fn){return this.caught(util.originatesFromRejection,fn)},Promise.getNewLibraryCopy=module.exports,Promise.is=function(val){return val instanceof Promise},Promise.fromNode=Promise.fromCallback=function(fn){var ret=new Promise(INTERNAL);ret._captureStackTrace();var multiArgs=arguments.length>1&&!!Object(arguments[1]).multiArgs,result=tryCatch(fn)(nodebackForPromise(ret,multiArgs));return result===errorObj&&ret._rejectCallback(result.e,!0),ret._isFateSealed()||ret._setAsyncGuaranteed(),ret},Promise.all=function(promises){return new PromiseArray(promises).promise()},Promise.cast=function(obj){var ret=tryConvertToPromise(obj);return ret instanceof Promise||(ret=new Promise(INTERNAL),ret._captureStackTrace(),ret._setFulfilled(),ret._rejectionHandler0=obj),ret},Promise.resolve=Promise.fulfilled=Promise.cast,Promise.reject=Promise.rejected=function(reason){var ret=new Promise(INTERNAL);return ret._captureStackTrace(),ret._rejectCallback(reason,!0),ret},Promise.setScheduler=function(fn){if("function"!=typeof fn)throw new TypeError("expecting a function but got "+util.classString(fn));return async.setScheduler(fn)},Promise.prototype._then=function(didFulfill,didReject,_,receiver,internalData){var haveInternalData=void 0!==internalData,promise=haveInternalData?internalData:new Promise(INTERNAL),target=this._target(),bitField=target._bitField;haveInternalData||(promise._propagateFrom(this,3),promise._captureStackTrace(),void 0===receiver&&0!==(2097152&this._bitField)&&(receiver=0!==(50397184&bitField)?this._boundValue():target===this?void 0:this._boundTo),this._fireEvent("promiseChained",this,promise));var domain=getDomain();if(0!==(50397184&bitField)){var handler,value,settler=target._settlePromiseCtx;0!==(33554432&bitField)?(value=target._rejectionHandler0,handler=didFulfill):0!==(16777216&bitField)?(value=target._fulfillmentHandler0,handler=didReject,target._unsetRejectionIsUnhandled()):(settler=target._settlePromiseLateCancellationObserver,value=new CancellationError("late cancellation observer"),target._attachExtraTrace(value),handler=didReject),async.invoke(settler,target,{handler:null===domain?handler:"function"==typeof handler&&util.domainBind(domain,handler),promise:promise,receiver:receiver,value:value})}else target._addCallbacks(didFulfill,didReject,promise,receiver,domain);return promise},Promise.prototype._length=function(){return 65535&this._bitField},Promise.prototype._isFateSealed=function(){return 0!==(117506048&this._bitField)},Promise.prototype._isFollowing=function(){return 67108864===(67108864&this._bitField)},Promise.prototype._setLength=function(len){this._bitField=this._bitField&-65536|65535&len},Promise.prototype._setFulfilled=function(){this._bitField=33554432|this._bitField,this._fireEvent("promiseFulfilled",this)},Promise.prototype._setRejected=function(){this._bitField=16777216|this._bitField,this._fireEvent("promiseRejected",this)},Promise.prototype._setFollowing=function(){this._bitField=67108864|this._bitField,this._fireEvent("promiseResolved",this)},Promise.prototype._setIsFinal=function(){this._bitField=4194304|this._bitField},Promise.prototype._isFinal=function(){return(4194304&this._bitField)>0},Promise.prototype._unsetCancelled=function(){this._bitField=this._bitField&-65537},Promise.prototype._setCancelled=function(){this._bitField=65536|this._bitField,this._fireEvent("promiseCancelled",this)},Promise.prototype._setWillBeCancelled=function(){this._bitField=8388608|this._bitField},Promise.prototype._setAsyncGuaranteed=function(){async.hasCustomScheduler()||(this._bitField=134217728|this._bitField)},Promise.prototype._receiverAt=function(index){var ret=0===index?this._receiver0:this[4*index-4+3];if(ret!==UNDEFINED_BINDING)return void 0===ret&&this._isBound()?this._boundValue():ret},Promise.prototype._promiseAt=function(index){return this[4*index-4+2]},Promise.prototype._fulfillmentHandlerAt=function(index){return this[4*index-4+0]},Promise.prototype._rejectionHandlerAt=function(index){return this[4*index-4+1]},Promise.prototype._boundValue=function(){},Promise.prototype._migrateCallback0=function(follower){var fulfill=(follower._bitField,follower._fulfillmentHandler0),reject=follower._rejectionHandler0,promise=follower._promise0,receiver=follower._receiverAt(0);void 0===receiver&&(receiver=UNDEFINED_BINDING),this._addCallbacks(fulfill,reject,promise,receiver,null)},Promise.prototype._migrateCallbackAt=function(follower,index){var fulfill=follower._fulfillmentHandlerAt(index),reject=follower._rejectionHandlerAt(index),promise=follower._promiseAt(index),receiver=follower._receiverAt(index);void 0===receiver&&(receiver=UNDEFINED_BINDING),this._addCallbacks(fulfill,reject,promise,receiver,null)},Promise.prototype._addCallbacks=function(fulfill,reject,promise,receiver,domain){var index=this._length();if(index>=65531&&(index=0,this._setLength(0)),0===index)this._promise0=promise,this._receiver0=receiver,"function"==typeof fulfill&&(this._fulfillmentHandler0=null===domain?fulfill:util.domainBind(domain,fulfill)),"function"==typeof reject&&(this._rejectionHandler0=null===domain?reject:util.domainBind(domain,reject));else{var base=4*index-4;this[base+2]=promise,this[base+3]=receiver,"function"==typeof fulfill&&(this[base+0]=null===domain?fulfill:util.domainBind(domain,fulfill)),"function"==typeof reject&&(this[base+1]=null===domain?reject:util.domainBind(domain,reject))}return this._setLength(index+1),index},Promise.prototype._proxy=function(proxyable,arg){this._addCallbacks(void 0,void 0,arg,proxyable,null)},Promise.prototype._resolveCallback=function(value,shouldBind){if(0===(117506048&this._bitField)){if(value===this)return this._rejectCallback(makeSelfResolutionError(),!1);var maybePromise=tryConvertToPromise(value,this);if(!(maybePromise instanceof Promise))return this._fulfill(value);shouldBind&&this._propagateFrom(maybePromise,2);var promise=maybePromise._target();if(promise===this)return void this._reject(makeSelfResolutionError());var bitField=promise._bitField;if(0===(50397184&bitField)){var len=this._length();len>0&&promise._migrateCallback0(this);for(var i=1;i<len;++i)promise._migrateCallbackAt(this,i);this._setFollowing(),this._setLength(0),this._setFollowee(promise)}else if(0!==(33554432&bitField))this._fulfill(promise._value());else if(0!==(16777216&bitField))this._reject(promise._reason());else{var reason=new CancellationError("late cancellation observer");promise._attachExtraTrace(reason),this._reject(reason)}}},Promise.prototype._rejectCallback=function(reason,synchronous,ignoreNonErrorWarnings){var trace=util.ensureErrorObject(reason),hasStack=trace===reason;if(!hasStack&&!ignoreNonErrorWarnings&&debug.warnings()){var message="a promise was rejected with a non-error: "+util.classString(reason);this._warn(message,!0)}this._attachExtraTrace(trace,!!synchronous&&hasStack),this._reject(reason)},Promise.prototype._resolveFromExecutor=function(executor){var promise=this;this._captureStackTrace(),this._pushContext();var synchronous=!0,r=this._execute(executor,function(value){promise._resolveCallback(value)},function(reason){promise._rejectCallback(reason,synchronous)});synchronous=!1,this._popContext(),void 0!==r&&promise._rejectCallback(r,!0)},Promise.prototype._settlePromiseFromHandler=function(handler,receiver,value,promise){var bitField=promise._bitField;if(0===(65536&bitField)){promise._pushContext();var x;receiver===APPLY?value&&"number"==typeof value.length?x=tryCatch(handler).apply(this._boundValue(),value):(x=errorObj,x.e=new TypeError("cannot .spread() a non-array: "+util.classString(value))):x=tryCatch(handler).call(receiver,value);var promiseCreated=promise._popContext();bitField=promise._bitField,0===(65536&bitField)&&(x===NEXT_FILTER?promise._reject(value):x===errorObj?promise._rejectCallback(x.e,!1):(debug.checkForgottenReturns(x,promiseCreated,"",promise,this),promise._resolveCallback(x)))}},Promise.prototype._target=function(){for(var ret=this;ret._isFollowing();)ret=ret._followee();return ret},Promise.prototype._followee=function(){return this._rejectionHandler0},Promise.prototype._setFollowee=function(promise){this._rejectionHandler0=promise},Promise.prototype._settlePromise=function(promise,handler,receiver,value){var isPromise=promise instanceof Promise,bitField=this._bitField,asyncGuaranteed=0!==(134217728&bitField);0!==(65536&bitField)?(isPromise&&promise._invokeInternalOnCancel(),receiver instanceof PassThroughHandlerContext&&receiver.isFinallyHandler()?(receiver.cancelPromise=promise,tryCatch(handler).call(receiver,value)===errorObj&&promise._reject(errorObj.e)):handler===reflectHandler?promise._fulfill(reflectHandler.call(receiver)):receiver instanceof Proxyable?receiver._promiseCancelled(promise):isPromise||promise instanceof PromiseArray?promise._cancel():receiver.cancel()):"function"==typeof handler?isPromise?(asyncGuaranteed&&promise._setAsyncGuaranteed(),this._settlePromiseFromHandler(handler,receiver,value,promise)):handler.call(receiver,value,promise):receiver instanceof Proxyable?receiver._isResolved()||(0!==(33554432&bitField)?receiver._promiseFulfilled(value,promise):receiver._promiseRejected(value,promise)):isPromise&&(asyncGuaranteed&&promise._setAsyncGuaranteed(),0!==(33554432&bitField)?promise._fulfill(value):promise._reject(value))},Promise.prototype._settlePromiseLateCancellationObserver=function(ctx){var handler=ctx.handler,promise=ctx.promise,receiver=ctx.receiver,value=ctx.value;"function"==typeof handler?promise instanceof Promise?this._settlePromiseFromHandler(handler,receiver,value,promise):handler.call(receiver,value,promise):promise instanceof Promise&&promise._reject(value)},Promise.prototype._settlePromiseCtx=function(ctx){this._settlePromise(ctx.promise,ctx.handler,ctx.receiver,ctx.value)},Promise.prototype._settlePromise0=function(handler,value,bitField){var promise=this._promise0,receiver=this._receiverAt(0);this._promise0=void 0,this._receiver0=void 0,this._settlePromise(promise,handler,receiver,value)},Promise.prototype._clearCallbackDataAtIndex=function(index){var base=4*index-4;this[base+2]=this[base+3]=this[base+0]=this[base+1]=void 0},Promise.prototype._fulfill=function(value){var bitField=this._bitField;if(!((117506048&bitField)>>>16)){if(value===this){var err=makeSelfResolutionError();return this._attachExtraTrace(err),this._reject(err)}this._setFulfilled(),this._rejectionHandler0=value,(65535&bitField)>0&&(0!==(134217728&bitField)?this._settlePromises():async.settlePromises(this))}},Promise.prototype._reject=function(reason){var bitField=this._bitField;if(!((117506048&bitField)>>>16))return this._setRejected(),this._fulfillmentHandler0=reason,this._isFinal()?async.fatalError(reason,util.isNode):void((65535&bitField)>0?async.settlePromises(this):this._ensurePossibleRejectionHandled())},Promise.prototype._fulfillPromises=function(len,value){for(var i=1;i<len;i++){var handler=this._fulfillmentHandlerAt(i),promise=this._promiseAt(i),receiver=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(promise,handler,receiver,value)}},Promise.prototype._rejectPromises=function(len,reason){for(var i=1;i<len;i++){var handler=this._rejectionHandlerAt(i),promise=this._promiseAt(i),receiver=this._receiverAt(i);this._clearCallbackDataAtIndex(i),this._settlePromise(promise,handler,receiver,reason)}},Promise.prototype._settlePromises=function(){var bitField=this._bitField,len=65535&bitField;if(len>0){if(0!==(16842752&bitField)){var reason=this._fulfillmentHandler0;this._settlePromise0(this._rejectionHandler0,reason,bitField),this._rejectPromises(len,reason)}else{var value=this._rejectionHandler0;this._settlePromise0(this._fulfillmentHandler0,value,bitField),this._fulfillPromises(len,value)}this._setLength(0)}this._clearCancellationData()},Promise.prototype._settledValue=function(){var bitField=this._bitField;return 0!==(33554432&bitField)?this._rejectionHandler0:0!==(16777216&bitField)?this._fulfillmentHandler0:void 0},Promise.defer=Promise.pending=function(){debug.deprecated("Promise.defer","new Promise");var promise=new Promise(INTERNAL);return{promise:promise,resolve:deferResolve,reject:deferReject}},util.notEnumerableProp(Promise,"_makeSelfResolutionError",makeSelfResolutionError),_dereq_("./method")(Promise,INTERNAL,tryConvertToPromise,apiRejection,debug),_dereq_("./bind")(Promise,INTERNAL,tryConvertToPromise,debug),_dereq_("./cancel")(Promise,PromiseArray,apiRejection,debug),_dereq_("./direct_resolve")(Promise),_dereq_("./synchronous_inspection")(Promise),_dereq_("./join")(Promise,PromiseArray,tryConvertToPromise,INTERNAL,async,getDomain),Promise.Promise=Promise,Promise.version="3.4.5",_dereq_("./map.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug),_dereq_("./call_get.js")(Promise),_dereq_("./using.js")(Promise,apiRejection,tryConvertToPromise,createContext,INTERNAL,debug),_dereq_("./timers.js")(Promise,INTERNAL,debug),_dereq_("./generators.js")(Promise,apiRejection,INTERNAL,tryConvertToPromise,Proxyable,debug),_dereq_("./nodeify.js")(Promise),_dereq_("./promisify.js")(Promise,INTERNAL),_dereq_("./props.js")(Promise,PromiseArray,tryConvertToPromise,apiRejection),_dereq_("./race.js")(Promise,INTERNAL,tryConvertToPromise,apiRejection),_dereq_("./reduce.js")(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug),_dereq_("./settle.js")(Promise,PromiseArray,debug),_dereq_("./some.js")(Promise,PromiseArray,apiRejection),_dereq_("./filter.js")(Promise,INTERNAL),_dereq_("./each.js")(Promise,INTERNAL),_dereq_("./any.js")(Promise),util.toFastProperties(Promise),util.toFastProperties(Promise.prototype),fillTypes({a:1}),fillTypes({b:2}),fillTypes({c:3}),fillTypes(1),fillTypes(function(){}),fillTypes(void 0),fillTypes(!1),fillTypes(new Promise(INTERNAL)),debug.setBounds(Async.firstLineError,util.lastLineError),Promise}},{"./any.js":1,"./async":2,"./bind":3,"./call_get.js":5,"./cancel":6,"./catch_filter":7,"./context":8,"./debuggability":9,"./direct_resolve":10,"./each.js":11,"./errors":12,"./es5":13,"./filter.js":14,"./finally":15,"./generators.js":16,"./join":17,"./map.js":18,"./method":19,"./nodeback":20,"./nodeify.js":21,"./promise_array":23,"./promisify.js":24,"./props.js":25,"./race.js":27,"./reduce.js":28,"./settle.js":30,"./some.js":31,"./synchronous_inspection":32,"./thenables":33,"./timers.js":34,"./using.js":35,"./util":36}],23:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection,Proxyable){function toResolutionValue(val){switch(val){case-2:return[];case-3:return{}}}function PromiseArray(values){var promise=this._promise=new Promise(INTERNAL);values instanceof Promise&&promise._propagateFrom(values,3),promise._setOnCancel(this),this._values=values,this._length=0,this._totalResolved=0,this._init(void 0,-2)}var util=_dereq_("./util");util.isArray;return util.inherits(PromiseArray,Proxyable),PromiseArray.prototype.length=function(){return this._length},PromiseArray.prototype.promise=function(){return this._promise},PromiseArray.prototype._init=function init(_,resolveValueIfEmpty){var values=tryConvertToPromise(this._values,this._promise);if(values instanceof Promise){values=values._target();var bitField=values._bitField;if(this._values=values,0===(50397184&bitField))return this._promise._setAsyncGuaranteed(),values._then(init,this._reject,void 0,this,resolveValueIfEmpty);if(0===(33554432&bitField))return 0!==(16777216&bitField)?this._reject(values._reason()):this._cancel();values=values._value()}if(values=util.asArray(values),null===values){var err=apiRejection("expecting an array or an iterable object but got "+util.classString(values)).reason();return void this._promise._rejectCallback(err,!1)}return 0===values.length?void(resolveValueIfEmpty===-5?this._resolveEmptyArray():this._resolve(toResolutionValue(resolveValueIfEmpty))):void this._iterate(values)},PromiseArray.prototype._iterate=function(values){var len=this.getActualLength(values.length);this._length=len,this._values=this.shouldCopyValues()?new Array(len):this._values;for(var result=this._promise,isResolved=!1,bitField=null,i=0;i<len;++i){var maybePromise=tryConvertToPromise(values[i],result);maybePromise instanceof Promise?(maybePromise=maybePromise._target(),bitField=maybePromise._bitField):bitField=null,isResolved?null!==bitField&&maybePromise.suppressUnhandledRejections():null!==bitField?0===(50397184&bitField)?(maybePromise._proxy(this,i),this._values[i]=maybePromise):isResolved=0!==(33554432&bitField)?this._promiseFulfilled(maybePromise._value(),i):0!==(16777216&bitField)?this._promiseRejected(maybePromise._reason(),i):this._promiseCancelled(i):isResolved=this._promiseFulfilled(maybePromise,i)}isResolved||result._setAsyncGuaranteed()},PromiseArray.prototype._isResolved=function(){return null===this._values},PromiseArray.prototype._resolve=function(value){this._values=null,this._promise._fulfill(value)},PromiseArray.prototype._cancel=function(){!this._isResolved()&&this._promise._isCancellable()&&(this._values=null,this._promise._cancel())},PromiseArray.prototype._reject=function(reason){this._values=null,this._promise._rejectCallback(reason,!1)},PromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;return totalResolved>=this._length&&(this._resolve(this._values),!0)},PromiseArray.prototype._promiseCancelled=function(){return this._cancel(),!0},PromiseArray.prototype._promiseRejected=function(reason){return this._totalResolved++,this._reject(reason),!0},PromiseArray.prototype._resultCancelled=function(){if(!this._isResolved()){var values=this._values;if(this._cancel(),values instanceof Promise)values.cancel();else for(var i=0;i<values.length;++i)values[i]instanceof Promise&&values[i].cancel()}},PromiseArray.prototype.shouldCopyValues=function(){return!0},PromiseArray.prototype.getActualLength=function(len){return len},PromiseArray}},{"./util":36}],24:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){function propsFilter(key){return!noCopyPropsPattern.test(key)}function isPromisified(fn){try{return fn.__isPromisified__===!0}catch(e){return!1}}function hasPromisified(obj,key,suffix){var val=util.getDataPropertyOrDefault(obj,key+suffix,defaultPromisified);return!!val&&isPromisified(val)}function checkValid(ret,suffix,suffixRegexp){for(var i=0;i<ret.length;i+=2){var key=ret[i];if(suffixRegexp.test(key))for(var keyWithoutAsyncSuffix=key.replace(suffixRegexp,""),j=0;j<ret.length;j+=2)if(ret[j]===keyWithoutAsyncSuffix)throw new TypeError("Cannot promisify an API that has normal methods with '%s'-suffix\n\n    See http://goo.gl/MqrFmX\n".replace("%s",suffix))}}function promisifiableMethods(obj,suffix,suffixRegexp,filter){for(var keys=util.inheritedDataKeys(obj),ret=[],i=0;i<keys.length;++i){var key=keys[i],value=obj[key],passesDefaultFilter=filter===defaultFilter||defaultFilter(key,value,obj);"function"!=typeof value||isPromisified(value)||hasPromisified(obj,key,suffix)||!filter(key,value,obj,passesDefaultFilter)||ret.push(key,value)}return checkValid(ret,suffix,suffixRegexp),ret}function makeNodePromisifiedClosure(callback,receiver,_,fn,__,multiArgs){function promisified(){var _receiver=receiver;receiver===THIS&&(_receiver=this);var promise=new Promise(INTERNAL);promise._captureStackTrace();var cb="string"==typeof method&&this!==defaultThis?this[method]:callback,fn=nodebackForPromise(promise,multiArgs);try{cb.apply(_receiver,withAppended(arguments,fn))}catch(e){promise._rejectCallback(maybeWrapAsError(e),!0,!0)}return promise._isFateSealed()||promise._setAsyncGuaranteed(),promise}var defaultThis=function(){return this}(),method=callback;return"string"==typeof method&&(callback=fn),util.notEnumerableProp(promisified,"__isPromisified__",!0),promisified}function promisifyAll(obj,suffix,filter,promisifier,multiArgs){for(var suffixRegexp=new RegExp(escapeIdentRegex(suffix)+"$"),methods=promisifiableMethods(obj,suffix,suffixRegexp,filter),i=0,len=methods.length;i<len;i+=2){var key=methods[i],fn=methods[i+1],promisifiedKey=key+suffix;if(promisifier===makeNodePromisified)obj[promisifiedKey]=makeNodePromisified(key,THIS,key,fn,suffix,multiArgs);else{var promisified=promisifier(fn,function(){return makeNodePromisified(key,THIS,key,fn,suffix,multiArgs)});util.notEnumerableProp(promisified,"__isPromisified__",!0),obj[promisifiedKey]=promisified}}return util.toFastProperties(obj),obj}function promisify(callback,receiver,multiArgs){return makeNodePromisified(callback,receiver,void 0,callback,null,multiArgs)}var makeNodePromisifiedEval,THIS={},util=_dereq_("./util"),nodebackForPromise=_dereq_("./nodeback"),withAppended=util.withAppended,maybeWrapAsError=util.maybeWrapAsError,canEvaluate=util.canEvaluate,TypeError=_dereq_("./errors").TypeError,defaultSuffix="Async",defaultPromisified={
__isPromisified__:!0},noCopyProps=["arity","length","name","arguments","caller","callee","prototype","__isPromisified__"],noCopyPropsPattern=new RegExp("^(?:"+noCopyProps.join("|")+")$"),defaultFilter=function(name){return util.isIdentifier(name)&&"_"!==name.charAt(0)&&"constructor"!==name},escapeIdentRegex=function(str){return str.replace(/([$])/,"\\$")},makeNodePromisified=canEvaluate?makeNodePromisifiedEval:makeNodePromisifiedClosure;Promise.promisify=function(fn,options){if("function"!=typeof fn)throw new TypeError("expecting a function but got "+util.classString(fn));if(isPromisified(fn))return fn;options=Object(options);var receiver=void 0===options.context?THIS:options.context,multiArgs=!!options.multiArgs,ret=promisify(fn,receiver,multiArgs);return util.copyDescriptors(fn,ret,propsFilter),ret},Promise.promisifyAll=function(target,options){if("function"!=typeof target&&"object"!=typeof target)throw new TypeError("the target of promisifyAll must be an object or a function\n\n    See http://goo.gl/MqrFmX\n");options=Object(options);var multiArgs=!!options.multiArgs,suffix=options.suffix;"string"!=typeof suffix&&(suffix=defaultSuffix);var filter=options.filter;"function"!=typeof filter&&(filter=defaultFilter);var promisifier=options.promisifier;if("function"!=typeof promisifier&&(promisifier=makeNodePromisified),!util.isIdentifier(suffix))throw new RangeError("suffix must be a valid identifier\n\n    See http://goo.gl/MqrFmX\n");for(var keys=util.inheritedDataKeys(target),i=0;i<keys.length;++i){var value=target[keys[i]];"constructor"!==keys[i]&&util.isClass(value)&&(promisifyAll(value.prototype,suffix,filter,promisifier,multiArgs),promisifyAll(value,suffix,filter,promisifier,multiArgs))}return promisifyAll(target,suffix,filter,promisifier,multiArgs)}}},{"./errors":12,"./nodeback":20,"./util":36}],25:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,tryConvertToPromise,apiRejection){function PropertiesPromiseArray(obj){var entries,isMap=!1;if(void 0!==Es6Map&&obj instanceof Es6Map)entries=mapToEntries(obj),isMap=!0;else{var keys=es5.keys(obj),len=keys.length;entries=new Array(2*len);for(var i=0;i<len;++i){var key=keys[i];entries[i]=obj[key],entries[i+len]=key}}this.constructor$(entries),this._isMap=isMap,this._init$(void 0,-3)}function props(promises){var ret,castValue=tryConvertToPromise(promises);return isObject(castValue)?(ret=castValue instanceof Promise?castValue._then(Promise.props,void 0,void 0,void 0,void 0):new PropertiesPromiseArray(castValue).promise(),castValue instanceof Promise&&ret._propagateFrom(castValue,2),ret):apiRejection("cannot await properties of a non-object\n\n    See http://goo.gl/MqrFmX\n")}var Es6Map,util=_dereq_("./util"),isObject=util.isObject,es5=_dereq_("./es5");"function"==typeof Map&&(Es6Map=Map);var mapToEntries=function(){function extractEntry(value,key){this[index]=value,this[index+size]=key,index++}var index=0,size=0;return function(map){size=map.size,index=0;var ret=new Array(2*map.size);return map.forEach(extractEntry,ret),ret}}(),entriesToMap=function(entries){for(var ret=new Es6Map,length=entries.length/2|0,i=0;i<length;++i){var key=entries[length+i],value=entries[i];ret.set(key,value)}return ret};util.inherits(PropertiesPromiseArray,PromiseArray),PropertiesPromiseArray.prototype._init=function(){},PropertiesPromiseArray.prototype._promiseFulfilled=function(value,index){this._values[index]=value;var totalResolved=++this._totalResolved;if(totalResolved>=this._length){var val;if(this._isMap)val=entriesToMap(this._values);else{val={};for(var keyOffset=this.length(),i=0,len=this.length();i<len;++i)val[this._values[i+keyOffset]]=this._values[i]}return this._resolve(val),!0}return!1},PropertiesPromiseArray.prototype.shouldCopyValues=function(){return!1},PropertiesPromiseArray.prototype.getActualLength=function(len){return len>>1},Promise.prototype.props=function(){return props(this)},Promise.props=function(promises){return props(promises)}}},{"./es5":13,"./util":36}],26:[function(_dereq_,module,exports){"use strict";function arrayMove(src,srcIndex,dst,dstIndex,len){for(var j=0;j<len;++j)dst[j+dstIndex]=src[j+srcIndex],src[j+srcIndex]=void 0}function Queue(capacity){this._capacity=capacity,this._length=0,this._front=0}Queue.prototype._willBeOverCapacity=function(size){return this._capacity<size},Queue.prototype._pushOne=function(arg){var length=this.length();this._checkCapacity(length+1);var i=this._front+length&this._capacity-1;this[i]=arg,this._length=length+1},Queue.prototype._unshiftOne=function(value){var capacity=this._capacity;this._checkCapacity(this.length()+1);var front=this._front,i=(front-1&capacity-1^capacity)-capacity;this[i]=value,this._front=i,this._length=this.length()+1},Queue.prototype.unshift=function(fn,receiver,arg){this._unshiftOne(arg),this._unshiftOne(receiver),this._unshiftOne(fn)},Queue.prototype.push=function(fn,receiver,arg){var length=this.length()+3;if(this._willBeOverCapacity(length))return this._pushOne(fn),this._pushOne(receiver),void this._pushOne(arg);var j=this._front+length-3;this._checkCapacity(length);var wrapMask=this._capacity-1;this[j+0&wrapMask]=fn,this[j+1&wrapMask]=receiver,this[j+2&wrapMask]=arg,this._length=length},Queue.prototype.shift=function(){var front=this._front,ret=this[front];return this[front]=void 0,this._front=front+1&this._capacity-1,this._length--,ret},Queue.prototype.length=function(){return this._length},Queue.prototype._checkCapacity=function(size){this._capacity<size&&this._resizeTo(this._capacity<<1)},Queue.prototype._resizeTo=function(capacity){var oldCapacity=this._capacity;this._capacity=capacity;var front=this._front,length=this._length,moveItemsCount=front+length&oldCapacity-1;arrayMove(this,0,this,oldCapacity,moveItemsCount)},module.exports=Queue},{}],27:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,tryConvertToPromise,apiRejection){function race(promises,parent){var maybePromise=tryConvertToPromise(promises);if(maybePromise instanceof Promise)return raceLater(maybePromise);if(promises=util.asArray(promises),null===promises)return apiRejection("expecting an array or an iterable object but got "+util.classString(promises));var ret=new Promise(INTERNAL);void 0!==parent&&ret._propagateFrom(parent,3);for(var fulfill=ret._fulfill,reject=ret._reject,i=0,len=promises.length;i<len;++i){var val=promises[i];(void 0!==val||i in promises)&&Promise.cast(val)._then(fulfill,reject,void 0,ret,null)}return ret}var util=_dereq_("./util"),raceLater=function(promise){return promise.then(function(array){return race(array,promise)})};Promise.race=function(promises){return race(promises,void 0)},Promise.prototype.race=function(){return race(this,void 0)}}},{"./util":36}],28:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection,tryConvertToPromise,INTERNAL,debug){function ReductionPromiseArray(promises,fn,initialValue,_each){this.constructor$(promises);var domain=getDomain();this._fn=null===domain?fn:util.domainBind(domain,fn),void 0!==initialValue&&(initialValue=Promise.resolve(initialValue),initialValue._attachCancellationCallback(this)),this._initialValue=initialValue,this._currentCancellable=null,_each===INTERNAL?this._eachValues=Array(this._length):0===_each?this._eachValues=null:this._eachValues=void 0,this._promise._captureStackTrace(),this._init$(void 0,-5)}function completed(valueOrReason,array){this.isFulfilled()?array._resolve(valueOrReason):array._reject(valueOrReason)}function reduce(promises,fn,initialValue,_each){if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var array=new ReductionPromiseArray(promises,fn,initialValue,_each);return array.promise()}function gotAccum(accum){this.accum=accum,this.array._gotAccum(accum);var value=tryConvertToPromise(this.value,this.array._promise);return value instanceof Promise?(this.array._currentCancellable=value,value._then(gotValue,void 0,void 0,this,void 0)):gotValue.call(this,value)}function gotValue(value){var array=this.array,promise=array._promise,fn=tryCatch(array._fn);promise._pushContext();var ret;ret=void 0!==array._eachValues?fn.call(promise._boundValue(),value,this.index,this.length):fn.call(promise._boundValue(),this.accum,value,this.index,this.length),ret instanceof Promise&&(array._currentCancellable=ret);var promiseCreated=promise._popContext();return debug.checkForgottenReturns(ret,promiseCreated,void 0!==array._eachValues?"Promise.each":"Promise.reduce",promise),ret}var getDomain=Promise._getDomain,util=_dereq_("./util"),tryCatch=util.tryCatch;util.inherits(ReductionPromiseArray,PromiseArray),ReductionPromiseArray.prototype._gotAccum=function(accum){void 0!==this._eachValues&&null!==this._eachValues&&accum!==INTERNAL&&this._eachValues.push(accum)},ReductionPromiseArray.prototype._eachComplete=function(value){return null!==this._eachValues&&this._eachValues.push(value),this._eachValues},ReductionPromiseArray.prototype._init=function(){},ReductionPromiseArray.prototype._resolveEmptyArray=function(){this._resolve(void 0!==this._eachValues?this._eachValues:this._initialValue)},ReductionPromiseArray.prototype.shouldCopyValues=function(){return!1},ReductionPromiseArray.prototype._resolve=function(value){this._promise._resolveCallback(value),this._values=null},ReductionPromiseArray.prototype._resultCancelled=function(sender){return sender===this._initialValue?this._cancel():void(this._isResolved()||(this._resultCancelled$(),this._currentCancellable instanceof Promise&&this._currentCancellable.cancel(),this._initialValue instanceof Promise&&this._initialValue.cancel()))},ReductionPromiseArray.prototype._iterate=function(values){this._values=values;var value,i,length=values.length;if(void 0!==this._initialValue?(value=this._initialValue,i=0):(value=Promise.resolve(values[0]),i=1),this._currentCancellable=value,!value.isRejected())for(;i<length;++i){var ctx={accum:null,value:values[i],index:i,length:length,array:this};value=value._then(gotAccum,void 0,void 0,ctx,void 0)}void 0!==this._eachValues&&(value=value._then(this._eachComplete,void 0,void 0,this,void 0)),value._then(completed,completed,void 0,value,this)},Promise.prototype.reduce=function(fn,initialValue){return reduce(this,fn,initialValue,null)},Promise.reduce=function(promises,fn,initialValue,_each){return reduce(promises,fn,initialValue,_each)}}},{"./util":36}],29:[function(_dereq_,module,exports){"use strict";var schedule,util=_dereq_("./util"),noAsyncScheduler=function(){throw new Error("No async scheduler available\n\n    See http://goo.gl/MqrFmX\n")},NativePromise=util.getNativePromise();if(util.isNode&&"undefined"==typeof MutationObserver){var GlobalSetImmediate=global.setImmediate,ProcessNextTick=process.nextTick;schedule=util.isRecentNode?function(fn){GlobalSetImmediate.call(global,fn)}:function(fn){ProcessNextTick.call(process,fn)}}else if("function"==typeof NativePromise&&"function"==typeof NativePromise.resolve){var nativePromise=NativePromise.resolve();schedule=function(fn){nativePromise.then(fn)}}else schedule="undefined"==typeof MutationObserver||"undefined"!=typeof window&&window.navigator&&(window.navigator.standalone||window.cordova)?"undefined"!=typeof setImmediate?function(fn){setImmediate(fn)}:"undefined"!=typeof setTimeout?function(fn){setTimeout(fn,0)}:noAsyncScheduler:function(){var div=document.createElement("div"),opts={attributes:!0},toggleScheduled=!1,div2=document.createElement("div"),o2=new MutationObserver(function(){div.classList.toggle("foo"),toggleScheduled=!1});o2.observe(div2,opts);var scheduleToggle=function(){toggleScheduled||(toggleScheduled=!0,div2.classList.toggle("foo"))};return function(fn){var o=new MutationObserver(function(){o.disconnect(),fn()});o.observe(div,opts),scheduleToggle()}}();module.exports=schedule},{"./util":36}],30:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,debug){function SettledPromiseArray(values){this.constructor$(values)}var PromiseInspection=Promise.PromiseInspection,util=_dereq_("./util");util.inherits(SettledPromiseArray,PromiseArray),SettledPromiseArray.prototype._promiseResolved=function(index,inspection){this._values[index]=inspection;var totalResolved=++this._totalResolved;return totalResolved>=this._length&&(this._resolve(this._values),!0)},SettledPromiseArray.prototype._promiseFulfilled=function(value,index){var ret=new PromiseInspection;return ret._bitField=33554432,ret._settledValueField=value,this._promiseResolved(index,ret)},SettledPromiseArray.prototype._promiseRejected=function(reason,index){var ret=new PromiseInspection;return ret._bitField=16777216,ret._settledValueField=reason,this._promiseResolved(index,ret)},Promise.settle=function(promises){return debug.deprecated(".settle()",".reflect()"),new SettledPromiseArray(promises).promise()},Promise.prototype.settle=function(){return Promise.settle(this)}}},{"./util":36}],31:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,PromiseArray,apiRejection){function SomePromiseArray(values){this.constructor$(values),this._howMany=0,this._unwrap=!1,this._initialized=!1}function some(promises,howMany){if((0|howMany)!==howMany||howMany<0)return apiRejection("expecting a positive integer\n\n    See http://goo.gl/MqrFmX\n");var ret=new SomePromiseArray(promises),promise=ret.promise();return ret.setHowMany(howMany),ret.init(),promise}var util=_dereq_("./util"),RangeError=_dereq_("./errors").RangeError,AggregateError=_dereq_("./errors").AggregateError,isArray=util.isArray,CANCELLATION={};util.inherits(SomePromiseArray,PromiseArray),SomePromiseArray.prototype._init=function(){if(this._initialized){if(0===this._howMany)return void this._resolve([]);this._init$(void 0,-5);var isArrayResolved=isArray(this._values);!this._isResolved()&&isArrayResolved&&this._howMany>this._canPossiblyFulfill()&&this._reject(this._getRangeError(this.length()))}},SomePromiseArray.prototype.init=function(){this._initialized=!0,this._init()},SomePromiseArray.prototype.setUnwrap=function(){this._unwrap=!0},SomePromiseArray.prototype.howMany=function(){return this._howMany},SomePromiseArray.prototype.setHowMany=function(count){this._howMany=count},SomePromiseArray.prototype._promiseFulfilled=function(value){return this._addFulfilled(value),this._fulfilled()===this.howMany()&&(this._values.length=this.howMany(),1===this.howMany()&&this._unwrap?this._resolve(this._values[0]):this._resolve(this._values),!0)},SomePromiseArray.prototype._promiseRejected=function(reason){return this._addRejected(reason),this._checkOutcome()},SomePromiseArray.prototype._promiseCancelled=function(){return this._values instanceof Promise||null==this._values?this._cancel():(this._addRejected(CANCELLATION),this._checkOutcome())},SomePromiseArray.prototype._checkOutcome=function(){if(this.howMany()>this._canPossiblyFulfill()){for(var e=new AggregateError,i=this.length();i<this._values.length;++i)this._values[i]!==CANCELLATION&&e.push(this._values[i]);return e.length>0?this._reject(e):this._cancel(),!0}return!1},SomePromiseArray.prototype._fulfilled=function(){return this._totalResolved},SomePromiseArray.prototype._rejected=function(){return this._values.length-this.length()},SomePromiseArray.prototype._addRejected=function(reason){this._values.push(reason)},SomePromiseArray.prototype._addFulfilled=function(value){this._values[this._totalResolved++]=value},SomePromiseArray.prototype._canPossiblyFulfill=function(){return this.length()-this._rejected()},SomePromiseArray.prototype._getRangeError=function(count){var message="Input array must contain at least "+this._howMany+" items but contains only "+count+" items";return new RangeError(message)},SomePromiseArray.prototype._resolveEmptyArray=function(){this._reject(this._getRangeError(0))},Promise.some=function(promises,howMany){return some(promises,howMany)},Promise.prototype.some=function(howMany){return some(this,howMany)},Promise._SomePromiseArray=SomePromiseArray}},{"./errors":12,"./util":36}],32:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise){function PromiseInspection(promise){void 0!==promise?(promise=promise._target(),this._bitField=promise._bitField,this._settledValueField=promise._isFateSealed()?promise._settledValue():void 0):(this._bitField=0,this._settledValueField=void 0)}PromiseInspection.prototype._settledValue=function(){return this._settledValueField};var value=PromiseInspection.prototype.value=function(){if(!this.isFulfilled())throw new TypeError("cannot get fulfillment value of a non-fulfilled promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},reason=PromiseInspection.prototype.error=PromiseInspection.prototype.reason=function(){if(!this.isRejected())throw new TypeError("cannot get rejection reason of a non-rejected promise\n\n    See http://goo.gl/MqrFmX\n");return this._settledValue()},isFulfilled=PromiseInspection.prototype.isFulfilled=function(){return 0!==(33554432&this._bitField)},isRejected=PromiseInspection.prototype.isRejected=function(){return 0!==(16777216&this._bitField)},isPending=PromiseInspection.prototype.isPending=function(){return 0===(50397184&this._bitField)},isResolved=PromiseInspection.prototype.isResolved=function(){return 0!==(50331648&this._bitField)};PromiseInspection.prototype.isCancelled=function(){return 0!==(8454144&this._bitField)},Promise.prototype.__isCancelled=function(){return 65536===(65536&this._bitField)},Promise.prototype._isCancelled=function(){return this._target().__isCancelled()},Promise.prototype.isCancelled=function(){return 0!==(8454144&this._target()._bitField)},Promise.prototype.isPending=function(){return isPending.call(this._target())},Promise.prototype.isRejected=function(){return isRejected.call(this._target())},Promise.prototype.isFulfilled=function(){return isFulfilled.call(this._target())},Promise.prototype.isResolved=function(){return isResolved.call(this._target())},Promise.prototype.value=function(){return value.call(this._target())},Promise.prototype.reason=function(){var target=this._target();return target._unsetRejectionIsUnhandled(),reason.call(target)},Promise.prototype._value=function(){return this._settledValue()},Promise.prototype._reason=function(){return this._unsetRejectionIsUnhandled(),this._settledValue()},Promise.PromiseInspection=PromiseInspection}},{}],33:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL){function tryConvertToPromise(obj,context){if(isObject(obj)){if(obj instanceof Promise)return obj;var then=getThen(obj);if(then===errorObj){context&&context._pushContext();var ret=Promise.reject(then.e);return context&&context._popContext(),ret}if("function"==typeof then){if(isAnyBluebirdPromise(obj)){var ret=new Promise(INTERNAL);return obj._then(ret._fulfill,ret._reject,void 0,ret,null),ret}return doThenable(obj,then,context)}}return obj}function doGetThen(obj){return obj.then}function getThen(obj){try{return doGetThen(obj)}catch(e){return errorObj.e=e,errorObj}}function isAnyBluebirdPromise(obj){try{return hasProp.call(obj,"_promise0")}catch(e){return!1}}function doThenable(x,then,context){function resolve(value){promise&&(promise._resolveCallback(value),promise=null)}function reject(reason){promise&&(promise._rejectCallback(reason,synchronous,!0),promise=null)}var promise=new Promise(INTERNAL),ret=promise;context&&context._pushContext(),promise._captureStackTrace(),context&&context._popContext();var synchronous=!0,result=util.tryCatch(then).call(x,resolve,reject);return synchronous=!1,promise&&result===errorObj&&(promise._rejectCallback(result.e,!0,!0),promise=null),ret}var util=_dereq_("./util"),errorObj=util.errorObj,isObject=util.isObject,hasProp={}.hasOwnProperty;return tryConvertToPromise}},{"./util":36}],34:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,INTERNAL,debug){function HandleWrapper(handle){this.handle=handle}function successClear(value){return clearTimeout(this.handle),value}function failureClear(reason){throw clearTimeout(this.handle),reason}var util=_dereq_("./util"),TimeoutError=Promise.TimeoutError;HandleWrapper.prototype._resultCancelled=function(){clearTimeout(this.handle)};var afterValue=function(value){return delay(+this).thenReturn(value)},delay=Promise.delay=function(ms,value){var ret,handle;return void 0!==value?(ret=Promise.resolve(value)._then(afterValue,null,null,ms,void 0),debug.cancellation()&&value instanceof Promise&&ret._setOnCancel(value)):(ret=new Promise(INTERNAL),handle=setTimeout(function(){ret._fulfill()},+ms),debug.cancellation()&&ret._setOnCancel(new HandleWrapper(handle)),ret._captureStackTrace()),ret._setAsyncGuaranteed(),ret};Promise.prototype.delay=function(ms){return delay(ms,this)};var afterTimeout=function(promise,message,parent){var err;err="string"!=typeof message?message instanceof Error?message:new TimeoutError("operation timed out"):new TimeoutError(message),util.markAsOriginatingFromRejection(err),promise._attachExtraTrace(err),promise._reject(err),null!=parent&&parent.cancel()};Promise.prototype.timeout=function(ms,message){ms=+ms;var ret,parent,handleWrapper=new HandleWrapper(setTimeout(function(){ret.isPending()&&afterTimeout(ret,message,parent)},ms));return debug.cancellation()?(parent=this.then(),ret=parent._then(successClear,failureClear,void 0,handleWrapper,void 0),ret._setOnCancel(handleWrapper)):ret=this._then(successClear,failureClear,void 0,handleWrapper,void 0),ret}}},{"./util":36}],35:[function(_dereq_,module,exports){"use strict";module.exports=function(Promise,apiRejection,tryConvertToPromise,createContext,INTERNAL,debug){function thrower(e){setTimeout(function(){throw e},0)}function castPreservingDisposable(thenable){var maybePromise=tryConvertToPromise(thenable);return maybePromise!==thenable&&"function"==typeof thenable._isDisposable&&"function"==typeof thenable._getDisposer&&thenable._isDisposable()&&maybePromise._setDisposable(thenable._getDisposer()),maybePromise}function dispose(resources,inspection){function iterator(){if(i>=len)return ret._fulfill();var maybePromise=castPreservingDisposable(resources[i++]);if(maybePromise instanceof Promise&&maybePromise._isDisposable()){try{maybePromise=tryConvertToPromise(maybePromise._getDisposer().tryDispose(inspection),resources.promise)}catch(e){return thrower(e)}if(maybePromise instanceof Promise)return maybePromise._then(iterator,thrower,null,null,null)}iterator()}var i=0,len=resources.length,ret=new Promise(INTERNAL);return iterator(),ret}function Disposer(data,promise,context){this._data=data,this._promise=promise,this._context=context}function FunctionDisposer(fn,promise,context){this.constructor$(fn,promise,context)}function maybeUnwrapDisposer(value){return Disposer.isDisposer(value)?(this.resources[this.index]._setDisposable(value),value.promise()):value}function ResourceList(length){this.length=length,this.promise=null,this[length-1]=null}var util=_dereq_("./util"),TypeError=_dereq_("./errors").TypeError,inherits=_dereq_("./util").inherits,errorObj=util.errorObj,tryCatch=util.tryCatch,NULL={};Disposer.prototype.data=function(){return this._data},Disposer.prototype.promise=function(){return this._promise},Disposer.prototype.resource=function(){return this.promise().isFulfilled()?this.promise().value():NULL},Disposer.prototype.tryDispose=function(inspection){var resource=this.resource(),context=this._context;void 0!==context&&context._pushContext();var ret=resource!==NULL?this.doDispose(resource,inspection):null;return void 0!==context&&context._popContext(),this._promise._unsetDisposable(),this._data=null,ret},Disposer.isDisposer=function(d){return null!=d&&"function"==typeof d.resource&&"function"==typeof d.tryDispose},inherits(FunctionDisposer,Disposer),FunctionDisposer.prototype.doDispose=function(resource,inspection){var fn=this.data();return fn.call(resource,resource,inspection)},ResourceList.prototype._resultCancelled=function(){for(var len=this.length,i=0;i<len;++i){var item=this[i];item instanceof Promise&&item.cancel()}},Promise.using=function(){var len=arguments.length;if(len<2)return apiRejection("you must pass at least 2 arguments to Promise.using");var fn=arguments[len-1];if("function"!=typeof fn)return apiRejection("expecting a function but got "+util.classString(fn));var input,spreadArgs=!0;2===len&&Array.isArray(arguments[0])?(input=arguments[0],len=input.length,spreadArgs=!1):(input=arguments,len--);for(var resources=new ResourceList(len),i=0;i<len;++i){var resource=input[i];if(Disposer.isDisposer(resource)){var disposer=resource;resource=resource.promise(),resource._setDisposable(disposer)}else{var maybePromise=tryConvertToPromise(resource);maybePromise instanceof Promise&&(resource=maybePromise._then(maybeUnwrapDisposer,null,null,{resources:resources,index:i},void 0))}resources[i]=resource}for(var reflectedResources=new Array(resources.length),i=0;i<reflectedResources.length;++i)reflectedResources[i]=Promise.resolve(resources[i]).reflect();var resultPromise=Promise.all(reflectedResources).then(function(inspections){for(var i=0;i<inspections.length;++i){var inspection=inspections[i];if(inspection.isRejected())return errorObj.e=inspection.error(),errorObj;if(!inspection.isFulfilled())return void resultPromise.cancel();inspections[i]=inspection.value()}promise._pushContext(),fn=tryCatch(fn);var ret=spreadArgs?fn.apply(void 0,inspections):fn(inspections),promiseCreated=promise._popContext();return debug.checkForgottenReturns(ret,promiseCreated,"Promise.using",promise),ret}),promise=resultPromise.lastly(function(){var inspection=new Promise.PromiseInspection(resultPromise);return dispose(resources,inspection)});return resources.promise=promise,promise._setOnCancel(resources),promise},Promise.prototype._setDisposable=function(disposer){this._bitField=131072|this._bitField,this._disposer=disposer},Promise.prototype._isDisposable=function(){return(131072&this._bitField)>0},Promise.prototype._getDisposer=function(){return this._disposer},Promise.prototype._unsetDisposable=function(){this._bitField=this._bitField&-131073,this._disposer=void 0},Promise.prototype.disposer=function(fn){if("function"==typeof fn)return new FunctionDisposer(fn,this,createContext());throw new TypeError}}},{"./errors":12,"./util":36}],36:[function(_dereq_,module,exports){"use strict";function tryCatcher(){try{var target=tryCatchTarget;return tryCatchTarget=null,target.apply(this,arguments)}catch(e){return errorObj.e=e,errorObj}}function tryCatch(fn){return tryCatchTarget=fn,tryCatcher}function isPrimitive(val){return null==val||val===!0||val===!1||"string"==typeof val||"number"==typeof val}function isObject(value){return"function"==typeof value||"object"==typeof value&&null!==value}function maybeWrapAsError(maybeError){return isPrimitive(maybeError)?new Error(safeToString(maybeError)):maybeError}function withAppended(target,appendee){var i,len=target.length,ret=new Array(len+1);for(i=0;i<len;++i)ret[i]=target[i];return ret[i]=appendee,ret}function getDataPropertyOrDefault(obj,key,defaultValue){if(!es5.isES5)return{}.hasOwnProperty.call(obj,key)?obj[key]:void 0;var desc=Object.getOwnPropertyDescriptor(obj,key);return null!=desc?null==desc.get&&null==desc.set?desc.value:defaultValue:void 0}function notEnumerableProp(obj,name,value){if(isPrimitive(obj))return obj;var descriptor={value:value,configurable:!0,enumerable:!1,writable:!0};return es5.defineProperty(obj,name,descriptor),obj}function thrower(r){throw r}function isClass(fn){try{if("function"==typeof fn){var keys=es5.names(fn.prototype),hasMethods=es5.isES5&&keys.length>1,hasMethodsOtherThanConstructor=keys.length>0&&!(1===keys.length&&"constructor"===keys[0]),hasThisAssignmentAndStaticMethods=thisAssignmentPattern.test(fn+"")&&es5.names(fn).length>0;if(hasMethods||hasMethodsOtherThanConstructor||hasThisAssignmentAndStaticMethods)return!0}return!1}catch(e){return!1}}function toFastProperties(obj){function FakeConstructor(){}FakeConstructor.prototype=obj;for(var l=8;l--;)new FakeConstructor;return obj}function isIdentifier(str){return rident.test(str)}function filledRange(count,prefix,suffix){for(var ret=new Array(count),i=0;i<count;++i)ret[i]=prefix+i+suffix;return ret}function safeToString(obj){try{return obj+""}catch(e){return"[no string representation]"}}function isError(obj){return null!==obj&&"object"==typeof obj&&"string"==typeof obj.message&&"string"==typeof obj.name}function markAsOriginatingFromRejection(e){try{notEnumerableProp(e,"isOperational",!0)}catch(ignore){}}function originatesFromRejection(e){return null!=e&&(e instanceof Error.__BluebirdErrorTypes__.OperationalError||e.isOperational===!0)}function canAttachTrace(obj){return isError(obj)&&es5.propertyIsWritable(obj,"stack")}function classString(obj){return{}.toString.call(obj)}function copyDescriptors(from,to,filter){for(var keys=es5.names(from),i=0;i<keys.length;++i){var key=keys[i];if(filter(key))try{es5.defineProperty(to,key,es5.getDescriptor(from,key))}catch(ignore){}}}function env(key,def){return isNode?process.env[key]:def}function getNativePromise(){if("function"==typeof Promise)try{var promise=new Promise(function(){});if("[object Promise]"==={}.toString.call(promise))return Promise}catch(e){}}function domainBind(self,cb){return self.bind(cb)}var es5=_dereq_("./es5"),canEvaluate="undefined"==typeof navigator,errorObj={e:{}},tryCatchTarget,globalObject="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0!==this?this:null,inherits=function(Child,Parent){function T(){this.constructor=Child,this.constructor$=Parent;for(var propertyName in Parent.prototype)hasProp.call(Parent.prototype,propertyName)&&"$"!==propertyName.charAt(propertyName.length-1)&&(this[propertyName+"$"]=Parent.prototype[propertyName])}var hasProp={}.hasOwnProperty;return T.prototype=Parent.prototype,Child.prototype=new T,Child.prototype},inheritedDataKeys=function(){var excludedPrototypes=[Array.prototype,Object.prototype,Function.prototype],isExcludedProto=function(val){for(var i=0;i<excludedPrototypes.length;++i)if(excludedPrototypes[i]===val)return!0;return!1};if(es5.isES5){var getKeys=Object.getOwnPropertyNames;return function(obj){for(var ret=[],visitedKeys=Object.create(null);null!=obj&&!isExcludedProto(obj);){var keys;try{keys=getKeys(obj)}catch(e){return ret}for(var i=0;i<keys.length;++i){var key=keys[i];if(!visitedKeys[key]){visitedKeys[key]=!0;var desc=Object.getOwnPropertyDescriptor(obj,key);null!=desc&&null==desc.get&&null==desc.set&&ret.push(key)}}obj=es5.getPrototypeOf(obj)}return ret}}var hasProp={}.hasOwnProperty;return function(obj){if(isExcludedProto(obj))return[];var ret=[];enumeration:for(var key in obj)if(hasProp.call(obj,key))ret.push(key);else{for(var i=0;i<excludedPrototypes.length;++i)if(hasProp.call(excludedPrototypes[i],key))continue enumeration;ret.push(key)}return ret}}(),thisAssignmentPattern=/this\s*\.\s*\S+\s*=/,rident=/^[a-z$_][a-z$_0-9]*$/i,ensureErrorObject=function(){return"stack"in new Error?function(value){return canAttachTrace(value)?value:new Error(safeToString(value))}:function(value){if(canAttachTrace(value))return value;try{throw new Error(safeToString(value))}catch(err){return err}}}(),asArray=function(v){return es5.isArray(v)?v:null};if("undefined"!=typeof Symbol&&Symbol.iterator){var ArrayFrom="function"==typeof Array.from?function(v){return Array.from(v)}:function(v){for(var itResult,ret=[],it=v[Symbol.iterator]();!(itResult=it.next()).done;)ret.push(itResult.value);return ret};asArray=function(v){return es5.isArray(v)?v:null!=v&&"function"==typeof v[Symbol.iterator]?ArrayFrom(v):null}}var isNode="undefined"!=typeof process&&"[object process]"===classString(process).toLowerCase(),ret={isClass:isClass,isIdentifier:isIdentifier,inheritedDataKeys:inheritedDataKeys,getDataPropertyOrDefault:getDataPropertyOrDefault,thrower:thrower,isArray:es5.isArray,asArray:asArray,notEnumerableProp:notEnumerableProp,isPrimitive:isPrimitive,
isObject:isObject,isError:isError,canEvaluate:canEvaluate,errorObj:errorObj,tryCatch:tryCatch,inherits:inherits,withAppended:withAppended,maybeWrapAsError:maybeWrapAsError,toFastProperties:toFastProperties,filledRange:filledRange,toString:safeToString,canAttachTrace:canAttachTrace,ensureErrorObject:ensureErrorObject,originatesFromRejection:originatesFromRejection,markAsOriginatingFromRejection:markAsOriginatingFromRejection,classString:classString,copyDescriptors:copyDescriptors,hasDevTools:"undefined"!=typeof chrome&&chrome&&"function"==typeof chrome.loadTimes,isNode:isNode,env:env,global:globalObject,getNativePromise:getNativePromise,domainBind:domainBind};ret.isRecentNode=ret.isNode&&function(){var version=process.versions.node.split(".").map(Number);return 0===version[0]&&version[1]>10||version[0]>0}(),ret.isNode&&ret.toFastProperties(process);try{throw new Error}catch(e){ret.lastLineError=e}module.exports=ret},{"./es5":13}]},{},[4])(4)}),"undefined"!=typeof window&&null!==window?window.P=window.Promise:"undefined"!=typeof self&&null!==self&&(self.P=self.Promise)}).call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:15}],3:[function(require,module,exports){function Emitter(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in Emitter.prototype)obj[key]=Emitter.prototype[key];return obj}"undefined"!=typeof module&&(module.exports=Emitter),Emitter.prototype.on=Emitter.prototype.addEventListener=function(event,fn){return this._callbacks=this._callbacks||{},(this._callbacks["$"+event]=this._callbacks["$"+event]||[]).push(fn),this},Emitter.prototype.once=function(event,fn){function on(){this.off(event,on),fn.apply(this,arguments)}return on.fn=fn,this.on(event,on),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(event,fn){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var callbacks=this._callbacks["$"+event];if(!callbacks)return this;if(1==arguments.length)return delete this._callbacks["$"+event],this;for(var cb,i=0;i<callbacks.length;i++)if(cb=callbacks[i],cb===fn||cb.fn===fn){callbacks.splice(i,1);break}return this},Emitter.prototype.emit=function(event){this._callbacks=this._callbacks||{};var args=[].slice.call(arguments,1),callbacks=this._callbacks["$"+event];if(callbacks){callbacks=callbacks.slice(0);for(var i=0,len=callbacks.length;i<len;++i)callbacks[i].apply(this,args)}return this},Emitter.prototype.listeners=function(event){return this._callbacks=this._callbacks||{},this._callbacks["$"+event]||[]},Emitter.prototype.hasListeners=function(event){return!!this.listeners(event).length}},{}],4:[function(require,module,exports){var exports=module.exports=function(doc){doc||(doc={}),"string"==typeof doc&&(doc={cookie:doc}),void 0===doc.cookie&&(doc.cookie="");var self={};return self.get=function(key){for(var splat=doc.cookie.split(/;\s*/),i=0;i<splat.length;i++){var ps=splat[i].split("="),k=unescape(ps[0]);if(k===key)return unescape(ps[1])}},self.set=function(key,value,opts){opts||(opts={});var s=escape(key)+"="+escape(value);return opts.expires&&(s+="; expires="+opts.expires),opts.path&&(s+="; path="+escape(opts.path)),opts.domain&&(s+="; domain="+escape(opts.domain)),opts.secure&&(s+="; secure"),doc.cookie=s,s},self};if("undefined"!=typeof document){var cookie=exports(document);exports.get=cookie.get,exports.set=cookie.set}},{}],5:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],6:[function(require,module,exports){(function(global){function baseClamp(number,lower,upper){return number===number&&(void 0!==upper&&(number=number<=upper?number:upper),void 0!==lower&&(number=number>=lower?number:lower)),number}function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toFinite(value){if(!value)return 0===value?value:0;if(value=toNumber(value),value===INFINITY||value===-INFINITY){var sign=value<0?-1:1;return sign*MAX_INTEGER}return value===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result===result?remainder?result-remainder:result:0}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NAN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=value.replace(reTrim,"");var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NAN:+value}function toString(value){return null==value?"":baseToString(value)}function endsWith(string,target,position){string=toString(string),target=baseToString(target);var length=string.length;position=void 0===position?length:baseClamp(toInteger(position),0,length);var end=position;return position-=target.length,position>=0&&string.slice(position,end)==target}var INFINITY=1/0,MAX_INTEGER=1.7976931348623157e308,NAN=NaN,symbolTag="[object Symbol]",reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,objectToString=objectProto.toString,Symbol=root.Symbol,symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;module.exports=endsWith}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(require,module,exports){(function(global){function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(key){return this.has(key)&&delete this.__data__[key]}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;return data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),!0}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){return getMapData(this,key)["delete"](key)}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseGet(object,path){path=isKey(path,object)?[path]:castPath(path);for(var index=0,length=path.length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function castPath(value){return isArray(value)?value:stringToPath(value)}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function eq(value,other){return value===other||value!==value&&other!==other}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toString(value){return null==value?"":baseToString(value)}function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}var FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,splice=arrayProto.splice,Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;Hash.prototype.clear=hashClear,Hash.prototype["delete"]=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype["delete"]=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype["delete"]=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var stringToPath=memoize(function(string){string=toString(string);var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result});memoize.Cache=MapCache;var isArray=Array.isArray;module.exports=get}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],8:[function(require,module,exports){(function(global){function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(key){return this.has(key)&&delete this.__data__[key]}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;return data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),!0}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){return getMapData(this,key)["delete"](key)}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function castPath(value){return isArray(value)?value:stringToPath(value)}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function hasPath(object,path,hasFunc){path=isKey(path,object)?[path]:castPath(path);for(var result,index=-1,length=path.length;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}if(result)return result;var length=object?object.length:0;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function isIndex(value,length){return length=null==length?MAX_SAFE_INTEGER:length,!!length&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function eq(value,other){return value===other||value!==value&&other!==other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toString(value){return null==value?"":baseToString(value)}function has(object,path){return null!=object&&hasPath(object,path,baseHas)}var FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;Hash.prototype.clear=hashClear,Hash.prototype["delete"]=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype["delete"]=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype["delete"]=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var stringToPath=memoize(function(string){string=toString(string);var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result});memoize.Cache=MapCache;var isArray=Array.isArray;module.exports=has}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],9:[function(require,module,exports){function isNil(value){return null==value}module.exports=isNil},{}],10:[function(require,module,exports){(function(global){function addMapEntry(map,pair){return map.set(pair[0],pair[1]),map}function addSetEntry(set,value){return set.add(value),set}function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayEach(array,iteratee){for(var index=-1,length=array?array.length:0;++index<length&&iteratee(array[index],index,array)!==!1;);return array}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=array?array.length:0;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseUnary(func){return function(value){return func(value)}}function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(key){return this.has(key)&&delete this.__data__[key]}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;return data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),!0}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){return getMapData(this,key)["delete"](key)}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this}function Stack(entries){this.__data__=new ListCache(entries)}function stackClear(){this.__data__=new ListCache}function stackDelete(key){return this.__data__["delete"](key)}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var cache=this.__data__;if(cache instanceof ListCache){var pairs=cache.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this;cache=this.__data__=new MapCache(pairs)}return cache.set(key,value),this}function arrayLikeKeys(value,inherited){var result=isArray(value)||isArguments(value)?baseTimes(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isIndex(key,length))||result.push(key);return result}function assignMergeValue(object,key,value){(void 0===value||eq(object[key],value))&&("number"!=typeof key||void 0!==value||key in object)||(object[key]=value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||(object[key]=value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseClone(value,isDeep,isFull,customizer,key,object,stack){var result;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),void 0!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=initCloneArray(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(isHostObject(value))return object?value:{};if(result=initCloneObject(isFunc?{}:value),!isDeep)return copySymbols(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=initCloneByTag(value,tag,baseClone,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;if(stack.set(value,result),!isArr)var props=isFull?getAllKeys(value):keys(value);return arrayEach(props||value,function(subValue,key){props&&(key=subValue,subValue=value[key]),assignValue(result,key,baseClone(subValue,isDeep,isFull,customizer,key,value,stack))}),result}function baseCreate(proto){return isObject(proto)?objectCreate(proto):{}}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){return objectToString.call(value)}function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)]}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}function baseMerge(object,source,srcIndex,customizer,stack){if(object!==source){if(!isArray(source)&&!isTypedArray(source))var props=baseKeysIn(source);arrayEach(props||source,function(srcValue,key){if(props&&(key=srcValue,srcValue=source[key]),isObject(srcValue))stack||(stack=new Stack),baseMergeDeep(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(object[key],srcValue,key+"",object,source,stack):void 0;void 0===newValue&&(newValue=srcValue),assignMergeValue(object,key,newValue)}})}}function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=object[key],srcValue=source[key],stacked=stack.get(srcValue);if(stacked)return void assignMergeValue(object,key,stacked);var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):void 0,isCommon=void 0===newValue;isCommon&&(newValue=srcValue,isArray(srcValue)||isTypedArray(srcValue)?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):(isCommon=!1,newValue=baseClone(srcValue,!0)):isPlainObject(srcValue)||isArguments(srcValue)?isArguments(objValue)?newValue=toPlainObject(objValue):!isObject(objValue)||srcIndex&&isFunction(objValue)?(isCommon=!1,newValue=baseClone(srcValue,!0)):newValue=objValue:isCommon=!1),isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack["delete"](srcValue)),assignMergeValue(object,key,newValue)}function baseRest(func,start){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=array,apply(func,this,otherArgs)}}function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var result=new buffer.constructor(buffer.length);return buffer.copy(result),
result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}function cloneMap(map,isDeep,cloneFunc){var array=isDeep?cloneFunc(mapToArray(map),!0):mapToArray(map);return arrayReduce(array,addMapEntry,new map.constructor)}function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}function cloneSet(set,isDeep,cloneFunc){var array=isDeep?cloneFunc(setToArray(set),!0):setToArray(set);return arrayReduce(array,addSetEntry,new set.constructor)}function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function copyObject(source,props,object,customizer){object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):void 0;assignValue(object,key,void 0===newValue?source[key]:newValue)}return object}function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}function createAssigner(assigner){return baseRest(function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:void 0,guard=length>2?sources[2]:void 0;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):void 0,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?void 0:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object})}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function initCloneArray(array){var length=array.length,result=array.constructor(length);return length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input),result}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}function initCloneByTag(object,tag,cloneFunc,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor((+object));case dataViewTag:return cloneDataView(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return cloneMap(object,isDeep,cloneFunc);case numberTag:case stringTag:return new Ctor(object);case regexpTag:return cloneRegExp(object);case setTag:return cloneSet(object,isDeep,cloneFunc);case symbolTag:return cloneSymbol(object)}}function isIndex(value,length){return length=null==length?MAX_SAFE_INTEGER:length,!!length&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!==value&&other!==other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isPlainObject(value){if(!isObjectLike(value)||objectToString.call(value)!=objectTag||isHostObject(value))return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}function toPlainObject(value){return copyObject(value,keysIn(value))}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}function stubArray(){return[]}function stubFalse(){return!1}var LARGE_ARRAY_SIZE=200,HASH_UNDEFINED="__lodash_hash_undefined__",MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",promiseTag="[object Promise]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reFlags=/\w*$/,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{return freeProcess&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object),objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?root.Buffer:void 0,Symbol=root.Symbol,Uint8Array=root.Uint8Array,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:void 0,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;Hash.prototype.clear=hashClear,Hash.prototype["delete"]=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype["delete"]=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype["delete"]=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,Stack.prototype.clear=stackClear,Stack.prototype["delete"]=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var getSymbols=nativeGetSymbols?overArg(nativeGetSymbols,Object):stubArray,getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isArray=Array.isArray,isBuffer=nativeIsBuffer||stubFalse,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,merge=createAssigner(function(object,source,srcIndex){baseMerge(object,source,srcIndex)});module.exports=merge}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],11:[function(require,module,exports){(function(global){function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arraySome(array,predicate){for(var index=-1,length=array?array.length:0;++index<length;)if(predicate(array[index],index,array))return!0;return!1}function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseUnary(func){return function(value){return func(value)}}function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(key){return this.has(key)&&delete this.__data__[key]}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;return data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),!0}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){return getMapData(this,key)["delete"](key)}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this}function SetCache(values){var index=-1,length=values?values.length:0;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function setCacheAdd(value){return this.__data__.set(value,HASH_UNDEFINED),this}function setCacheHas(value){return this.__data__.has(value)}function Stack(entries){this.__data__=new ListCache(entries)}function stackClear(){this.__data__=new ListCache}function stackDelete(key){return this.__data__["delete"](key)}function stackGet(key){return this.__data__.get(key)}function stackHas(key){return this.__data__.has(key)}function stackSet(key,value){var cache=this.__data__;if(cache instanceof ListCache){var pairs=cache.__data__;if(!Map||pairs.length<LARGE_ARRAY_SIZE-1)return pairs.push([key,value]),this;cache=this.__data__=new MapCache(pairs)}return cache.set(key,value),this}function arrayLikeKeys(value,inherited){var result=isArray(value)||isArguments(value)?baseTimes(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isIndex(key,length))||result.push(key);return result}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseGet(object,path){path=isKey(path,object)?[path]:castPath(path);for(var index=0,length=path.length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:void 0}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){return objectToString.call(value)}function baseHasIn(object,key){return null!=object&&key in Object(object)}function baseIsEqual(value,other,customizer,bitmask,stack){return value===other||(null==value||null==other||!isObject(value)&&!isObjectLike(other)?value!==value&&other!==other:baseIsEqualDeep(value,other,baseIsEqual,customizer,bitmask,stack))}function baseIsEqualDeep(object,other,equalFunc,customizer,bitmask,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=arrayTag,othTag=arrayTag;objIsArr||(objTag=getTag(object),objTag=objTag==argsTag?objectTag:objTag),othIsArr||(othTag=getTag(other),othTag=othTag==argsTag?objectTag:othTag);var objIsObj=objTag==objectTag&&!isHostObject(object),othIsObj=othTag==objectTag&&!isHostObject(other),isSameTag=objTag==othTag;if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,equalFunc,customizer,bitmask,stack):equalByTag(object,other,objTag,equalFunc,customizer,bitmask,stack);if(!(bitmask&PARTIAL_COMPARE_FLAG)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,customizer,bitmask,stack)}}return!!isSameTag&&(stack||(stack=new Stack),equalObjects(object,other,equalFunc,customizer,bitmask,stack))}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){data=matchData[index];var key=data[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(void 0===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(void 0===result?baseIsEqual(srcValue,objValue,customizer,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG,stack):result))return!1}}return!0}function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[objectToString.call(value)]}function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return nativeKeysIn(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return void 0===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,void 0,UNORDERED_COMPARE_FLAG|PARTIAL_COMPARE_FLAG)}}function basePickBy(object,props,predicate){for(var index=-1,length=props.length,result={};++index<length;){var key=props[index],value=object[key];predicate(value,key)&&(result[key]=value)}return result}function basePropertyDeep(path){return function(object){return baseGet(object,path)}}function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function castPath(value){return isArray(value)?value:stringToPath(value)}function equalArrays(array,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&UNORDERED_COMPARE_FLAG?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(void 0!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,function(othValue,othIndex){if(!seen.has(othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,customizer,bitmask,stack)))return seen.add(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,customizer,bitmask,stack)){result=!1;break}}return stack["delete"](array),stack["delete"](other),result}function equalByTag(object,other,tag,equalFunc,customizer,bitmask,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=bitmask&PARTIAL_COMPARE_FLAG;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=UNORDERED_COMPARE_FLAG,stack.set(object,other);var result=equalArrays(convert(object),convert(other),equalFunc,customizer,bitmask,stack);return stack["delete"](object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}function equalObjects(object,other,equalFunc,customizer,bitmask,stack){var isPartial=bitmask&PARTIAL_COMPARE_FLAG,objProps=keys(object),objLength=objProps.length,othProps=keys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;for(var index=objLength;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var stacked=stack.get(object);if(stacked&&stack.get(other))return stacked==other;var result=!0;stack.set(object,other),stack.set(other,object);for(var skipCtor=isPartial;++index<objLength;){key=objProps[index];var objValue=object[key],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(void 0===compared?objValue===othValue||equalFunc(objValue,othValue,customizer,bitmask,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1)}return stack["delete"](object),stack["delete"](other),result}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function hasPath(object,path,hasFunc){path=isKey(path,object)?[path]:castPath(path);for(var result,index=-1,length=path.length;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}if(result)return result;var length=object?object.length:0;return!!length&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function isIndex(value,length){return length=null==length?MAX_SAFE_INTEGER:length,!!length&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}function isStrictComparable(value){return value===value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(void 0!==srcValue||key in Object(object)))}}function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}function eq(value,other){return value===other||value!==value&&other!==other}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toString(value){return null==value?"":baseToString(value)}function get(object,path,defaultValue){var result=null==object?void 0:baseGet(object,path);return void 0===result?defaultValue:result}function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}function omitBy(object,predicate){return pickBy(object,negate(baseIteratee(predicate)))}function pickBy(object,predicate){return null==object?{}:basePickBy(object,getAllKeysIn(object),baseIteratee(predicate))}function identity(value){return value}function property(path){return isKey(path)?baseProperty(toKey(path)):basePropertyDeep(path)}function stubArray(){return[]}var LARGE_ARRAY_SIZE=200,FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",UNORDERED_COMPARE_FLAG=1,PARTIAL_COMPARE_FLAG=2,INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",promiseTag="[object Promise]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports="object"==typeof exports&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&"object"==typeof module&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{
return freeProcess&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,Uint8Array=root.Uint8Array,getPrototype=overArg(Object.getPrototypeOf,Object),propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,nativeGetSymbols=Object.getOwnPropertySymbols,nativeKeys=overArg(Object.keys,Object),DataView=getNative(root,"DataView"),Map=getNative(root,"Map"),Promise=getNative(root,"Promise"),Set=getNative(root,"Set"),WeakMap=getNative(root,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;Hash.prototype.clear=hashClear,Hash.prototype["delete"]=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype["delete"]=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype["delete"]=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet,SetCache.prototype.add=SetCache.prototype.push=setCacheAdd,SetCache.prototype.has=setCacheHas,Stack.prototype.clear=stackClear,Stack.prototype["delete"]=stackDelete,Stack.prototype.get=stackGet,Stack.prototype.has=stackHas,Stack.prototype.set=stackSet;var getSymbols=nativeGetSymbols?overArg(nativeGetSymbols,Object):stubArray,getSymbolsIn=nativeGetSymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray,getTag=baseGetTag;(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&getTag(Promise.resolve())!=promiseTag||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=objectToString.call(value),Ctor=result==objectTag?value.constructor:void 0,ctorString=Ctor?toSource(Ctor):void 0;if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var stringToPath=memoize(function(string){string=toString(string);var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result});memoize.Cache=MapCache;var isArray=Array.isArray,isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray;module.exports=omitBy}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],12:[function(require,module,exports){(function(global){function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayMap(array,iteratee){for(var index=-1,length=array?array.length:0,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}function basePick(object,props){return object=Object(object),basePickBy(object,props,function(value,key){return key in object})}function basePickBy(object,props,predicate){for(var index=-1,length=props.length,result={};++index<length;){var key=props[index],value=object[key];predicate(value,key)&&(result[key]=value)}return result}function baseRest(func,start){return start=nativeMax(void 0===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=array,apply(func,this,otherArgs)}}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}var INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,Symbol=root.Symbol,propertyIsEnumerable=objectProto.propertyIsEnumerable,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:void 0,nativeMax=Math.max,isArray=Array.isArray,pick=baseRest(function(object,props){return null==object?{}:basePick(object,arrayMap(baseFlatten(props,1),toKey))});module.exports=pick}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],13:[function(require,module,exports){(function(global){function getValue(object,key){return null==object?void 0:object[key]}function isHostObject(value){var result=!1;if(null!=value&&"function"!=typeof value.toString)try{result=!!(value+"")}catch(e){}return result}function Hash(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{}}function hashDelete(key){return this.has(key)&&delete this.__data__[key]}function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return result===HASH_UNDEFINED?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0}function hashHas(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)}function hashSet(key,value){var data=this.__data__;return data[key]=nativeCreate&&void 0===value?HASH_UNDEFINED:value,this}function ListCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function listCacheClear(){this.__data__=[]}function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);if(index<0)return!1;var lastIndex=data.length-1;return index==lastIndex?data.pop():splice.call(data,index,1),!0}function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?void 0:data[index][1]}function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1}function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?data.push([key,value]):data[index][1]=value,this}function MapCache(entries){var index=-1,length=entries?entries.length:0;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function mapCacheClear(){this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}}function mapCacheDelete(key){return getMapData(this,key)["delete"](key)}function mapCacheGet(key){return getMapData(this,key).get(key)}function mapCacheHas(key){return getMapData(this,key).has(key)}function mapCacheSet(key,value){return getMapData(this,key).set(key,value),this}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(void 0!==value||key in object)||(object[key]=value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseIsNative(value){if(!isObject(value)||isMasked(value))return!1;var pattern=isFunction(value)||isHostObject(value)?reIsNative:reIsHostCtor;return pattern.test(toSource(value))}function baseSet(object,path,value,customizer){if(!isObject(object))return object;path=isKey(path,object)?[path]:castPath(path);for(var index=-1,length=path.length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if(index!=lastIndex){var objValue=nested[key];newValue=customizer?customizer(objValue,key,nested):void 0,void 0===newValue&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}function baseToString(value){if("string"==typeof value)return value;if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function castPath(value){return isArray(value)?value:stringToPath(value)}function getMapData(map,key){var data=map.__data__;return isKeyable(key)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,key){var value=getValue(object,key);return baseIsNative(value)?value:void 0}function isIndex(value,length){return length=null==length?MAX_SAFE_INTEGER:length,!!length&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-INFINITY?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function memoize(func,resolver){if("function"!=typeof func||resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result),result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function eq(value,other){return value===other||value!==value&&other!==other}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&objectToString.call(value)==symbolTag}function toString(value){return null==value?"":baseToString(value)}function set(object,path,value){return null==object?object:baseSet(object,path,value)}var FUNC_ERROR_TEXT="Expected a function",HASH_UNDEFINED="__lodash_hash_undefined__",INFINITY=1/0,MAX_SAFE_INTEGER=9007199254740991,funcTag="[object Function]",genTag="[object GeneratorFunction]",symbolTag="[object Symbol]",reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,reLeadingDot=/^\./,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reEscapeChar=/\\(\\)?/g,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,freeGlobal="object"==typeof global&&global&&global.Object===Object&&global,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=root["__core-js_shared__"],maskSrcKey=function(){var uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return uid?"Symbol(src)_1."+uid:""}(),funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Symbol=root.Symbol,splice=arrayProto.splice,Map=getNative(root,"Map"),nativeCreate=getNative(Object,"create"),symbolProto=Symbol?Symbol.prototype:void 0,symbolToString=symbolProto?symbolProto.toString:void 0;Hash.prototype.clear=hashClear,Hash.prototype["delete"]=hashDelete,Hash.prototype.get=hashGet,Hash.prototype.has=hashHas,Hash.prototype.set=hashSet,ListCache.prototype.clear=listCacheClear,ListCache.prototype["delete"]=listCacheDelete,ListCache.prototype.get=listCacheGet,ListCache.prototype.has=listCacheHas,ListCache.prototype.set=listCacheSet,MapCache.prototype.clear=mapCacheClear,MapCache.prototype["delete"]=mapCacheDelete,MapCache.prototype.get=mapCacheGet,MapCache.prototype.has=mapCacheHas,MapCache.prototype.set=mapCacheSet;var stringToPath=memoize(function(string){string=toString(string);var result=[];return reLeadingDot.test(string)&&result.push(""),string.replace(rePropName,function(match,number,quote,string){result.push(quote?string.replace(reEscapeChar,"$1"):number||match)}),result});memoize.Cache=MapCache;var isArray=Array.isArray;module.exports=set}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],14:[function(require,module,exports){function arrayMap(array,iteratee){for(var index=-1,length=array?array.length:0,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseValues(object,props){return arrayMap(props,function(key){return object[key]})}function overArg(func,transform){return function(arg){return func(transform(arg))}}function arrayLikeKeys(value,inherited){var result=isArray(value)||isArguments(value)?baseTimes(value.length,String):[],length=result.length,skipIndexes=!!length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isIndex(key,length))||result.push(key);return result}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function isIndex(value,length){return length=null==length?MAX_SAFE_INTEGER:length,!!length&&("number"==typeof value||reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isPrototype(value){var Ctor=value&&value.constructor,proto="function"==typeof Ctor&&Ctor.prototype||objectProto;return value===proto}function isArguments(value){return isArrayLikeObject(value)&&hasOwnProperty.call(value,"callee")&&(!propertyIsEnumerable.call(value,"callee")||objectToString.call(value)==argsTag)}function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}function isFunction(value){var tag=isObject(value)?objectToString.call(value):"";return tag==funcTag||tag==genTag}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return!!value&&("object"==type||"function"==type)}function isObjectLike(value){return!!value&&"object"==typeof value}function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function values(object){return object?baseValues(object,keys(object)):[]}var MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",funcTag="[object Function]",genTag="[object GeneratorFunction]",reIsUint=/^(?:0|[1-9]\d*)$/,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,objectToString=objectProto.toString,propertyIsEnumerable=objectProto.propertyIsEnumerable,nativeKeys=overArg(Object.keys,Object),isArray=Array.isArray;module.exports=values},{}],15:[function(require,module,exports){function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}function runClearTimeout(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{return cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,runClearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var cachedSetTimeout,cachedClearTimeout,process=module.exports={};!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],16:[function(require,module,exports){var Promise=require("bluebird"),superagent=module.exports=require("superagent"),Request=superagent.Request;try{Promise.config({cancellation:!0})}catch(e){}var SuperagentPromiseError=function(message,originalError){var stack;this.message=message,this.name="SuperagentPromiseError",this.originalError=originalError,Error.captureStackTrace?(Error.captureStackTrace(this,this.constructor),stack=this.stack):stack=new Error(message).stack,Object.defineProperty&&Object.defineProperty(this,"stack",{get:function(){return this.originalError?stack+"\nCaused by:  "+this.originalError.stack:stack}})};SuperagentPromiseError.prototype=new Error,SuperagentPromiseError.prototype.constructor=SuperagentPromiseError,superagent.SuperagentPromiseError=SuperagentPromiseError,Request.prototype.promise=function(){var error,req=this;return new Promise(function(resolve,reject,onCancel){req.end(function(err,res){if("undefined"!=typeof res&&null!==res&&res.status>=400){var msg="cannot "+req.method+" "+req.url+" ("+res.status+")";error=new SuperagentPromiseError(msg),error.status=res.status,error.body=res.body,error.res=res,reject(error)}else err?reject(new SuperagentPromiseError("Bad request",err)):resolve(res)}),"function"==typeof onCancel&&onCancel(function(){req.abort()})})},Request.prototype.then=function(){var promise=this.promise();return promise.then.apply(promise,arguments)},Request.prototype["catch"]=function(){var promise=this.promise();return promise["catch"].apply(promise,arguments)}},{bluebird:2,superagent:17}],17:[function(require,module,exports){function noop(){}function serialize(obj){if(!isObject(obj))return obj;var pairs=[];for(var key in obj)pushEncodedKeyValuePair(pairs,key,obj[key]);return pairs.join("&")}function pushEncodedKeyValuePair(pairs,key,val){if(null!=val)if(Array.isArray(val))val.forEach(function(v){pushEncodedKeyValuePair(pairs,key,v)});else if(isObject(val))for(var subkey in val)pushEncodedKeyValuePair(pairs,key+"["+subkey+"]",val[subkey]);else pairs.push(encodeURIComponent(key)+"="+encodeURIComponent(val));else null===val&&pairs.push(encodeURIComponent(key))}function parseString(str){for(var pair,pos,obj={},pairs=str.split("&"),i=0,len=pairs.length;i<len;++i)pair=pairs[i],pos=pair.indexOf("="),pos==-1?obj[decodeURIComponent(pair)]="":obj[decodeURIComponent(pair.slice(0,pos))]=decodeURIComponent(pair.slice(pos+1));return obj}function parseHeader(str){var index,line,field,val,lines=str.split(/\r?\n/),fields={};lines.pop();for(var i=0,len=lines.length;i<len;++i)line=lines[i],index=line.indexOf(":"),field=line.slice(0,index).toLowerCase(),val=trim(line.slice(index+1)),fields[field]=val;return fields}function isJSON(mime){return/[\/+]json\b/.test(mime)}function Response(req){this.req=req,this.xhr=this.req.xhr,this.text="HEAD"!=this.req.method&&(""===this.xhr.responseType||"text"===this.xhr.responseType)||"undefined"==typeof this.xhr.responseType?this.xhr.responseText:null,this.statusText=this.req.xhr.statusText;var status=this.xhr.status;1223===status&&(status=204),this._setStatusProperties(status),this.header=this.headers=parseHeader(this.xhr.getAllResponseHeaders()),this.header["content-type"]=this.xhr.getResponseHeader("content-type"),this._setHeaderProperties(this.header),null===this.text&&req._responseType?this.body=this.xhr.response:this.body="HEAD"!=this.req.method?this._parseBody(this.text?this.text:this.xhr.response):null}function Request(method,url){var self=this;this._query=this._query||[],this.method=method,this.url=url,this.header={},this._header={},this.on("end",function(){var err=null,res=null;try{res=new Response(self)}catch(e){return err=new Error("Parser is unable to parse the response"),err.parse=!0,err.original=e,self.xhr?(err.rawResponse="undefined"==typeof self.xhr.responseType?self.xhr.responseText:self.xhr.response,err.status=self.xhr.status?self.xhr.status:null,err.statusCode=err.status):(err.rawResponse=null,err.status=null),self.callback(err)}self.emit("response",res);var new_err;try{self._isResponseOK(res)||(new_err=new Error(res.statusText||"Unsuccessful HTTP response"),new_err.original=err,new_err.response=res,new_err.status=res.status)}catch(e){new_err=e}new_err?self.callback(new_err,res):self.callback(null,res)})}function del(url,data,fn){var req=request("DELETE",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req}var root;root="undefined"!=typeof window?window:"undefined"!=typeof self?self:this;var Emitter=require("component-emitter"),RequestBase=require("./request-base"),isObject=require("./is-object"),ResponseBase=require("./response-base"),shouldRetry=require("./should-retry"),request=exports=module.exports=function(method,url){return"function"==typeof url?new exports.Request("GET",method).end(url):1==arguments.length?new exports.Request("GET",method):new exports.Request(method,url)};exports.Request=Request,request.getXHR=function(){if(!(!root.XMLHttpRequest||root.location&&"file:"==root.location.protocol&&root.ActiveXObject))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.6.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP.3.0")}catch(e){}try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){}throw Error("Browser-only version of superagent could not find XHR")};var trim="".trim?function(s){return s.trim()}:function(s){return s.replace(/(^\s*|\s*$)/g,"")};request.serializeObject=serialize,request.parseString=parseString,request.types={html:"text/html",json:"application/json",xml:"text/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"},request.serialize={"application/x-www-form-urlencoded":serialize,"application/json":JSON.stringify},request.parse={"application/x-www-form-urlencoded":parseString,"application/json":JSON.parse},ResponseBase(Response.prototype),Response.prototype._parseBody=function(str){var parse=request.parse[this.type];return this.req._parser?this.req._parser(this,str):(!parse&&isJSON(this.type)&&(parse=request.parse["application/json"]),parse&&str&&(str.length||str instanceof Object)?parse(str):null)},Response.prototype.toError=function(){var req=this.req,method=req.method,url=req.url,msg="cannot "+method+" "+url+" ("+this.status+")",err=new Error(msg);return err.status=this.status,err.method=method,err.url=url,err},request.Response=Response,Emitter(Request.prototype),RequestBase(Request.prototype),Request.prototype.type=function(type){return this.set("Content-Type",request.types[type]||type),this},Request.prototype.accept=function(type){return this.set("Accept",request.types[type]||type),this},Request.prototype.auth=function(user,pass,options){switch("object"==typeof pass&&null!==pass&&(options=pass),options||(options={type:"function"==typeof btoa?"basic":"auto"}),options.type){case"basic":this.set("Authorization","Basic "+btoa(user+":"+pass));break;case"auto":this.username=user,this.password=pass;break;case"bearer":this.set("Authorization","Bearer "+user)}return this},Request.prototype.query=function(val){return"string"!=typeof val&&(val=serialize(val)),val&&this._query.push(val),this},Request.prototype.attach=function(field,file,options){if(file){if(this._data)throw Error("superagent can't mix .send() and .attach()");this._getFormData().append(field,file,options||file.name)}return this},Request.prototype._getFormData=function(){return this._formData||(this._formData=new root.FormData),this._formData},Request.prototype.callback=function(err,res){if(this._maxRetries&&this._retries++<this._maxRetries&&shouldRetry(err,res))return this._retry();var fn=this._callback;this.clearTimeout(),err&&(this._maxRetries&&(err.retries=this._retries-1),this.emit("error",err)),fn(err,res)},Request.prototype.crossDomainError=function(){var err=new Error("Request has been terminated\nPossible causes: the network is offline, Origin is not allowed by Access-Control-Allow-Origin, the page is being unloaded, etc.");err.crossDomain=!0,err.status=this.status,err.method=this.method,err.url=this.url,this.callback(err)},Request.prototype.buffer=Request.prototype.ca=Request.prototype.agent=function(){return this},Request.prototype.pipe=Request.prototype.write=function(){throw Error("Streaming is not supported in browser version of superagent")},Request.prototype._isHost=function(obj){return obj&&"object"==typeof obj&&!Array.isArray(obj)&&"[object Object]"!==Object.prototype.toString.call(obj)},Request.prototype.end=function(fn){return this._endCalled,this._endCalled=!0,this._callback=fn||noop,this._finalizeQueryString(),this._end()},Request.prototype._end=function(){var self=this,xhr=this.xhr=request.getXHR(),data=this._formData||this._data;this._setTimeouts(),xhr.onreadystatechange=function(){var readyState=xhr.readyState;if(readyState>=2&&self._responseTimeoutTimer&&clearTimeout(self._responseTimeoutTimer),4==readyState){var status;try{status=xhr.status}catch(e){status=0}if(!status){if(self.timedout||self._aborted)return;return self.crossDomainError()}self.emit("end")}};var handleProgress=function(direction,e){e.total>0&&(e.percent=e.loaded/e.total*100),e.direction=direction,self.emit("progress",e)};if(this.hasListeners("progress"))try{xhr.onprogress=handleProgress.bind(null,"download"),xhr.upload&&(xhr.upload.onprogress=handleProgress.bind(null,"upload"))}catch(e){}try{this.username&&this.password?xhr.open(this.method,this.url,!0,this.username,this.password):xhr.open(this.method,this.url,!0)}catch(err){return this.callback(err)}if(this._withCredentials&&(xhr.withCredentials=!0),!this._formData&&"GET"!=this.method&&"HEAD"!=this.method&&"string"!=typeof data&&!this._isHost(data)){var contentType=this._header["content-type"],serialize=this._serializer||request.serialize[contentType?contentType.split(";")[0]:""];!serialize&&isJSON(contentType)&&(serialize=request.serialize["application/json"]),serialize&&(data=serialize(data))}for(var field in this.header)null!=this.header[field]&&this.header.hasOwnProperty(field)&&xhr.setRequestHeader(field,this.header[field]);return this._responseType&&(xhr.responseType=this._responseType),this.emit("request",this),xhr.send("undefined"!=typeof data?data:null),this},request.get=function(url,data,fn){var req=request("GET",url);return"function"==typeof data&&(fn=data,data=null),data&&req.query(data),fn&&req.end(fn),req},request.head=function(url,data,fn){var req=request("HEAD",url);return"function"==typeof data&&(fn=data,data=null),data&&req.query(data),fn&&req.end(fn),req},request.options=function(url,data,fn){var req=request("OPTIONS",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.del=del,request["delete"]=del,request.patch=function(url,data,fn){var req=request("PATCH",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.post=function(url,data,fn){var req=request("POST",url);
return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req},request.put=function(url,data,fn){var req=request("PUT",url);return"function"==typeof data&&(fn=data,data=null),data&&req.send(data),fn&&req.end(fn),req}},{"./is-object":18,"./request-base":19,"./response-base":20,"./should-retry":21,"component-emitter":3}],18:[function(require,module,exports){function isObject(obj){return null!==obj&&"object"==typeof obj}module.exports=isObject},{}],19:[function(require,module,exports){function RequestBase(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in RequestBase.prototype)obj[key]=RequestBase.prototype[key];return obj}var isObject=require("./is-object");module.exports=RequestBase,RequestBase.prototype.clearTimeout=function(){return clearTimeout(this._timer),clearTimeout(this._responseTimeoutTimer),delete this._timer,delete this._responseTimeoutTimer,this},RequestBase.prototype.parse=function(fn){return this._parser=fn,this},RequestBase.prototype.responseType=function(val){return this._responseType=val,this},RequestBase.prototype.serialize=function(fn){return this._serializer=fn,this},RequestBase.prototype.timeout=function(options){if(!options||"object"!=typeof options)return this._timeout=options,this._responseTimeout=0,this;for(var option in options)switch(option){case"deadline":this._timeout=options.deadline;break;case"response":this._responseTimeout=options.response}return this},RequestBase.prototype.retry=function(count){return 0!==arguments.length&&count!==!0||(count=1),count<=0&&(count=0),this._maxRetries=count,this._retries=0,this},RequestBase.prototype._retry=function(){return this.clearTimeout(),this.req&&(this.req=null,this.req=this.request()),this._aborted=!1,this.timedout=!1,this._end()},RequestBase.prototype.then=function(resolve,reject){if(!this._fullfilledPromise){var self=this;this._endCalled,this._fullfilledPromise=new Promise(function(innerResolve,innerReject){self.end(function(err,res){err?innerReject(err):innerResolve(res)})})}return this._fullfilledPromise.then(resolve,reject)},RequestBase.prototype["catch"]=function(cb){return this.then(void 0,cb)},RequestBase.prototype.use=function(fn){return fn(this),this},RequestBase.prototype.ok=function(cb){if("function"!=typeof cb)throw Error("Callback required");return this._okCallback=cb,this},RequestBase.prototype._isResponseOK=function(res){return!!res&&(this._okCallback?this._okCallback(res):res.status>=200&&res.status<300)},RequestBase.prototype.get=function(field){return this._header[field.toLowerCase()]},RequestBase.prototype.getHeader=RequestBase.prototype.get,RequestBase.prototype.set=function(field,val){if(isObject(field)){for(var key in field)this.set(key,field[key]);return this}return this._header[field.toLowerCase()]=val,this.header[field]=val,this},RequestBase.prototype.unset=function(field){return delete this._header[field.toLowerCase()],delete this.header[field],this},RequestBase.prototype.field=function(name,val){if(null===name||void 0===name)throw new Error(".field(name, val) name can not be empty");if(this._data,isObject(name)){for(var key in name)this.field(key,name[key]);return this}if(Array.isArray(val)){for(var i in val)this.field(name,val[i]);return this}if(null===val||void 0===val)throw new Error(".field(name, val) val can not be empty");return"boolean"==typeof val&&(val=""+val),this._getFormData().append(name,val),this},RequestBase.prototype.abort=function(){return this._aborted?this:(this._aborted=!0,this.xhr&&this.xhr.abort(),this.req&&this.req.abort(),this.clearTimeout(),this.emit("abort"),this)},RequestBase.prototype.withCredentials=function(on){return void 0==on&&(on=!0),this._withCredentials=on,this},RequestBase.prototype.redirects=function(n){return this._maxRedirects=n,this},RequestBase.prototype.toJSON=function(){return{method:this.method,url:this.url,data:this._data,headers:this._header}},RequestBase.prototype.send=function(data){var isObj=isObject(data),type=this._header["content-type"];if(this._formData,isObj&&!this._data)Array.isArray(data)?this._data=[]:this._isHost(data)||(this._data={});else if(data&&this._data&&this._isHost(this._data))throw Error("Can't merge these send calls");if(isObj&&isObject(this._data))for(var key in data)this._data[key]=data[key];else"string"==typeof data?(type||this.type("form"),type=this._header["content-type"],"application/x-www-form-urlencoded"==type?this._data=this._data?this._data+"&"+data:data:this._data=(this._data||"")+data):this._data=data;return!isObj||this._isHost(data)?this:(type||this.type("json"),this)},RequestBase.prototype.sortQuery=function(sort){return this._sort="undefined"==typeof sort||sort,this},RequestBase.prototype._finalizeQueryString=function(){var query=this._query.join("&");if(query&&(this.url+=(this.url.indexOf("?")>=0?"&":"?")+query),this._query.length=0,this._sort){var index=this.url.indexOf("?");if(index>=0){var queryArr=this.url.substring(index+1).split("&");"function"==typeof this._sort?queryArr.sort(this._sort):queryArr.sort(),this.url=this.url.substring(0,index)+"?"+queryArr.join("&")}}},RequestBase.prototype._appendQueryString=function(){},RequestBase.prototype._timeoutError=function(reason,timeout,errno){if(!this._aborted){var err=new Error(reason+timeout+"ms exceeded");err.timeout=timeout,err.code="ECONNABORTED",err.errno=errno,this.timedout=!0,this.abort(),this.callback(err)}},RequestBase.prototype._setTimeouts=function(){var self=this;this._timeout&&!this._timer&&(this._timer=setTimeout(function(){self._timeoutError("Timeout of ",self._timeout,"ETIME")},this._timeout)),this._responseTimeout&&!this._responseTimeoutTimer&&(this._responseTimeoutTimer=setTimeout(function(){self._timeoutError("Response timeout of ",self._responseTimeout,"ETIMEDOUT")},this._responseTimeout))}},{"./is-object":18}],20:[function(require,module,exports){function ResponseBase(obj){if(obj)return mixin(obj)}function mixin(obj){for(var key in ResponseBase.prototype)obj[key]=ResponseBase.prototype[key];return obj}var utils=require("./utils");module.exports=ResponseBase,ResponseBase.prototype.get=function(field){return this.header[field.toLowerCase()]},ResponseBase.prototype._setHeaderProperties=function(header){var ct=header["content-type"]||"";this.type=utils.type(ct);var params=utils.params(ct);for(var key in params)this[key]=params[key];this.links={};try{header.link&&(this.links=utils.parseLinks(header.link))}catch(err){}},ResponseBase.prototype._setStatusProperties=function(status){var type=status/100|0;this.status=this.statusCode=status,this.statusType=type,this.info=1==type,this.ok=2==type,this.redirect=3==type,this.clientError=4==type,this.serverError=5==type,this.error=(4==type||5==type)&&this.toError(),this.accepted=202==status,this.noContent=204==status,this.badRequest=400==status,this.unauthorized=401==status,this.notAcceptable=406==status,this.forbidden=403==status,this.notFound=404==status}},{"./utils":22}],21:[function(require,module,exports){var ERROR_CODES=["ECONNRESET","ETIMEDOUT","EADDRINFO","ESOCKETTIMEDOUT"];module.exports=function(err,res){return!!(err&&err.code&&~ERROR_CODES.indexOf(err.code))||(!!(res&&res.status&&res.status>=500)||(!!(err&&"timeout"in err&&"ECONNABORTED"==err.code)||!!(err&&"crossDomain"in err)))}},{}],22:[function(require,module,exports){exports.type=function(str){return str.split(/ *; */).shift()},exports.params=function(str){return str.split(/ *; */).reduce(function(obj,str){var parts=str.split(/ *= */),key=parts.shift(),val=parts.shift();return key&&val&&(obj[key]=val),obj},{})},exports.parseLinks=function(str){return str.split(/ *, */).reduce(function(obj,str){var parts=str.split(/ *; */),url=parts[0].slice(1,-1),rel=parts[1].split(/ *= */)[1].slice(1,-1);return obj[rel]=url,obj},{})},exports.cleanHeader=function(header,shouldStripCookie){return delete header["content-type"],delete header["content-length"],delete header["transfer-encoding"],delete header.host,shouldStripCookie&&delete header.cookie,header}},{}],23:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function getFan(id,resolve,reject){var url=FAN_PRODUCT_PROD_HOST+"/apis/v2/fans/"+id;_superagentBluebirdPromise2["default"].get(url).withCredentials().set("X-Personalization-Source",_sourceHeader).end(function(err,res){if(err||!res.ok)reject(err);else{var fan=res&&res.body;_storage.setFan({item:fan,id:fan.id,timestamp:Date.now()}),resolve(fan)}})}function getFanForId(id){return SWID_RE.test(id)?new _bluebird2["default"](function(resolve,reject){_storage.getFan().then(function(cache){var fan=cache&&cache.item,cacheExpired=Date.now()-cache.timestamp>60*_cacheDuration*1e3;null===fan||fan.id!==id||cacheExpired?getFan(id,resolve,reject):resolve(fan)})["catch"](function(){getFan(id,resolve,reject)})}):_bluebird2["default"].reject(new Error("Invalid SWID"))}function updateSettingsForFanId(id,postData){if(!SWID_RE.test(id))return _bluebird2["default"].reject(new Error("Invalid SWID"));var url=FAN_CORE_PROD_HOST+"/apis/v2/fans/"+id+"/profile/";return _superagentBluebirdPromise2["default"].post(url).withCredentials().set("X-Personalization-Source",_sourceHeader).send(postData).promise()}function FanAPI(){var _ref=arguments.length>0&&void 0!==arguments[0]?arguments[0]:DEFAULT_CONFIGURATION,_ref$sourceHeader=_ref.sourceHeader,sourceHeader=void 0===_ref$sourceHeader?DEFAULT_CONFIGURATION.sourceHeader:_ref$sourceHeader,_ref$cacheDuration=_ref.cacheDuration,cacheDuration=void 0===_ref$cacheDuration?DEFAULT_CONFIGURATION.cacheDuration:_ref$cacheDuration;return this instanceof FanAPI?(_sourceHeader=sourceHeader,_cacheDuration=cacheDuration,_storage=new _Storage2["default"](_cacheDuration),this):new FanAPI({sourceHeader:sourceHeader,cacheDuration:cacheDuration})}var _superagentBluebirdPromise=require("superagent-bluebird-promise"),_superagentBluebirdPromise2=_interopRequireDefault(_superagentBluebirdPromise),_bluebird=require("bluebird"),_bluebird2=_interopRequireDefault(_bluebird),_Storage=require("./Storage"),_Storage2=_interopRequireDefault(_Storage),FAN_PRODUCT_PROD_HOST="//fan.api.espn.com",FAN_CORE_PROD_HOST="//fan.core.api.espn.com",DEFAULT_SOURCE_HEADER="espn-video-player",FAN_API_CACHE_MINUTES=10,SWID_RE=/^\{[\w\-]+\}/,DEFAULT_CONFIGURATION={sourceHeader:DEFAULT_SOURCE_HEADER,cacheDuration:FAN_API_CACHE_MINUTES},_sourceHeader=void 0,_cacheDuration=void 0,_storage=void 0;FanAPI.prototype.getFanForId=function(id,callback){return getFanForId(id).tap(function(fan){"function"==typeof callback&&callback(fan)})},FanAPI.prototype.getAutoStartForFanId=function(id,callback){return getFanForId(id).then(function(fan){var profile=fan&&fan.profile,settings=profile&&profile.settings,videoAutoStartValue=settings&&settings.videoAutoStart&&settings.videoAutoStart.value;return"2"!==videoAutoStartValue})["catch"](function(){return!0}).tap(function(videoAutoStart){"function"==typeof callback&&callback(videoAutoStart)})},FanAPI.prototype.updateAutoStartForFanId=function(id,autoStart,callback){var videoAutoStartValue=(autoStart?"1":"2").toString(),postData={settings:{videoAutoStart:{value:videoAutoStartValue,lastUpdateSource:_sourceHeader,lastUpdateDate:Date.now()}}};return updateSettingsForFanId(id,postData).tap(function(err,res){"function"==typeof callback&&callback(err,res)})["catch"](function(){return!0})["finally"](function(){FanAPI.prototype.updateAutoStartCache(postData.settings)})},FanAPI.prototype.updateAutoStartCache=function(settings){var videoAutoStart=settings.videoAutoStart;_storage.getFan().then(function(cache){var fan=cache&&cache.item,key=void 0;for(key in videoAutoStart)videoAutoStart.hasOwnProperty(key)&&(fan.profile.settings.videoAutoStart[key]=videoAutoStart[key]);_storage.setFan({item:fan,id:fan.id,timestamp:Date.now()})})["catch"](function(){})},FanAPI.prototype.getUidsForFanId=function(id,callback){function hasUid(preference){return preference.metaData.team||preference.metaData.sport}function collectUids(preference){return preference.metaData.team?preference.metaData.team.uid:preference.metaData.sport?preference.metaData.sport.uid:null}return getFanForId(id).then(function(fan){var preferences=fan&&fan.preferences;return preferences.filter(hasUid).map(collectUids)})["catch"](function(){return[]}).tap(function(uids){"function"==typeof callback&&callback(uids)})},module.exports=FanAPI},{"./Storage":24,bluebird:2,"superagent-bluebird-promise":16}],24:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}return function(Constructor,protoProps,staticProps){return protoProps&&defineProperties(Constructor.prototype,protoProps),staticProps&&defineProperties(Constructor,staticProps),Constructor}}(),_bluebird=require("bluebird"),_bluebird2=_interopRequireDefault(_bluebird),ESPN_FAN_STORAGE_KEY="fanapi_fan",StorageType={ESPN:"ESPN",LOCAL_STORAGE:"LOCAL_STORAGE"},ls={getItem:function(key){return _bluebird2["default"].resolve(JSON.parse(localStorage.getItem(key)))},setItem:function(key,value){localStorage.setItem(key,JSON.stringify(value))}},Storage=function(){function Storage(){var expiration=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;_classCallCheck(this,Storage),this.expiration=expiration,this.storageType=StorageType.LOCAL_STORAGE}return _createClass(Storage,[{key:"inferStorageType",value:function(){this.storageType!==StorageType.ESPN&&window&&window.espn&&window.espn.storageFactory&&(this.storageType=StorageType.ESPN,this.espnStorage=espn.storageFactory.getMostPermanent())}},{key:"getFan",value:function(){var _this=this;return this.inferStorageType(),this.storageType===StorageType.ESPN?new _bluebird2["default"](function(resolve,reject){var cache=_this.espnStorage.getItem(ESPN_FAN_STORAGE_KEY),fan=cache&&cache.item;fan?(ls.setItem(ESPN_FAN_STORAGE_KEY,{item:fan,id:fan.id,timestamp:Date.now()}),resolve(cache)):reject(new Error("No item for key"))}):ls.getItem(ESPN_FAN_STORAGE_KEY)}},{key:"setFan",value:function(fan){this.inferStorageType(),ls.setItem(ESPN_FAN_STORAGE_KEY,{item:fan.item,id:fan.id,timestamp:Date.now()}),this.storageType===StorageType.ESPN&&this.espnStorage.setItem(ESPN_FAN_STORAGE_KEY,{item:fan.item,id:fan&&fan.id,expiresAt:(new Date).getTime()+6e4*this.expiration})}}]),Storage}();exports["default"]=Storage},{bluebird:2}],25:[function(require,module,exports){"use strict";function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{"default":obj}}var _FanAPI=require("./FanAPI"),_FanAPI2=_interopRequireDefault(_FanAPI);module.exports=_FanAPI2["default"]},{"./FanAPI":23}],26:[function(require,module,exports){module.exports={name:"espn-video-player",publishConfig:{registry:"http://maven2.corp.espn3.com/content/repositories/espn-npm/"},repository:{type:"git",url:"git@code.espn.com:webdev/video.git"},scripts:{test:"grunt test","test-pages":"node test/pages/generate.js","network-tests":"grunt && node test/pages/webdriver-tests.js",postversion:"git push && git push --tags",copy2cdn:"cp distribution/* /Volumes/www_espn/prod/scripts/video-player-replacement"},version:"2.14.1",dependencies:{"espn-web-player-bundle":"1.8.3-5"},devDependencies:{async:"^2.0.1","body-parser":"^1.15.2",chai:"^3.5.0",cheerio:"^0.20.0",colors:"^1.1.2","cookie-cutter":"^0.2.0",express:"^4.14.0","express-xml-bodyparser":"^0.3.0",grunt:"0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-concat":"0.4.0","grunt-contrib-connect":"0.8.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-jshint":"latest","grunt-contrib-qunit":"0.5.2","grunt-contrib-requirejs":"0.4.4","grunt-contrib-uglify":"^2.0.0","grunt-contrib-watch":"^1.0.0","grunt-jsbeautifier":"^0.2.10","grunt-saucelabs":"^9.0.0","grunt-shell":"^1.3.1",inherits:"^2.0.1",jquery:"^3.1.1",jsdom:"^9.5.0",lodash:"^4.0.0","lodash.endswith":"^4.0.0","lodash.get":"^4.0.0","lodash.has":"^4.0.0","lodash.isnil":"^4.0.0","lodash.merge":"^4.0.0","lodash.omitby":"^4.0.0","lodash.pick":"^4.0.0","lodash.set":"^4.0.0","lodash.values":"^4.0.0",mocha:"latest","phantomjs-prebuilt":"^2.1.7",request:"^2.75.0","selenium-webdriver":"^3.0.0-beta-2",should:"latest","watch-fanapi":"^1.6.3",watchify:"^3.7.0"}}},{}],27:[function(require,module,exports){!function(){"use strict";module.exports={siteNames:{espn:"espncom",fantasy:"espnfantasy",espnuk:"espncomuk",espndeportes:"espncomdeportes",espnau:"espncomaus",espnw:"espnw",xgames:"espnxgames",espnin:"espncomin",espnfc:"espnfc",fivethirtyeight:"espnfte",theundefeated:"espnud",cricinfo:"espncric"},deportesSiteNames:{"espn-es-mx":"espncommx","espn-es-ar":"espncomar","espn-es-ve":"espncomve","espn-es-cl":"espncomcl","espn-es-co":"espncomco"}}}()},{}],28:[function(require,module,exports){!function($){function getCustomMetaData(customMetaDataMap,_player,clipMediaInfo){var embededPlayerId=_player.embeddedPlayerId||"vjs_video_1",customMetaData={},$targerReplaceEl=$("#"+embededPlayerId),$videoContainer=$targerReplaceEl.closest("[data-video]"),$videoArticle=$targerReplaceEl.closest("article"),$body=$("body");return customMetaDataMap=_.merge({},customMetaDataMaps["default"],customMetaDataMap),Object.keys(customMetaDataMap).forEach(function(customMetaDataKey){customMetaData[customMetaDataKey]=customMetaDataMap[customMetaDataKey](_player,clipMediaInfo,{$targerReplaceEl:$targerReplaceEl,$videoContainer:$videoContainer,$videoArticle:$videoArticle,$body:$body})}),_.omitBy(customMetaData,_.isNil)}var _=require("./lodash"),cookiecutter=require("cookie-cutter"),containedInSection=function(){var defaultSections={"#favfeed":"favorites","#news-feed":"news","#article-feed":"articles","#now-feed":"now",".lightbox-container":"popup","#gamepackage-gamebreak":"gamebreak",".col-two":"middlecolumn",".col-one":"leftcolumn"};return function($el,sections){sections=sections||defaultSections;for(var sectionId in sections)if($el.closest(sectionId).length)return sections[sectionId]}}(),NotApplicableForVODTracking=function(){return"Not Applicable"},customMetaDataMaps={"default":{ContentType:function(){return"Video"},SWID:function(){return _.get(window,"espn.core.SWID")||cookiecutter.get("SWID")},Orientation:function(){if(window.espn_ui&&"desktop"===window.espn_ui.deviceType)return window.espn_ui.deviceType;var width,height;return _.has(window,"$.fn.width")?(width=$(window).width(),height=$(window).height()):(width=window.innerWidth,height=window.innerHeight),width>height?"Landscape":"Portrait"},UserAgent:function(){return _.get(window,"navigator.userAgent")},PersonalizationTierType:NotApplicableForVODTracking,Network:NotApplicableForVODTracking,Segment:NotApplicableForVODTracking,AirDate:NotApplicableForVODTracking,AirTime:NotApplicableForVODTracking,AiringID:NotApplicableForVODTracking,ProgramCode:NotApplicableForVODTracking,SportCode:NotApplicableForVODTracking,ClosedCaptioning:NotApplicableForVODTracking,AccessMethod:NotApplicableForVODTracking,AffiliateID:NotApplicableForVODTracking,AffiliateName:NotApplicableForVODTracking,PartnerPlayer:NotApplicableForVODTracking},FC:{Site:function(){return _.get(window,"espn.track.data.omniture.site")||_.get(window,"omniSite")||_.get(window,"s_omni.prop1")},TrackingServer:function(){return _.get(window,"s_omni.trackingServer")},Edition:function(){return _.get(window,"espnfc.config.edition")},Language:function(){return _.get(window,"espnfc.config.language")},Sport:function(_player,clipMediaInfo,els){return _.get(window,"espn.track.data.omniture.sport")||els.$body.data("sport")},League:function(_player,clipMediaInfo,els){var league=$("video").closest("article").find(".tags li:first-child a").text();return league||_.get(window,"espn.track.data.omniture.league")||_.get(window,"espn.track.data.omniture.section")},PlayLocation:function(){return _.get(window,"espn.track.data.omniture.pageName")},InsiderStatus:function(){return _.get(window,"espnfc.insider.access")?"yes":"no"},LoginStatus:function(){return _.get(window,"espn.core.loggedIn")?"[Registered:Logged in Active]":""},Personalization:function(){return _.get(window,"espn.track.favStatus")},StoryID:function(_player,clipMediaInfo,els){return $("video").closest("article").data("content-id")}},sCore:{UNID:function(){return window.unid?window.unid.get()||"":""},Site:function(){return _.get(window,"espn.track.data.omniture.site")||_.get(window,"omniSite")||_.get(window,"s_omni.prop1")},TrackingServer:function(){return _.get(window,"s_omni.trackingServer")},VideoType:function(){return"VOD"},Edition:function(){var language=_.get(window,"espn.i18n.lang")||"",region=_.get(window,"espn.i18n.country")||"";return language+"-"+region},Language:function(){return _.get(window,"espn.i18n.lang")},Sport:function(_player,clipMediaInfo,els){return els.$body.data("sport")||_.get(window,"espn.track.data.omniture.sport")},Placement:function(_player,clipMediaInfo,els){var pageName=_.get(window,"espn.track.data.omniture.pageName")||"index",pageColumn=containedInSection(els.$videoArticle)||"standalone";return _.get(_player,"_embedOptions.placement")||pageName+":"+pageColumn},PersonalizationTierType:function(_player,clipMediaInfo,els){var tierType=els.$videoArticle&&els.$videoArticle.data("tier-type");return tierType||(tierType=$(els.$body.context.activeElement).data("tier-type")),tierType},PlayLocation:function(){return _.get(window,"espn.track.data.omniture.pageName")},League:function(){return _.get(window,"espn.track.data.omniture.league")},InsiderStatus:function(){return/(has insider\:yes)|(insider-yes)/.test(_.get(window,"espn.memberservices.insider")||"")?"yes":"no"},LoginStatus:function(){return _.get(window,"espn.core.loggedIn")?"[Registered:Logged in Active]":""},Personalization:function(){return _.get(window,"espn.track.favStatus")},Embedded:function(_player){return _.get(_player,"_embedOptions.embedded")?"yes":"no"},GameID:function(){return _.get(window,"espn.gamepackage.gameId")},StoryID:function(_player,clipMediaInfo,els){return els.$videoArticle.data("id")}}};Object.keys(customMetaDataMaps).forEach(function(siteKey){exports[siteKey]=function(_player,clipMediaInfo){var generated=getCustomMetaData(customMetaDataMaps[siteKey],_player,clipMediaInfo);return generated}})}(jQuery)},{"./lodash":31,"cookie-cutter":4}],29:[function(require,module,exports){"use strict";var _=require("./lodash");exports.getDeprecated=function(name){return function(){}};var localeByHostEnds={"espndeportes.com":"es-us","espndeportes.espn.com":"es-us","espndeportes.espnqa.com":"es-us",".us":"en-us",".espnfc.com":"en-www",".com":"en-us",".co.uk":"en-gb",".com.au":"en-au",".in":"en-in",".com.mx":"es-mx",".com.co":"es-co",".com.ve":"es-ve",".cl":"es-cl"};exports.isClipId=function(id){return/^[0-9]*$/.test(id)||"string"==typeof id&&id.indexOf(":")!==-1},exports.detectLocale=function(){var locale=_.get(window,"espn.i18n.lang"),country=_.get(window,"espn.i18n.country");if(locale&&country)return locale+"-"+country;var hostname=window.location.hostname||"";for(var hostEnds in localeByHostEnds)if(_.endsWith(hostname,hostEnds))return localeByHostEnds[hostEnds];return"en-us"},exports.embeddedPlay=function(){function startPlaylistVideo($video,userInitiated){var videoId=$.parseUri($video.attr("href")).queryKey.id||null,options=$video&&$video.length?$video.metadata():{},info=$video.siblings("span").html();null!==info&&$("#videoInfo").html(info),options.endCard=options.endCard||"false",($video.parent().hasClass("last")||$playlist.children("li").length<=1)&&(options.endCard="true"),"undefined"==typeof options.playRelatedExternally&&(options.playRelatedExternally="false"),"true"==options.playRelatedExternally&&(advance=!1,options.endCard="true");var globalVideosOptions=_.get(window,"ESPN_GLOBALS.videoPlayers");if(globalVideosOptions){var globalVideoOptions,$videoTarget,targetReplaceId;for(var videoClass in globalVideosOptions)if(globalVideoOptions=globalVideosOptions[videoClass],$videoTarget=$("."+videoClass).first(),$videoTarget.length||1===Object.keys(globalVideosOptions).length){_.merge(options,globalVideoOptions),$videoTarget.length&&(targetReplaceId=$videoTarget.attr("id"),targetReplaceId||($videoTarget.attr("id",videoClass),targetReplaceId=videoClass),options.targetReplaceId=targetReplaceId);break}}options.endCard&&(options.endCard="true"===options.endCard||options.endCard===!0),options.cms||(options.cms="espn");var $videoPlayer=$("div.videoplayer");$videoPlayer.addClass("videoplayer-show"),options.width&&$videoPlayer.width(options.width),options.height&&$videoPlayer.height(options.height),$videoPlayer.css("position","relative"),espn.video.play(parseInt(videoId,10),options,userInitiated)}function advancePlaylist($item,userInitiated){$item.addClass("active").siblings().removeClass("active"),$item.next().addClass("next").siblings().removeClass("next"),0===$item.next().length&&$(".video-player").hasClass("next")&&($(".mod-video-playlist").hide(),$(".video-player").removeClass("with-playlist")),startPlaylistVideo($item.find("a"),userInitiated)}var playlistEndHandle,$currentItem,$=window.jQuery,espn=window.espn||{},advance=!0,$first=$("#videotoplay"),$playlist=$(".mod-video-playlist ul");startPlaylistVideo($first,!1),$playlist.children("li").bind("click",function(e){e.preventDefault(),advance=!0,$currentItem=$(this),advancePlaylist($currentItem,!0)}),playlistEndHandle=$.subscribe("espn.video.complete",function(){advance&&($currentItem=$playlist.find("li.active"),$currentItem.next().length>0&&advancePlaylist($currentItem.next(),!1))})}},{"./lodash":31}],30:[function(require,module,exports){!function($){"use strict";function ESPNLegacyVideoPlayer(){this.$targetElement=null,this.autoClose=!1,this.clip=null,this.cms=null,this.currentIndex=null,this.currentPlayingId=null,this.hasPlaylist=null,this.height=null,this.isPlaying=!1,this.originalIndex=null,this.playVerified=null,this.playVideo=null,this.playerElement=null,this.playerReady=null,this.state=null,this.targetReplaceId=null,this.targetElement=null,this.useExternalIdFilter=null,this.videoPlaylist=null,this.width=null,this._duration=NaN,this._startedCurrentMedia=!1,this._currentMediaId="",this._adPlaying=!1,this._embedGuid=null,this._embedEl=null,this._embedOptions=null,this._embedCallback=null,this._propogatedEvents=null,ESPNVideoPlayer.prototype.constructor.apply(this,arguments)}var _=require("./lodash"),ESPNLegacyHelperScripts=require("./espn-legacy-helper-scripts.js"),inherits=require("inherits"),jsLoaded=!1;inherits(ESPNLegacyVideoPlayer,ESPNVideoPlayer),Object.defineProperty(ESPNLegacyVideoPlayer.prototype,"duration",{set:function(duration){duration!==this._duration&&(this._duration=duration,isNaN(duration)||ESPNLegacyVideoPlayer.publish("espn.video.totalTimeChanged",[{totalTime:duration},this.embeddedPlayerId,"totalTimeChanged"]))},get:function(){return this._duration}}),Object.defineProperty(ESPNLegacyVideoPlayer.prototype,"playType",{get:function(){return this.bundle&&this.bundle.startType}}),Object.defineProperty(ESPNLegacyVideoPlayer.prototype,"$container",{get:function(){return this.player&&this.player.el?$(this.player.el()).parent():$()}}),Object.defineProperty(ESPNLegacyVideoPlayer.prototype,"autoPlay",{get:function(){return!!this.player&&this.player.autoplay()}}),Object.defineProperty(ESPNLegacyVideoPlayer.prototype,"currentMediaId",{set:function(currentMediaId){currentMediaId!==this._currentMediaId&&(this._currentMediaId=currentMediaId,this._startedCurrentMedia=!1)},get:function(){return this._currentMediaId}}),ESPNLegacyVideoPlayer.prototype.init=function(){this._propogatedEvents=[],this.bindEvents()},ESPNLegacyVideoPlayer.prototype.bindEvents=function(){this._propogateToLegacyEvent("useractive","espn.video.hoverIn",$.noop),this._propogateToLegacyEvent("userinactive","espn.video.hoverOut",$.noop),this._propogateToLegacyEvent("ads-ad-started","espn.video.ad.start",function(){var adTimeout=_.get(this,"player.ads.adTimeoutTimeout")||15,duration=_.get(this,"player.ads.ad.duration")||15;return this._adPlaying=!0,[duration,adTimeout,this.player.id(),"ad.start"]}.bind(this)),this._propogateToLegacyEvent("adend","espn.video.ad.end",function(){return this._adPlaying=!1,[{},this.player.id(),"ad.end"]}.bind(this)),this._propogateToLegacyEvent("loadedplayersource","espn.video.playerjsReady"),this.onDurationChange=this.onDurationChange.bind(this),this.player.on("durationchange",this.onDurationChange),this.onLoadStart=this.onLoadStart.bind(this),this.player.on("loadstart",this.onLoadStart),this.onContentStartedPlaying=this.onContentStartedPlaying.bind(this),this.player.on("playing",this.onContentStartedPlaying),this.onEnded=this.onEnded.bind(this),this.player.on("ended",this.onEnded),this.onContentLoaded=this.onContentLoaded.bind(this),this.player.on("espn.contentloaded",this.onContentLoaded),this._propogateToLegacyEvent("fullscreenchange","espn.video.fullscreenChanged"),this._propogateToLegacyEvent("loadedplayersource","espn.video.playerjsReady"),this._propogateToLegacyEvent("loadeddata","espn.video.loadComplete"),this._propogateToLegacyEvent("timeupdate","espn.video.playheadTimeChanged",function(){return[{bandwidth:NaN,playheadTime:this.player.currentTime()},this.embeddedPlayerId,"playheadTimeChanged"]}),this._propogateToLegacyEvent("pause","espn.video.pause",function(){return[{state:"paused"},this.embeddedPlayerId,"stateChanged "]}),this._propogateToLegacyEvent("posterchange","espn.video.thumbnailReady"),this._propogateToLegacyEvent("switch","espn.video.switch",function(){return[this.autoPlay,this.currentMediaId,""]}),this._propogateToLegacyEvent("seeked","espn.video.seeked"),this._propogateToLegacyEvent("volumechange","espn.video.volumeChanged",function(){return[{volume:this.player.volume()},this.embeddedPlayerId,"volumeChanged"]}),this._propogateToLegacyEvent("loadedmetadata","espn.video.metadataReady")},ESPNLegacyVideoPlayer.prototype.onContentLoaded=function(evt,data){var clipId=data&&data.clipId&&parseInt(data.clipId,10)||data&&data.id;clipId&&(this.currentMediaId=clipId),this.clip={id:this.currentMediaId,guid:data&&data.id,posterImages:{full:{href:data&&data.mediainfo&&data.mediainfo.poster}}}},ESPNLegacyVideoPlayer.prototype.onLoadStart=function(){var currentMedia=this.player.mediainfo;jsLoaded||(jsLoaded=!0,ESPNLegacyVideoPlayer.publish("espn.video.ready",[{},this.embeddedPlayerId,"apiReady","espn.video.ready"]),ESPNLegacyVideoPlayer.publish("espn.video.init",[{},this.embeddedPlayerId,"apiReady","espn.video.ready"])),currentMedia&&ESPNLegacyVideoPlayer.publish("espn.video.embedCodeChanged",[this._getShimmedEmbedCode(),this.embeddedPlayerId,"embedCodeChanged"])},ESPNLegacyVideoPlayer.prototype.onEnded=function(){(this.player||{}).ads&&"content-playback"!==this.player.ads.state||ESPNLegacyVideoPlayer.publish("espn.video.complete",[{},this.embeddedPlayerId,"playComplete"])},ESPNLegacyVideoPlayer.prototype.onDurationChange=function(){var currentMedia=(this.player||{}).mediainfo;this.duration=currentMedia?currentMedia.duration:NaN},ESPNLegacyVideoPlayer.prototype.onContentStartedPlaying=function(){this._startedCurrentMedia||(this._startedCurrentMedia=!0,ESPNLegacyVideoPlayer.publish("espn.video.embedCodeChanged",["init"]),ESPNLegacyVideoPlayer.publish("espn.video.volumeChanged",[{volume:this.player.volume()}],this.embeddedPlayerId,"volumeChanged"),ESPNLegacyVideoPlayer.publish("espn.video.contentStarted",[this.currentMediaId,this.playType]),ESPNLegacyVideoPlayer.publish("espn.video.bitrateChanged",[{videoBitrate:NaN},this.embeddedPlayerId,"bitrateChanged"]),ESPNLegacyVideoPlayer.publish("espn.video.startContentDownload",[{streamURL:_.get(this,"player.mediainfo.sources.0.src".split("."))
},this.embeddedPlayerId,"bitrateChanged"]),ESPNLegacyVideoPlayer.publish("espn.video.play",[{state:"playing"},this.embeddedPlayerId,"stateChanged"]),ESPNLegacyVideoPlayer.publish("espn.video.contentStarted",["",this.embeddedPlayerId,"contentStarted"]))},ESPNLegacyVideoPlayer.prototype.onLoadedMetaData=function(){},ESPNLegacyVideoPlayer.prototype.embed=function(guid,el,options,callback){this._embedGuid=guid,this._embedEl=el,this._embedOptions=options,this._embedCallback=callback,this._setTarget(el),this.currentMediaId=guid||options.clipId,ESPNLegacyVideoPlayer.publish("espn.video.embed.begin"),ESPNLegacyVideoPlayer.publish("espn.video.playerLoading",[{},this.targetReplaceId,"playerLoading"]);var embeddedPlayer=ESPNVideoPlayer.prototype.embed.call(this,guid,el,options,function(){this.init();var embeddedPlayerEl=this.player.el();embeddedPlayerEl&&embeddedPlayerEl.getAttribute&&(this.embeddedPlayerId=embeddedPlayerEl.getAttribute("id")),ESPNLegacyVideoPlayer.publish("espn.video.playerEmbedded",[{},this.embeddedPlayerId,"playerEmbedded"]),ESPNLegacyVideoPlayer.publish("espn.video.authTokenChanged",[{auth_token:""},this.embeddedPlayerId,"authTokenChanged"]),this.currentMediaId||this.onLoadStart(),(callback||$.noop).apply(this,arguments)}.bind(this));return embeddedPlayer},ESPNLegacyVideoPlayer.prototype.buildModuleParams=ESPNLegacyHelperScripts.getDeprecated("buildModuleParams"),ESPNLegacyVideoPlayer.prototype.handleEvents=ESPNLegacyHelperScripts.getDeprecated("handleEvents"),ESPNLegacyVideoPlayer.prototype.pauseVideo=function(){this.player.pause()},ESPNLegacyVideoPlayer.prototype.skipAd=function(){if(this._adPlaying){var skipAdEmbedOptions=_.merge({},this._embedOptions),mediainfo=this.player&&this.player.mediainfo,guid=this._embedGuid;mediainfo&&(guid=mediainfo.reference_id,_.merge(skipAdEmbedOptions,{clipId:parseInt(mediainfo.id,10),cerebroId:mediainfo.reference_id})),this._currentMediaId="",this._adPlaying=!1,this.unembed(!1),mediainfo&&this.embed(guid,this._embedEl,_.merge({},skipAdEmbedOptions,{preroll:!1,postroll:!1}))}},ESPNLegacyVideoPlayer.prototype.switchVideo=function(options){if("object"==typeof options&&0!==Object.keys(options||{}).length){var guid;options.id?(options.clipId=options.id,delete options.id):options.cerebroId&&(guid=options.cerebroId,delete options.cerebroId),options.cms&&(options.clipSource=options.cms,delete options.cms),(guid||options.clipId)&&ESPNVideoPlayer.prototype.switchVideo.call(this,guid,options)}},ESPNLegacyVideoPlayer.prototype.unbindEvents=function(){this.player&&((this._propogatedEvents||[]).forEach(function(propogatedEvent){this.player.off(propogatedEvent[0],propogatedEvent[1])}.bind(this)),this._propogatedEvents=[],this.player.off("espn.contentloaded",this.onContentLoaded),this.player.off("durationchange",this.onDurationChange),this.player.off("loadstart",this.onLoadStart),this.player.off("playing",this.onContentStartedPlaying))},ESPNLegacyVideoPlayer.prototype.container=function(videoId){return null===this.$targetElement&&null===this._embedEl&&($("#player--player").length?this._embedEl="player--player":this._embedEl=videoId),$("#"+this._embedEl).parent()},ESPNLegacyVideoPlayer.prototype.destroy=function(){this.player&&this.unbindEvents();try{this.unembed(!1),$("#"+this._embedEl).remove()}catch(e){}this.$targetElement=null,this.playerElement=null,this.targetElement=null,this._embedGuid=null,this._embedEl=null,this._embedOptions=null,this._embedCallback=null,ESPNLegacyVideoPlayer.publish("espn.video.complete")},ESPNLegacyVideoPlayer.prototype._getShimmedEmbedCode=function(){var currentMedia=this.player.mediainfo;return{description:currentMedia.description,embedCode:currentMedia.id,hostedAtURL:window?window.location.href:"",isLiveStream:!1,lineup:null,promo:null,providerCode:"?",streamUrl:_.get(currentMedia,"sources.0.src".split(".")),time:this.duration,title:currentMedia.name}},ESPNLegacyVideoPlayer.prototype._setTarget=function(target){"string"==typeof target?(0===target.indexOf("#")&&(target=target.substring(1)),0===target.indexOf(".")?this.targetElement=$(target).get(0):this.targetElement=document.getElementById(target)):target&&target.setAttribute&&(this.targetElement=target),this.$targetElement=$(this.targetElement),this.targetReplaceId=this.$targetElement.attr("id")},ESPNLegacyVideoPlayer.prototype._propogateToLegacyEvent=function(videoPlayerEvent,legacyEventName,getLegacyParams){legacyEventName=legacyEventName||"";var _eventPropogationMapper=function(){ESPNLegacyVideoPlayer.publish(legacyEventName,getLegacyParams?getLegacyParams.apply(this,arguments):[{},this.targetReplaceId,legacyEventName.split(".").pop()])}.bind(this);this._propogatedEvents.push([videoPlayerEvent,_eventPropogationMapper]),this.player.on(videoPlayerEvent,_eventPropogationMapper)},ESPNLegacyVideoPlayer.publish=function(){$.publish(arguments[0],arguments[1])},module.exports=ESPNLegacyVideoPlayer}(jQuery)},{"./espn-legacy-helper-scripts.js":29,"./lodash":31,inherits:5}],31:[function(require,module,exports){module.exports={has:require("lodash.has"),get:require("lodash.get"),merge:require("lodash.merge"),omitBy:require("lodash.omitby"),pick:require("lodash.pick"),values:require("lodash.values"),set:require("lodash.set"),endsWith:require("lodash.endswith"),isNil:require("lodash.isnil")}},{"lodash.endswith":6,"lodash.get":7,"lodash.has":8,"lodash.isnil":9,"lodash.merge":10,"lodash.omitby":11,"lodash.pick":12,"lodash.set":13,"lodash.values":14}],32:[function(require,module,exports){"use strict";var _=require("./lodash"),Cookie=require("cookie-cutter"),ESPNLegacyVideoPlayer=require("./espn-legacy-video-player.js"),ESPNLegacyHelperScripts=require("./espn-legacy-helper-scripts.js"),ESPNCustomMetaDataGenerators=require("./espn-custom-meta-data-generators.js"),FanApi=require("watch-fanapi"),Util=require("../mobile/Util"),packageInfo=require("../../package.json"),comscoreSiteNames=require("./comscore-site-names.js"),_defaultPlayerSelectors=["#player","#videoPlayer","#video",".videoplayer"];module.exports=function($,espn){function play(clipId,options,wasUserInitiated,callback){if(callback=callback||$.noop,options=options||{},_player&&_player.player){if(!arguments.length)return _player.player.play();if(1===arguments.length)return _player.switchVideo({clipId:clipId})}_lookupRegion(function(region){var cerebroId=options.cerebroId,embedOptions=_parseOptions(_.merge({region:region,id:clipId},options),wasUserInitiated);ESPNLegacyHelperScripts.isClipId(options.id)||cerebroId||(cerebroId=options.id,delete options.id,options.cerebroId=cerebroId,_clipId=cerebroId);var targetReplaceId=_getTargetReplaceId(options.targetReplaceId),$targetReplaceContainer=_initTargetEl(targetReplaceId,options),isFirefox="undefined"!=typeof InstallTrigger;if(!isFirefox&&$targetReplaceContainer){var targetContainerWidth=$targetReplaceContainer.width(),targetContainerHeight=Math.max($targetReplaceContainer.height(),9*targetContainerWidth/16);(targetContainerWidth<400||targetContainerHeight<300)&&_.set(embedOptions,"advertising.adTechOrder",["html5","flash"])}_siteSpecificCustomMetaData=options.customMetaData||_.get(embedOptions.analytics,"adobeDCR.ESPN_CUSTOM_METADATA")||ESPNCustomMetaDataGenerators.sCore,"string"==typeof _siteSpecificCustomMetaData&&_siteSpecificCustomMetaData in ESPNCustomMetaDataGenerators&&(_siteSpecificCustomMetaData=ESPNCustomMetaDataGenerators[_siteSpecificCustomMetaData]),_clipId=clipId,_wasUserInitiated=embedOptions.wasUserInitiated,espn.video.player=_player=new ESPNLegacyVideoPlayer,_player.ready(function(){_player.embed(cerebroId,targetReplaceId,embedOptions,function(){"function"!=typeof _.get(_player,"player.ads")||embedOptions.preroll||embedOptions.postroll||_player.player.ads(),_player.player.off("espn.clipfetched",_onClipFetched),_player.player.on("espn.clipfetched",_onClipFetched),_player.player.off("espn.contentloaded",_setCustomMetaData),_player.player.on("espn.contentloaded",_setCustomMetaData),"function"==typeof callback&&callback(_player)})})})}function _onClipFetched(event,options){var clip,editionKey=_.get(espn,"i18n.editionKey")||"",omniSite=_.get(window,"omniSite")||"",wService=_.get(window,"wax.service")||"";options&&options.clip&&(clip=options.clip),clip&&("espndeportes"===omniSite?clip.site=comscoreSiteNames.deportesSiteNames[editionKey]||"espncomdeportes":""!=wService?clip.site=comscoreSiteNames.siteNames[wService]||"espnw":clip.site=comscoreSiteNames.siteNames[omniSite]||"espncom")}function embed(options,callback){play(null,options,null,callback)}function pause(){_player&&_player.pause()}function insertAd(options,cms){_player&&_player.unembed(),_lookupRegion(function(region){var targetReplaceId=_getTargetReplaceId(options.targetReplaceId),clipSource=options.adSet||cms||options.cms,advertisingConfig=_getAdvertisingConfig(clipSource,region,options.siteSection);espn.video.player=_player=new ESPNLegacyVideoPlayer,_player.ready(function(){var adEndEventHandle,adEnded=!1,embedded=!1,afterEmbedAndAdEnd=function(){adEnded&&embedded&&(_player.destroy(),$.unsubscribe(adEndEventHandle))};adEndEventHandle=$.subscribe("espn.video.ad.end",function(){adEnded=!0,afterEmbedAndAdEnd()}),_player.embed(void 0,targetReplaceId,{advertising:{siteSectionId:options.siteSection,assetId:options.videoID,beforeAdManager:function(adOptions){return _updateAdOptions(adOptions,advertisingConfig)}},adOnly:!0,clipSource:clipSource},function(){embedded=!0,afterEmbedAndAdEnd()})})})}function remove(){_player&&(_player.destroy(),espn.video.player=_player=null)}function skipAd(){_player&&_player.skipAd()}function getAutoPlay(options,p13nVideoAutoStart,callback){if(options=options||{},callback=callback||options.callback||$.noop,_player&&"function"==typeof _player.autoplay)return callback(_player.autoplay());var fanApi=new FanApi,swid=_.get(window,"espn.core.SWID")||Cookie.get("SWID"),autoPlay=!0,vas=Cookie.get("VAS");vas&&(autoPlay=1===parseInt(vas,10)),"string"==typeof swid&&0===swid.indexOf("{")?fanApi.getAutoStartForFanId(swid,function(autoStart){autoPlay=_autoplay="boolean"==typeof autoStart?autoStart:autoPlay,callback&&callback(autoPlay)}):callback&&callback(autoPlay)}function _setCustomMetaData(evt,contentLoadedData){if(_player){var metadata=_.merge({},_getDefaultClipMetadata(contentLoadedData),"function"==typeof _siteSpecificCustomMetaData?_siteSpecificCustomMetaData(_player,contentLoadedData.mediainfo):_siteSpecificCustomMetaData);_player.analytics.configure(_.set({},"adobeDCR.ESPN_CUSTOM_METADATA",metadata))}}function _guessSiteFromSiteSectionId(siteSectionId){siteSectionId=siteSectionId||"";for(var prefix in sitesBySiteSectionIdPrefix)if(0===siteSectionId.indexOf(prefix))return sitesBySiteSectionIdPrefix[prefix];return"espn"}function _getAdvertisingConfig(clipSource,region,siteSectionId){var networkId,advertisingIdPrefix;_guessSiteFromSiteSectionId(siteSectionId);return"deportes"===clipSource?networkId=135087:("intl"===clipSource&&(advertisingIdPrefix="intl:"),networkId=87146),{networkId:networkId,advertisingIdPrefix:advertisingIdPrefix}}function _updateAdOptions(adOptions,advertisingConfig){if(adOptions&&advertisingConfig){var networkId=advertisingConfig.networkId;if(networkId){adOptions.networkId=networkId;var flashProfileSlug=(_.get(adOptions,"flash.profile")||"").split(":")[1]||"espn_desktop_as3",html5ProfileSlug=(_.get(adOptions,"html5.profile")||"").split(":")[1]||"espn_desktop_js";_.set(adOptions,"flash.profile",networkId+":"+flashProfileSlug),_.set(adOptions,"html5.profile",networkId+":"+html5ProfileSlug)}var advertisingIdPrefix=advertisingConfig.advertisingIdPrefix;return advertisingIdPrefix&&adOptions.assetId&&(adOptions.assetId+"").indexOf(":")===-1&&(adOptions.assetId=advertisingConfig.advertisingIdPrefix+adOptions.assetId),adOptions}}function _updateAdvertisingConfig(adOptions){var clipSource=_.get(_player,"bundle.clipSource"),siteSectionId=(adOptions||{}).siteSectionId,advertisingConfig=_getAdvertisingConfig(clipSource,_region,siteSectionId);return _updateAdOptions(adOptions,advertisingConfig)}function _initTargetEl(targetReplaceId,options){var $targetReplaceContainer=$("#"+targetReplaceId).parent();if("player--player"===targetReplaceId&&(0===$targetReplaceContainer.width()||0===$targetReplaceContainer.height())){var containerWidth=options.width||"100%";options.width&&$targetReplaceContainer.width(containerWidth),options.height?$targetReplaceContainer.height(options.height):0===$targetReplaceContainer.height()&&$targetReplaceContainer.css("padding-top","56.25%")}return $targetReplaceContainer}function _getOmniAccount(options){return options=options||{},options.omnitureSuiteId||_.get(window,"s_omni.account")||_.get(window,"espn.track.data.omniture.account")||window.s_account||"wdgespcom"}function _parseOptions(options,wasUserInitiated){options=_.merge({},_.pick(_previousOptions,["cms","endCard","siteSection"]),options||{}),_previousOptions=options;var autoplay="userPreference",autoplaySetting=_.values(_.pick(options,["autoplay","autostart","autoPlay"]))[0];"boolean"==typeof autoplaySetting&&(autoplay=autoplaySetting);var userInitiated=options.userInitiated||wasUserInitiated||!1;"autoplay"===options.playType&&(userInitiated=!1,autoplay=!0);var language=options.language||(ESPNLegacyHelperScripts.detectLocale()||"").split("-")[0],apiBaseUrl="http://api-app.espn.com/v1/video",shieldBaseUrl="https://watch.auth.api.espn.com/video/auth";return document.location.search.match(/(^\?|&)useqa=true/)&&(apiBaseUrl="http://api-app.espnqa.com/v1/video",shieldBaseUrl="https://watch.auth.api.qa.espn.com/video/auth"),_.merge(!0,{},options,{advertising:_.merge(!0,{beforeAdManager:_updateAdvertisingConfig,siteSectionId:options.siteSection},options.advertising),analytics:_.merge(!0,{adobeDCR:{VISITOR_API:{TRACKING_SERVER:"w88.espn.com"},APP_MEASUREMENT:{RSID:_getOmniAccount(options),TRACKING_SERVER:"w88.espn.com"},NIELSEN_DATA:{APP_INFO:{clientId:"us-600140",apid:(_useNielsenTestApid?"T":"P")+"31187EE2-AC6E-46CB-BB54-D07591BED067"}}},conviva:{customerKey:"fc8dbfdc5da519f576628f619306a357f31bd006"}},options.analytics),api:{VIDEO_BASE_URL:apiBaseUrl},autoplay:autoplay,clipId:options.id,clipSource:options.cms||("es"==language?"deportes":void 0),endcard:options.endCard,language:language,region:options.region||(ESPNLegacyHelperScripts.detectLocale()||"").split("-")[1],poster:options.thumbnailURL,postroll:"boolean"!=typeof options.postroll||options.postroll,preroll:"boolean"!=typeof options.preroll||options.preroll,shield:{BASE_URL:shieldBaseUrl},wasUserInitiated:userInitiated})}function _getDefaultClipMetadata(data){return{ReportSuite:_getOmniAccount(_previousOptions),CMSID:(data.clipId||data.id||data.mediainfo.id)+"-"+data.mediainfo.name,ContentDuration:data.mediainfo.duration,DateLastModified:data.mediainfo.updated_at,GameID:_.get(data,"mediainfo.custom_fields.gameId")||"Not Applicable",League:data.mediainfo.sport,PlayerName:function(){var duration=_.get(data,"mediainfo.duration"),isLive=!(duration&&duration>0);return isLive?"Brightcove-live":"Brightcove-vod"}(),PublishDate:(data.mediainfo.created_at||"").split("T")[0],PublishTime:(data.mediainfo.created_at||"").split("T")[1],ShowCode:data.mediainfo.showCode,Site:data.mediainfo.site,Sport:data.mediainfo.sport,VideoID:data.clipId||data.id||data.mediainfo.id,VideoName:(data.mediainfo.pageTitle||"").replace(" - ESPN Video",""),VideoPlaylist:(_player&&_player.player&&_player.player.playlist()||[]).join(","),VideoTypeDetail:_.get(data,"mediainfo.custom_fields.mediaType")}}function _getTargetReplaceId(targetReplaceId){if(!targetReplaceId)for(var defaultVideoPlayerSelector,$selEls,i=0;i<_defaultPlayerSelectors.length;i++)if(defaultVideoPlayerSelector=_defaultPlayerSelectors[i],$selEls=$(defaultVideoPlayerSelector).first(),$selEls.length){targetReplaceId=$selEls.attr("id"),targetReplaceId||($selEls.attr("id","player"),targetReplaceId="player");break}if(targetReplaceId=targetReplaceId||"player","player"!==targetReplaceId)return targetReplaceId;var actualReplacementId=targetReplaceId+"--player",$targetEl=$("#"+targetReplaceId),$actualReplacement=$($("#"+targetReplaceId).children()[0]);return $actualReplacement.length?$actualReplacement.attr("id",actualReplacementId):($actualReplacement=$('<div id="'+actualReplacementId+'" />'),$targetEl.append($actualReplacement),$targetEl.css("position","relative")),actualReplacementId}function _setRegion(geoLocation){return _region||(_region=(_.get(geoLocation,"country.isoCodeAlpha2")||"us").toLowerCase(),$.publish("espn.video.locationReady",[_region])),_region}function _lookupRegion(then){_region?then(_region):Util.getGeoLocation(function(err,geoLocation){_setRegion(geoLocation),(then||$.noop)(_region)})}var _clipId,_player,_previousOptions,_autoplay,_siteSpecificCustomMetaData,_wasUserInitiated,_region,_useNielsenTestApid=function(){var parsedQuery=$.parseUri&&$.parseUri(location.search),nielsenTest=_.get(parsedQuery,"queryKey.nielsentest");return nielsenTest&&Cookie.set("nielsentest",JSON.parse(nielsenTest||!0)),JSON.parse(Cookie.get("nielsentest")||null)===!0}(),embeddedPlay={play:ESPNLegacyHelperScripts.embeddedPlay},sitesBySiteSectionIdPrefix={"espn:cricinfo":"cricinfo","espn:espnfc":"espnfc","espnfc.com":"espnfc"},shim={getAutoPlay:getAutoPlay,subscribe:$.subscribe,skipAd:skipAd,embedded:embeddedPlay,embeded:embeddedPlay,player:null,embed:embed,play:play,pause:pause,insertAd:insertAd,remove:remove};return Object.defineProperty(shim,"version",{get:function(){if(packageInfo&&packageInfo.version)return packageInfo.version}}),Object.defineProperty(shim,"versions",{get:function(){return{shim:packageInfo&&packageInfo.version,bundle:_.get(packageInfo,"dependencies.espn-web-player-bundle")}}}),Object.defineProperty(shim,"autoplay",{get:function(){if(_player&&_player.autoplay)return _player.autoplay}}),Object.defineProperty(shim,"playerElement",{get:function(){if(_player&&_player.player)return _player.player.el_}}),shim}},{"../../package.json":26,"../mobile/Util":33,"./comscore-site-names.js":27,"./espn-custom-meta-data-generators.js":28,"./espn-legacy-helper-scripts.js":29,"./espn-legacy-video-player.js":30,"./lodash":31,"cookie-cutter":4,"watch-fanapi":25}],33:[function(require,module,exports){var Util=function(common){function getP13AutoStart(callback){espn.fanapi?jQuery.when(espn.fanapi.getAsP13n()).done(function(p13n){if(p13n&&p13n.mySettings){if(P13N_VIDEO_AUTOSTART=p13n.mySettings.videoAutoStart,!callback)return p13n.mySettings.videoAutoStart;callback(p13n.mySettings.videoAutoStart)}}).fail(function(){callback&&callback()}):espn.p13n&&espn.p13n.get({success:function(p13n){try{if(p13n&&p13n.mySettings){if(P13N_VIDEO_AUTOSTART=p13n.mySettings.videoAutoStart,!callback)return p13n.mySettings.videoAutoStart;callback(p13n.mySettings.videoAutoStart)}}catch(e){}},error:function(){}})}function getVideoPlaylistInfo(videoPlaylist,mobilePath,async,callback){for(var cmsAndIds="",i=0;i<videoPlaylist.videos.length;i++)for(var key in videoPlaylist.videos[i]){var replace={id:key,cms:videoPlaylist.videos[i][key].cms,url:videoPlaylist.videos[i][key].url};cmsAndIds+="id="+replace.cms+":"+key+"&",videoPlaylist.videos[i]=replace;break}if(mobilePath){var analyticsParams="",deviceParam="desktop",rsid="wdgespge",site="espn",baseUrl="http://www.espn.com/videohub/video/util/getMinifiedClipJsonById?";isMobile?deviceParam="mobile":(isIpad||isAndroid)&&(deviceParam="tablet"),"undefined"!=typeof window.s_account&&(rsid=window.s_account+","+rsid),analyticsParams+="&omniReportSuite="+rsid,"undefined"!=typeof window.omniSite&&(site=Analytics.getSiteSection(window.omniSite)),analyticsParams+="&siteSection="+site,analyticsParams+="&trackingName="+encodeURIComponent(Analytics.getTrackingName()),$.ajax({url:baseUrl+cmsAndIds+"device="+deviceParam+analyticsParams,async:async,success:function(response){callback&&callback(response)}})}return videoPlaylist}function hasFlashAndUsable(){var hasFlash=!1;try{var fo=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");fo&&(hasFlash=!0)}catch(e){navigator.mimeTypes&&navigator.mimeTypes["application/x-shockwave-flash"]&&navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin&&(hasFlash=!0)}return hasFlash}function fullScreenRequest(elem){elem.requestFullscreen?elem.requestFullscreen():elem.msRequestFullscreen?elem.msRequestFullscreen():elem.mozRequestFullScreen?elem.mozRequestFullScreen():elem.webkitRequestFullscreen?elem.webkitRequestFullscreen():elem.webkitEnterFullScreen&&elem.webkitEnterFullScreen()}function autoPlayHelper(options){options=options||{};var autoplay=!0,vasCookie=(document.cookie.match(/VAS=([^;]+)/)||[])[1];vasCookie&&(autoplay=convertToBoolean(vasCookie)),espn.video.autoplay=autoplay,getP13AutoStart(function(autoStart){autoStart&&(autoplay="2"!==autoStart),espn.video.autoplay=autoplay,options.callback&&options.callback(autoplay)})}function isForceHTML5(){var forceHTML5=/(^|; )espn.html5=1/.test(document.cookie);return forceHTML5}function getGeoLocation(cbk){cbk=cbk||$.noop;var validateGeoLocationAndReturn=function(loc){if(!loc)return cbk(new Error("failed to lookup valid geolocation"));var geoLocation=Util.getGeoLocationFromGeoService(loc);return geoLocation?void cbk(null,geoLocation):cbk(new Error("failed to determine geolocation"))},ifFail=function(){var country=(document.cookie.match(/country=([^;]+)/)||[])[1]||"us";validateGeoLocationAndReturn(Util.getGeoLocationFromGeoService({country:{isoCode:null,isoCodeAlpha2:(country+"").toUpperCase()}}))};window.espn&&window.espn.geo&&window.espn.geo.getLocation?espn.geo.getLocation().done(validateGeoLocationAndReturn).fail(function(){espn.geo.promise=null,espn.geo.getLocation().done(validateGeoLocationAndReturn).fail(ifFail)}):ifFail()}function getGeoLocationFromGeoService(loc){var isoCodeAlpha3=null;loc.country&&loc.country.isoCode&&(isoCodeAlpha3=loc.country.isoCode.toUpperCase());var isoCodeAlpha2=loc.country.isoCodeAlpha2;return isoCodeAlpha3&&!isoCodeAlpha2&&countryMap&&(isoCodeAlpha2="string"==typeof countryMap[isoCodeAlpha3]?countryMap[isoCodeAlpha3].toLowerCase():isoCodeAlpha3.substring(0,2).toLowerCase()),loc.country.isoCodeAlpha2=isoCodeAlpha2,loc}function getDefaultPlatform(){var defaultPlatform="ooyala";return(this.isMobile||this.isIpad||this.isAndroid)&&(defaultPlatform=this.canPlayVideo?"html5-video":"player-image"),isForceHTML5()&&(defaultPlatform="html5-video"),defaultPlatform}function convertToBoolean(val){var type=typeof val;return"boolean"!==type&&("string"===type&&isNaN(val)?val="true"===val:(val=parseInt(val),val=1===val)),val}function checkMemHasVideo(){return checkMemHasVideo._cache||(checkMemHasVideo._cache=!1,"object"==typeof espn.mem&&"boolean"==typeof espn.mem.hasVideo&&(checkMemHasVideo._cache=espn.mem.hasVideo)),checkMemHasVideo._cache}function getBusinessUnit(cms){return"deportes_dev"==cms||"deportes_qa"==cms?"deportes":"cric"==cms||"cric_qa"==cms||"cric_dev"==cms||"cricinfo"==cms||"cricinfo_qa"==cms||"cricinfo_dev"==cms?"cricinfo":"intl"==cms||"intl_dev"==cms||"intl_qa"==cms?"soccerfc":cms}function cleanDimension(dim){return"default"==dim?null:dim?(dim+="",/\d{2,3}%/.test(dim)?dim:dim.replace(/\D/g,"")+"px"):null}function getCMSFromTrackingName(trackingName){var cms="espn";return trackingName.search(/deportes/i)>-1?cms="deportes":trackingName.search(/intl/i)>-1&&(cms="intl"),cms}function get(object,keys,defaultVal){return keys=Array.isArray(keys)?keys:keys.split("."),object=object[keys[0]]||object[parseInt(keys[0],10)],object&&keys.length>1?get(object,keys.slice(1),defaultVal):void 0===object?defaultVal:object}var debugLog=function(){var domVideoLog=document.getElementById("video-log"),ON_SCREEN_DEBUG=/(\?|&)onScreenMobileVideoDebug=true(&|$)/.test(document.location.search)||!!domVideoLog,DEBUG_MODE=/(\?|&)debug=true(&|$)/.test(document.location.search)||ON_SCREEN_DEBUG;return DEBUG_MODE?ON_SCREEN_DEBUG?(domVideoLog||(domVideoLog=document.createElement("div"),Object.assign&&Object.assign(domVideoLog.style,{position:"fixed",top:0,right:0,whiteSpace:"nowrap",width:"50%",height:"300px",overflow:"scroll",background:"rgba(0,0,0,.85)",color:"#fff",fontSize:"10px",lineHeight:"8px",padding:"2px 6px",boxSizing:"border-box",zIndex:9999999}),window.addEventListener("load",function(){document.body.appendChild(domVideoLog)})),function(){var messagePre=document.createElement("pre");messagePre.innerHTML='<span style="color: #ff0033; font-weight: bold">ESPNVideo:</span> '+[].slice.call(arguments).map(function(m){return m.replace(/</g,"&lt;").replace(/>/g,"&gt;")}).join(" "),domVideoLog.appendChild(messagePre)}):window.console?function(){window.console.log.apply(window,["%cESPNVideo:","color: #ff0033; font-weight: bold"].concat([].slice.call(arguments)))}:function(){}:function(){}}(),canPlayVideo=function _v(){return _v._cache||(_v._cache=document.createElement("video")),!!_v._cache.canPlayType}(),isIpad=function _i(){return _i._cache||(_i._cache=/iPad/i.test(window.navigator.userAgent)||/Mini/i.test(window.navigator.userAgent)),_i._cache}(),isIos=function _ios(){return _ios._cache||(_ios._cache=navigator.userAgent.match(/Mozilla.*\((iPhone|iPad|iPod).*like Mac OS X.*AppleWebKit/)),_ios._cache}(),isAndroid=function _a(){return _a._cache||(_a.cache=navigator.userAgent.match(/Android/g)),_a.cache}(),isKindle=function _k(){return _k._cache||(_k.cache=navigator.userAgent.match(/Silk/g)),_k.cache}(),needsClickToPlay=function _nCTP(){return _nCTP._cache||(_nCTP.cache=navigator.userAgent.match(/Nexus 4/g)&&navigator.userAgent.match(/Android 4.2/g)),_nCTP.cache}(),P13N_VIDEO_AUTOSTART=null,isMobile=!1,isTablet=!1;navigator.userAgent.match(/Mobi/)?navigator.userAgent.match(/iPad/)?isTablet=!0:isMobile=!0:navigator.userAgent.match(/Tab/)?isTablet=!0:navigator.userAgent.match(/Android/)?isTablet=!0:navigator.userAgent.match(/Touch/)&&navigator.userAgent.match(/IE/)&&(isTablet=!0),/[?&]html5=false/.test(window.location.search)?document.cookie="espn.html5=0; path=/; domain=espn.com":/[?&]html5=./.test(window.location.search)&&(document.cookie="espn.html5=1; path=/; domain=espn.com");var countryMap=common.countryMap||{FSM:"FM",JAM:"JM",SHN:"SH",CXR:"CX",TLS:"TL",ROU:"RO",BTN:"BT",DJI:"DJ",KGZ:"KG",MOZ:"MZ",NOR:"NO",SYR:"SY",JPN:"JP",UZB:"UZ",FRO:"FO",IND:"IN",ARE:"AE",SYC:"SC",MNP:"MP",ARG:"AR",MNG:"MN",ARM:"AM",MNE:"ME",GEO:"GE",IMN:"IM",TJK:"TJ",KEN:"KE",GUY:"GY",ASM:"AS",SJM:"SJ",LIE:"LI",BDI:"BI",PYF:"PF",DMA:"DM",SAU:"SA",MMR:"MM",ATG:"AG",TKM:"TM",TKL:"TK",MLI:"ML",ABW:"AW",ATF:"TF",NPL:"NP",GTM:"GT",BFA:"BF",CUB:"CU",GUF:"GF",GUM:"GU",KWT:"KW",IOT:"IO",JOR:"JO",GGY:"GG",PHL:"PH",MLT:"MT",ZMB:"ZM",ATA:"AQ",BEN:"BJ",UKR:"UA",BEL:"BE",NAM:"NA",SUR:"SR",AUS:"AU",TZA:"TZ",BGD:"BD",MKD:"MK",SDN:"SD",GHA:"GH",THA:"TH",LKA:"LK",HMD:"HM",MYT:"YT",GIN:"GN",SEN:"SN",GIB:"GI",MYS:"MY",BWA:"BW",BGR:"BG",AUT:"AT",BVT:"BV",UMI:"UM",STP:"ST",HND:"HN",SWZ:"SZ",ZAF:"ZA",DZA:"DZ",KIR:"KI",VNM:"VN",TWN:"TW",CHE:"CH",BHR:"BH",BHS:"BS",AGO:"AO",SWE:"SE",CHL:"CL",CZE:"CZ",CHN:"CN",HKG:"HK",TGO:"TG",CYM:"KY",CIV:"CI",SGS:"GS",NLD:"NL",SGP:"SG",CYP:"CY",KHM:"KH",MHL:"MH",AFG:"AF",SVK:"SK",SVN:"SI",PLW:"PW",BIH:"BA",NFK:"NF",UGA:"UG",TTO:"TT",KOR:"KR",COK:"CK",YEM:"YE",COG:"CG",COD:"CD",PNG:"PG",HTI:"HT",RWA:"RW",TCA:"TC",FIN:"FI",MEX:"MX",TCD:"TD",SPM:"PM",IDN:"ID",REU:"RE",HRV:"HR",MWI:"MW",COM:"KM",VUT:"VU",TUN:"TN",COL:"CO",AZE:"AZ",TUR:"TR",POL:"PL",TUV:"TV",FJI:"FJ",GNQ:"GQ",NGA:"NG",VAT:"VA",AIA:"AI",PAN:"PA",GNB:"GW",BLM:"BL",MDV:"MV",PAK:"PK",SRB:"RS",MDG:"MG",VEN:"VE",WSM:"WS",URY:"UY",HUN:"HU",EGY:"EG",BLR:"BY",MDA:"MD",ALA:"AX",MUS:"MU",ALB:"AL",BLZ:"BZ",KNA:"KN",CMR:"CM",OMN:"OM",GMB:"GM",SSD:"SS",NIU:"NU",BMU:"BM",VCT:"VC",FLK:"FK",USA:"US",NZL:"NZ",GLP:"GP",LAO:"LA",MTQ:"MQ",NIC:"NI",PRY:"PY",ESH:"EH",PRT:"PT",CAF:"CF",ISR:"IL",KAZ:"KZ",VGB:"VG",SLE:"SL",PCN:"PN",ISL:"IS",SLB:"SB",LSO:"LS",PRI:"PR",DNK:"DK",BOL:"BO",DEU:"DE",AND:"AD",LBN:"LB",ITA:"IT",SLV:"SV",LBR:"LR",CAN:"CA",PRK:"KP",MSR:"MS",LBY:"LY",QAT:"QA",WLF:"WF",IRQ:"IQ",ETH:"ET",LCA:"LC",IRN:"IR",NCL:"NC",NRU:"NR",MCO:"MC",IRL:"IE",DOM:"DO",GRL:"GL",JEY:"JE",PSE:"PS",GAB:"GA",EST:"EE",SMR:"SM",MRT:"MR",ESP:"ES",VIR:"VI",CCK:"CC",ECU:"EC",PER:"PE",GRC:"GR",GRD:"GD",FRA:"FR",CPV:"CV",LUX:"LU",ZWE:"ZW",GBR:"GB",LVA:"LV",MAF:"MF",ERI:"ER",NER:"NE",MAR:"MA",LTU:"LT",ANT:"AN",SOM:"SO",BRN:"BN",RUS:"RU",CRI:"CR",MAC:"MO",BRA:"BR",TON:"TO",BRB:"BB"};return{debugLog:debugLog,canPlayVideo:canPlayVideo,isIpad:isIpad,isIos:isIos,isMobile:isMobile,isAndroid:isAndroid,isKindle:isKindle,needsClickToPlay:needsClickToPlay,autoPlayHelper:autoPlayHelper,get:get,getP13AutoStart:getP13AutoStart,getGeoLocation:getGeoLocation,getGeoLocationFromGeoService:getGeoLocationFromGeoService,getDefaultPlatform:getDefaultPlatform,fullScreenRequest:fullScreenRequest,convertToBoolean:convertToBoolean,checkMemHasVideo:checkMemHasVideo,getBusinessUnit:getBusinessUnit,cleanDimension:cleanDimension,hasFlashAndUsable:hasFlashAndUsable,getVideoPlaylistInfo:getVideoPlaylistInfo,getCMSFromTrackingName:getCMSFromTrackingName,requiresFlashUpgrade:navigator.userAgent.indexOf("Safari/537.76.4")!==-1&&navigator.userAgent.indexOf("Version/7")!==-1&&"undefined"!=typeof swfobject&&!swfobject.hasFlashPlayerVersion("14.0.0")||"undefined"!=typeof swfobject&&!swfobject.hasFlashPlayerVersion("10.0.0"),requiresFlashDownload:"undefined"!=typeof swfobject&&!swfobject.hasFlashPlayerVersion("0.0.1")}}("undefined"!=typeof common?common:{});"object"==typeof module&&module.exports&&(module.exports=Util)},{}],34:[function(require,module,exports){!function(){"use strict";var Util=require("./mobile/Util");window.PLAYER=null,window.espn=window.espn||{},["html5-video","player-image"].indexOf(Util.getDefaultPlatform())!==-1?window.espn.video=require("../distribution/espn.video.mobile.js"):window.espn.video=require("./desktop/shim.js")(jQuery,window.espn),window.espn.video.getDefaultPlatform=function(){return Util.getDefaultPlatform()},window.espn.video.embeded=window.espn.video.embedded}()},{"../distribution/espn.video.mobile.js":1,"./desktop/shim.js":32,"./mobile/Util":33}]},{},[34]),function($,_){function ESPNVideo(){this.previousVideo=null}function removeSonyPlayer(){sonyActive&&($("#sonyPlayerIframe").remove(),sonyActive=!1)}function removeLivestreamPlayer(videoId){livestreamActive&&(videoId&&"object"!=typeof videoId?$("#ls_embed_"+videoId).remove():$(".livestreamPlayer").remove(),livestreamActive=!1)}var espn_ui=window.espn_ui,sonyActive=!1,livestreamActive=!1;$(function(){$(document).on("link.ajax",removeSonyPlayer),$(document).on("link.ajax",removeLivestreamPlayer),$(document).on("page.beforeload",espn.video.remove)}),ESPNVideo.prototype.playExternal=function(beforeTarget,url){espn.video.remove(),this.previousVideo&&(this.previousVideo.removeClass("active"),this.previousVideo=null);var $playerElement=$("<video>");$playerElement.attr("id","videoPlayer"),$playerElement.attr("src",url),$($playerElement).insertBefore(beforeTarget);var vid=$playerElement[0];vid.removeAttribute("controls"),vid.onclick=function(){vid.paused?vid.play():vid.pause()},vid.play()},ESPNVideo.prototype.playFromElement=function(elem,trueAutoPlayed,event,bloomTarget){var $elem=$(elem);window.espn_ui.userParsed||$.publish("user.parsed"),$elem.closest(".is-headline").removeClass("is-headline");var $container=$elem.parents("figure.video"),id=null,playerType=null,url=null,poster=null;if($container.length||($container=$elem.find("figure.video"),$container.length)){var videoPlayList=$elem.parents("article.mediaList").find(".video-playlist-item").length>0;if($container.data("checkingGeorestrictions")===!0){var afterCheckingGeorestrictions=$container.data("afterCheckingGeorestrictions")||[];return afterCheckingGeorestrictions.push(function(){this.playFromElement.call(this,elem,trueAutoPlayed,event,bloomTarget)}.bind(this)),$container.data("afterCheckingGeorestrictions",afterCheckingGeorestrictions)}if($container.attr("data-video")){var videoData=$container.data("video");if(videoData){videoData=videoData.split(","),id=videoData[3],playerType=videoData[0];for(var i=0;i<videoData.length;i++)videoData[i].match(/url-/)?url=videoData[i].replace("url-",""):videoData[i].match(/poster-/)&&(poster=videoData[i].replace("poster-",""));
}}id||(id=$elem.data("id"),playerType="native"),this.previousVideo&&this.previousVideo.removeClass("active"),0!==$container.closest("#gamepackage-drives-wrap").length||0!==$container.closest("#gamepackage-scoring-summary").length||0!==$container.closest("#gamepackage-scoring-wrap").length||bloomTarget||$container.addClass("active"),this.previousVideo=$container,this.previousVideo.playerType=playerType;var playType=null;playType=trueAutoPlayed?"autoplay":"manual";var siteSection=espn.i18n.editionKey.match(/uk/)?"espnuk":"espn";window.iframe&&window.siteSection&&(siteSection=window.siteSection),espn_ui.device.isTablet?siteSection+="tablet":espn_ui.device.isMobile&&(siteSection+="mobile"),espn.i18n.editionKey.match(/cricinfo/)&&(siteSection="espn:cricinfo"),document.body.dataset?(document.body.dataset.sport&&(siteSection+=":"+document.body.dataset.sport),document.body.dataset.pagetype&&(siteSection+=":",siteSection+="index"===document.body.dataset.pagetype?"frontpage":document.body.dataset.pagetype)):siteSection=null,null!==url&&url.match(/unicorn/)&&(url+="&UMADPARAMcsid="+siteSection,$.cookie("SWID")&&(url+="&UMADPARAM_fw_euid="+encodeURI($.cookie("SWID"))));var showEndCard=!window.iframe||"null"===window.endCard||window.endCard,adTechOrder=[];videoPlayList&&(showEndCard=!1,0==$elem.parents("article.mediaList").find("li.mediaList__item:not(.mediaList__item--active, .mediaList__item--disabled)").length&&(showEndCard=!0),adTechOrder=["html5"]);var cmsSource=void 0;$container.attr("data-source")?cmsSource=$container.attr("data-source"):$elem.attr("data-source")&&(cmsSource=$elem.attr("data-source"));var playerOptions={cms:cmsSource,autoplay:!0,playType:playType,siteSection:siteSection,url:url,imageUrl:poster,endCard:showEndCard,playRelatedExternally:!1,shareButtons:window.iframe&&null!==window.shareButtons?window.shareButtons:"true",saveButton:"false",advertising:{adTechOrder:adTechOrder}};if("espnfc"!==espn.i18n.site){var shareUrl="http://"+espn.i18n.domain+"/video/clip?id={{ID}}",embedUrl="http://"+espn.i18n.domain+"/core/video/iframe?id={{ID}}&endcard=false";$.extend(playerOptions,{social:{url:shareUrl,embedCode:'<iframe width="640" height="360" src="'+embedUrl+'" allowfullscreen frameborder="0"></iframe>'}})}"espncricinfo"===espn.i18n.site&&(playerOptions.api={getRelated:function(a,b,c){var d,e,f;if(0===a.indexOf("espn:")){var initialCerebroId=$(espn.video.player.player.el_).closest("[data-cerebro-id]").data("cerebro-id");initialCerebroId&&(a=initialCerebroId)}return e="http://api.espncricinfo.com/2/multimedia/related",f={guid:a,format:"xml",key:"aca425ab-8dd1-4170-a453-27a1b015e67e"},d=[],this.request.get(e).query(f).accept("xml").end(function(a,b){var e,f,g,h,i;if(a)return c(a,null);for(h=b.xhr.responseXML.getElementsByTagName("item"),e=0,i=h.length;i>e;e++)f=h[e],g=f.querySelector("asseturl").textContent||":",d.push({caption:f.querySelector("caption").textContent,duration:f.getAttribute("duration"),headline:f.querySelector("headline").textContent,id:g.split(":")[1],poster:f.querySelector("thumbnailurl").textContent,source:g.split(":")[0],web:f.querySelector("hostedAtURL").textContent,mediaId:g});return c(null,d)})}});var auxVideoConfig=$container.data("video-config");if(auxVideoConfig){if(auxVideoConfig.api&&"string"==typeof auxVideoConfig.api.getRelated)try{!function(){eval(auxVideoConfig.api.getRelated),"function"==typeof getRelated?auxVideoConfig.api.getRelated=getRelated:delete auxVideoConfig.api}()}catch(e){}_.extend(playerOptions,auxVideoConfig)}this.play({video_id:id,type:playerType,container:bloomTarget?null:$elem,allow_docking:!1,clickEvent:event,bloom:!!bloomTarget,native_options:playerOptions})}},ESPNVideo.prototype.play=function(options){var defaults={video_id:!1,type:"native",container:!1,allow_docking:!1,native_options:{endCard:!0,autoplay:!0}},opts=$.extend({},defaults,options),watchSettings={},watchHasLoaded=$.Deferred();if(espn_ui.deferReady?watchHasLoaded.resolve():$.subscribe("espn.defer.end",function(){watchHasLoaded.resolve()}),opts.video_id!==!1&&(opts.bloom||opts.container!==!1&&opts.container.length>0&&!opts.bloom)){"watch"===opts.type&&watchHasLoaded.done(function(){var roadBlockURL=espn.watchespn.roadBlockURL;if(isNaN(parseInt(opts.video_id,10))?(watchSettings.channel=opts.video_id,roadBlockURL+="channel="+watchSettings.channel):(watchSettings.eventId=opts.video_id,roadBlockURL+="id="+watchSettings.eventId),!espn.watchespn.supported&&("autoplay"!==opts.native_options.playType||!espn_ui.device.isTablet&&!espn_ui.device.isMobile))return window.open(roadBlockURL,"_self"),!1}),$.event.trigger({type:"video_dock_remove"}),espn.video.remove(),removeSonyPlayer(),removeLivestreamPlayer(opts.video_id),$("#dockable, #watchespn-player").remove(),$(window).off(".video_docking"),$(document).off(".video_docking");var do_video_docking=!1;do_video_docking=!(do_video_docking&&window.Modernizr.touch||!do_video_docking),do_video_docking=!(do_video_docking&&"mobile"===espn_ui.media_query_in_use||!do_video_docking),do_video_docking=!(do_video_docking&&"false"===jQuery.cookie("espn_docking")||!do_video_docking),"true"===jQuery.cookie("espn_docking")&&(do_video_docking=!0);var queryKey=jQuery.parseUri(window.location).queryKey;queryKey&&queryKey.docking&&(do_video_docking=JSON.parse(queryKey.docking));var trackEvent=opts.clickEvent;if($(document).trigger("video.initialized",[trackEvent]),$(document).off("lightbox.beforeClose"),do_video_docking)espn_ui.Helpers.video_docking(opts);else if(opts.bloom)$(document).on("lightbox.beforeClose",espn.video.remove),espn.video.play(opts.video_id,opts.native_options,!0);else{var playerHtml="";"native"===opts.type?playerHtml='<div id="videoPlayer"></div>':"watch"===opts.type?playerHtml='<div id="watchespn-player"></div>':"sonyliv"===opts.type;var $playerContainer=null;if(playerHtml&&($playerContainer=$(playerHtml).insertAfter(opts.container)),"native"===opts.type)opts.native_options.targetReplaceId=$playerContainer.attr("id"),espn.video.play(opts.video_id,opts.native_options,!0);else if("watch"===opts.type)watchHasLoaded.done(function(){espn.watchespn.embed(watchSettings)});else if("sonyliv"===opts.type){var frameW="100%",frameH="100%";playerHtml='<iframe id="sonyPlayerIframe" class="videoPlayer" width="'+frameW+'" height="'+frameH+'" frameborder="0" src="/core/standalone/sonyliviframe?videoid='+opts.video_id+'" allowfullscreen webkitallowfullscreen mozallowfullscreen></iframe>',opts.container.before(playerHtml),sonyActive=!0}else"livestream"===opts.type&&(playerHtml='<iframe id="livestreamIframe" class="videoPlayer" width="640" height="360" frameborder="0" src="https://livestream.com/accounts/6115179/events/'+opts.video_id+'/player?width=640&height=360&enableInfoAndActivity=true&defaultDrawer=&autoPlay=true&mute=false" allowfullscreen webkitallowfullscreen mozallowfullscreen> </iframe>',opts.container.before(playerHtml),livestreamActive=!0)}}},ESPNVideo.prototype.isDeviceRestricted=function(obj,callback){var list="";obj instanceof jQuery?list=obj.attr("data-device-restrictions")||"":"object"==typeof obj&&_.get(obj,["deviceRestrictions","type"])&&_.get(obj,["deviceRestrictions","devices"])&&obj.deviceRestrictions.devices.constructor===Array&&obj.deviceRestrictions.devices.length>0&&(list=obj.deviceRestrictions.type+"-"+obj.deviceRestrictions.devices.join("|"));var isRestricted=!1,orSplit=list.split("-");if(orSplit.length>=2){var type=orSplit[0];return isRestricted=espn_ui.device.isMobile?"whitelist"===type?!orSplit[1].match("handset"):!!orSplit[1].match("handset"):"whitelist"===type?!orSplit[1].match("desktop"):!!orSplit[1].match("desktop"),void callback(isRestricted)}callback(isRestricted)},ESPNVideo.prototype.isGeoRestricted=function(obj,callback){var isRestricted=!1,$obj=$(obj);$obj.data("checkingGeorestrictions",!0),espn.geo.getLocation().done(function(loc){if($obj.removeData("checkingGeorestrictions"),loc&&_.get(loc,["country","isoCodeAlpha2"])){var locLower=loc.country.isoCodeAlpha2.toLowerCase(),videoData="";if(obj instanceof jQuery?videoData=obj.attr("data-video"):"object"==typeof obj&&_.get(obj,["geoRestrictions","type"])&&_.get(obj,["geoRestrictions","countries"])&&obj.geoRestrictions.countries.constructor===Array&&obj.geoRestrictions.countries.length>0&&(videoData=obj.geoRestrictions.type+"-"+obj.geoRestrictions.countries.join("|")),videoData){var videoInfo=videoData.split(","),geoData=videoInfo.filter(function(item){return item.indexOf("-")>0});if(geoData&&geoData.length>0){var typeAndLocations=geoData[0].split("-");if(typeAndLocations&&typeAndLocations.length>1){var type=typeAndLocations[0],locations=typeAndLocations[1];locations=locations.split("|");for(var found=!1,i=0;i<locations.length;i++)if(locations[i]&&locations[i].toLowerCase()===locLower){found=!0;break}isRestricted="whitelist"===type&&!found||"blacklist"===type&&found}}}callback(isRestricted),($obj.data("afterCheckingGeorestrictions")||[]).forEach(function(func){"function"==typeof func&&func(isRestricted)}),$obj.removeData("afterCheckingGeorestrictions")}})};var isUsingDesktopVideoPlayer=espn.video.getDefaultPlatform&&["html5-video","player-image"].indexOf(espn.video.getDefaultPlatform())===-1;isUsingDesktopVideoPlayer&&!_.get(window,"espn.track.data.omniture".split("."))&&!function(){var originalPlay=espn.video.play,deferredPlaysArgs=[];espn.video.play=function(){deferredPlaysArgs.push(arguments)};var undeferVideoPlayHandle=null,undeferVideoPlayTimeout=null,undeferVideoPlay=function(){null!==undeferVideoPlayHandle&&($.unsubscribe(undeferVideoPlayHandle),undeferVideoPlayHandle=null),null!==undeferVideoPlayTimeout&&(clearTimeout(undeferVideoPlayTimeout),undeferVideoPlayTimeout=null),espn.video.play=originalPlay,deferredPlaysArgs.forEach(function(deferredPlayArgs){espn.video.play.apply(window,deferredPlayArgs)}),deferredPlaysArgs=[]},undeferVideoPlayHandle=$.subscribe("omni.pageTracked",undeferVideoPlay),undeferVideoPlayTimeout=setTimeout(undeferVideoPlay,1e4)}(),ESPNVideo.prototype.isRestricted=function(obj,callback){this.isGeoRestricted(obj,function(isGeoRestricted){return isGeoRestricted?callback(!0):void this.isDeviceRestricted(obj,function(isDeviceRestricted){return callback(isDeviceRestricted)})}.bind(this))},espn_ui.Helpers.video=new ESPNVideo}(jQuery,window._),function($){function initializeVideoFunctionality(){checkGeoRestrictions(),checkDeviceRestrictions(),$("body").off("click",".video-play-button:not(.video-play-button-external,.app_partial), .game-highlights-button, .video-playlist-item"),$("body").on("click",".video-play-button:not(.video-play-button-external,.app_partial), .game-highlights-button, .video-playlist-item",function(event){if(!($(this).hasClass("game-highlights-button")&&navigator.userAgent.match(/Android/)&&window.espn_ui.device.isMobile)){var $this=$(this);if($this.hasClass("video-playlist-item")){var figureVideo=$this.siblings("figure.video");figureVideo.data("video",$this.attr("data-video")),figureVideo.data("id",$this.attr("data-id")),figureVideo.data("source",$this.attr("data-source")),espn.video.remove();var playButton=figureVideo.find(".video-play-button");espn_ui.Helpers.video.playFromElement(playButton,!1,event)}else if(espn_ui.device.isMobile)espn_ui.Helpers.video.playFromElement(this,!1,event);else{var bloom=$(this).closest("#now-feed").length>0||$(this).closest("#scoreboard-page").length>0||$(this).closest(".module_bloom_behavior").length>0;$(this).closest(".sub-module.game-highlights").length>0&&(bloom=!0),bloom||espn_ui.Helpers.video.playFromElement(this,!1,event)}}})}function setAsGeoRestricted($figure){var $article=$figure.closest("article"),editCarousel=$article.hasClass("editorialCarousel");if($article.hasClass("carousel-item")||editCarousel){var $slide=$figure.closest("div.slick-slide");if($slide.length>0){var slickIndex=$slide.data("slick-index");$article.find("div.slick-slider").slick("slickRemove",slickIndex)}else editCarousel?$figure.closest("div.miniCardCarousel__slide").remove():$figure.closest("div.item").remove();if(editCarousel&&0===$article.find("div.miniCardCarousel__slide").length){var $slide=$figure.closest("div.slick-slide");if($slide.length>0){var slickIndex=$slide.data("slick-index");$article.find("div.slick-slider").slick("unslick"),$article.parent().remove()}else $article.parent().remove()}}else if($article.hasClass("video-standalone"))$article.addClass("video-geo-restricted");else if($figure.hasClass("video-playlist-item"))$figure.remove();else if($figure.hasClass("media-wrapper")&&$figure.hasClass("video"))$figure.closest(".contentItem").css("display","none");else if($figure.siblings(".video-playlist-item").length>0){var video=$figure.siblings(".video-playlist-item:not(.restricted):first");video.length>0?video.trigger("click"):$figure.parents(".sub-module.mediaList").remove()}else $figure.removeAttr("data-video").find('span[class^="video-"]').remove();var $contentCollection=$figure.closest(".contentCollection");$contentCollection.find(".contentItem").length===$contentCollection.find(".contentItem[style='display: none;']").length&&$contentCollection.css("display","none")}function checkGeoRestrictions(){$(".video-play-button.restricted, .mediaList__list .video-playlist-item.restricted").each(function(index,element){var $element=$(element);$element.hasClass("video-play-button")&&($element=$element.closest("figure")),espn_ui.Helpers.video.isGeoRestricted($element,function(isRestricted){isRestricted&&setAsGeoRestricted($element)})})}function checkDeviceRestrictions(){$(".video[data-device-restrictions]").each(function(index,element){espn_ui.Helpers.video.isDeviceRestricted($(element),function(isRestricted){isRestricted&&setAsGeoRestricted($(element))})})}var espn_ui=window.espn_ui,autoplayEligibleVideos=function(){initializeVideoFunctionality();var pageTypeName=window.espn_ui.Helpers.util.getPageTypeFromURL(window.location.href),playVideo=!0;espn_ui.device.isMobile||("index"===pageTypeName&&espn.i18n.indexAutoStart===!0||"scoreboards"===pageTypeName&&espn.i18n.videoAutoStart.scoreboard===!0||"story"===pageTypeName||0===pageTypeName.indexOf("game-package"))&&espn.video.getAutoPlay({callback:function(autoPlay){if(autoPlay){var articleContainer=$("article").find("figure.article-figure.video"),videoContainer=articleContainer.length>0?articleContainer:$("figure.feed-item-figure.video"),header=$("header.game-package"),trackingName=pageTypeName,gamepackagePageType="";if(pageTypeName.match(/game-package/)&&espn.gamepackage)gamepackagePageType="game"===espn.gamepackage.type?"summary":espn.gamepackage.type,trackingName=espn.gamepackage.league+"-game-"+gamepackagePageType;else if(videoContainer.length>0&&videoContainer.data){var videoPartner=videoContainer.data("contributing-partner")||"";videoPartner&&(trackingName=videoPartner.toLowerCase()+":"+trackingName)}if(window.omniTrackingName=trackingName,0===pageTypeName.indexOf("game-package")&&(header.hasClass("post")||header.hasClass("pre"))){var hasCarouselVideos=$(".video-playlist div[data-index='0']").find("figure.video-carousel.video");0===hasCarouselVideos.length&&(hasCarouselVideos=$(".sub-module.top-stories").find("figure.feed-item-figure.video")),hasCarouselVideos.length>0&&(videoContainer=hasCarouselVideos),$("#gamepackage-play-by-play").length>0&&(videoContainer=$())}else 0===pageTypeName.indexOf("game-package")&&header.hasClass("live")?playVideo=!1:"scoreboards"===pageTypeName&&(videoContainer=$("article.mediaList--highlights ").find("figure.video"));if("index"===pageTypeName){var videoSelector=espn_ui.onefeed?"article.contentItem--hero:eq(0) figure.media-wrapper.video":".news-feed-item:eq(0) figure.feed-item-figure.video";videoContainer=$(videoSelector)}var $firstPlayButton=$(videoContainer.find(".video-play-button")[0]);0===$firstPlayButton.length&&($firstPlayButton=$(videoContainer.find(".cscore_button--video")[0])),$firstPlayButton.is(":visible")&&playVideo&&espn_ui.Helpers.video.playFromElement($firstPlayButton,!0,null)}}})};$("body").on("click","a.watch-event-link",function(event){if(espn_ui.device.isIos){event.preventDefault();var watchUrl=$(this).attr("href"),roadblockUrl="http://m.espn.com/watch/roadblock",queryString="";if(void 0!==watchUrl){var queryStringStartIndex=watchUrl.indexOf("?");if(queryStringStartIndex===-1){queryStringStartIndex=watchUrl.indexOf("/_/");for(var queryParams=watchUrl.substring(queryStringStartIndex+3,watchUrl.length),queryParamsArray=queryParams.split("/"),queryStringDelimiter="?",i=0;i<queryParamsArray.length;i++)queryString+=queryStringDelimiter+queryParamsArray[i],queryStringDelimiter=i%2===0?"=":"&"}else queryString=watchUrl.substring(queryStringStartIndex,watchUrl.length)}return""!==queryString&&(roadblockUrl+=queryString,window.open(roadblockUrl,"_self")),!1}}),$(document).on("page.render ready page.track",function(evt){var isCricGamepackage="gamepackage"===$("body").attr("data-pagetype")&&"cricket"===$("body").attr("data-sport");isCricGamepackage?"ready"===evt.type?$(window).on("load",autoplayEligibleVideos):"page"===evt.type&&autoplayEligibleVideos():autoplayEligibleVideos()}),$(document).on("contextmenu","video",function(e){e.preventDefault()}),$.subscribe("espn.video.ready",function(){window.iframe||$("#videoPlayerOoyalaPlayerOutterWrapper").remove()}),$.subscribe("espn.video.autostart.disabled",function(){$.cookie("VAS","2",{domain:window.espn_ui.Helpers.util.getCookieDomain(),expires:365})}),$.subscribe("espn.video.autostart.enabled",function(){$.cookie("VAS","1",{domain:window.espn_ui.Helpers.util.getCookieDomain(),expires:365})}),$(document).on("feed.load",function(){checkGeoRestrictions(),checkDeviceRestrictions()}),$(document).on("history.change",function(){$("#videoPlayer").detach()}),espn_ui&&espn_ui.Helpers&&espn_ui.Helpers.video&&(espn_ui.Helpers.video.initializeVideoFunctionality=initializeVideoFunctionality)}(jQuery),window.espn_ui.Helpers.history=function(window,document,$){var espn_ui=window.espn_ui,History=window.history,$document=$(document),historyEnabled=false&&History&&History.pushState,storeHtml=!(navigator.userAgent.match(/CriOS/i)||navigator.userAgent.match(/iPad/i)&&1===window.devicePixelRatio||navigator.userAgent.match(/Android/i));$(document).on("page.load",function(e,data,url,options){options=options||{};try{var scrollPos=window.history.state.scrollPos}catch(e){var scrollPos=0}espn.saveHistory===!0&&(window.scrollTo(0,scrollPos),espn.saveHistory=!1),"history"!==options.eventType&&espn_ui.Helpers.history.pushState(data,null,url)});var safeReplaceState=function(statedata,title,url){try{History.replaceState(statedata,title,url)}catch(e){statedata.content="",History.replaceState(statedata,title,url)}};return{enabled:historyEnabled,storeHtml:storeHtml,firstLoad:function(){historyEnabled&&(espn.saveHistory=!1,null===window.history.state&&safeReplaceState(espn_ui.Helpers.history.getStateData({eventType:"firstLoad",analytics:espn.track&&espn.track.data?espn.track.data:{},ads:espn.ads&&espn.ads.configPre?espn.ads.configPre:{},tier2Nav:espn.nav&&espn.nav.tier2?espn.nav.tier2:"",tier3Nav:espn.nav&&espn.nav.tier3?espn.nav.tier3:"",customStyleSheet:$("body").data("customstylesheet"),pubKey:espn_ui.pubKey||null}),null,window.location.href))},init:function(){historyEnabled&&(espn_ui.Helpers.history.firstLoad(),$(window).on("popstate",function(e){espn_ui.Helpers.history.change(e.originalEvent)}))},change:function(event){historyEnabled&&(espn.saveHistory=!0,$document.trigger("history.change",[event.state]))},getStateData:function(data){var pageTitle=$("title").html(),pageDescription=$('meta[name="description"]').attr("content"),pageSport=$("body").attr("data-sport")||"",storeHtml=window.espn_ui.Helpers.history.storeHtml,autoCSS=!1,onefeed=espn_ui.onefeed===!0,pubKey=espn_ui.pubKey;data=data||{},espn_ui.Helpers.page||(espn_ui.Helpers.page={},espn_ui.Helpers.page.contentPreBehavior=storeHtml?$("#main-container").html():"");var content={};storeHtml&&(content={html:espn_ui.Helpers.page.contentPreBehavior});var customNav,$customNav=$("#custom-nav");return $customNav.length>0&&(customNav=$customNav[0].outerHTML),$("link.page-type-include").each(function(i,e){$(e).attr("href").indexOf("-auto")>-1&&(autoCSS=!0)}),$.extend(!0,{url:window.location.href,scrollPos:0,sport:[pageSport],handlerName:"",meta:{title:pageTitle,description:pageDescription,keywords:$('meta[name="keywords"]').attr("content"),ogTitle:pageTitle,ogDescription:pageDescription,twitterTitle:pageTitle,twitterDescription:pageDescription,type:$("body").attr("data-pagetype"),autoCSS:autoCSS},tabIndex:2,content:content,customNav:customNav,react:!1,customStyleSheet:data.customStyleSheet,onefeed:onefeed,pubKey:pubKey},data)},pushState:function(obj,title,url){if(obj&&historyEnabled){!storeHtml&&obj.content&&(obj.content="");var tier2NavState=espn_ui.Helpers.page.changeT2?obj.tier2Nav:espn.nav&&espn.nav.tier2?espn.nav.tier2:void 0,tier3NavState=obj.tier3Nav?obj.tier3Nav:espn.nav&&espn.nav.tier3?espn.nav.tier3:void 0,stateObj={tabIndex:obj.tabIndex,meta:obj.meta,ads:obj.ads,analytics:obj.analytics,scrollPos:obj.scrollPos,content:obj.content,url:url,sport:obj.sport,handlerName:obj.handlerName,tier2Nav:tier2NavState,tier3Nav:tier3NavState,scripts:obj.scriptsToLoad,customNav:obj.customNav,customStyleSheet:obj.customStyleSheet,onefeed:obj.onefeed,pubKey:obj.pubKey};try{History.pushState(stateObj,title,url)}catch(err){stateObj.content="",History.pushState(stateObj,title,url)}$document.trigger("page.pushState",[obj,url])}},updateState:function(key,value){if(historyEnabled){var currentHistory=history.state;currentHistory&&(currentHistory[key]=value,safeReplaceState(currentHistory,null,window.location.href))}}}}(this,this.document,window.jQuery),function($,espn_ui,newrelic){if(newrelic){var device="desktop";void 0!==espn_ui&&void 0!==espn_ui.deviceType&&(device=espn_ui.deviceType),newrelic.setCustomAttribute("pagetype",$("body").data("pagetype")),newrelic.setCustomAttribute("sport",$("body").data("sport")),newrelic.setCustomAttribute("device",device);var resourcesToTrack=[{name:"fonts",path:"/redesign/fonts/base64-benton-woff.css"},{name:"head-js",path:"/js/espn-head.js"},{name:"i18n",path:"/format/modules/head/i18n"},{name:"critical-js",path:"/js/espn-critical"+("mobile"==device?"-mobile":"")+".js"}],otherCSS=0,otherJS=0;$(window).load(function(){if(newrelic.setCustomAttribute("scrollTop",$(this).scrollTop()),"object"==typeof window.performance&&"function"==typeof window.performance.getEntriesByName){for(var resources=window.performance.getEntriesByType("resource"),i=0;i<resources.length;i++){for(var added=!1,resourceTime=Math.round(resources[i].responseEnd-resources[i].startTime),r=0;r<resourcesToTrack.length;r++)resourcesToTrack[r]&&resources[i].name.indexOf(resourcesToTrack[r].path)!==-1&&(newrelic.setCustomAttribute(resourcesToTrack[r].name,resourceTime),added=!0);added||resources[i].name.indexOf(espn_ui.staticRef)===-1||(resources[i].name.indexOf(".js")!==-1?otherJS+=resourceTime:resources[i].name.indexOf(".css")!==-1&&(otherCSS+=resourceTime))}newrelic.setCustomAttribute("otherCSS",otherCSS),newrelic.setCustomAttribute("otherJS",otherJS)}window.espn&&window.espn.measure&&newrelic.setCustomAttribute("jsErrors",window.espn.measure.errCount)}),$.when(espn.geo.getLocation()).done(function(locationData){if(locationData){var connection=locationData.connection||"unknown";newrelic.setCustomAttribute("connection",connection);var country=locationData.country&&locationData.country.isoCodeAlpha2||"unknown";newrelic.setCustomAttribute("isoCode",country)}});var isPageVisible=function(){function PageVisAPIInfo(evt_name,dom_prop_name){this.eventName=evt_name,this.domPropertyName=dom_prop_name}function isPageVisible(){var prop_name,raw_val,doc,is_visible=-1;try{doc=document,prop_name=pagevisapi_info.domPropertyName,prop_name!=NONE&&(raw_val=doc[prop_name]),prop_name==VIS_STATE?is_visible="visible"===raw_val?1:0:prop_name!=NONE&&(is_visible=raw_val===!1?1:0)}catch(e){is_visible=-1}return is_visible}var VISBLTY="visibility",HID="hidden",CHANGE="change",MOZ="moz",WBK="webkit",MS="ms",CM_STATE="State",CM_VISBLTY="Visibility",CM_HID="Hidden",NONE="none",VIS_STATE=VISBLTY+CM_STATE;return BROWSER_VIS_API_PROPS=function(){var prop_name,evt_name,alt_evt_name,ret={};return prop_name=VIS_STATE,evt_name=VISBLTY+CHANGE,ret[prop_name]=new PageVisAPIInfo(evt_name,prop_name),prop_name=MOZ+CM_VISBLTY+CM_STATE,alt_evt_name=MOZ+evt_name,ret[prop_name]=new PageVisAPIInfo(alt_evt_name,prop_name),prop_name=WBK+CM_VISBLTY+CM_STATE,alt_evt_name=WBK+evt_name,ret[prop_name]=new PageVisAPIInfo(alt_evt_name,prop_name),prop_name=WBK+CM_VISBLTY+CM_STATE,alt_evt_name=MS+evt_name,ret[prop_name]=new PageVisAPIInfo(alt_evt_name,prop_name),prop_name=HID,ret[prop_name]=new PageVisAPIInfo(evt_name,prop_name),prop_name=MOZ+CM_HID,alt_evt_name=MOZ+evt_name,ret[prop_name]=new PageVisAPIInfo(alt_evt_name,prop_name),prop_name=WBK+CM_HID,alt_evt_name=WBK+evt_name,ret[prop_name]=new PageVisAPIInfo(alt_evt_name,prop_name),prop_name=MS+CM_HID,alt_evt_name=MS+evt_name,ret[prop_name]=new PageVisAPIInfo(alt_evt_name,prop_name),ret}(),pagevisapi_info=function(){var doc,prop_name,ret;try{if(doc=document)for(prop_name in BROWSER_VIS_API_PROPS)if(prop_name in doc){ret=BROWSER_VIS_API_PROPS[prop_name];break}}catch(e){ret=NULL}return ret||(ret=new PageVisAPIInfo(NONE,NONE)),ret}(),isPageVisible}();newrelic.setCustomAttribute("visible",isPageVisible())}}(window.jQuery,window.espn_ui,window.newrelic),function($){var loadedClass="imageLoaded";document.body.addEventListener("load",function(event){var tgt=event.target;"IMG"===tgt.tagName&&$(tgt).addClass(loadedClass)},!0),document.body.addEventListener("error",function(event){var tgt=event.target;if("IMG"===tgt.tagName){var container=$(tgt),mainContainer=$(tgt).closest("picture"),imageContainer=$(tgt),imageContainerAttribute=imageContainer.attr("data-image-container"),clearContainer=!1,tgtClassName=tgt.className;if("undefined"!=typeof imageContainerAttribute&&imageContainerAttribute!==!1&&imageContainer.closest(imageContainerAttribute).length>0&&(imageContainer=imageContainer.closest(imageContainerAttribute),1===imageContainer.closest(".desktop_story_news_feed").length?imageContainer.closest(".has-related").removeClass("has-related"):imageContainer.closest(imageContainerAttribute).parent().hasClass("has-media")?imageContainer.closest(imageContainerAttribute).parent().removeClass("has-media"):(imageContainer.closest(imageContainerAttribute).parent().hasClass("news-feed-story-package")||imageContainer.closest(imageContainerAttribute).parent().hasClass("inline-photo"))&&(clearContainer=!0)),mainContainer&&mainContainer.length>0&&$(container).parents(mainContainer).addClass("image-removed"),clearContainer)imageContainer.closest(imageContainerAttribute).html("");else{if("gs-logo-away"===tgtClassName||"gs-logo-home"===tgtClassName){var className="home-missing-logo";"gs-logo-away"===tgtClassName&&(className="away-missing-logo"),imageContainer.closest(".cscore_competitors").addClass(className)}else tgtClassName.match(/\bscoreboard-logo-away\b/)?imageContainer.parent(".back").addClass("image-removed"):tgtClassName.match(/\bscoreboard-logo-home\b/)?imageContainer.parent(".front").addClass("image-removed"):tgtClassName.match(/\bteam-logo\b/)&&imageContainer.parent(".nav-logo-wrap").addClass("image-removed");imageContainer.remove()}}},!0)}(jQuery),function($){var cookieName="block.check",blockCheck=$.cookie(cookieName);if(window._espntrack=window._espntrack||[],blockCheck){if(null!=blockCheck&&(blockCheck+="",blockCheck.indexOf("|")>-1)){var parts=blockCheck.split("|");2==parts.length&&("false"===parts[0]&&(espn.block.ads=!1),"false"===parts[1]&&(espn.block.tracking=!1),window.newrelic&&(newrelic.setCustomAttribute("_a",espn.block.ads),newrelic.setCustomAttribute("_t",espn.block.tracking)),window._espntrack.push({eVar46:espn.block.ads+"|"+espn.block.tracking}))}}else{var adCheck=$.Deferred(),trackCheck=$.Deferred();$.subscribe("ad.rendered",function(key,event){espn.block.ads=!1,adCheck.resolve()}),$(window).load(function(){void 0===window.googletag.impl&&adCheck.resolve(),"pending"===adCheck.state()&&$.getScript("http://a.espncdn.com/ad/doubleclick/ads.js").always(function(){adCheck.resolve()}),$.getScript("http://a.espncdn.com/js/omniture/tracking.js").always(function(){trackCheck.resolve()}),window.newrelic&&(adCheck.done(function(){newrelic.setCustomAttribute("_a",espn.block.ads)}),trackCheck.done(function(){newrelic.setCustomAttribute("_t",espn.block.tracking)})),$.when(adCheck,trackCheck).done(function(){var lUrl="/core/l?a="+espn.block.ads+"&t="+espn.block.tracking,xmlhttp=new XMLHttpRequest;xmlhttp&&(xmlhttp.open("GET",lUrl,!0),xmlhttp.send());var oneHourLater=new Date;oneHourLater.setTime(Date.now()+36e5),$.cookie(cookieName,espn.block.ads+"|"+espn.block.tracking,{expires:oneHourLater}),window._espntrack.push({eVar46:espn.block.ads+"|"+espn.block.tracking})})})}}(window.jQuery),function(){var espn_ui=window.espn_ui,widthRegex=/&w=(\d)+/,heightRegex=/&h=(\d)+/;espn_ui.Helpers.resizeCombinerImage=function(href,opts){var newW,newH,baseHeight=opts&&opts.h||25,baseWidth=opts&&opts.w||25,dpr=opts.dpr||window.devicePixelRatio||1,scale=opts.scale,transparent=opts.transparent,cquality=opts.cquality;if(dpr>3&&(dpr=3),href){if(href.indexOf("/combiner/")===-1&&(href=href.replace(/a(?:\d|ssets)?\.(?:espncdn|espn\.go)\.com\/i\//i,function(){return"a1.espncdn.com/combiner/i?img=/i/"})),href.indexOf("/combiner/")===-1)return href;opts.h!==!1&&(newH="&h="+Math.ceil(baseHeight*dpr),href.match(heightRegex)?href=href.replace(heightRegex,newH):href+=newH),opts.w!==!1&&(newW="&w="+Math.ceil(baseWidth*dpr),href.match(widthRegex)?href=href.replace(widthRegex,newW):href+=newW),scale&&(href+="&scale="+scale),transparent&&(href+="&transparent=true"),cquality&&(href+="&cquality="+cquality)}return href},espn_ui.Helpers.getSportImage=function(icon,opts){var newW,newH,href,whitelist={"all-sports":!0,"all-sports-college":!0,audio02:!0,baseball:!0,basketball:!0,boxing:!0,"cricinfo-app":!0,cricket:!0,"cricket-white":!0,"cricket-black":!0,equestrian:!0,esports:!0,football:!0,"football-college":!0,golf:!0,gymnastics:!0,hockey:!0,lacrosse:!0,listen02:!0,mma:!0,nascar:!0,olympics:!0,rugby:!0,soccer:!0,"stadium-art":!0,swimming:!0,tennis:!0,xgames:!0},baseHeight=opts&&opts.h||80,baseWidth=opts&&opts.w||80,dpr=opts.dpr||window.devicePixelRatio||1,scale=opts.scale,transparent=opts.transparent,cquality=opts.cquality||40;return icon&&whitelist[icon]&&(href=espn_ui.insertRef+"/combiner/i?img=/redesign/assets/img/icons/ESPN-icon-"+icon+".png",opts.h!==!1&&(newH="&h="+Math.ceil(baseHeight*dpr),href.match(heightRegex)?href=href.replace(heightRegex,newH):href+=newH),opts.w!==!1&&(newW="&w="+Math.ceil(baseWidth*dpr),href.match(widthRegex)?href=href.replace(widthRegex,newW):href+=newW),scale&&(href+="&scale="+scale),transparent&&(href+="&transparent=true"),cquality&&(href+="&cquality="+cquality)),href}}();



</script>


        <script type='text/javascript'>
            var espn = espn || {};

            // Build skeleton for namespace.
            espn.scoreboard = {
                topics: {
                    scoreboard: '',
                    scoreboxes: []
                },
                models: {},
                views: {},
                collections: {},
                timezoneOffset: 0,
                favorites: {},
                editData: {},
                activeLeague: 'mlb',
                hiddenLeague: 'null',
                settings: {
                    activeLeagues: [{"sportId":0,"displayName":"Top Events","league":"topEvents","sortOrder":0},{"sportId":10,"top25Only":true,"displayName":"MLB","league":"mlb","sortOrder":1,"link":{"onclick":"","href":"http://www.espn.com/mlb/scoreboard","title":"Full Scoreboard &#187;"},"sport":"baseball"},{"sportId":775,"top25Only":true,"displayName":"UEFA Champions League","league":"uefa.champions","sortOrder":2,"link":{"onclick":"","href":"http://www.espnfc.com/scores?cc=5901","title":"Full Scoreboard &#187;"},"sport":"soccer"},{"sportId":770,"top25Only":true,"displayName":"MLS","league":"usa.1","sortOrder":3,"link":{"onclick":"","href":"http://www.espnfc.com/scores?cc=5901","title":"Full Scoreboard &#187;"},"sport":"soccer"},{"sportId":8206,"top25Only":true,"displayName":"Copa MX","league":"mex.copa_mx","sortOrder":4,"link":{"onclick":"","href":"http://www.espnfc.com/scores?cc=5901","title":"Full Scoreboard &#187;"},"sport":"soccer"},{"sportId":776,"top25Only":true,"displayName":"UEFA Europa League","league":"uefa.europa","sortOrder":12,"link":{"onclick":"","href":"http://www.espnfc.com/scores?cc=5901","title":"Full Scoreboard &#187;"},"sport":"soccer"},{"sportId":1106,"top25Only":true,"displayName":"Golf (M)","league":"pga","sortOrder":14,"link":{"onclick":"","href":"http://www.espn.com/golf/leaderboard","title":"Full Leaderboard &#187;"},"sport":"golf"},{"sportId":1107,"top25Only":true,"displayName":"Golf (W)","league":"lpga","sortOrder":15,"link":{"onclick":"","href":"http://www.espn.com/golf/leaderboard?tour=lpga","title":"Full Leaderboard &#187;"},"sport":"golf"},{"sportId":59,"top25Only":true,"displayName":"WNBA","league":"wnba","sortOrder":16,"link":{"onclick":"","href":"http://www.espn.com/wnba/scoreboard","title":"Full Scoreboard &#187;"},"sport":"basketball"},{"sportId":28,"top25Only":true,"displayName":"NFL","league":"nfl","sortOrder":16,"link":{"onclick":"","href":"http://www.espn.com/nfl/scoreboard","title":"Full Scoreboard &#187;"},"sport":"football"},{"sportId":851,"top25Only":true,"displayName":"Tennis (M)","league":"atp","sortOrder":17,"link":{"onclick":"","href":"http://www.espn.com/tennis/dailyResults","title":"Full Results &#187;"},"sport":"tennis"},{"sportId":23,"top25Only":true,"displayName":"NCAAF","league":"college-football","sortOrder":17,"link":{"onclick":"","href":"http://www.espn.com/college-football/scoreboard","title":"Full Scoreboard &#187;"},"sport":"football"},{"sportId":900,"top25Only":true,"displayName":"Tennis (W)","league":"wta","sortOrder":18,"link":{"onclick":"","href":"http://www.espn.com/tennis/dailyResults","title":"Full Results &#187;"},"sport":"tennis"}],
                    useStatic: false,
                    initialTopic: 'event-baseball-mlb',
                    version: 2,
                    topEventsId: 4379198




                },
                data: {"sports":[{"uid":"s:1","leagues":[{"uid":"s:1~l:10","smartdates":["2017-09-13T07:00Z","2017-09-14T07:00Z","2017-09-15T07:00Z"],"name":"Major League Baseball","id":"10","shortName":"MLB","abbreviation":"mlb","slug":"mlb","events":[{"date":"2017-09-14T17:10:00Z","summary":"2017-09-14T17:10:00Z","broadcast":"","seriesSummary":"CHW wins 8-7","seasonType":2,"competitionId":"370914106","period":0,"timeValid":true,"link":"","broadcasts":[{"callLetters":"FXDT","broadcasterId":90,"broadcastId":90,"name":"Fox Sports Detroit","typeId":1,"type":"TV","priority":0,"shortName":"FSDT","region":"us","lang":"en","isNational":false}],"clock":0,"onWatch":false,"uid":"s:1~l:10~e:370914106~c:370914106","competitors":[{"alternateColor":"ff6600","competitionIdPrevious":"370913105","color":"002d5c","displayName":"Detroit Tigers","type":"team","abbreviation":"DET","competitionIdNext":"370915106","uid":"s:1~l:10~t:6","homeAway":"home","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/det.png","record":"60-85","name":"Tigers","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/det.png","id":"6","group":"2"},{"alternateColor":"c4ced4","competitionIdPrevious":"370913107","color":"1b1516","displayName":"Chicago White Sox","type":"team","abbreviation":"CHW","competitionIdNext":"370915106","uid":"s:1~l:10~t:4","homeAway":"away","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/chw.png","record":"58-87","name":"White Sox","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/chw.png","id":"4","group":"2"}],"appLinks":[{"rel":["event","app","sportscenter"],"href":"sportscenter://x-callback-url/showGame?sportName=baseball&leagueAbbrev=mlb&gameId=370914106"}],"odds":{"underOdds":-120,"awayTeamOdds":{"underdog":true,"team":{"id":"4","abbreviation":"CHW"},"favorite":false,"moneyLine":114},"away":{"moneyLine":114},"spread":1.5,"home":{"moneyLine":-124},"overUnder":10.5,"provider":{"name":"Westgate","id":"25","priority":1},"price":0,"details":"DET -124","initialSpread":0,"initialOverUnder":0,"homeTeamOdds":{"underdog":false,"team":{"id":"6","abbreviation":"DET"},"favorite":true,"moneyLine":-124},"overOdds":100},"season":2017,"location":"Comerica Park","links":[{"rel":["event","desktop","preview"],"href":"http://espn.go.com/mlb/preview?gameId=370914106","text":"Preview"},{"rel":["event","desktop","conversation"],"href":"http://espn.go.com/mlb/conversation?gameId=370914106","text":"Conversation"}],"id":"370914106","fullStatus":{"period":0,"clock":0,"type":{"description":"SCHEDULED","id":1,"detail":"2017-09-14T17:10:00Z","shortDetail":"2017-09-14T17:10:00Z","state":"pre"}},"status":"pre"},{"date":"2017-09-14T17:35:00Z","summary":"2017-09-14T17:35:00Z","broadcast":"","seriesSummary":"Series tied 1-1","seasonType":2,"competitionId":"370914102","period":0,"timeValid":true,"link":"","broadcasts":[{"callLetters":"NESN","broadcasterId":19,"broadcastId":19,"name":"NESN","typeId":1,"type":"TV","priority":0,"shortName":"NESN","region":"us","lang":"en","isNational":false}],"clock":0,"onWatch":false,"uid":"s:1~l:10~e:370914102~c:370914102","competitors":[{"alternateColor":"0d2b56","competitionIdPrevious":"370913102","color":"00224b","displayName":"Boston Red Sox","type":"team","abbreviation":"BOS","competitionIdNext":"370915130","uid":"s:1~l:10~t:2","homeAway":"home","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/bos.png","record":"82-63","name":"Red Sox","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/bos.png","id":"2","group":"1"},{"alternateColor":"efb21e","competitionIdPrevious":"370913102","color":"014326","displayName":"Oakland Athletics","type":"team","abbreviation":"OAK","competitionIdNext":"370915122","uid":"s:1~l:10~t:11","homeAway":"away","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/oak.png","record":"64-81","name":"Athletics","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/oak.png","id":"11","group":"3"}],"appLinks":[{"rel":["event","app","sportscenter"],"href":"sportscenter://x-callback-url/showGame?sportName=baseball&leagueAbbrev=mlb&gameId=370914102"}],"odds":{"underOdds":-110,"awayTeamOdds":{"underdog":true,"team":{"id":"11","abbreviation":"OAK"},"favorite":false,"moneyLine":195},"away":{"moneyLine":195},"spread":1.5,"home":{"moneyLine":-215},"overUnder":10.5,"provider":{"name":"Westgate","id":"25","priority":1},"price":0,"details":"BOS -215","initialSpread":0,"initialOverUnder":0,"homeTeamOdds":{"underdog":false,"team":{"id":"2","abbreviation":"BOS"},"favorite":true,"moneyLine":-215},"overOdds":-110},"season":2017,"location":"Fenway Park","links":[{"rel":["event","desktop","preview"],"href":"http://espn.go.com/mlb/preview?gameId=370914102","text":"Preview"},{"rel":["event","desktop","conversation"],"href":"http://espn.go.com/mlb/conversation?gameId=370914102","text":"Conversation"}],"id":"370914102","fullStatus":{"period":0,"clock":0,"type":{"description":"SCHEDULED","id":1,"detail":"2017-09-14T17:35:00Z","shortDetail":"2017-09-14T17:35:00Z","state":"pre"}},"status":"pre"},{"date":"2017-09-14T17:45:00Z","summary":"2017-09-14T17:45:00Z","broadcast":"","seriesSummary":"Series tied 1-1","seasonType":2,"competitionId":"370914124","period":0,"timeValid":true,"link":"","broadcasts":[{"callLetters":"FOXM","broadcasterId":63,"broadcastId":63,"name":"Fox Sports Midwest","typeId":1,"type":"TV","priority":0,"shortName":"FSMW","region":"us","lang":"en","isNational":false}],"clock":0,"onWatch":false,"uid":"s:1~l:10~e:370914124~c:370914124","competitors":[{"alternateColor":"ffffff","competitionIdPrevious":"370913124","color":"b80220","displayName":"St. Louis Cardinals","type":"team","abbreviation":"STL","competitionIdNext":"370915116","uid":"s:1~l:10~t:24","homeAway":"home","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/stl.png","record":"76-69","name":"Cardinals","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/stl.png","id":"24","group":"5"},{"alternateColor":"ffffff","competitionIdPrevious":"370913124","color":"c41422","displayName":"Cincinnati Reds","type":"team","abbreviation":"CIN","competitionIdNext":"370915117","uid":"s:1~l:10~t:17","homeAway":"away","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/cin.png","record":"63-83","name":"Reds","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/cin.png","id":"17","group":"5"}],"appLinks":[{"rel":["event","app","sportscenter"],"href":"sportscenter://x-callback-url/showGame?sportName=baseball&leagueAbbrev=mlb&gameId=370914124"}],"odds":{"underOdds":100,"awayTeamOdds":{"underdog":true,"team":{"id":"17","abbreviation":"CIN"},"favorite":false,"moneyLine":210},"away":{"moneyLine":210},"spread":1.5,"home":{"moneyLine":-240},"overUnder":9,"provider":{"name":"Westgate","id":"25","priority":1},"price":0,"details":"STL -240","initialSpread":0,"initialOverUnder":0,"homeTeamOdds":{"underdog":false,"team":{"id":"24","abbreviation":"STL"},"favorite":true,"moneyLine":-240},"overOdds":-120},"season":2017,"location":"Busch Stadium","links":[{"rel":["event","desktop","preview"],"href":"http://espn.go.com/mlb/preview?gameId=370914124","text":"Preview"},{"rel":["event","desktop","conversation"],"href":"http://espn.go.com/mlb/conversation?gameId=370914124","text":"Conversation"}],"id":"370914124","fullStatus":{"period":0,"clock":0,"type":{"description":"SCHEDULED","id":1,"detail":"2017-09-14T17:45:00Z","shortDetail":"2017-09-14T17:45:00Z","state":"pre"}},"status":"pre"},{"date":"2017-09-14T19:40:00Z","summary":"2017-09-14T19:40:00Z","broadcast":"","seriesSummary":"COL leads 2-1","seasonType":2,"competitionId":"370914129","period":0,"timeValid":true,"link":"","broadcasts":[{"callLetters":"FXAZ","broadcasterId":94,"broadcastId":94,"name":"Fox Sports Arizona","typeId":1,"type":"TV","priority":0,"shortName":"FSAZ","region":"us","lang":"en","isNational":false}],"clock":0,"onWatch":false,"uid":"s:1~l:10~e:370914129~c:370914129","competitors":[{"alternateColor":"000000","competitionIdPrevious":"370913129","color":"a40013","displayName":"Arizona Diamondbacks","type":"team","abbreviation":"ARI","competitionIdNext":"370915126","uid":"s:1~l:10~t:29","homeAway":"home","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/ari.png","record":"84-62","name":"Diamondbacks","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/ari.png","id":"29","group":"6"},{"alternateColor":"220d48","competitionIdPrevious":"370913129","color":"220d48","displayName":"Colorado Rockies","type":"team","abbreviation":"COL","competitionIdNext":"370915127","uid":"s:1~l:10~t:27","homeAway":"away","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/col.png","record":"80-66","name":"Rockies","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/col.png","id":"27","group":"6"}],"appLinks":[{"rel":["event","app","sportscenter"],"href":"sportscenter://x-callback-url/showGame?sportName=baseball&leagueAbbrev=mlb&gameId=370914129"}],"odds":{"underOdds":100,"awayTeamOdds":{"underdog":true,"team":{"id":"27","abbreviation":"COL"},"favorite":false,"moneyLine":162},"away":{"moneyLine":162},"spread":1.5,"home":{"moneyLine":-174},"overUnder":9.5,"provider":{"name":"Westgate","id":"25","priority":1},"price":0,"details":"ARI -174","initialSpread":0,"initialOverUnder":0,"homeTeamOdds":{"underdog":false,"team":{"id":"29","abbreviation":"ARI"},"favorite":true,"moneyLine":-174},"overOdds":-120},"season":2017,"location":"Chase Field","links":[{"rel":["event","desktop","preview"],"href":"http://espn.go.com/mlb/preview?gameId=370914129","text":"Preview"},{"rel":["event","desktop","conversation"],"href":"http://espn.go.com/mlb/conversation?gameId=370914129","text":"Conversation"}],"id":"370914129","fullStatus":{"period":0,"clock":0,"type":{"description":"SCHEDULED","id":1,"detail":"2017-09-14T19:40:00Z","shortDetail":"2017-09-14T19:40:00Z","state":"pre"}},"status":"pre"},{"date":"2017-09-14T23:05:00Z","summary":"2017-09-14T23:05:00Z","broadcast":"","seriesSummary":"NYY wins 9-6","seasonType":2,"competitionId":"370914110","period":0,"timeValid":true,"link":"","broadcasts":[{"callLetters":"YES","broadcasterId":134,"broadcastId":134,"name":"YES TV - New York","typeId":1,"type":"TV","priority":0,"shortName":"YES","region":"us","lang":"en","isNational":false}],"clock":0,"onWatch":false,"uid":"s:1~l:10~e:370914110~c:370914110","competitors":[{"alternateColor":"c4ced4","competitionIdPrevious":"370913130","color":"011739","displayName":"New York Yankees","type":"team","abbreviation":"NYY","competitionIdNext":"370915110","uid":"s:1~l:10~t:10","homeAway":"home","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/nyy.png","record":"79-66","name":"Yankees","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/nyy.png","id":"10","group":"1"},{"alternateColor":"000000","competitionIdPrevious":"370913114","color":"201b1b","displayName":"Baltimore Orioles","type":"team","abbreviation":"BAL","competitionIdNext":"370915110","uid":"s:1~l:10~t:1","homeAway":"away","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/bal.png","record":"72-74","name":"Orioles","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/bal.png","id":"1","group":"1"}],"appLinks":[{"rel":["event","app","sportscenter"],"href":"sportscenter://x-callback-url/showGame?sportName=baseball&leagueAbbrev=mlb&gameId=370914110"}],"odds":{"underOdds":-120,"awayTeamOdds":{"underdog":true,"team":{"id":"1","abbreviation":"BAL"},"favorite":false,"moneyLine":175},"away":{"moneyLine":175},"spread":1.5,"home":{"moneyLine":-190},"overUnder":9.5,"provider":{"name":"Westgate","id":"25","priority":1},"price":0,"details":"NYY -190","initialSpread":0,"initialOverUnder":0,"homeTeamOdds":{"underdog":false,"team":{"id":"10","abbreviation":"NYY"},"favorite":true,"moneyLine":-190},"overOdds":100},"season":2017,"location":"Yankee Stadium","links":[{"rel":["event","desktop","preview"],"href":"http://espn.go.com/mlb/preview?gameId=370914110","text":"Preview"},{"rel":["event","desktop","conversation"],"href":"http://espn.go.com/mlb/conversation?gameId=370914110","text":"Conversation"}],"id":"370914110","fullStatus":{"period":0,"clock":0,"type":{"description":"SCHEDULED","id":1,"detail":"2017-09-14T23:05:00Z","shortDetail":"2017-09-14T23:05:00Z","state":"pre"}},"status":"pre"},{"date":"2017-09-14T23:05:00Z","summary":"2017-09-14T23:05:00Z","broadcast":"","seriesSummary":"ATL leads 2-0","seasonType":2,"competitionId":"370914120","period":0,"timeValid":true,"link":"","broadcasts":[{"callLetters":"MAS2","broadcasterId":165,"broadcastId":165,"name":"Mid-Atlantic Sports Network 2","typeId":1,"type":"TV","priority":0,"shortName":"MAS2","region":"us","lang":"en","isNational":false}],"clock":0,"onWatch":false,"uid":"s:1~l:10~e:370914120~c:370914120","competitors":[{"alternateColor":"f1f2f3","competitionIdPrevious":"370913120","color":"0a295d","displayName":"Washington Nationals","type":"team","abbreviation":"WSH","competitionIdNext":"370915120","uid":"s:1~l:10~t:20","homeAway":"home","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/wsh.png","record":"88-57","name":"Nationals","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/wsh.png","id":"20","group":"4"},{"alternateColor":"f1f2f3","competitionIdPrevious":"370913120","color":"002248","displayName":"Atlanta Braves","type":"team","abbreviation":"ATL","competitionIdNext":"370915115","uid":"s:1~l:10~t:15","homeAway":"away","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/atl.png","record":"66-78","name":"Braves","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/atl.png","id":"15","group":"4"}],"appLinks":[{"rel":["event","app","sportscenter"],"href":"sportscenter://x-callback-url/showGame?sportName=baseball&leagueAbbrev=mlb&gameId=370914120"}],"odds":{"underOdds":105,"awayTeamOdds":{"underdog":true,"team":{"id":"15","abbreviation":"ATL"},"favorite":false,"moneyLine":161},"away":{"moneyLine":161},"spread":1.5,"home":{"moneyLine":-172},"overUnder":8.5,"provider":{"name":"Westgate","id":"25","priority":1},"price":0,"details":"WSH -172","initialSpread":0,"initialOverUnder":0,"homeTeamOdds":{"underdog":false,"team":{"id":"20","abbreviation":"WSH"},"favorite":true,"moneyLine":-172},"overOdds":-125},"season":2017,"location":"Nationals Park","links":[{"rel":["event","desktop","preview"],"href":"http://espn.go.com/mlb/preview?gameId=370914120","text":"Preview"},{"rel":["event","desktop","conversation"],"href":"http://espn.go.com/mlb/conversation?gameId=370914120","text":"Conversation"}],"id":"370914120","fullStatus":{"period":0,"clock":0,"type":{"description":"SCHEDULED","id":1,"detail":"2017-09-14T23:05:00Z","shortDetail":"2017-09-14T23:05:00Z","state":"pre"}},"status":"pre"},{"date":"2017-09-14T23:05:00Z","summary":"2017-09-14T23:05:00Z","broadcast":"","seriesSummary":"PHI leads 2-0","seasonType":2,"competitionId":"370914122","period":0,"timeValid":true,"link":"","broadcasts":[{"callLetters":"CSN","broadcasterId":106,"broadcastId":106,"name":"Comcast Sports Network","typeId":1,"type":"TV","priority":0,"shortName":"CSN","region":"us","lang":"en","isNational":false}],"clock":0,"onWatch":false,"uid":"s:1~l:10~e:370914122~c:370914122","competitors":[{"alternateColor":"284898","competitionIdPrevious":"370913122","color":"be0011","displayName":"Philadelphia Phillies","type":"team","abbreviation":"PHI","competitionIdNext":"370915122","uid":"s:1~l:10~t:22","homeAway":"home","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/phi.png","record":"56-89","name":"Phillies","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/phi.png","id":"22","group":"4"},{"alternateColor":"0077c8","competitionIdPrevious":"370913122","color":"0081c7","displayName":"Miami Marlins","type":"team","abbreviation":"MIA","competitionIdNext":"370915128","uid":"s:1~l:10~t:28","homeAway":"away","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/mia.png","record":"68-77","name":"Marlins","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/mia.png","id":"28","group":"4"}],"appLinks":[{"rel":["event","app","sportscenter"],"href":"sportscenter://x-callback-url/showGame?sportName=baseball&leagueAbbrev=mlb&gameId=370914122"}],"odds":{"underOdds":100,"awayTeamOdds":{"underdog":false,"team":{"id":"28","abbreviation":"MIA"},"favorite":true,"moneyLine":-122},"away":{"moneyLine":-122},"spread":1.5,"home":{"moneyLine":112},"overUnder":9.5,"provider":{"name":"Westgate","id":"25","priority":1},"price":0,"details":"MIA -122","initialSpread":0,"initialOverUnder":0,"homeTeamOdds":{"underdog":true,"team":{"id":"22","abbreviation":"PHI"},"favorite":false,"moneyLine":112},"overOdds":-120},"season":2017,"location":"Citizens Bank Park","links":[{"rel":["event","desktop","preview"],"href":"http://espn.go.com/mlb/preview?gameId=370914122","text":"Preview"},{"rel":["event","desktop","conversation"],"href":"http://espn.go.com/mlb/conversation?gameId=370914122","text":"Conversation"}],"id":"370914122","fullStatus":{"period":0,"clock":0,"type":{"description":"SCHEDULED","id":1,"detail":"2017-09-14T23:05:00Z","shortDetail":"2017-09-14T23:05:00Z","state":"pre"}},"status":"pre"},{"date":"2017-09-14T23:10:00Z","summary":"2017-09-14T23:10:00Z","broadcast":"","seriesSummary":"CLE wins 9-6","seasonType":2,"competitionId":"370914105","period":0,"timeValid":true,"link":"","broadcasts":[{"callLetters":"STOH","broadcasterId":157,"broadcastId":157,"name":"SportsTime Ohio","typeId":1,"type":"TV","priority":0,"shortName":"STOH","region":"us","lang":"en","isNational":false}],"clock":0,"onWatch":false,"uid":"s:1~l:10~e:370914105~c:370914105","competitors":[{"alternateColor":"002b5c","competitionIdPrevious":"370913105","color":"00264e","displayName":"Cleveland Indians","type":"team","abbreviation":"CLE","competitionIdNext":"370915105","uid":"s:1~l:10~t:5","homeAway":"home","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/cle.png","record":"90-56","name":"Indians","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/cle.png","id":"5","group":"2"},{"alternateColor":"7ab2dd","competitionIdPrevious":"370913107","color":"003b72","displayName":"Kansas City Royals","type":"team","abbreviation":"KC","competitionIdNext":"370915105","uid":"s:1~l:10~t:7","homeAway":"away","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/kc.png","record":"72-73","name":"Royals","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/kc.png","id":"7","group":"2"}],"appLinks":[{"rel":["event","app","sportscenter"],"href":"sportscenter://x-callback-url/showGame?sportName=baseball&leagueAbbrev=mlb&gameId=370914105"}],"odds":{"underOdds":105,"awayTeamOdds":{"underdog":true,"team":{"id":"7","abbreviation":"KC"},"favorite":false,"moneyLine":175},"away":{"moneyLine":175},"spread":1.5,"home":{"moneyLine":-190},"overUnder":9,"provider":{"name":"Westgate","id":"25","priority":1},"price":0,"details":"CLE -190","initialSpread":0,"initialOverUnder":0,"homeTeamOdds":{"underdog":false,"team":{"id":"5","abbreviation":"CLE"},"favorite":true,"moneyLine":-190},"overOdds":-125},"season":2017,"location":"Progressive Field","links":[{"rel":["event","desktop","preview"],"href":"http://espn.go.com/mlb/preview?gameId=370914105","text":"Preview"},{"rel":["event","desktop","conversation"],"href":"http://espn.go.com/mlb/conversation?gameId=370914105","text":"Conversation"}],"id":"370914105","fullStatus":{"period":0,"clock":0,"type":{"description":"SCHEDULED","id":1,"detail":"2017-09-14T23:10:00Z","shortDetail":"2017-09-14T23:10:00Z","state":"pre"}},"status":"pre"},{"date":"2017-09-15T00:05:00Z","summary":"2017-09-15T00:05:00Z","broadcast":"","seriesSummary":"SEA leads 2-1","seasonType":2,"competitionId":"370914113","period":0,"timeValid":true,"link":"","broadcasts":[{"callLetters":"FXSW","broadcasterId":79,"broadcastId":79,"name":"Fox Sports Southwest","typeId":1,"type":"TV","priority":0,"shortName":"FSSW","region":"us","lang":"en","isNational":false}],"clock":0,"onWatch":false,"uid":"s:1~l:10~e:370914113~c:370914113","competitors":[{"alternateColor":"c0111f","competitionIdPrevious":"370913113","color":"003879","displayName":"Texas Rangers","type":"team","abbreviation":"TEX","competitionIdNext":"370915103","uid":"s:1~l:10~t:13","homeAway":"home","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/tex.png","record":"72-73","name":"Rangers","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/tex.png","id":"13","group":"3"},{"alternateColor":"0c2c56","competitionIdPrevious":"370913113","color":"012a5b","displayName":"Seattle Mariners","type":"team","abbreviation":"SEA","competitionIdNext":"370915118","uid":"s:1~l:10~t:12","homeAway":"away","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/sea.png","record":"73-73","name":"Mariners","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/sea.png","id":"12","group":"3"}],"appLinks":[{"rel":["event","app","sportscenter"],"href":"sportscenter://x-callback-url/showGame?sportName=baseball&leagueAbbrev=mlb&gameId=370914113"}],"odds":{"underOdds":105,"awayTeamOdds":{"underdog":true,"team":{"id":"12","abbreviation":"SEA"},"favorite":false,"moneyLine":101},"away":{"moneyLine":101},"spread":1.5,"home":{"moneyLine":-111},"overUnder":10,"provider":{"name":"Westgate","id":"25","priority":1},"price":0,"details":"TEX -111","initialSpread":0,"initialOverUnder":0,"homeTeamOdds":{"underdog":false,"team":{"id":"13","abbreviation":"TEX"},"favorite":true,"moneyLine":-111},"overOdds":-125},"season":2017,"location":"Globe Life Park in Arlington","links":[{"rel":["event","desktop","preview"],"href":"http://espn.go.com/mlb/preview?gameId=370914113","text":"Preview"},{"rel":["event","desktop","conversation"],"href":"http://espn.go.com/mlb/conversation?gameId=370914113","text":"Conversation"}],"id":"370914113","fullStatus":{"period":0,"clock":0,"type":{"description":"SCHEDULED","id":1,"detail":"2017-09-15T00:05:00Z","shortDetail":"2017-09-15T00:05:00Z","state":"pre"}},"status":"pre"},{"date":"2017-09-15T00:05:00Z","summary":"2017-09-15T00:05:00Z","broadcast":"","seriesSummary":"CHC leads 2-0","seasonType":2,"competitionId":"370914116","period":0,"timeValid":true,"link":"","broadcasts":[],"clock":0,"onWatch":false,"uid":"s:1~l:10~e:370914116~c:370914116","competitors":[{"alternateColor":"00417d","competitionIdPrevious":"370913116","color":"00417d","displayName":"Chicago Cubs","type":"team","abbreviation":"CHC","competitionIdNext":"370915116","uid":"s:1~l:10~t:16","homeAway":"home","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/chc.png","record":"79-66","name":"Cubs","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/chc.png","id":"16","group":"5"},{"alternateColor":"00407b","competitionIdPrevious":"370913116","color":"00407b","displayName":"New York Mets","type":"team","abbreviation":"NYM","competitionIdNext":"370915115","uid":"s:1~l:10~t:21","homeAway":"away","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/nym.png","record":"63-82","name":"Mets","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/nym.png","id":"21","group":"4"}],"appLinks":[{"rel":["event","app","sportscenter"],"href":"sportscenter://x-callback-url/showGame?sportName=baseball&leagueAbbrev=mlb&gameId=370914116"}],"odds":{"underOdds":-110,"awayTeamOdds":{"underdog":true,"team":{"id":"21","abbreviation":"NYM"},"favorite":false,"moneyLine":205},"away":{"moneyLine":205},"spread":1.5,"home":{"moneyLine":-230},"overUnder":9.5,"provider":{"name":"Westgate","id":"25","priority":1},"price":0,"details":"CHC -230","initialSpread":0,"initialOverUnder":0,"homeTeamOdds":{"underdog":false,"team":{"id":"16","abbreviation":"CHC"},"favorite":true,"moneyLine":-230},"overOdds":-110},"season":2017,"location":"Wrigley Field","links":[{"rel":["event","desktop","preview"],"href":"http://espn.go.com/mlb/preview?gameId=370914116","text":"Preview"},{"rel":["event","desktop","conversation"],"href":"http://espn.go.com/mlb/conversation?gameId=370914116","text":"Conversation"}],"id":"370914116","fullStatus":{"period":0,"clock":0,"type":{"description":"SCHEDULED","id":1,"detail":"2017-09-15T00:05:00Z","shortDetail":"2017-09-15T00:05:00Z","state":"pre"}},"status":"pre"},{"date":"2017-09-15T00:10:00Z","summary":"2017-09-15T00:10:00Z","broadcast":"","seriesSummary":"MIN wins 2-1","seasonType":2,"competitionId":"370914109","period":0,"timeValid":true,"link":"","broadcasts":[],"clock":0,"onWatch":false,"uid":"s:1~l:10~e:370914109~c:370914109","competitors":[{"alternateColor":"f1f2f3","competitionIdPrevious":"370913109","color":"012756","displayName":"Minnesota Twins","type":"team","abbreviation":"MIN","competitionIdNext":"370915109","uid":"s:1~l:10~t:9","homeAway":"home","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/min.png","record":"76-69","name":"Twins","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/min.png","id":"9","group":"2"},{"alternateColor":"1d2d5c","competitionIdPrevious":"370913114","color":"0069ac","displayName":"Toronto Blue Jays","type":"team","abbreviation":"TOR","competitionIdNext":"370915109","uid":"s:1~l:10~t:14","homeAway":"away","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/tor.png","record":"68-78","name":"Blue Jays","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/tor.png","id":"14","group":"1"}],"appLinks":[{"rel":["event","app","sportscenter"],"href":"sportscenter://x-callback-url/showGame?sportName=baseball&leagueAbbrev=mlb&gameId=370914109"}],"odds":{"underOdds":-120,"awayTeamOdds":{"underdog":true,"team":{"id":"14","abbreviation":"TOR"},"favorite":false,"moneyLine":146},"away":{"moneyLine":146},"spread":1.5,"home":{"moneyLine":-156},"overUnder":9.5,"provider":{"name":"Westgate","id":"25","priority":1},"price":0,"details":"MIN -156","initialSpread":0,"initialOverUnder":0,"homeTeamOdds":{"underdog":false,"team":{"id":"9","abbreviation":"MIN"},"favorite":true,"moneyLine":-156},"overOdds":100},"season":2017,"location":"Target Field","links":[{"rel":["event","desktop","preview"],"href":"http://espn.go.com/mlb/preview?gameId=370914109","text":"Preview"},{"rel":["event","desktop","conversation"],"href":"http://espn.go.com/mlb/conversation?gameId=370914109","text":"Conversation"}],"id":"370914109","fullStatus":{"period":0,"clock":0,"type":{"description":"SCHEDULED","id":1,"detail":"2017-09-15T00:10:00Z","shortDetail":"2017-09-15T00:10:00Z","state":"pre"}},"status":"pre"},{"date":"2017-09-15T02:07:00Z","summary":"2017-09-15T02:07:00Z","broadcast":"","seriesSummary":"Series tied 1-1","seasonType":2,"competitionId":"370914103","period":0,"timeValid":true,"link":"","broadcasts":[{"callLetters":"FOXW","broadcasterId":76,"broadcastId":76,"name":"Fox Sports West","typeId":1,"type":"TV","priority":0,"shortName":"FSW","region":"us","lang":"en","isNational":false}],"clock":0,"onWatch":false,"uid":"s:1~l:10~e:370914103~c:370914103","competitors":[{"alternateColor":"862633","competitionIdPrevious":"370913103","color":"a50017","displayName":"Los Angeles Angels","type":"team","abbreviation":"LAA","competitionIdNext":"370915103","uid":"s:1~l:10~t:3","homeAway":"home","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/laa.png","record":"74-71","name":"Angels","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/laa.png","id":"3","group":"3"},{"alternateColor":"eb6e1f","competitionIdPrevious":"370913103","color":"000000","displayName":"Houston Astros","type":"team","abbreviation":"HOU","competitionIdNext":"370915118","uid":"s:1~l:10~t:18","homeAway":"away","score":"","winner":false,"logoDark":"http://a.espncdn.com/i/teamlogos/mlb/500-dark/scoreboard/hou.png","record":"87-58","name":"Astros","logo":"http://a.espncdn.com/i/teamlogos/mlb/500/scoreboard/hou.png","id":"18","group":"3"}],"appLinks":[{"rel":["event","app","sportscenter"],"href":"sportscenter://x-callback-url/showGame?sportName=baseball&leagueAbbrev=mlb&gameId=370914103"}],"odds":{"underOdds":-105,"awayTeamOdds":{"underdog":false,"team":{"id":"18","abbreviation":"HOU"},"favorite":true,"moneyLine":-135},"away":{"moneyLine":-135},"spread":1.5,"home":{"moneyLine":125},"overUnder":9,"provider":{"name":"Westgate","id":"25","priority":1},"price":0,"details":"HOU -135","initialSpread":0,"initialOverUnder":0,"homeTeamOdds":{"underdog":true,"team":{"id":"3","abbreviation":"LAA"},"favorite":false,"moneyLine":125},"overOdds":-115},"season":2017,"location":"Angel Stadium of Anaheim","links":[{"rel":["event","desktop","preview"],"href":"http://espn.go.com/mlb/preview?gameId=370914103","text":"Preview"},{"rel":["event","desktop","conversation"],"href":"http://espn.go.com/mlb/conversation?gameId=370914103","text":"Conversation"}],"id":"370914103","fullStatus":{"period":0,"clock":0,"type":{"description":"SCHEDULED","id":1,"detail":"2017-09-15T02:07:00Z","shortDetail":"2017-09-15T02:07:00Z","state":"pre"}},"status":"pre"}]}],"name":"baseball","id":"1","slug":"baseball"}]},
                queue: []
            };



        </script>


            <script type='text/javascript'>jQuery.subscribe('espn.defer.end', function () { espn.scoreboard.init(); });</script>

    <script>
    (function() {
        function loadDefer() {
            var deferScripts = [
                'http://a.espncdn.com/redesign/0.365.8/js/espn-defer.js',
                'http://a.espncdn.com/redesign/0.365.8/js/espn-defer-low.js'
            ];

            $.when(deferScripts.map(function (script) {
                var deferred = $.Deferred();
                $.getScriptCache(script, deferred.resolve);
                return deferred;
            })).done(function () {
                if(espn.siteType === 'data-lite' && typeof espn.ads.loadGPT === 'function') {
                    espn.ads.loadGPT();
                }
            });
        }

        if(window.espn.loadType === "loadEnd" && espn_ui.deviceType !== 'desktop') {
            var race = [];
            $.when(function () {
                var deferred = $.Deferred();
                $(window).load(deferred.resolve);
                if(espn.siteType !== 'data-lite') {
                    setTimeout( deferred.resolve, 5000 );
                }
                return deferred;
            }()).then(loadDefer)

        }else{
            loadDefer();
        }

    })();
    </script>



<script>espn_ui.Helpers.translate.init();</script>

            <script type="text/javascript">
                var data = {"omniture":{"columnist":"marchand_andrew","countryRegion":"en-us","hier1":"newyork:new+york+yankees:blog","section":"newyork","pageName":"newyork:new+york+yankees:blog","storyInfo":"97161+yankees-have-the-right-formula-to-beat-the-indians-in-october","sections":"newyork:new+york+yankees","site":"espn","premium":"premium-no","convrSport":"newyork/blog","pageURL":"www.espn.com/blog/new-york/yankees/post/_/id/97161/yankees-have-the-right-formula-to-beat-the-indians-in-october","lang":"en_us","prop35":"2017-09-13","contentType":"blog","sport":"newyork/blog","account":"wdgespcom","siteType":"full","prop58":"isIndex=false"},"chartbeat":{"loadPubJS":false,"path":"/blog/new-york/yankees/post/_/id/97161/yankees-have-the-right-formula-to-beat-the-indians-in-october","zone":"www.espn.com.us.newyork..new york yankees","domain":"www.espn.com","loadVidJS":true,"title":"New York Yankees have the right formula to beat the Indians in October - Yankees Blog- ESPN","sections":"newyork,blog,new york yankees","authors":"blog"},"nielsen":{"espnuk":{"apid":"T07264C85-15CD-4A80-8E56-B5BFA6D93296","vc":"b01"},"general":{"ci":"us-600140","assetid":"N/A","segB":"N/A","sfcode":"dcr-cert","segA":"N/A","section":"N/A","segC":"N/A","apn":"espnCOM"},"espnza":{"apid":"T07264C85-15CD-4A80-8E56-B5BFA6D93296","vc":"b01"},"espnau":{"apid":"T07264C85-15CD-4A80-8E56-B5BFA6D93296","vc":"b01"},"espn":{"apid":"P07264C85-15CD-4A80-8E56-B5BFA6D93296","vc":"b01"},"espnin":{"apid":"T07264C85-15CD-4A80-8E56-B5BFA6D93296","vc":"b01"},"fantasy":{"apid":"P302B69D5-F1DD-4E7A-BF8D-3E60F0EB5E5A","vc":"c07"},"watchespn":{"apid":"T07264C85-15CD-4A80-8E56-B5BFA6D93296","vc":"b01"},"espndeportes":{"apid":"T890E2723-EDBC-4CCE-96BA-F35EA3E50650","vc":"c02"},"espnfc":{"apid":"TE6995AAE-0C49-4372-B5E7-54C61BFE2AA5","vc":"c03"},"cricinfo":{"apid":"TED8CDAC2-F114-41BE-8B98-AFA06FAEA06E","vc":"c04"}},"ABTest":{"isOptimizied":true,"environment":"prod","tScript":"http://a.espncdn.com/prod/scripts/analytics/target.20.r2.js","abtestUser":0,"oScript":"http://cdn.optimizely.com/js/310987714.js","targetURLs":[{"regexp":"(/)","site":"espn.co.uk","flag":false},{"regexp":"(/.*)","site":"www.espn.com","flag":false}],"domain":"www.espn.com","host":"espn.com","raw":"{\"fastcast\":{\"placements\":{\"/nba/index\":\"true\",\"^/.+$\":\"false\",\"/ncf/index\":\"true\"},\"enabled\":false,\"script\":\"http://a.espncdn.com/combiner/c?js=analytics/espn.fastcastTracking.4.js\"},\"optimizely\":{\"oldscript\":\"http://a.espncdn.com/sports/optimizely.js\",\"placements\":[{\"regexp\":\"(/)\",\"site\":\"espn.co.uk\",\"flag\":true},{\"regexp\":\"(/.*)\",\"site\":\"www.espn.com\",\"flag\":true},{\"regexp\":\"(/.*)\",\"site\":\"www.espnqa.com\",\"flag\":true}],\"enabled\":true,\"script\":\"http://cdn.optimizely.com/js/310987714.js\"},\"target\":{\"placements\":[{\"regexp\":\"(/)\",\"site\":\"espn.co.uk\",\"flag\":false},{\"regexp\":\"(/.*)\",\"site\":\"www.espn.com\",\"flag\":false}],\"enabled\":false,\"script\":\"http://a.espncdn.com/prod/scripts/analytics/target.20.r2.js\"}}","optimizely":true,"target":false,"optimizelyURLs":[{"regexp":"(/)","site":"espn.co.uk","flag":true},{"regexp":"(/.*)","site":"www.espn.com","flag":true},{"regexp":"(/.*)","site":"www.espnqa.com","flag":true}]},"isFeaturePhone":false,"device":"desktop","cto":true};
                var espn = espn || {};
                espn.track = espn.track || {};
                espn.track.data = data;
            </script>

    <!-- SiteCatalyst code version: AppMeasurement 1.0 Copyright 1996-2013 Adobe, Inc. -->
    <script type="text/javascript">

    if (typeof s_omni === 'undefined') {
        jQuery(function($){
            $.getScriptCache("http://a.espncdn.com/redesign/0.365.8/js/espn-analytics.js",              function() {                    var deferEvent = "user.parsed",                 trackInit = false;
                    function initTrack(){                       if (!trackInit && espn.track && (typeof espn.track.init) === 'function') {                          espn.track.init(data);                          trackInit = true;                       }                   }                   $.subscribe(deferEvent, initTrack);                 setTimeout(initTrack, 5000);                    if(window.espn_ui.userParsed){                      $.publish('user.parsed');                   }               }               );
        });
    }

    </script>

    <!-- End SiteCatalyst code version: AppMeasurement 1.0 -->
            <!--BEGIN QUALTRICS SITE INTERCEPT-->
            <div id='SI_9EvK9r52GPmgW9v'><!--DO NOT REMOVE-CONTENTS PLACED HERE--></div>
            <!--END SITE INTERCEPT-->

<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"errorBeacon":"bam.nr-data.net","licenseKey":"d1734eda45","agent":"","beacon":"bam.nr-data.net","applicationTime":50,"applicationID":"62620282,3785502","transactionName":"NFMHbBFVVhYHAENcDA0ZJk0QQFcISRBDWhEa","queueTime":0}</script>
    </body>
</html>