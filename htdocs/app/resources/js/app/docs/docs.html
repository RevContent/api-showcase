<div class="container">
    <md-content style="background:transparent;" layout="column" layout-padding>

        <md-card>
            <h2 class="md-display-1">API Documentation</h2>
            <p class="md-subhead">The Revcontent API enables you to receive the same ad fill you would see in our traditional ad placements in a more flexible format, including json and xml. API usage requires <a target="_blank" href="http://faq.revcontent.com/support/solutions/articles/5000615197-revcontent-advertiser-terms-and-conditions">Full Advertising Disclosure.</a></p>

            <h3 class="md-title">URI / Endpoint</h3>

            <div hljs language="bash"># Content-Type application/json or text/xml
    GET http://trends.revcontent.com/api/v1/</div>

        </md-card>

        <md-card>

            <h2 class="md-display-1">Request</h2>

            <p class="md-subhead">Requests to the API can be sent over HTTP using JSONP and will utilize the following parameter set.</p>

            <p class="text-danger margin-top-none" style="margin-top:0;">All HTTP requests must pass along cookie data. This can be done with JSONP or using technology such as <a href="https://curl.haxx.se/">curl</a> on the server.</p>

            <div class="table-responsive">
                <table class="">
                    <thead>
                        <tr>
                            <th>Property</th>
                            <th>Type</th>
                            <th>Default</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code class="text-danger">api_key</code></td>
                            <td><var>string</var></td>
                            <td></td>
                            <td>Your account's assigned API key.</td>
                        </tr>
                        <tr>
                            <td><code class="text-danger">pub_id</code></td>
                            <td><var>integer</var></td>
                            <td></td>
                            <td>Your assigned account ID.</td>
                        </tr>
                        <tr>
                            <td><code class="text-danger">widget_id</code></td>
                            <td><var>integer</var></td>
                            <td></td>
                            <td>The ID of the widget associated with this request.</td>
                        </tr>
                        <tr>
                            <td><code class="text-danger">domain</code></td>
                            <td><var>string</var></td>
                            <td></td>
                            <td>The url encoded domain name associated with this widget.</td>
                        </tr>
                        <tr>
                            <td><code>user_ip</code></td>
                            <td><var>string</var></td>
                            <td>
                                <code>
                                    <span>Request IP</span>
                                </code>
                            </td>
                            <td>The end user's IP address required because response is tailored to end users geography.
                            <br /><br />If not provided, the request IP is used. So if your calling the API with client side code, like Javascript, we can detect the user's IP, but if your using backend code you have to pass the user's IP.</td>
                        </tr>
                        <tr>
                            <td><code>user_agent</code></td>
                            <td><var>string</var></td>
                            <td>
                                <code>
                                    <span>Request User Agent</span>
                                </code>
                            </td>
                            <td>The end user's user agent is used to report segmented stats based on device type.
                            <br /><br />If not provided, the request user agent is used. So if your calling the API with client side code, like Javascript, we can detect the user's user agent, but if your using backend code you have to pass the user's user agent.
                                <br /><span class="text-danger" style="line-height:1.8">NOTE: <strong>This value must be URL-encoded into valid ASCII format.</strong></span></td>
                        </tr>
                        <tr>
                            <td><code>referer</code></td>
                            <td><var>string</var></td>
                            <td><code>empty</code></td>
                            <td>The end user's url encoded webpage url that the request is being made from.</td>
                        </tr>
                        <tr>
                            <td><code>width</code></td>
                            <td><var>integer</var></td>
                            <td><code>1280</code></td>
                            <td>The end user's screen width.</td>
                        </tr>
                        <tr>
                            <td><code>img_w</code></td>
                            <td><var>integer</var></td>
                            <td><code>420</code></td>
                            <td>The default creative image width.</td>
                        </tr>
                        <tr>
                            <td><code>img_h</code></td>
                            <td><var>integer</var></td>
                            <td><code>315</code></td>
                            <td>The default creative image height.</td>
                        </tr>
                        <tr>
                            <td><code>format</code></td>
                            <td><var>string</var></td>
                            <td><code>json</code></td>
                            <td>The format of the response, json or xml.</td>
                        </tr>
                        <tr>
                            <td><code>sponsored_count</code></td>
                            <td><var>integer</var></td>
                            <td><code>25</code></td>
                            <td>Number of sponsored content items you would like in the response.</td>
                        </tr>
                        <tr>
                            <td><code>sponsored_offset</code></td>
                            <td><var>integer</var></td>
                            <td><code>0</code></td>
                            <td>The sponsored content item that you would like the response to start from.</td>
                        </tr>
                        <tr>
                            <td><code>internal_count</code></td>
                            <td><var>integer</var></td>
                            <td><code>5</code></td>
                            <td>Number of internal content items you would like in the response.</td>
                        </tr>
                        <tr>
                            <td><code>internal_offset</code></td>
                            <td><var>integer</var></td>
                            <td><code>0</code></td>
                            <td>The internal content item that you would like the response to start from.</td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <td colspan="4">
                                <div class="md-caption">*Properties marked <span class="text-danger">red</span> are required.</div>
                            </td>
                        </tr>
                    </tfoot>
                </table>
            </div>

            <div layout="column">
                <h3 class="md-title">Example</h3>

                <div>
                    <md-button ng-class="{'md-primary': (active.request == 'jsonp')}" ng-click="active.request = 'jsonp'" class="md-raised md-hue-1">jsonp</md-button>
                    <md-button ng-class="{'md-primary': (active.request == 'curl')}" ng-click="active.request = 'curl'" class="md-raised md-hue-1">curl</md-button>
                </div>

                <div class="margin-top">

                    <div ng-show="active.request == 'jsonp'" hljs language="bash" escape="false"># JSONP
    var script = document.createElement('script');

    script.src = 'http://trends.revcontent.com/api/v1/?api_key=a5633fda442db914a2acbe77789fbe324a83d0fb&pub_id=890&widget_id=2594&domain=m.todayslifestyle.com&user_ip=71.100.91.34&referer=www.revcontent.com&format=json&sponsored_count=25&sponsored_offset=0&internal_count=3&internal_offset=2&callback=my_callback';

    document.body.appendChild(script);</div>

                    <div ng-show="active.request == 'curl'" hljs language="bash" escape="false"># Sample cURL call with No Cache-control
    curl GET -v --cookie "__ID=72a78990b27cffce148fb" -X -H "Cache-Control: no-cache" http://trends.revcontent.com/api/v1/?api_key=your_api_key&pub_id=111&widget_id=222&domain=yourdomain.com</div>
                </div>

            </div>

        </md-card>

        <md-card>

            <h2 class="md-display-1">Response</h2>

            <p class="md-subhead">The expected response values in the return payload are shown below.</p>

            <div class="table-responsive">
                <table class="table table-condensed table-hover" style="">
                    <thead>
                        <tr>
                            <th>Property</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>headline</code></td>
                            <td>Content headline.</td>
                        </tr>
                        <tr>
                            <td><code>url</code></td>
                            <td>Content destination URL.</td>
                        </tr>
                        <tr>
                            <td><code>image</code></td>
                            <td>URL of the content image.</td>
                        </tr>
                        <tr>
                            <td><code>brand</code></td>
                            <td>Who is providing the content.</td>
                        </tr>
                        <tr>
                            <td><code>content_type</code></td>
                            <td>Content type: article or video</td>
                        </tr>
                        <tr>
                            <td><code>type</code></td>
                            <td>Type: sponsored or internal.</td>
                        </tr>
                        <tr>
                            <td><code>uid</code></td>
                            <td>Unique content id to the system.</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div layout="column">
                <h3 class="md-title">Example</h3>

                <div>
                    <md-button ng-class="{'md-primary': (active.response == 'json')}" ng-click="active.response = 'json'" class="md-raised md-hue-1">json</md-button>
                    <md-button ng-class="{'md-primary': (active.response == 'xml')}" ng-click="active.response = 'xml'" class="md-raised md-hue-1">xml</md-button>
                </div>

                <div class="margin-top">
                    <div ng-show="active.response == 'json'" hljs language="javascript">
    [
        {
            "brand": "Trending Solutions",
            "headline": "20 Mind-Blowing Facts You Didn't Know",
            "image": "//img.revcontent.com/?url=https://revcontent-production.s3.amazonaws.com/content/images/1430757674.jpg&pos=face&h=315&w=420",
            "url": "//trends.revcontent.com/click.php?d=eJwVk8kVxDAIQ1tiMVs5GEz%2FJYSc5mWwsZA%2BRaQQl1ztRMQNj2nKAxGiKOivuueBPbmY8t",
            "type": "sponsored",
            "content_type": "article",
            "uid": "sponsored_248"
        },
        ...
    ]</div>

                    <div ng-show="active.response == 'xml'" hljs language="xml">
    <widget>
        <element>
            <brand>Trending Solutions</brand>
            <headline>20 Mind-Blowing Facts You Didn't Know</headline>
            <image>//img.revcontent.com/?url=https://revcontent-production.s3.amazonaws.com/content/images/1430757674.jpg&pos=face&h=315&w=420</image>
            <url>//trends.revcontent.com/click.php?d=eJwVk8kVxDAIQ1tiMVs5GEz%2FJYSc5mWwsZA%2BRaQQl1ztRMQNj2nKAxGiKOivuueBPbmY8t</url>
            <type>sponsored</type>
            <content-type>article</content-type>
            <uid>sponsored_248</uid>
        </element>
    ...
    </widget></div>
                </div>

            </div>

        </md-card>

        <md-card>
            <h2 class="md-display-1">Advanced Usage</h2>

            <p class="md-subhead">For more advanced implementations widget and creative impressions must be managed. The API provides helper parameters for common use cases.</p>

            <h3 class="md-title">UITM Parameter</h3>

            <p style="margin-top:4px;">The UITM parameter allows a request to be made without registering either widget or creative impressions. Pass <code>uitm=true</code> to return a response without registering any impressions.</p>
            <p style="margin-top:0;" class="text-danger">When using the <code>uitm</code> parameter the click link urls will be returned with <code>uitm=1</code> preventing clicks from being counted. If these urls are used remove this with <code>url.replace('&uitm=1', '').replace('uitm=1', '')</code></p sty>

            <h3 class="md-title">FILL Parameter and offset rule</h3>
            <p style="margin-top:4px;">Sometimes it is necessary to only register creative impressions while ignoring the widget impression. If either the <code>sponsored_offset</code> or <code>trending_offset</code> is greater than 0 the system will automatically only register creative impressions. This behavior can be forced by using the <code>fill</code> param passing <code>fill=true</code></p>

        </md-card>

    </md-content>
</div>