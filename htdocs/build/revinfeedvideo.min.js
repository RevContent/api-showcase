/**
 * in-feed-video - In Feed Video Widget
 * @date - Fri Jun 16 2017 14:01:35 GMT-0400 (EDT)
 * @version v0.1.0
 * @link http://revcontent.com
 */
!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var i=this._events=this._events||{},n=i[t]=i[t]||[];return n.indexOf(e)==-1&&n.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var i=this._onceEvents=this._onceEvents||{},n=i[t]=i[t]||{};return n[e]=!0,this}},e.off=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=i.indexOf(e);return n!=-1&&i.splice(n,1),this}},e.emitEvent=function(t,e){var i=this._events&&this._events[t];if(i&&i.length){var n=0,o=i[n];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var a=r&&r[o];a&&(this.off(t,o),delete r[o]),o.apply(this,e),n+=a?0:1,o=i[n]}return this}},t}),Date.now||(Date.now=function(){return(new Date).getTime()}),function(){"use strict";for(var t=["webkit","moz"],e=0;e<t.length&&!window.requestAnimationFrame;++e){var i=t[e];window.requestAnimationFrame=window[i+"RequestAnimationFrame"],window.cancelAnimationFrame=window[i+"CancelAnimationFrame"]||window[i+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var n=0;window.requestAnimationFrame=function(t){var e=Date.now(),i=Math.max(n+16,e);return setTimeout(function(){t(n=i)},i-e)},window.cancelAnimationFrame=clearTimeout}}(),function(t,e){"use strict";t.revUtils=e(t,t.revOverlay)}(window,function(t,e){"use strict";var i={};return i.deprecateOptions=function(t){return t.overlay&&(t.image_overlay=t.overlay),t.overlay_icons&&(t.image_overlay_icons=t.overlay_icons),t.overlay_position&&(t.image_overlay_position=t.overlay_position),t},i.validateApiParams=function(t){var e=[];if(t.api_key||e.push("api_key"),t.rev_position){var i=["top_right","bottom_left","bottom_right"];this.inArray(i,t.rev_position)<0&&e.push("rev_position")}return t.pub_id||e.push("pub_id"),t.widget_id||e.push("widget_id"),t.domain||e.push("domain"),e.length&&console.log(e),e},i.serialize=function(t,e){if(!t)return"";var i=[];for(var n in t)if(t.hasOwnProperty(n)){var o=e?e+"["+n+"]":n,r=t[n];i.push("object"==typeof r&&"[object Object]"==Object.prototype.toString.call(r)?this.serialize(r,o):encodeURIComponent(o)+"="+encodeURIComponent(r))}return i.join("&")},i.appendStyle=function(t,e,i){var e=e+"-append-style";if(!document.getElementById(e)){var n=document.createElement("style");n.type="text/css",n.id=e,n.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(n)}if(i&&"string"==typeof i){var o=e+"-extra",r=document.getElementById(o);if(r)r.innerHTML+=i;else{var n=document.createElement("style");n.type="text/css",n.id=o,n.innerHTML=i,document.getElementsByTagName("head")[0].appendChild(n)}}},i.extend=function(t,e){var i={};for(var n in t)i[n]=t[n];for(var n in e)"object"==typeof e[n]&&"[object Object]"==Object.prototype.toString.call(e[n])?i[n]=this.extend(i[n],e[n]):i[n]=e[n];return i},i.merge=function(t,e){for(var i in e)t[i]=e[i];return t},i.inArray=function(t,e){for(var i=0;i<t.length;i++)if(t[i]===e)return i;return-1},i.setCookie=function(t,e,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var o="expires="+n.toUTCString(),r="; path=/; domain="+top.location.host;document.cookie=t+"="+e+"; "+o+r},i.getCookie=function(t){for(var e=t+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var o=i[n];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""},i.prepend=function(t,e){t.insertBefore(e,t.firstChild)},i.append=function(t,e){t.appendChild(e)},i.remove=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},i.wrap=function(t,e){var i=t.parentNode;e.appendChild(t),i.appendChild(e)},i.next=function(t){function e(t){do t=t.nextSibling;while(t&&1!==t.nodeType);return t}return t.nextElementSibling||e(t)},i.hasClass=function(t,e){return!!t&&(t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className))},i.addClass=function(t,e){return!!t&&void(t.classList?t.classList.add(e):(this.removeClass(t,e),t.className+=" "+e))},i.removeClass=function(t,e,i){if(!t)return!1;var n=t.className.trim().split(" ").filter(function(t){return i?0!==t.lastIndexOf(e,0):t!==e});t.className=n.join(" ").trim()},i.dispatchScrollbarResizeEvent=function(){var e="rc-scrollbar-resize-listener-frame";if(!document.getElementById(e)){var i=document.createElement("iframe");i.id=e,i.style.cssText="height: 0; background-color: transparent; margin: 0; padding: 0; overflow: hidden; border-width: 0; position: absolute; width: 100%;";var n=this;i.onload=function(){var e=function(){try{if(Event.prototype.initEvent){var o=document.createEvent("UIEvents");o.initUIEvent("resize",!0,!1,t,0)}else var o=new UIEvent("resize");t.dispatchEvent(o),n.removeEventListener(i.contentWindow,"resize",e)}catch(r){}};n.addEventListener(i.contentWindow,"resize",e)},document.body.appendChild(i)}},i.addEventListener=function(t,e,i,n){if(i){var o=!1;if(this.eventListenerPassiveSupported())var o={passive:!n||"undefined"==typeof n.passive||n.passive};t.addEventListener?t.addEventListener(e,i,o):t.attachEvent("on"+e,function(){i.call(t)})}},i.eventListenerPassiveSupported=function(){var t=!1;try{addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(e){}return t},i.removeEventListener=function(t,e,i){i&&(t.removeEventListener?t.removeEventListener(e,i):t.detachEvent("on"+e,i))},i.transformCss=function(t,e){t.style.transform=e,t.style.MsTransform=e,t.style.WebkitTransform=e,t.style.OTransform=e},i.transitionCss=function(t,e){t.style.transition=e,t.style.MsTransition=e,t.style.WebkitTransition=e,t.style.OTransition=e},i.transitionDurationCss=function(t,e){t.style.transitionDuration=e,t.style.WebkitTransitionDuration=e,t.style.MozTransitionDuration=e,t.style.OTransitionDuration=e},i.ellipsisText=function(t){for(var e=0;e<t.length;e++)for(var i,n=t[e],o=n.children[0];n.clientHeight<(n.scrollHeight>n.clientHeight?n.scrollHeight-1:n.scrollHeight)&&(i=o.innerHTML.trim(),!(i.split(" ").length<=1));)o.innerHTML=i.replace(/\W*\s(\S)*$/,"...")},i.imagesLoaded=function(t,e){function n(t){this.img=t}t.length||e.emitEvent("imagesLoaded");var o=4e3;n.prototype=new EventEmitter,n.prototype.check=function(){var t=this.getIsImageComplete();if(t){var e=this;return void setTimeout(function(){e.confirm(0!==e.img.naturalWidth,"naturalWidth")})}this.proxyImage=new Image,i.addEventListener(this.proxyImage,"load",this),i.addEventListener(this.proxyImage,"error",this),i.addEventListener(this.img,"load",this),i.addEventListener(this.img,"error",this),this.proxyImage.src=this.img.src},n.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},n.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.img,e)},n.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},n.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},n.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},n.prototype.unbindEvents=function(){i.removeEventListener(this.proxyImage,"load",this),i.removeEventListener(this.proxyImage,"error",this),i.removeEventListener(this.img,"load",this),i.removeEventListener(this.img,"error",this)};for(var r=0,a=0;a<t.length;a++){var s=new n(t[a]);s.once("progress",function(){r++,r==t.length&&e.emitEvent("imagesLoaded")}),s.check()}setTimeout(function(){e.emitEvent("imagesLoaded")},o)},i.getComputedStyle=function(t,e,i){return"undefined"!==getComputedStyle?getComputedStyle(t,i).getPropertyValue(e):t.currentStyle[e]},i.setImage=function(t,e){var i=document.createElement("img");i.src=e,this.append(t,i)},i.mergeOverlayIcons=function(t){this.merge(e.icons,t)},i.imageOverlay=function(t,i,n,o){e.image(t,i,n,o)},i.adOverlay=function(t,i,n,o){e.ad(t,i,n,o)},i.checkVisible=function(e,i,n,o){var r=this;requestAnimationFrame(function(){var a="number"==typeof n?.01*parseInt(n):0,s="number"==typeof o?o:0,c=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,l=t.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,d=e.getBoundingClientRect().top,u=e.getBoundingClientRect().bottom,m=e.offsetHeight*a;l+c>=d+l+m-s&&u>m&&i.call(r)})},i.checkHidden=function(e,i,n){var o=this;requestAnimationFrame(function(){var r="number"==typeof n?.01*parseInt(n):0,a=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,s=t.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;(s+a<e.getBoundingClientRect().top+s||e.getBoundingClientRect().top+e.offsetHeight*r<=0)&&i.call(o)})},i.imagesAbove=function(t){for(var e=document.querySelectorAll("img"),i=t.getBoundingClientRect().top,n=[],o=0;o<e.length;o++)e[o].getBoundingClientRect().top<i&&n.push(e[o]);return n},i.throttle=function(t,e,i){e||(e=250);var n,o;return function(){var r=i||this,a=+new Date,s=arguments;n&&a<n+e?(clearTimeout(o),o=setTimeout(function(){n=a,t.apply(r,s)},e)):(n=a,t.apply(r,s))}},i.siblingIndex=function(t){if(!t)return!1;for(var e=0;null!=(t=t.previousSibling);)e++;return e},i.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},i.docReady=function(t){"loading"!=document.readyState?t():document.addEventListener?document.addEventListener("DOMContentLoaded",t):document.attachEvent("onreadystatechange",function(){"loading"!=document.readyState&&t()})},i}),function(t,e){"use strict";t.revDialog=e(t,revUtils)}(window,function(t,e){var i=function(){this.id="rev-opt-out",this.aboutFrame=null,this.aboutSrc="//trends.revcontent.com/rc-about.php/%3Fdomain=http://code.revcontent.com&lg=//cdn.revcontent.com/assets/img/rc-logo.png",this.aboutHeight=455,this.aboutLoaded=!1,this.interestFrame=null,this.interestSrc="//trends.revcontent.com/rc-interests.php/?domain="+location.protocol+"//"+location.host+"&interests=1",this.interestHeight=520,this.interestLoaded=!1};i.prototype.setActive=function(t){switch(this.active=t,this.aboutFrame.style.display="none",this.interestFrame&&(this.interestFrame.style.display="none"),t){case"about":if(e.removeClass(this.element,"rev-interest-dialog"),this.aboutLoaded)this.aboutFrame.style.display="block",this.centerDialog();else{this.loading.style.display="block";var i=this;e.addEventListener(this.aboutFrame,"load",function(){i.loading.style.display="none",i.aboutFrame.style.display="block",i.centerDialog(),i.aboutLoaded=!0,e.removeEventListener(i.aboutFrame,"load",arguments.callee)})}break;case"interest":if(this.interestLoaded)e.addClass(this.element,"rev-interest-dialog"),this.interestFrame.style.display="block",this.centerDialog();else{this.loading.style.display="block",this.interestFrame=this.createFrame(this.interestSrc),this.interestFrame.style.display="none",this.modalContentContainer.appendChild(this.interestFrame);var i=this;e.addEventListener(this.interestFrame,"load",function(){i.loading.style.display="none",e.addClass(i.element,"rev-interest-dialog"),i.interestFrame.style.display="block",i.centerDialog(),i.interestLoaded=!0,e.removeEventListener(i.interestFrame,"load",arguments.callee)})}}},i.prototype.createFrame=function(t){var e=document.createElement("iframe");return e.setAttribute("class","rc-frame"),e.setAttribute("frameborder",0),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.setAttribute("src",t),e},i.prototype.render=function(){var t=document.querySelector("#"+this.id);return t||(this.bodyOverflow=e.getComputedStyle(document.body,"overflow"),this.element=document.createElement("div"),this.element.className="revdialog",this.element.id=this.id,this.loading=document.createElement("p"),this.loading.setAttribute("class","rd-loading"),this.loading.innerHTML="Loading<span>.</span><span>.</span><span>.</span>",this.element.innerHTML='<div class="rd-box-wrap"><div class="rd-box-overlay" onclick="revDialog.closeDialog()"> &nbsp; </div><div class="rd-vertical-offset"><div class="rd-box"><a class="rd-close-button" onclick="revDialog.closeDialog()"><svg xmlns="http://www.w3.org/2000/svg" fit="" height="20" width="20" preserveAspectRatio="xMidYMid meet" style="pointer-events: none; display: block;" viewBox="0 0 36 36"><path d="M28.5 9.62L26.38 7.5 18 15.88 9.62 7.5 7.5 9.62 15.88 18 7.5 26.38l2.12 2.12L18 20.12l8.38 8.38 2.12-2.12L20.12 18z"/></svg></a><div class="rd-content"><div class="rd-modal-content"></div></div></div></div></div>',document.body.appendChild(this.element),this.modalContentContainer=this.element.querySelectorAll(".rd-modal-content")[0],this.modalContentContainer.appendChild(this.loading),this.aboutFrame=this.createFrame(this.aboutSrc),this.setActive("about"),this.modalContentContainer.appendChild(this.aboutFrame),this.attachPostMesssage(),this.attachResize()),document.body.style.overflow="hidden",this.element},i.prototype.showDialog=function(t){var e=t||this;return e.render().style.display="block",e.centerDialog(),!1},i.prototype.closeDialog=function(){return document.body.style.overflow=this.bodyOverflow,this.element.style.display="none",this.setActive("about"),!1},i.prototype.centerDialog=function(t){var e=document.documentElement.clientWidth,i=document.documentElement.clientHeight;this.frameHeight="about"==this.active?this.aboutHeight:this.interestHeight,this.modalContentContainer.style.height=this.frameHeight+"px";var n=i-20;if(n<this.frameHeight){var o=!0;this.modalContentContainer.style.height=n+"px"}var r=Math.max(0,e/2-this.modalContentContainer.offsetWidth/2),a=o?0:Math.max(0,i/2-this.modalContentContainer.offsetHeight/2),s=document.querySelector(".rd-box");s.style.top=a+"px",s.style.left=r+"px"},i.prototype.attachPostMesssage=function(){var i=this;e.addEventListener(t,"message",function(t){switch(t.data.msg){case"open_me":i.setActive("interest");break;case"close_me":i.closeDialog()}})},i.prototype.attachResize=function(){var i,n=this;e.addEventListener(t,"resize",function(){clearTimeout(i),i=setTimeout(function(){n.centerDialog("resize")},100)})};var n=new i;return n}),function(t,e){"use strict";t.revApi=e(t,t.revBeacon)}(window,function(t,e){"use strict";var i={};return i.beacons=e||{attach:function(){}},i.forceJSONP=!0,i.request=function(e,i,n,o){if(this.forceJSONP||t.XDomainRequest){o=o?o:"success"+this.getTimestamp(),t[o]=i;var r=document.createElement("script");r.src=e+this.getReferer()+"&callback="+o,document.body.appendChild(r)}else{var a=new XMLHttpRequest;a.open("GET",e+this.getReferer(),!0),a.onload=function(){if(a.status>=200&&a.status<400)try{i(JSON.parse(a.responseText))}catch(t){}else n&&n(a)},a.onerror=function(){n&&n(a)},a.send()}},i.getReferer=function(){var t="";try{if(t=document.referrer,"undefined"==typeof t)throw"undefined"}catch(e){t=document.location.href,(""==t||"undefined"==typeof t)&&(t=document.URL)}return t=encodeURIComponent(t.substr(0,700)),"&referer="+t},i.getTimestamp=function(){var t=Date.now||function(){return+new Date};return t()},i}),function(t,e){"use strict";t.RevVideo=e(t,t.revUtils,t.revDetect,t.revApi,t.revDisclose)}(window,function(t,e,i,n,o){"use strict";var r=function(t){this.config=t,this.element=document.getElementById(this.config.id),this.init()};return r.prototype.init=function(){this.emitter=new EvEmitter,e.appendStyle('/* inject:css */.cnxpl-button-right img{margin-top:9px}.cnxpl-in-ad #gradient{background-image:none!important;background-color:#333!important}.rc-branding-container{text-align:right}.rc-branding-container .rc-branding{color:#999;visibility:visible!important;display:inline-block!important;text-decoration:none;z-index:99;line-height:13px;position:relative;text-align:right}.rc-branding-container .rc-branding.rc-text-right{float:right;right:10px}.rc-branding-container .rc-branding div{font-size:10px;cursor:pointer;display:inline-block}.rc-branding-container .rc-branding .rc-adchoices{position:relative!important;max-width:12px!important;margin:0 0 0 4px!important}#rev-opt-out{display:none;z-index:2147483641}#rev-opt-out .rd-box-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;opacity:.5;filter:alpha(opacity=50);z-index:2147483641}#rev-opt-out .rd-vertical-offset{position:fixed;display:table-cell;top:0;width:100%;z-index:2147483642}#rev-opt-out .rd-box{position:absolute;vertical-align:middle;background-color:#fff;min-width:290px;max-width:500px;width:90%;margin:10px auto;border-radius:10px}#rev-opt-out.rev-interest-dialog .rd-box{max-width:1024px}#rev-opt-out .rd-modal-content{-webkit-overflow-scrolling:touch;overflow-y:auto;line-height:0;box-sizing:content-box}#rev-opt-out .rd-close-button{position:absolute;cursor:pointer;top:-15px!important;right:-15px!important;-webkit-transform:scale(.7)!important;transform:scale(.7)!important;-webkit-transition:all .2s ease-in-out!important;transition:all .2s ease-in-out!important;width:35px!important;height:35px;border:1px solid #777;box-shadow:0 0 5px 0 rgba(0,0,0,.75);background:#efefef;border-radius:50%}#rev-opt-out .rd-close-button svg{fill:#bdbdbd;height:28px;width:28px;top:50%;position:absolute;margin-top:-14px;left:50%;margin-left:-14px}#rev-opt-out .rd-close-button:hover{-webkit-transform:scale(1)!important;transform:scale(1)!important}@-webkit-keyframes blink{0%,100%{opacity:.2}20%{opacity:1}}@keyframes blink{0%,100%{opacity:.2}20%{opacity:1}}.rd-loading{color:#00cb43;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:18px;line-height:22px;position:absolute;text-align:center;top:50%;width:100%;margin-top:-11px;margin-bottom:0}.rd-loading span{-webkit-animation-name:blink;animation-name:blink;-webkit-animation-duration:1.4s;animation-duration:1.4s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-fill-mode:both;animation-fill-mode:both}.rd-loading span:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.rd-loading span:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}/* endinject */',"rev-util");var i=this;t[this.config.id+"_callback"]=function(n){n.on("ready",function(){var n=document.createElement("div");n.className="rc-branding-container";var o=document.createElement("div");o.className="rc-text-bottom rc-text-center rc-branding rc-bl-ads-by-revcontent",o.innerHTML='<div class="rc-branding-label">Ads by Revcontent</div><div class="rc-brand-content"><img src="//serve.revcontent.com/assets/img/adchoices_icon.png" id="rc-adchoices" class="rc-adchoices"/></div>',e.append(n,o),e.append(i.element,n),e.addEventListener(o,"click",function(){t.revDialog.showDialog()}),i.registerViewOnceVisible(),i.attachVisibleListener(),e.checkVisible.bind(i,i.element,i.visible,50)()}).init()};var n=document.createElement("script");n.setAttribute("src","https://cdn.connatix.com/min/connatix.renderer.infeed.min.js"),n.setAttribute("async",!0),n.setAttribute("type","text/javascript"),n.setAttribute("data-connatix-token",this.config.token),n.setAttribute("ext-interface-callback",this.config.id+"_callback"),n.setAttribute("pcp1",this.config.widget_id),n.setAttribute("pcp2",this.config.pub_id),n.setAttribute("customlogo","https://i.connatix.com/s3/connatix-uploads/assets/RCIcon3.png?mode=pad&height=18"),e.append(this.element,n)},r.prototype.visible=function(){this.emitter.emitEvent("visible")},r.prototype.attachVisibleListener=function(){this.visibleListener=e.throttle(e.checkVisible.bind(this,this.element,this.visible),60),e.addEventListener(t,"scroll",this.visibleListener)},r.prototype.registerViewOnceVisible=function(){var i=this;this.emitter.once("visible",function(){e.removeEventListener(t,"scroll",i.visibleListener),i.registerView()})},r.prototype.registerView=function(){this.viewed||(this.viewed=!0,n.request(this.config.view_url+"?view="+this.config.view+"&p[]=0",function(){}))},r});