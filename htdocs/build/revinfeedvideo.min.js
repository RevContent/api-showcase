/**
 * in-feed-video - In Feed Video Widget
 * @date - Wed Jun 14 2017 18:43:14 GMT-0400 (EDT)
 * @version v0.1.0
 * @link http://revcontent.com
 */
!function(t,e){"function"==typeof define&&define.amd?define(e):"object"==typeof module&&module.exports?module.exports=e():t.EvEmitter=e()}("undefined"!=typeof window?window:this,function(){"use strict";function t(){}var e=t.prototype;return e.on=function(t,e){if(t&&e){var n=this._events=this._events||{},i=n[t]=n[t]||[];return i.indexOf(e)==-1&&i.push(e),this}},e.once=function(t,e){if(t&&e){this.on(t,e);var n=this._onceEvents=this._onceEvents||{},i=n[t]=n[t]||{};return i[e]=!0,this}},e.off=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=n.indexOf(e);return i!=-1&&n.splice(i,1),this}},e.emitEvent=function(t,e){var n=this._events&&this._events[t];if(n&&n.length){var i=0,o=n[i];e=e||[];for(var r=this._onceEvents&&this._onceEvents[t];o;){var a=r&&r[o];a&&(this.off(t,o),delete r[o]),o.apply(this,e),i+=a?0:1,o=n[i]}return this}},t}),Date.now||(Date.now=function(){return(new Date).getTime()}),function(){"use strict";for(var t=["webkit","moz"],e=0;e<t.length&&!window.requestAnimationFrame;++e){var n=t[e];window.requestAnimationFrame=window[n+"RequestAnimationFrame"],window.cancelAnimationFrame=window[n+"CancelAnimationFrame"]||window[n+"CancelRequestAnimationFrame"]}if(/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent)||!window.requestAnimationFrame||!window.cancelAnimationFrame){var i=0;window.requestAnimationFrame=function(t){var e=Date.now(),n=Math.max(i+16,e);return setTimeout(function(){t(i=n)},n-e)},window.cancelAnimationFrame=clearTimeout}}(),function(t,e){"use strict";t.revUtils=e(t,t.revOverlay)}(window,function(t,e){"use strict";var n={};return n.deprecateOptions=function(t){return t.overlay&&(t.image_overlay=t.overlay),t.overlay_icons&&(t.image_overlay_icons=t.overlay_icons),t.overlay_position&&(t.image_overlay_position=t.overlay_position),t},n.validateApiParams=function(t){var e=[];if(t.api_key||e.push("api_key"),t.rev_position){var n=["top_right","bottom_left","bottom_right"];this.inArray(n,t.rev_position)<0&&e.push("rev_position")}return t.pub_id||e.push("pub_id"),t.widget_id||e.push("widget_id"),t.domain||e.push("domain"),e.length&&console.log(e),e},n.serialize=function(t,e){if(!t)return"";var n=[];for(var i in t)if(t.hasOwnProperty(i)){var o=e?e+"["+i+"]":i,r=t[i];n.push("object"==typeof r&&"[object Object]"==Object.prototype.toString.call(r)?this.serialize(r,o):encodeURIComponent(o)+"="+encodeURIComponent(r))}return n.join("&")},n.appendStyle=function(t,e,n){var e=e+"-append-style";if(!document.getElementById(e)){var i=document.createElement("style");i.type="text/css",i.id=e,i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i)}if(n&&"string"==typeof n){var o=e+"-extra",r=document.getElementById(o);if(r)r.innerHTML+=n;else{var i=document.createElement("style");i.type="text/css",i.id=o,i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i)}}},n.extend=function(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)"object"==typeof e[i]&&"[object Object]"==Object.prototype.toString.call(e[i])?n[i]=this.extend(n[i],e[i]):n[i]=e[i];return n},n.merge=function(t,e){for(var n in e)t[n]=e[n];return t},n.inArray=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},n.setCookie=function(t,e,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var o="expires="+i.toUTCString(),r="; path=/; domain="+top.location.host;document.cookie=t+"="+e+"; "+o+r},n.getCookie=function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1);if(0==o.indexOf(e))return o.substring(e.length,o.length)}return""},n.prepend=function(t,e){t.insertBefore(e,t.firstChild)},n.append=function(t,e){t.appendChild(e)},n.remove=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},n.wrap=function(t,e){var n=t.parentNode;e.appendChild(t),n.appendChild(e)},n.next=function(t){function e(t){do t=t.nextSibling;while(t&&1!==t.nodeType);return t}return t.nextElementSibling||e(t)},n.hasClass=function(t,e){return!!t&&(t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className))},n.addClass=function(t,e){return!!t&&void(t.classList?t.classList.add(e):(this.removeClass(t,e),t.className+=" "+e))},n.removeClass=function(t,e,n){if(!t)return!1;var i=t.className.trim().split(" ").filter(function(t){return n?0!==t.lastIndexOf(e,0):t!==e});t.className=i.join(" ").trim()},n.dispatchScrollbarResizeEvent=function(){var e="rc-scrollbar-resize-listener-frame";if(!document.getElementById(e)){var n=document.createElement("iframe");n.id=e,n.style.cssText="height: 0; background-color: transparent; margin: 0; padding: 0; overflow: hidden; border-width: 0; position: absolute; width: 100%;";var i=this;n.onload=function(){var e=function(){try{if(Event.prototype.initEvent){var o=document.createEvent("UIEvents");o.initUIEvent("resize",!0,!1,t,0)}else var o=new UIEvent("resize");t.dispatchEvent(o),i.removeEventListener(n.contentWindow,"resize",e)}catch(r){}};i.addEventListener(n.contentWindow,"resize",e)},document.body.appendChild(n)}},n.addEventListener=function(t,e,n,i){if(n){var o=!1;if(this.eventListenerPassiveSupported())var o={passive:!i||"undefined"==typeof i.passive||i.passive};t.addEventListener?t.addEventListener(e,n,o):t.attachEvent("on"+e,function(){n.call(t)})}},n.eventListenerPassiveSupported=function(){var t=!1;try{addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(e){}return t},n.removeEventListener=function(t,e,n){n&&(t.removeEventListener?t.removeEventListener(e,n):t.detachEvent("on"+e,n))},n.transformCss=function(t,e){t.style.transform=e,t.style.MsTransform=e,t.style.WebkitTransform=e,t.style.OTransform=e},n.transitionCss=function(t,e){t.style.transition=e,t.style.MsTransition=e,t.style.WebkitTransition=e,t.style.OTransition=e},n.transitionDurationCss=function(t,e){t.style.transitionDuration=e,t.style.WebkitTransitionDuration=e,t.style.MozTransitionDuration=e,t.style.OTransitionDuration=e},n.ellipsisText=function(t){for(var e=0;e<t.length;e++)for(var n,i=t[e],o=i.children[0];i.clientHeight<(i.scrollHeight>i.clientHeight?i.scrollHeight-1:i.scrollHeight)&&(n=o.innerHTML.trim(),!(n.split(" ").length<=1));)o.innerHTML=n.replace(/\W*\s(\S)*$/,"...")},n.imagesLoaded=function(t,e){function i(t){this.img=t}t.length||e.emitEvent("imagesLoaded");var o=4e3;i.prototype=new EventEmitter,i.prototype.check=function(){var t=this.getIsImageComplete();if(t){var e=this;return void setTimeout(function(){e.confirm(0!==e.img.naturalWidth,"naturalWidth")})}this.proxyImage=new Image,n.addEventListener(this.proxyImage,"load",this),n.addEventListener(this.proxyImage,"error",this),n.addEventListener(this.img,"load",this),n.addEventListener(this.img,"error",this),this.proxyImage.src=this.img.src},i.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.img,e)},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){n.removeEventListener(this.proxyImage,"load",this),n.removeEventListener(this.proxyImage,"error",this),n.removeEventListener(this.img,"load",this),n.removeEventListener(this.img,"error",this)};for(var r=0,a=0;a<t.length;a++){var s=new i(t[a]);s.once("progress",function(){r++,r==t.length&&e.emitEvent("imagesLoaded")}),s.check()}setTimeout(function(){e.emitEvent("imagesLoaded")},o)},n.getComputedStyle=function(t,e,n){return"undefined"!==getComputedStyle?getComputedStyle(t,n).getPropertyValue(e):t.currentStyle[e]},n.setImage=function(t,e){var n=document.createElement("img");n.src=e,this.append(t,n)},n.mergeOverlayIcons=function(t){this.merge(e.icons,t)},n.imageOverlay=function(t,n,i,o){e.image(t,n,i,o)},n.adOverlay=function(t,n,i,o){e.ad(t,n,i,o)},n.checkVisible=function(e,n,i,o){var r=this;requestAnimationFrame(function(){var a="number"==typeof i?.01*parseInt(i):0,s="number"==typeof o?o:0,c=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,d=t.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,l=e.getBoundingClientRect().top,u=e.getBoundingClientRect().bottom,m=e.offsetHeight*a;d+c>=l+d+m-s&&u>m&&n.call(r)})},n.checkHidden=function(e,n,i){var o=this;requestAnimationFrame(function(){var r="number"==typeof i?.01*parseInt(i):0,a=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,s=t.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;(s+a<e.getBoundingClientRect().top+s||e.getBoundingClientRect().top+e.offsetHeight*r<=0)&&n.call(o)})},n.imagesAbove=function(t){for(var e=document.querySelectorAll("img"),n=t.getBoundingClientRect().top,i=[],o=0;o<e.length;o++)e[o].getBoundingClientRect().top<n&&i.push(e[o]);return i},n.throttle=function(t,e,n){e||(e=250);var i,o;return function(){var r=n||this,a=+new Date,s=arguments;i&&a<i+e?(clearTimeout(o),o=setTimeout(function(){i=a,t.apply(r,s)},e)):(i=a,t.apply(r,s))}},n.siblingIndex=function(t){if(!t)return!1;for(var e=0;null!=(t=t.previousSibling);)e++;return e},n.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.docReady=function(t){"loading"!=document.readyState?t():document.addEventListener?document.addEventListener("DOMContentLoaded",t):document.attachEvent("onreadystatechange",function(){"loading"!=document.readyState&&t()})},n}),function(t,e){"use strict";t.revDialog=e(t,revUtils)}(window,function(t,e){var n=function(){this.id="rev-opt-out",this.aboutFrame=null,this.aboutSrc="//trends.revcontent.com/rc-about.php/%3Fdomain=http://code.revcontent.com&lg=//cdn.revcontent.com/assets/img/rc-logo.png",this.aboutHeight=455,this.aboutLoaded=!1,this.interestFrame=null,this.interestSrc="//trends.revcontent.com/rc-interests.php/?domain="+location.protocol+"//"+location.host+"&interests=1",this.interestHeight=520,this.interestLoaded=!1};n.prototype.setActive=function(t){switch(this.active=t,this.aboutFrame.style.display="none",this.interestFrame&&(this.interestFrame.style.display="none"),t){case"about":if(e.removeClass(this.element,"rev-interest-dialog"),this.aboutLoaded)this.aboutFrame.style.display="block",this.centerDialog();else{this.loading.style.display="block";var n=this;e.addEventListener(this.aboutFrame,"load",function(){n.loading.style.display="none",n.aboutFrame.style.display="block",n.centerDialog(),n.aboutLoaded=!0,e.removeEventListener(n.aboutFrame,"load",arguments.callee)})}break;case"interest":if(this.interestLoaded)e.addClass(this.element,"rev-interest-dialog"),this.interestFrame.style.display="block",this.centerDialog();else{this.loading.style.display="block",this.interestFrame=this.createFrame(this.interestSrc),this.interestFrame.style.display="none",this.modalContentContainer.appendChild(this.interestFrame);var n=this;e.addEventListener(this.interestFrame,"load",function(){n.loading.style.display="none",e.addClass(n.element,"rev-interest-dialog"),n.interestFrame.style.display="block",n.centerDialog(),n.interestLoaded=!0,e.removeEventListener(n.interestFrame,"load",arguments.callee)})}}},n.prototype.createFrame=function(t){var e=document.createElement("iframe");return e.setAttribute("class","rc-frame"),e.setAttribute("frameborder",0),e.setAttribute("width","100%"),e.setAttribute("height","100%"),e.setAttribute("src",t),e},n.prototype.render=function(){var t=document.querySelector("#"+this.id);return t||(this.bodyOverflow=e.getComputedStyle(document.body,"overflow"),this.element=document.createElement("div"),this.element.className="revdialog",this.element.id=this.id,this.loading=document.createElement("p"),this.loading.setAttribute("class","rd-loading"),this.loading.innerHTML="Loading<span>.</span><span>.</span><span>.</span>",this.element.innerHTML='<div class="rd-box-wrap"><div class="rd-box-overlay" onclick="revDialog.closeDialog()"> &nbsp; </div><div class="rd-vertical-offset"><div class="rd-box"><a class="rd-close-button" onclick="revDialog.closeDialog()"><svg xmlns="http://www.w3.org/2000/svg" fit="" height="20" width="20" preserveAspectRatio="xMidYMid meet" style="pointer-events: none; display: block;" viewBox="0 0 36 36"><path d="M28.5 9.62L26.38 7.5 18 15.88 9.62 7.5 7.5 9.62 15.88 18 7.5 26.38l2.12 2.12L18 20.12l8.38 8.38 2.12-2.12L20.12 18z"/></svg></a><div class="rd-content"><div class="rd-modal-content"></div></div></div></div></div>',document.body.appendChild(this.element),this.modalContentContainer=this.element.querySelectorAll(".rd-modal-content")[0],this.modalContentContainer.appendChild(this.loading),this.aboutFrame=this.createFrame(this.aboutSrc),this.setActive("about"),this.modalContentContainer.appendChild(this.aboutFrame),this.attachPostMesssage(),this.attachResize()),document.body.style.overflow="hidden",this.element},n.prototype.showDialog=function(t){var e=t||this;return e.render().style.display="block",e.centerDialog(),!1},n.prototype.closeDialog=function(){return document.body.style.overflow=this.bodyOverflow,this.element.style.display="none",this.setActive("about"),!1},n.prototype.centerDialog=function(t){var e=document.documentElement.clientWidth,n=document.documentElement.clientHeight;this.frameHeight="about"==this.active?this.aboutHeight:this.interestHeight,this.modalContentContainer.style.height=this.frameHeight+"px";var i=n-20;if(i<this.frameHeight){var o=!0;this.modalContentContainer.style.height=i+"px"}var r=Math.max(0,e/2-this.modalContentContainer.offsetWidth/2),a=o?0:Math.max(0,n/2-this.modalContentContainer.offsetHeight/2),s=document.querySelector(".rd-box");s.style.top=a+"px",s.style.left=r+"px"},n.prototype.attachPostMesssage=function(){var n=this;e.addEventListener(t,"message",function(t){switch(t.data.msg){case"open_me":n.setActive("interest");break;case"close_me":n.closeDialog()}})},n.prototype.attachResize=function(){var n,i=this;e.addEventListener(t,"resize",function(){clearTimeout(n),n=setTimeout(function(){i.centerDialog("resize")},100)})};var i=new n;return i}),function(t,e){"use strict";t.revApi=e(t,t.revBeacon)}(window,function(t,e){"use strict";var n={};return n.beacons=e||{attach:function(){}},n.forceJSONP=!0,n.request=function(e,n,i,o){if(this.forceJSONP||t.XDomainRequest){o=o?o:"success"+this.getTimestamp(),t[o]=n;var r=document.createElement("script");r.src=e+this.getReferer()+"&callback="+o,document.body.appendChild(r)}else{var a=new XMLHttpRequest;a.open("GET",e+this.getReferer(),!0),a.onload=function(){if(a.status>=200&&a.status<400)try{n(JSON.parse(a.responseText))}catch(t){}else i&&i(a)},a.onerror=function(){i&&i(a)},a.send()}},n.getReferer=function(){var t="";try{if(t=document.referrer,"undefined"==typeof t)throw"undefined"}catch(e){t=document.location.href,(""==t||"undefined"==typeof t)&&(t=document.URL)}return t=encodeURIComponent(t.substr(0,700)),"&referer="+t},n.getTimestamp=function(){var t=Date.now||function(){return+new Date};return t()},n}),function(t,e){"use strict";t.RevVideo=e(t,t.revUtils,t.revDetect,t.revApi,t.revDisclose)}(window,function(t,e,n,i,o){"use strict";var r=function(t){this.config=t,this.element=document.getElementById(this.config.id),this.init()};return r.prototype.init=function(){this.emitter=new EvEmitter,e.appendStyle('/* inject:css */.cnxpl-button-right img{margin-top:9px}.cnxpl-in-ad #gradient{background-image:none!important;background-color:#333!important}.rc-branding-container{text-align:right}.rc-branding-container .rc-branding{color:#999;visibility:visible!important;display:inline-block!important;text-decoration:none;z-index:99;line-height:13px;position:relative;text-align:right}.rc-branding-container .rc-branding.rc-text-right{float:right;right:10px}.rc-branding-container .rc-branding div{font-size:10px;cursor:pointer;display:inline-block}.rc-branding-container .rc-branding .rc-adchoices{position:relative!important;max-width:12px!important;margin:0 0 0 4px!important}#rev-opt-out{display:none;z-index:2147483641}#rev-opt-out .rd-box-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;opacity:.5;filter:alpha(opacity=50);z-index:2147483641}#rev-opt-out .rd-vertical-offset{position:fixed;display:table-cell;top:0;width:100%;z-index:2147483642}#rev-opt-out .rd-box{position:absolute;vertical-align:middle;background-color:#fff;min-width:290px;max-width:500px;width:90%;margin:10px auto;border-radius:10px}#rev-opt-out.rev-interest-dialog .rd-box{max-width:1024px}#rev-opt-out .rd-modal-content{-webkit-overflow-scrolling:touch;overflow-y:auto;line-height:0;box-sizing:content-box}#rev-opt-out .rd-close-button{position:absolute;cursor:pointer;top:-15px!important;right:-15px!important;-webkit-transform:scale(.7)!important;transform:scale(.7)!important;-webkit-transition:all .2s ease-in-out!important;transition:all .2s ease-in-out!important;width:35px!important;height:35px;border:1px solid #777;box-shadow:0 0 5px 0 rgba(0,0,0,.75);background:#efefef;border-radius:50%}#rev-opt-out .rd-close-button svg{fill:#bdbdbd;height:28px;width:28px;top:50%;position:absolute;margin-top:-14px;left:50%;margin-left:-14px}#rev-opt-out .rd-close-button:hover{-webkit-transform:scale(1)!important;transform:scale(1)!important}@-webkit-keyframes blink{0%,100%{opacity:.2}20%{opacity:1}}@keyframes blink{0%,100%{opacity:.2}20%{opacity:1}}.rd-loading{color:#00cb43;font-family:"Helvetica Neue",Helvetica,Arial,sans-serif;font-size:18px;line-height:22px;position:absolute;text-align:center;top:50%;width:100%;margin-top:-11px;margin-bottom:0}.rd-loading span{-webkit-animation-name:blink;animation-name:blink;-webkit-animation-duration:1.4s;animation-duration:1.4s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-fill-mode:both;animation-fill-mode:both}.rd-loading span:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.rd-loading span:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}/* endinject */',"rev-util");var n=this;t[this.config.id+"_callback"]=function(i){i.on("ready",function(){var i=document.createElement("div");i.className="rc-branding-container";var o=document.createElement("div");o.className="rc-text-bottom rc-text-center rc-branding rc-bl-ads-by-revcontent",o.innerHTML='<div class="rc-branding-label rc-brand-content">Ads by Revcontent</div><div class="rc-brand-content"><img src="//serve.revcontent.com/assets/img/adchoices_icon.png" id="rc-adchoices" class="rc-adchoices"/></div>',e.append(i,o),e.append(n.element,i),e.addEventListener(o,"click",function(){t.revDialog.showDialog()}),n.registerViewOnceVisible(),n.attachVisibleListener(),e.checkVisible.bind(n,n.element,n.visible,50)()}).init()};var i=document.createElement("script");i.setAttribute("src","https://cdn.connatix.com/min/connatix.renderer.infeed.min.js"),i.setAttribute("async",!0),i.setAttribute("type","text/javascript"),i.setAttribute("data-connatix-token",this.config.token),i.setAttribute("ext-interface-callback",this.config.id+"_callback"),i.setAttribute("pcp1",this.config.widget_id),i.setAttribute("pcp2",this.config.pub_id),i.setAttribute("customlogo","https://i.connatix.com/s3/connatix-uploads/assets/RCIcon3.png?mode=pad&height=18"),e.append(this.element,i)},r.prototype.visible=function(){this.emitter.emitEvent("visible")},r.prototype.attachVisibleListener=function(){this.visibleListener=e.throttle(e.checkVisible.bind(this,this.element,this.visible),60),e.addEventListener(t,"scroll",this.visibleListener)},r.prototype.registerViewOnceVisible=function(){var n=this;this.emitter.once("visible",function(){e.removeEventListener(t,"scroll",n.visibleListener),n.registerView()})},r.prototype.registerView=function(){this.viewed||(this.viewed=!0,i.request(this.config.view_url+"?view="+this.config.view+"&p[]=0",function(){}))},r});