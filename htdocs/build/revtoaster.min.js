/**
 * rev-toaster - Content Toaster
 * @date - Mon Dec 21 2015 13:39:15 GMT-0500 (Eastern Standard Time)
 * @version v0.1.1
 * @link http://labs.revcontent.com
 */
(function(){"use strict";function EventEmitter(){}function indexOfListener(listeners,listener){for(var i=listeners.length;i--;)if(listeners[i].listener===listener)return i;return-1}function alias(name){return function(){return this[name].apply(this,arguments)}}var proto=EventEmitter.prototype,exports=this,originalGlobalValue=exports.EventEmitter;proto.getListeners=function(evt){var response,key,events=this._getEvents();if("object"==typeof evt){response={};for(key in events)events.hasOwnProperty(key)&&evt.test(key)&&(response[key]=events[key])}else response=events[evt]||(events[evt]=[]);return response},proto.flattenListeners=function(listeners){var i,flatListeners=[];for(i=0;i<listeners.length;i+=1)flatListeners.push(listeners[i].listener);return flatListeners},proto.getListenersAsObject=function(evt){var response,listeners=this.getListeners(evt);return listeners instanceof Array&&(response={},response[evt]=listeners),response||listeners},proto.addListener=function(evt,listener){var key,listeners=this.getListenersAsObject(evt),listenerIsWrapped="object"==typeof listener;for(key in listeners)listeners.hasOwnProperty(key)&&-1===indexOfListener(listeners[key],listener)&&listeners[key].push(listenerIsWrapped?listener:{listener:listener,once:!1});return this},proto.on=alias("addListener"),proto.addOnceListener=function(evt,listener){return this.addListener(evt,{listener:listener,once:!0})},proto.once=alias("addOnceListener"),proto.defineEvent=function(evt){return this.getListeners(evt),this},proto.defineEvents=function(evts){for(var i=0;i<evts.length;i+=1)this.defineEvent(evts[i]);return this},proto.removeListener=function(evt,listener){var index,key,listeners=this.getListenersAsObject(evt);for(key in listeners)listeners.hasOwnProperty(key)&&(index=indexOfListener(listeners[key],listener),-1!==index&&listeners[key].splice(index,1));return this},proto.off=alias("removeListener"),proto.addListeners=function(evt,listeners){return this.manipulateListeners(!1,evt,listeners)},proto.removeListeners=function(evt,listeners){return this.manipulateListeners(!0,evt,listeners)},proto.manipulateListeners=function(remove,evt,listeners){var i,value,single=remove?this.removeListener:this.addListener,multiple=remove?this.removeListeners:this.addListeners;if("object"!=typeof evt||evt instanceof RegExp)for(i=listeners.length;i--;)single.call(this,evt,listeners[i]);else for(i in evt)evt.hasOwnProperty(i)&&(value=evt[i])&&("function"==typeof value?single.call(this,i,value):multiple.call(this,i,value));return this},proto.removeEvent=function(evt){var key,type=typeof evt,events=this._getEvents();if("string"===type)delete events[evt];else if("object"===type)for(key in events)events.hasOwnProperty(key)&&evt.test(key)&&delete events[key];else delete this._events;return this},proto.removeAllListeners=alias("removeEvent"),proto.emitEvent=function(evt,args){var listener,i,key,response,listeners=this.getListenersAsObject(evt);for(key in listeners)if(listeners.hasOwnProperty(key))for(i=listeners[key].length;i--;)listener=listeners[key][i],listener.once===!0&&this.removeListener(evt,listener.listener),response=listener.listener.apply(this,args||[]),response===this._getOnceReturnValue()&&this.removeListener(evt,listener.listener);return this},proto.trigger=alias("emitEvent"),proto.emit=function(evt){var args=Array.prototype.slice.call(arguments,1);return this.emitEvent(evt,args)},proto.setOnceReturnValue=function(value){return this._onceReturnValue=value,this},proto._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},proto._getEvents=function(){return this._events||(this._events={})},EventEmitter.noConflict=function(){return exports.EventEmitter=originalGlobalValue,EventEmitter},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return EventEmitter}):"object"==typeof module&&module.exports?module.exports=EventEmitter:this.EventEmitter=EventEmitter}).call(this),function(window){function getIEEvent(obj){var event=window.event;return event.target=event.target||event.srcElement||obj,event}var docElem=document.documentElement,bind=function(){};docElem.addEventListener?bind=function(obj,type,fn){obj.addEventListener(type,fn,!1)}:docElem.attachEvent&&(bind=function(obj,type,fn){obj[type+fn]=fn.handleEvent?function(){var event=getIEEvent(obj);fn.handleEvent.call(fn,event)}:function(){var event=getIEEvent(obj);fn.call(obj,event)},obj.attachEvent("on"+type,obj[type+fn])});var unbind=function(){};docElem.removeEventListener?unbind=function(obj,type,fn){obj.removeEventListener(type,fn,!1)}:docElem.detachEvent&&(unbind=function(obj,type,fn){obj.detachEvent("on"+type,obj[type+fn]);try{delete obj[type+fn]}catch(err){obj[type+fn]=void 0}});var eventie={bind:bind,unbind:unbind};"function"==typeof define&&define.amd?define("eventie/eventie",eventie):window.eventie=eventie}(this),function(window,factory){"use strict";"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(EventEmitter,eventie){return factory(window,EventEmitter,eventie)}):"object"==typeof module&&module.exports?module.exports=factory(window,require("wolfy87-eventemitter"),require("eventie")):window.imagesLoaded=factory(window,window.EventEmitter,window.eventie)}(window,function(window,EventEmitter,eventie){function extend(a,b){for(var prop in b)a[prop]=b[prop];return a}function isArray(obj){return"[object Array]"==objToString.call(obj)}function makeArray(obj){var ary=[];if(isArray(obj))ary=obj;else if("number"==typeof obj.length)for(var i=0;i<obj.length;i++)ary.push(obj[i]);else ary.push(obj);return ary}function ImagesLoaded(elem,options,onAlways){if(!(this instanceof ImagesLoaded))return new ImagesLoaded(elem,options,onAlways);"string"==typeof elem&&(elem=document.querySelectorAll(elem)),this.elements=makeArray(elem),this.options=extend({},this.options),"function"==typeof options?onAlways=options:extend(this.options,options),onAlways&&this.on("always",onAlways),this.getImages(),$&&(this.jqDeferred=new $.Deferred);var _this=this;setTimeout(function(){_this.check()})}function LoadingImage(img){this.img=img}function Background(url,element){this.url=url,this.element=element,this.img=new Image}var $=window.jQuery,console=window.console,objToString=Object.prototype.toString;ImagesLoaded.prototype=new EventEmitter,ImagesLoaded.prototype.options={},ImagesLoaded.prototype.getImages=function(){this.images=[];for(var i=0;i<this.elements.length;i++){var elem=this.elements[i];this.addElementImages(elem)}},ImagesLoaded.prototype.addElementImages=function(elem){"IMG"==elem.nodeName&&this.addImage(elem),this.options.background===!0&&this.addElementBackgroundImages(elem);var nodeType=elem.nodeType;if(nodeType&&elementNodeTypes[nodeType]){for(var childImgs=elem.querySelectorAll("img"),i=0;i<childImgs.length;i++){var img=childImgs[i];this.addImage(img)}if("string"==typeof this.options.background){var children=elem.querySelectorAll(this.options.background);for(i=0;i<children.length;i++){var child=children[i];this.addElementBackgroundImages(child)}}}};var elementNodeTypes={1:!0,9:!0,11:!0};ImagesLoaded.prototype.addElementBackgroundImages=function(elem){for(var style=getStyle(elem),reURL=/url\(['"]*([^'"\)]+)['"]*\)/gi,matches=reURL.exec(style.backgroundImage);null!==matches;){var url=matches&&matches[1];url&&this.addBackground(url,elem),matches=reURL.exec(style.backgroundImage)}};var getStyle=window.getComputedStyle||function(elem){return elem.currentStyle};return ImagesLoaded.prototype.addImage=function(img){var loadingImage=new LoadingImage(img);this.images.push(loadingImage)},ImagesLoaded.prototype.addBackground=function(url,elem){var background=new Background(url,elem);this.images.push(background)},ImagesLoaded.prototype.check=function(){function onProgress(image,elem,message){setTimeout(function(){_this.progress(image,elem,message)})}var _this=this;if(this.progressedCount=0,this.hasAnyBroken=!1,!this.images.length)return void this.complete();for(var i=0;i<this.images.length;i++){var loadingImage=this.images[i];loadingImage.once("progress",onProgress),loadingImage.check()}},ImagesLoaded.prototype.progress=function(image,elem,message){this.progressedCount++,this.hasAnyBroken=this.hasAnyBroken||!image.isLoaded,this.emit("progress",this,image,elem),this.jqDeferred&&this.jqDeferred.notify&&this.jqDeferred.notify(this,image),this.progressedCount==this.images.length&&this.complete(),this.options.debug&&console&&console.log("progress: "+message,image,elem)},ImagesLoaded.prototype.complete=function(){var eventName=this.hasAnyBroken?"fail":"done";if(this.isComplete=!0,this.emit(eventName,this),this.emit("always",this),this.jqDeferred){var jqMethod=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[jqMethod](this)}},LoadingImage.prototype=new EventEmitter,LoadingImage.prototype.check=function(){var isComplete=this.getIsImageComplete();return isComplete?void this.confirm(0!==this.img.naturalWidth,"naturalWidth"):(this.proxyImage=new Image,eventie.bind(this.proxyImage,"load",this),eventie.bind(this.proxyImage,"error",this),eventie.bind(this.img,"load",this),eventie.bind(this.img,"error",this),void(this.proxyImage.src=this.img.src))},LoadingImage.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},LoadingImage.prototype.confirm=function(isLoaded,message){this.isLoaded=isLoaded,this.emit("progress",this,this.img,message)},LoadingImage.prototype.handleEvent=function(event){var method="on"+event.type;this[method]&&this[method](event)},LoadingImage.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},LoadingImage.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},LoadingImage.prototype.unbindEvents=function(){eventie.unbind(this.proxyImage,"load",this),eventie.unbind(this.proxyImage,"error",this),eventie.unbind(this.img,"load",this),eventie.unbind(this.img,"error",this)},Background.prototype=new LoadingImage,Background.prototype.check=function(){eventie.bind(this.img,"load",this),eventie.bind(this.img,"error",this),this.img.src=this.url;var isComplete=this.getIsImageComplete();isComplete&&(this.confirm(0!==this.img.naturalWidth,"naturalWidth"),this.unbindEvents())},Background.prototype.unbindEvents=function(){eventie.unbind(this.img,"load",this),eventie.unbind(this.img,"error",this)},Background.prototype.confirm=function(isLoaded,message){this.isLoaded=isLoaded,this.emit("progress",this,this.element,message)},ImagesLoaded.makeJQueryPlugin=function(jQuery){jQuery=jQuery||window.jQuery,jQuery&&($=jQuery,$.fn.imagesLoaded=function(options,callback){var instance=new ImagesLoaded(this,options,callback);return instance.jqDeferred.promise($(this))})},ImagesLoaded.makeJQueryPlugin(),ImagesLoaded}),function(window,factory){"use strict";window.revUtils=factory(window)}(window,function(window){"use strict";var utils={};return utils.validateApiParams=function(params){var errors=[];if(params.api_key||errors.push("api_key"),params.rev_position){var revPositions=["top_right","bottom_left","bottom_right"];this.inArray(revPositions,params.rev_position)<0&&errors.push("rev_position")}return params.pub_id||errors.push("pub_id"),params.widget_id||errors.push("widget_id"),params.domain||errors.push("domain"),errors.length&&console.log(errors),errors},utils.appendStyle=function(style,namespace){var namespace=namespace+"-append-style";if(!document.getElementById(namespace)){var el=document.createElement("style");el.type="text/css",el.id=namespace,el.innerHTML=style,document.getElementsByTagName("head")[0].appendChild(el)}},utils.extend=function(a,b){var c={};for(var prop in a)c[prop]=a[prop];for(var prop in b)c[prop]=b[prop];return c},utils.inArray=function(array,item){for(var i=0;i<array.length;i++)if(array[i]===item)return i;return-1},utils.setCookie=function(cname,cvalue,exdays){var d=new Date;d.setTime(d.getTime()+24*exdays*60*60*1e3);var expires="expires="+d.toUTCString();document.cookie=cname+"="+cvalue+"; "+expires},utils.getCookie=function(cname){for(var name=cname+"=",ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1);if(0==c.indexOf(name))return c.substring(name.length,c.length)}return""},utils.prepend=function(el,html){el.insertBefore(html,el.firstChild)},utils.append=function(el,html){el.appendChild(html)},utils.remove=function(el){el&&el.parentNode.removeChild(el)},utils.next=function(el){function nextElementSibling(el){do el=el.nextSibling;while(el&&1!==el.nodeType);return el}return el.nextElementSibling||nextElementSibling(el)},utils.hasClass=function(el,className){return el?el.classList?el.classList.contains(className):new RegExp("(^| )"+className+"( |$)","gi").test(el.className):!1},utils.addClass=function(el,className){return el?void(el.classList?el.classList.add(className):el.className+=" "+className):!1},utils.removeClass=function(el,className){return el?void(el.classList?el.classList.remove(className):el.className=el.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")):!1},utils.addEventListener=function(el,eventName,handler){el.addEventListener?el.addEventListener(eventName,handler):el.attachEvent("on"+eventName,function(){handler.call(el)})},utils.ellipsisText=function(el,text,height){var ellipText="",t=el.cloneNode(!0);for(t.style.visibility="hidden",t.style.height="auto",this.append(el.parentNode,t),t.innerHTML=text;text.length>0&&t.clientHeight>height;)text=text.substr(0,text.length-1),t.innerHTML=text+"...";return ellipText=t.innerHTML,this.remove(t),ellipText},utils}),function(window,factory){"use strict";window.revDialog=factory(window)}(window,function(window){"use strict";var RevDialog=function(){var that=this;this.id="rev-opt-out",this.resizeEnd,this.addEventHandler(window,"load",function(){that.render()}),this.addEventHandler(window,"resize",function(){clearTimeout(that.resizeEnd),that.resizeEnd=setTimeout(function(){that.resize()},100)})};RevDialog.prototype.addEventHandler=function(elem,eventType,handler){elem.addEventListener?elem.addEventListener(eventType,handler,!1):elem.attachEvent&&elem.attachEvent("on"+eventType,handler)},RevDialog.prototype.resize=function(){this.containerWidth=document.documentElement.clientWidth,this.containerHeight=document.documentElement.clientHeight,this.containerHeight<455?this.setFullHeight():this.containerHeight>=455&&(this.setNormalHeight(),this.centerDialog())},RevDialog.prototype.setFullHeight=function(){var revDialogBox=document.querySelector(".rd-box");this.removeClass(revDialogBox,"rd-normal"),this.addClass(revDialogBox,"rd-full-screen"),revDialogBox.style.left="15px",revDialogBox.style.top="15px"},RevDialog.prototype.setNormalHeight=function(){var revDialogBox=document.querySelector(".rd-box");this.removeClass(revDialogBox,"rd-full-screen"),this.addClass(revDialogBox,"rd-normal")},RevDialog.prototype.getContainerWidth=function(){var revDialogBox=document.querySelector(".rd-box");return revDialogBox.offsetWidth},RevDialog.prototype.getContainerHeight=function(){var revDialogBox=document.querySelector(".rd-box");return revDialogBox.offsetWidth},RevDialog.prototype.render=function(){var html='<div class="rd-box-wrap" style="display:none;"><div class="rd-box-overlay" onclick="revDialog.closeDialog()"> &nbsp; </div><div class="rd-vertical-offset" ><div class="rd-box rd-normal"><div class="rd-header"><a class="rd-close-button" onclick="revDialog.closeDialog()"><svg xmlns="http://www.w3.org/2000/svg" fit="" height="20" width="20" preserveAspectRatio="xMidYMid meet" style="pointer-events: none; display: block;" viewBox="0 0 36 36"><path d="M28.5 9.62L26.38 7.5 18 15.88 9.62 7.5 7.5 9.62 15.88 18 7.5 26.38l2.12 2.12L18 20.12l8.38 8.38 2.12-2.12L20.12 18z"/></svg></a></div><div class="rd-content"><div class="rc-about rc-modal-content"><a href="http://www.revcontent.com" target="_blank" class="rc-logo"></a><p id="main">The content you see here is paid for by the advertiser or content provider whose link you click on, and is recommended to you by <a href="http://www.revcontent.com" target="_blank">Revcontent</a>. As the leading platform for native advertising and content recommendation, <a href="http://www.revcontent.com" target="_blank">Revcontent</a> uses interest based targeting to select content that we think will be of particular interest to you. We encourage you to view our <a href="http://faq.revcontent.com/support/solutions/articles/5000615200-revcontent-s-privacy-policy">Privacy Policy</a> and your opt out options here: <a class="rc-opt-out-link" href="http://faq.revcontent.com/support/solutions/articles/5000615200" target="_blank">Opt Out Options</a></p><div class="rc-well"><h2>Want your content to appear on sites like this?</h2><p><a href="http://www.revcontent.com" target="_blank">Increase your visitor engagement now!</a></p></div></div></div></div></div></div>',el=document.querySelector("#"+this.id);el&&this.remove(el);var wrap=document.createElement("div");wrap.className="revdialog",wrap.id=this.id,wrap.innerHTML=html;var bodyEl=document.getElementsByTagName("BODY")[0];void 0!==bodyEl&&this.append(bodyEl,wrap)},RevDialog.prototype.showDialog=function(){return document.querySelector(".rd-box-wrap").style.display="block",this.resize(),!1},RevDialog.prototype.closeDialog=function(){return document.querySelector(".rd-box-wrap").style.display="none",!1},RevDialog.prototype.centerDialog=function(){var db=document.querySelector(".rd-box"),w=db.offsetWidth,h=db.offsetHeight,left=this.containerWidth/2-w/2,top=this.containerHeight/2-h/2;db.style.top=top+"px",db.style.left=left+"px"},RevDialog.prototype.addEventListener=function(el,eventName,handler){el.addEventListener?el.addEventListener(eventName,handler):el.attachEvent("on"+eventName,function(){handler.call(el)})},RevDialog.prototype.addClass=function(el,className){return el?void(el.classList?el.classList.add(className):el.className+=" "+className):!1},RevDialog.prototype.removeClass=function(el,className){return el?void(el.classList?el.classList.remove(className):el.className=el.className.replace(new RegExp("(^|\\b)"+className.split(" ").join("|")+"(\\b|$)","gi")," ")):!1},RevDialog.prototype.append=function(el,html){void 0!==el&&el.appendChild(html)},RevDialog.prototype.remove=function(el){el.parentNode.removeChild(el)};var rD=new RevDialog;return rD}),function(window,factory){"use strict";window.revDetect=factory(window)}(window,function(window){"use strict";var detect=new MobileDetect(window.navigator.userAgent);return detect.show=function(devices){return 3==devices.length?!0:detect.phone()&&devices.indexOf("phone")>-1?!0:detect.tablet()&&devices.indexOf("tablet")>-1?!0:!detect.mobile()&&devices.indexOf("desktop")>-1?!0:!1},detect}),function(window,factory){"use strict";window.revApi=factory(window)}(window,function(window){"use strict";var api={};return api.request=function(url,success,failure){var request=new XMLHttpRequest;request.open("GET",url,!0),request.onload=function(){if(request.status>=200&&request.status<400)try{success(JSON.parse(request.responseText))}catch(e){}else failure&&failure(request)},request.onerror=function(){failure&&failure(request)},request.send()},api}),function(window,factory){"use strict";window.RevToaster=factory(window,window.revUtils,window.revDetect,window.revApi)}(window,function(window,revUtils,revDetect,revApi){"use strict";var RevToaster,instance,scrollTimeout,defaults={testing:!1,header:"Trending Today",closed_hours:24,sponsored:1,url:"https://trends.revcontent.com/api/v1/",rev_position:"bottom_right",devices:["phone","tablet","desktop"]},lastScrollTop=0,loaded=!1,removed=!1,RevToaster=function(opts){if(instance)return instance.update(opts,instance.options),instance;if(!(this instanceof RevToaster))return instance=new RevToaster(opts);if(instance=this,this.options=revUtils.extend(defaults,opts),this.options.sponsored=this.options.sponsored>2?2:this.options.sponsored,!revUtils.validateApiParams(this.options).length&&revDetect.show(this.options.devices)&&(!revUtils.getCookie("revtoaster-closed")||this.options.testing)){revUtils.appendStyle('/* inject:css */.rev-toaster{-ms-overflow-style:-ms-autohiding-scrollbar;-webkit-text-size-adjust:100%;text-size-adjust:100%;box-sizing:border-box;cursor:default;text-rendering:optimizeLegibility;background:rgba(0,0,0,.89);position:fixed;-webkit-transition:.5s;transition:.5s;width:100%;padding-top:3px;padding-left:3px;bottom:-20px;transform:translateY(100%);-ms-transform:translateY(100%);-moz-transform:translateY(100%);-o-transform:translateY(100%);-webkit-transform:translateY(100%)}.rev-toaster *{box-sizing:border-box;font-size:inherit;line-height:inherit;margin:0;padding:0}.rev-toaster a,.rev-toaster a:focus,.rev-toaster a:hover{text-decoration:none}body.rev-toaster-loaded{margin:0}body.rev-toaster-loaded .rev-toaster{bottom:0;transform:none;-ms-transform:none;-moz-transform:none;-o-transform:none;-webkit-transform:none;z-index:147483647}.rev-toaster .rev-header{position:absolute;background:#000;line-height:20px;top:-20px;left:-3px;color:#fff;font-size:10px;padding:0 4px 0 6px;border-top:1px solid #4CC93D;font-weight:500;letter-spacing:.1px}.rev-toaster .rev-header:after,.rev-toaster .rev-header:before{border-right:solid 10px transparent;border-top:solid 10px transparent;box-sizing:border-box;display:block;position:absolute;width:20px;height:20px;top:0;right:-20px;content:""}.rev-toaster .rev-header:before{border-left:solid 10px transparent;border-bottom:solid 10px transparent}.rev-toaster .rev-header:after{border-bottom:solid 10px #000;border-left:solid 10px #000}.rev-toaster .rev-sponsored{text-align:right;font-weight:300;font-size:10px;line-height:16px;opacity:.4;clear:both}#rev-opt-out .rc-about p#main,.rev-toaster .rev-sponsored.bottom-left{text-align:left}.rev-toaster .rev-sponsored a{letter-spacing:.1px;color:#fff;padding:0 6px 3px;display:inline-block}.rev-toaster .rev-sponsored a span{color:#4CC93D}.rev-toaster .rev-content{padding-bottom:3px;margin-right:36px;clear:left}.rev-toaster .rev-ad a{display:block}.rev-toaster .rev-image{height:75px;float:left;margin-right:10px}.rev-toaster .rev-image img{max-width:100%;max-height:100%;border:1px solid #000;margin:0 auto;display:inline-block;vertical-align:middle}.rev-toaster .rev-headline{max-height:40px;overflow:hidden}.rev-toaster .rev-headline h3{color:#fff;font-size:16px;font-weight:500;letter-spacing:.2px;line-height:20px;margin:0}.rev-toaster .rev-provider{font-size:12px;color:#888;line-height:30px}.rev-toaster button.rev-close{outline:0;border:0;display:inline-table;background:#6D6D6D;white-space:nowrap;cursor:pointer;box-shadow:0 2px 5px 0 rgba(0,0,0,.26);box-sizing:border-box;color:currentColor;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:20;vertical-align:middle;border-radius:50%;background-clip:padding-box;overflow:hidden;-webkit-transition:.2s linear;transition:.2s linear;-webkit-transition-property:background-color,box-shadow;transition-property:background-color,box-shadow;line-height:30px;width:30px;height:30px;position:absolute;top:-15px;right:8px}.rev-toaster button.rev-close .icon{margin:auto;background-repeat:no-repeat no-repeat;fill:currentColor;height:30px;width:15px;color:#c5c5c5;position:relative}.rev-toaster button.rev-close .icon svg{position:absolute;top:7px;left:0;width:15px;height:15px}#rev-opt-out .rd-close-button{position:absolute;cursor:pointer;right:10px;z-index:10}#rev-opt-out a{cursor:pointer!important}#rev-opt-out .rd-box-wrap{display:none;z-index:2147483641}#rev-opt-out .rd-box-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;opacity:.5;filter:alpha(opacity=50);z-index:2147483641}#rev-opt-out .rd-vertical-offset{position:fixed;display:table-cell;top:0;width:100%;z-index:2147483642}#rev-opt-out .rd-box{position:absolute;vertical-align:middle;background-color:#fff;padding:10px;border:1px solid #555;border-radius:12px;-webkit-border-radius:12px;-moz-border-radius:12px;overflow:auto;box-shadow:3px 3px 10px 4px #555}#rev-opt-out .rd-normal{min-width:270px;max-width:435px;width:90%;margin:10px auto}#rev-opt-out .rd-full-screen{position:fixed;right:15px;left:15px;top:15px;bottom:15px}#rev-opt-out .rd-header{height:20px;position:absolute;right:0}#rev-opt-out .rc-about{font-family:Arial,sans-serif;font-size:14px;text-align:left;box-sizing:content-box;color:#333;padding:15px}#rev-opt-out .rc-about .rc-logo{background:url(https://www.revcontent.com/assets/img/rc-logo.png) bottom center no-repeat;width:220px;height:48px;display:block;margin:0 auto}#rev-opt-out .rc-about p{margin:16px 0;color:#555;font-size:14px;line-height:16px}#rev-opt-out .rc-about h2{color:#777;font-family:Arial,sans-serif;font-size:16px;line-height:18px}#rev-opt-out .rc-about a{color:#00cb43}#rev-opt-out .rc-well{border:1px solid #E0E0E0;padding:20px;text-align:center;border-radius:2px;margin:20px 0 0}#rev-opt-out .rc-well h2{margin-top:0}#rev-opt-out .rc-well p{margin-bottom:0}#rev-opt-out .rc-opt-out{text-align:center}#rev-opt-out .rc-opt-out a{margin-top:6px;display:inline-block}/* endinject */',"rev-toaster");var that=this;this.init=function(){this.revToaster=document.createElement("div"),this.revToaster.className="rev-toaster",this.containerElement=document.createElement("div"),this.containerElement.className="rev-content-container",revUtils.append(this.revToaster,this.containerElement),this.options.sponsored>1&&revUtils.addClass(this.revToaster,"rev-toaster-multi"),this.appendElements();for(var i=0;i<this.options.sponsored;i++)this.appendCell();this.bindClose(),revUtils.append(document.body,that.revToaster),window.addEventListener("touchmove",this.move)},this.update=function(newOpts,oldOpts){if(this.options=revUtils.extend(defaults,newOpts),this.options.sponsored=this.options.sponsored>2?2:this.options.sponsored,this.visible!=newOpts.visible&&(newOpts.visible?this.show():this.hide()),(this.options.header!==oldOpts.header||this.options.rev_position!==oldOpts.rev_position)&&this.appendElements(),this.options.sponsored!==oldOpts.sponsored){if(this.options.sponsored>oldOpts.sponsored)this.appendCell();else{var nodes=this.revToaster.querySelectorAll(".rev-content");revUtils.remove(nodes[1])}this.getData()}},this.appendElements=function(){this.header&&revUtils.remove(this.header),this.header=document.createElement("div"),this.header.className="rev-header",this.header.innerHTML=that.options.header,revUtils.append(that.revToaster,this.header),this.closeButton||(this.closeButton=document.createElement("button"),this.closeButton.className="rev-close",this.closeButton.innerHTML='<div class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></div>',revUtils.append(that.revToaster,this.closeButton)),this.sponsored&&revUtils.remove(this.sponsored),this.sponsored=document.createElement("div"),this.sponsored.className="rev-sponsored",this.sponsored.innerHTML='<a onclick="revDialog.showDialog()">Sponsored by Revcontent</a>',"top_right"==this.options.rev_position?(revUtils.addClass(this.sponsored,"top-right"),revUtils.prepend(this.revToaster,this.sponsored)):("bottom_left"==this.options.rev_position||"bottom_right"==this.options.rev_position)&&(revUtils.addClass(this.sponsored,this.options.rev_position.replace("_","-")),revUtils.append(this.revToaster,this.sponsored))},this.move=function(){function delayed(){var scrollTop=window.pageYOffset,scrollDirection=lastScrollTop>scrollTop?"up":"down";"up"===scrollDirection?loaded?that.show():that.getData(!0):"down"===scrollDirection&&that.hide(),lastScrollTop=scrollTop,scrollTimeout=!1}return removed?void window.removeEventListener("touchmove",this.move):void(scrollTimeout||(scrollTimeout=setTimeout(delayed,300)))},this.appendCell=function(){var html='<div class="rev-ad"><a href="" target="_blank"><div class="rev-image"><img src=""/></div><div class="rev-headline"><h3></h3></div><div class="rev-provider"></div></a></div>',cell=document.createElement("div");revUtils.addClass(cell,"rev-content"),cell.innerHTML=html,that.containerElement.appendChild(cell)},this.getData=function(show){loaded=!0;var url=this.options.url+"?api_key="+this.options.api_key+"&pub_id="+this.options.pub_id+"&widget_id="+this.options.widget_id+"&domain="+this.options.domain+"&sponsored_count="+this.options.sponsored+"&sponsored_offset=0&internal_count=0&api_source=toast",that=this;revApi.request(url,function(resp){for(var ads=that.containerElement.querySelectorAll(".rev-ad"),i=0;i<resp.length;i++){var ad=ads[i],data=resp[i];ad.querySelectorAll("a")[0].setAttribute("href",data.url),ad.querySelectorAll("img")[0].setAttribute("src",data.image),ad.querySelectorAll(".rev-headline h3")[0].innerHTML=data.headline,ad.querySelectorAll(".rev-provider")[0].innerHTML=data.brand}show&&that.show()})},this.bindClose=function(){if(!this.options.closed_hours)return!1;var that=this;this.closeButton.addEventListener("click",function(e){revUtils.removeClass(document.body,"rev-toaster-loaded"),setTimeout(function(){that.revToaster.parentNode.removeChild(that.revToaster),removed=!0,revUtils.setCookie("revtoaster-closed",1,that.options.closed_hours/24)},2e3)})},this.show=function(){if(loaded){var that=this;imagesLoaded(this.containerElement,function(){that.visible=!0,revUtils.addClass(document.body,"rev-toaster-loaded")})}else this.getData(!0)},this.hide=function(){this.visible=!1,revUtils.removeClass(document.body,"rev-toaster-loaded")},this.init()}};return RevToaster});