/**
 * Revcontent - AMPHTML Network Service
 * @date - Tue Oct 01 2019 15:03:54 GMT-0400 (EDT)
 * @version v1.1.0
 * @link http://labs.revcontent.com
 */
!function(window,factory){"use strict";window.RevcontentAMP=factory(window,document)}(window,function(window,document){"use strict";var RevAMP=function(){if(this.performante())return void this.loadScript(window,"https://assets.revcontent.com/master/delivery.js");var self=this;self.data=window.data,self.defaultHost="trends.revcontent.com",self.isSecure=void 0===self.data.ssl||"true"==self.data.ssl,self.serveProtocol=self.isSecure===!0?"https://":"http://",self.serveHost=void 0!==self.data.endpoint?self.data.endpoint:self.defaultHost,self.serveScript="/serve.js.php",self.feedScript="/feed.js.php",self.serveUrl=null,self.forceWidth=void 0!==self.data.width?self.data.width:void 0,self.defaultWrapperId="rcjsload_2ff711",self.viewport=self.getViewport(),self.viewportWidth=self.viewport[0],self.rcjsload=null,self.rcel=null,self.serveParameters=null,self.testing=void 0!==self.data.testing,self.useAutoSizer=void 0!==self.data.sizer&&"false"!=self.data.sizer,self.isObserving=!1,self.isResizing=!1,self.ENTITY_ID="rev2-wid-"+self.data.id.toString(),self.api={enabled:void 0!==self.data.api,key:void 0!==self.data.key?self.data.key:"3eeb00d786e9a77bbd630595ae0be7e9aa7aff3b",endpoint:void 0!==self.data.labs?self.data.labs:"https://trends.revcontent.com/api/v1/",publisher:void 0!==self.data.publisher?self.data.publisher:945,widget:self.data.id,domain:void 0!==self.data.domain?self.data.domain:"apiexamples.powr.com",testing:self.testing,branding:void 0===self.data.branding||"true"==self.data.branding,dimensions:{rows:isNaN(self.data.rows)?4:self.data.rows,cols:isNaN(self.data.cols)?1:self.data.cols},useJSONP:!0,JSONPCallbackName:"revcontentAds",JSONPCallback:"",ads:{size:{width:isNaN(self.data.adxw)?239:self.data.adxw,height:isNaN(self.data.adxh)?274:self.data.adxh}},cssOverrides:void 0!==self.data.css&&self.data.css.length>0?self.data.css.toString().trim():"",amp:{useAmpImage:!1}},self.timeouts={resize:0,orientation:0,denied:0},self.remote3p={domId:"c"},self.fonts={"default":"openSans",selected:void 0!==self.data.font&&self.data.font.length>0?self.data.font:"openSans",available:{roboto:{family:"Roboto",stylesheet:'<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">'},openSans:{family:"Open Sans",stylesheet:'<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">'},montserrat:{family:"Montserrat",stylesheet:'<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">'}}},self.observers={config:{attributes:!0,childList:!0,characterData:!0},wrapper:null},self.debug={on:!(!window.DEBUG&&void 0===self.data.debug),log:function(msg,level){level||(level="notice"),"object"==typeof console&&console.log(level.toUpperCase()+" -  Revcontent.AMP : "+msg)}},self.preload={on:!0},self.branding={sponsorText:"Ads by Revcontent"}};RevAMP.prototype.loadScript=function(win,url,opt_cb,opt_errorCb){const s=win.document.createElement("script");s.src=url,opt_cb&&(s.onload=opt_cb),opt_errorCb&&(s.onerror=opt_errorCb),win.document.body.appendChild(s)},RevAMP.prototype.performante=function(){return 114634==window.data.id},RevAMP.prototype.createWrapper=function(){var self=this;return self.rcjsload=document.createElement("div"),self.rcjsload.id=self.getWrapperId(),self.dispatch("Creating Outer DOM Wrapper with ID of. #"+self.rcjsload.id),self.remote3p.node=document.getElementById(self.remote3p.domId),self.dispatch("Obtained 3p-frame node element (Used for embedding): "+self.remote3p.node),void 0!==self.remote3p.node&&null!==self.remote3p.node?(self.dispatch("3P Node frame found! Attaching our load wrapper now, div#"+self.rcjsload.id),self.remote3p.node.appendChild(self.rcjsload)):(self.dispatch("3P node frame element (div#c) is MISSING! attaching to body as a failsafe, please verify the 3p frame source file is functional!"+self.rcjsload.id,"warn"),document.body.appendChild(self.rcjsload)),self},RevAMP.prototype.getWrapperId=function(){var self=this;return void 0!==self.data.wrapper?self.data.wrapper:self.defaultWrapperId},RevAMP.prototype.getViewport=function(){var viewPortWidth,viewPortHeight;return"undefined"!=typeof window.innerWidth?(viewPortWidth=window.innerWidth,viewPortHeight=window.innerHeight):"undefined"!=typeof document.documentElement&&"undefined"!=typeof document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(viewPortWidth=document.documentElement.clientWidth,viewPortHeight=document.documentElement.clientHeight):(viewPortWidth=document.getElementsByTagName("body")[0].clientWidth,viewPortHeight=document.getElementsByTagName("body")[0].clientHeight),[viewPortWidth,viewPortHeight]},RevAMP.prototype.createScript=function(){var self=this;if(self.dispatch("Attempting to create Serve.js embed script."),self.api.enabled)return void self.dispatch("API Mode Detected!! Aborting script embed, this must mean data-api is TRUE. Rendering Native Ads instead (3p amp-img creatives), ","warn");self.rcel=document.createElement("script"),self.rcel.id="rc_"+Math.floor(1e3*Math.random()),self.rcel.type="text/javascript",self.serveParameters="?"+(self.testing===!0?"uitm=1&":"")+"w="+self.data.id+"&t="+self.rcel.id+"&c="+(new Date).getTime()+"&width="+self.viewport[0],self.serveUrl=self.serveProtocol+self.serveHost+self.serveScript+self.serveParameters,self.rcel.src=self.serveUrl,self.rcel.async=!0,self.dispatch("Serve.js URL has been generated! Please verify for accuracy: "+self.serveUrl);var rcds=document.getElementById(self.rcjsload.id);return rcds.appendChild(self.rcel),self.dispatch("Triggering renderStart with NO size payload (height adjustment will follow)"),self.dispatch("--- INJECTING SERVE.JS (Triggers load of rev2.js/rev2.css) --- ","warn"),self.observers.wrapper=new MutationObserver(function(mutations){self.dispatch("Setup a Mutation Observer to check for fill data to be added... "),mutations.forEach(function(mutation){var panel=rcds.querySelector(".rc-uid-"+self.data.id);if(void 0!==panel&&null!==panel){if(panel.insertAdjacentHTML("afterend",'<div style="clear:both">&nbsp;</div>'),self.dispatch("Mutation Received!! Triggering a call for height resize with a value of: "+panel.offsetHeight+"px"),self.dispatch("Begin RENDER: Firing context.renderStart() NOW! for standard amp-tag (Serve.js fill), height = "+panel.offsetHeight,"warn"),"object"==typeof rcel&&self.preload.on){self.dispatch("Got RCEL OBJECT! Serve.js should have been loaded at this point... preparing to preload creatives and trigger renderStart()!!","important");var adPhotos=rcel.querySelectorAll(".rc-photo");adPhotos.length>0?self.preloader(adPhotos,function(){self.adjustHeight(panel.scrollHeight)}):self.dispatch("PRELOADER: No RC-PHOTO Items have been found in the DOM!!","severe")}self.isResizing=!0}})}),self.observers.wrapper.observe(rcds,self.observers.config),self},RevAMP.prototype.startObservingIntersection=function(){var self=this;return self.isObserving=!0,document.body.classList.add("is-observing-intersection"),self.dispatch("Starting Intersection Observer, resizes are requested only when the ratio is 0 (Ad is NOT in viewport)"),self.stopObservingIntersection=window.context.observeIntersection(function(changes){changes.forEach(function(c){(0==c.intersectionRatio||c.intersectionRatio<=.5)&&(self.dispatch("INTERSECTION EVENT: Ratio is at 0 or less than or equal to 0.5, requesting height resize....","warn"),self.adjustHeight())})}),self},RevAMP.prototype.renderStart=function(timeout){var self=this;return timeout&&!isNaN(timeout)||(timeout=3e3),self.api.enabled||window.context.renderStart({width:self.viewport[0]}),self.useAutoSizer&&(self.dispatch("Auto-Sizer is turned ON (Default setting, to disable set data-sizer=false on your amp tag)"),window.addEventListener("resize",function(event){self.dispatch("-- RESIZE.event -- if not already listening START OBSERVING...","warn"),self.isObserving||self.startObservingIntersection(),clearTimeout(self.timeouts.resize),self.timeouts.resize=setTimeout(function(){self.adjustHeight()},250)}),window.addEventListener("orientationchange",function(event){self.dispatch("-- ORIENTATION-CHANGE.event -- if not already listening START OBSERVING...","warn"),self.isObserving||self.startObservingIntersection(),clearTimeout(self.timeouts.orientation),self.timeouts.orientation=setTimeout(function(){self.adjustHeight()},250)}),window.addEventListener("amp:visibilitychange",function(){self.dispatch("AMP Visibility Change Detected! Requesting resize...","special"),self.adjustHeight()})),self},RevAMP.prototype.adjustHeight=function(specificHeight){var self=this,providerHeight=0;self.useAutoSizer||self.dispatch("AUTO-SIZER: DISABLED, aborting sizing operations via RETURN..."),self.isResizing=!0,self.dispatch("AUTO-SIZER - Starting Resize, user provided height = "+specificHeight),self.widgetEl=document.getElementById(self.getWrapperId()),self.providerEl=self.widgetEl.querySelector(".rc-branding"),self.providerEl&&self.providerEl.length>0&&self.providerEl.classList.contains("rc-text-bottom")&&(self.dispatch("AUTO-SIZER - Detected floating provider label, incorporating extra height."),providerHeight=self.providerEl.clientHeight);var frameHeight=self.api.enabled?self.widgetEl.offsetHeight:self.widgetEl.scrollHeight,adHeight=providerHeight+frameHeight;return 0==adHeight||void 0!==specificHeight&&0==specificHeight?void self.dispatch("AUTO-SIZER: ABORTING!!! Invalid Height received","severe"):(self.dispatch("AUTO-SIZER - Optimal Frame height = "+frameHeight+", the provided height value will override this value! Fallback height of 50PX is used."),window.context.requestResize(self.viewport[0],isNaN(specificHeight)?adHeight:specificHeight),self.dispatch("AUTO-SIZER - Final API Call for resize: window.context.requestResize("+self.viewport[0]+","+(isNaN(specificHeight)?Math.max(50,providerHeight+frameHeight):specificHeight)),window.context.onResizeDenied(function(h,w){self.dispatch("AUTO-SIZER - Resize was DENIED ("+w+"x"+h+"), this is expected if called too early, repeated denials indicates a real problem.","error"),document.body.classList.remove("resize-success"),self.isResizing=!1}),window.context.onResizeSuccess(function(h,w){self.widgetEl=document.getElementById(self.getWrapperId()),self.dispatch("AUTO-SIZER - RESIZE SUCCESS! ("+w+"x"+h+") Panel should be scaled to an requested size of: "+h+"px, optimal size = "+self.widgetEl.offsetHeight+"px"),document.body.classList.remove("resize-denied"),self.isResizing=!1,document.body.classList.contains("resize-success")||document.body.classList.add("resize-success"),self.api.enabled&&(self.stopObservingIntersection(),self.isObserving=!1,document.body.classList.remove("is-observing-intersection"),self.dispatch("AUTO-SIZER - Stopping Intersection Observers (Will be restarted automatically when triggered)","warn"))}),self)},RevAMP.prototype.noContentAvailable=function(){var self=this;return setTimeout(function(){"object"!=typeof RevContentLoader&&(self.stopObservingIntersection(),self.isObserving=!1,document.body.classList.add("is-observing-intersection"),document.body.classList.add("no-content-available"),self.dispatch("NO CONTENT AVAILABLE AFTER ~2 MINUTES, THIS AMP TAG WILL BE COLLAPSED. CHECK API AND/OR DATA STREAM","severe"),window.context.noContentAvailable())},3e5),self},RevAMP.prototype.initFeed=function(){var self=this,meta=document.head.querySelector("meta[name='keywords']"),k=!1;meta&&(k=meta.content),k||(meta=document.head.querySelector("meta[property='og:title']"))&&(k=meta.content),k||(meta=document.head.querySelector("meta[property='title']"))&&(k=meta.content),k=k?encodeURI(k):"";var sParameterName,i,sPageURL=decodeURIComponent(window.location.search.substring(1)),sURLVariables=sPageURL.split("&"),page_utms="";for(i=0;i<sURLVariables.length;i++)"utm_"==(sParameterName=sURLVariables[i].split("="))[0].substr(0,4)&&(page_utms+=sParameterName[0]+"="+sParameterName[1]+"&");(function(fn){"loading"!=document.readyState?fn():document.addEventListener?document.addEventListener("DOMContentLoaded",fn):document.attachEvent("onreadystatechange",function(){"loading"!=document.readyState&&fn()})})(function(){var referer="";try{if(referer=document.referrer,"undefined"==typeof referer||""==referer)throw"undefined"}catch(exception){referer=document.location.href,(""==referer||"undefined"==typeof referer)&&(referer=document.URL)}referer=referer.substr(0,700);var rcds=self.rcjsload,rcel=document.createElement("script");rcel.id="rc_"+Math.floor(1e3*Math.random()),rcel.type="text/javascript",rcel.src=self.serveProtocol+self.serveHost+self.feedScript+"?w="+self.data.id+"&t="+rcel.id+"&c="+(new Date).getTime()+"&width="+document.documentElement.clientWidth+"&referer="+encodeURIComponent(referer)+"&container_width="+rcds.offsetWidth+"&k="+k+"&page_utms="+encodeURIComponent(page_utms),rcel.async=!0,rcds.appendChild(rcel)})},RevAMP.prototype.init=function(){var self=this;return self.dispatch("Starting Up..."),self.dispatch("Tag property configuration: "),self.dispatch(self.data),self.createWrapper(),"feed"===self.data.source?self.initFeed():(self.createScript(),self.renderStart(3e3),self.fetchAds(),self.noContentAvailable(),window.context.reportRenderedEntityIdentifier(self.ENTITY_ID),self.dispatch("Reporting Entity Identifier AS: "+self.ENTITY_ID),self.startObservingIntersection(),self.dispatch("Init sequence completed. "),self)},RevAMP.prototype.fetchAds=function(){var self=this;if(self.api.enabled&&self.validateApiSettings())if(self.api.parameters=[],self.api.parameters.push("api_key="+self.api.key),self.api.parameters.push("pub_id="+self.api.publisher),self.api.parameters.push("widget_id="+self.api.widget),self.api.parameters.push("domain="+self.api.domain),self.api.parameters.push("sponsored_count="+self.api.dimensions.rows*self.api.dimensions.cols+"&internal_count=0&img_h="+self.api.ads.size.height+"&img_w="+self.api.ads.size.width+"&api_source=amp"),self.dispatch("API Parameters are: ",self.api.parameters.join(", ")),self.api.useJSONP){self.dispatch("API Access Enabled, fetching ads using JSONP for a Native render"),self.dispatch("Using Endpoint: "+self.api.endpoint),self.api.JSONPCallback=self.api.JSONPCallbackName?self.api.JSONPCallbackName:"success"+self.getTimestamp(),window[self.api.JSONPCallback]=function(ads){self.dispatch("JSONP Callback is Running NOW!!","success"),self.renderNative(ads)},self.ApiJSONScript=document.createElement("script"),self.ApiJSONScript.type="text/javascript",self.ApiJSONScript.async=!0,self.ApiJSONScript.src=self.api.endpoint+"?"+self.api.parameters.join("&")+"&callback="+self.api.JSONPCallback;var rcds=document.getElementById(self.rcjsload.id);rcds.appendChild(self.ApiJSONScript)}else self.dispatch("API Access ENABLED, fetching Ads using XHR with Native render"),self.api.request=new XMLHttpRequest,self.api.request.open("GET",self.api.endpoint+"?"+self.api.parameters.join("&"),!0),self.api.request.onload=function(){if(self.api.request.status>=200&&self.api.request.status<400)try{self.renderNative(JSON.parse(self.api.request.responseText))}catch(e){}},self.api.request.onerror=function(){self.apiError()},self.api.request.send();return self},RevAMP.prototype.validateApiSettings=function(){var errs=[],isValid=!1;return 0==errs.length&&(isValid=!0),isValid},RevAMP.prototype.renderNative=function(ads){var self=this;self.widgetEl=document.getElementById(self.getWrapperId()),self.createAMPDocument();var adPanel='<div class="rc-amp-panel rc-amp-panel-'+self.data.id+'"></div>',adSponsor='<span class="rc-sponsored-by">'+self.branding.sponsorText+"</span>",adRow='<div class="rc-amp-row" data-rows="'+self.api.dimensions.rows+'" data-cols="'+self.api.dimensions.cols+'"></div>';self.rcjsload.insertAdjacentHTML("beforeend",adRow);var adMarkup="";self.rcjsload.insertAdjacentHTML("beforeend",adPanel),self.rcjsload.insertAdjacentHTML("afterbegin",adSponsor),self.rcjsload.querySelector(".rc-amp-panel").insertAdjacentHTML("beforeend",adRow);for(var a=0;a<ads.length;a++)adMarkup='<div class="rc-amp-ad-item"><div class="rc-amp-ad-wrapper">',adMarkup+='<a href="'+ads[a].url+'" class="rc-cta" target="_blank">',adMarkup+=self.api.amp.useAmpImage?self.generateAMPImage(ads[a].image,self.api.ads.size.width,self.api.ads.size.height,ads[a].headline,"responsive"):self.generateHtmlImage(ads[a].image,self.api.ads.size.width,self.api.ads.size.height,ads[a].headline),adMarkup+='<h2 class="rc-headline">'+ads[a].headline+"</h2>",adMarkup+=self.api.branding?'<span class="rc-brand-label">'+ads[a].brand+"</span>":"",adMarkup+="</a>",adMarkup+="</div></div>",self.rcjsload.querySelector(".rc-amp-row").insertAdjacentHTML("beforeend",adMarkup);return self.rcjsload.querySelector(".rc-amp-row").insertAdjacentHTML("beforeend",'<div style="clear:both">&nbsp;</div>'),"object"==typeof self.widgetEl&&(self.adjustHeight(self.widgetEl.offsetHeight),window.context.renderStart({width:self.viewport[0],height:self.widgetEl.offsetHeight})),self.isResizing=!0,self.dispatch("Rendering Native Ads COMPLETE, requesting a resize of panel to height: "+self.widgetEl.offsetHeight,"success"),self},RevAMP.prototype.generateAMPImage=function(src,width,height,alt,layout){return layout||(layout=responsive),src&&0!=src.length?'<amp-img class="rc-img" alt="'+alt+'" src="'+src+'" width="'+width+'" height="'+height+'" layout="responsive"></amp-img>':""},RevAMP.prototype.generateHtmlImage=function(src,width,height,alt){return src&&0!=src.length?'<img class="rc-img" alt="'+alt+'" src="'+src+'" width="'+width+'" height="'+height+'" />':""},RevAMP.prototype.createAMPDocument=function(){var self=this;return self.createAMPStyles(),self},RevAMP.prototype.createAMPStyles=function(){var self=this;self.dispatch("Attaching AMP custom styles to document."),self.dispatch("Using a font family selection of: "+self.fonts.available[self.fonts.selected].family),self.styles=document.createElement("style"),self.styles.setAttribute("amp-custom","");var cssBaseStyles="",cssStyles=cssBaseStyles+' /* inject:css */.rc-cta,.rc-cta:hover{text-decoration:none}body{margin:0;padding:0;font-family:"Open Sans","Helvetica Neue",Arial,Helvetica,sans-serif}.rc-amp-ad-item,.rc-brand-label,.rc-cta,.rc-headline{font-family:inherit}.rc-cta{outline:0;color:#000}.rc-amp-ad-item{margin-bottom:10px}.rc-headline{font-size:16px;margin:4px 0;padding:0;font-weight:700}.rc-brand-label,.rc-sponsored-by{display:block;font-size:10px;clear:both}.rc-brand-label{color:#777;text-align:left}.rc-sponsored-by{text-align:right;color:#999;line-height:2em;font-family:"Helvetica Neue",Arial,Helvetica,sans-serif}@media screen and (min-width:568px){.rc-amp-row[data-rows="2"] .rc-amp-ad-item{width:50%;float:left}.rc-amp-row[data-rows="3"] .rc-amp-ad-item,.rc-amp-row[data-rows="6"] .rc-amp-ad-item{width:33.3333333333%;float:left}.rc-amp-row[data-rows="4"] .rc-amp-ad-item,.rc-amp-row[data-rows="8"] .rc-amp-ad-item{width:25%;float:left}.rc-amp-row .rc-amp-ad-item .rc-amp-ad-wrapper{padding:0 10px}.rc-amp-ad-item{margin-bottom:0}.rc-headline{font-size:13px}.rc-sponsored-by{padding-right:10px}}/* endinject */';return self.fonts.selected!=self.fonts["default"]&&(cssStyles+='    body {font-family: "'+self.fonts.available[self.fonts.selected].family+'", Arial, Helvetica, sans-serif;} '),cssStyles+="   "+self.api.cssOverrides.toString(),self.styles.insertAdjacentHTML("afterbegin",cssStyles),self.createFontTags(),document.head.appendChild(self.styles),self},RevAMP.prototype.createFontTags=function(){var self=this;return self.dispatch("Injecting font stylesheet from Google Font APIs..."),self.dispatch("Linking: "+self.fonts.available[self.fonts.selected].stylesheet),document.head.insertAdjacentHTML("beforeend",self.fonts.available[self.fonts.selected].stylesheet),self},RevAMP.prototype.apiError=function(){},RevAMP.prototype.getTimestamp=function(){var time=Date.now||function(){return+new Date};return time()},RevAMP.prototype.dispatch=function(msg,level){var self=this;return level||(level="notice"),self.debug.on&&self.debug.log(msg,level),self},RevAMP.prototype.preloader=function(images,callback,rawStack){var self=this;rawStack||(rawStack=!1);for(var a=0;a<images.length;a++){var photo=images[a],imageUrl="";imageUrl=rawStack?photo:photo.style["background-image"].split('"')[1],self.loadCreative(imageUrl,a,images.length-1,callback)}return self},RevAMP.prototype.loadCreative=function(imageUrl,index,lastIndex,callback){var self=this;self.dispatch("Preloading Creative Image Source from CDN.."+imageUrl,"special");var creative=new Image;return creative.src=imageUrl,index==lastIndex&&(creative.onload=function(){self.dispatch("Final Image Preloaded, "+imageUrl+", firing callback after 0ms delay.... ","special"),"function"==typeof callback&&(self.dispatch("PRELOADER Callback Executing NOW!","special"),callback())}),self};var RevcontentNetwork=new RevAMP;return RevcontentNetwork.performante()||(document.onreadystatechange=function(){"complete"===document.readyState&&RevcontentNetwork.init()}),RevcontentNetwork});