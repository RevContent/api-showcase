!function(e,t){"use strict";e.RevcontentAMP=function(o,d){var e=function(){var e=this;e.data=o.data,e.defaultHost="trends.revcontent.com",e.isSecure=void 0===e.data.ssl||"true"==e.data.ssl,e.serveProtocol=!0===e.isSecure?"https://":"http://",e.serveHost=void 0!==e.data.endpoint?e.data.endpoint:e.defaultHost,e.serveScript="/serve.js.php",e.serveUrl=null,e.forceWidth=void 0!==e.data.width?e.data.width:void 0,e.defaultWrapperId="rcjsload_2ff711",e.viewport=e.getViewport(),e.viewportWidth=e.viewport[0],e.rcjsload=null,e.rcel=null,e.serveParameters=null,e.testing=void 0!==e.data.testing,e.useAutoSizer=void 0!==e.data.sizer&&"false"!=e.data.sizer,e.isObserving=!1,e.isResizing=!1,e.resizeTimeout=!1,e.ENTITY_ID="rev2-wid-"+e.data.id.toString(),e.api={enabled:void 0!==e.data.api,key:void 0!==e.data.key?e.data.key:"3eeb00d786e9a77bbd630595ae0be7e9aa7aff3b",endpoint:void 0!==e.data.labs?e.data.labs:"https://trends.revcontent.com/api/v1/",publisher:void 0!==e.data.publisher?e.data.publisher:945,widget:e.data.id,domain:void 0!==e.data.domain?e.data.domain:"apiexamples.powr.com",testing:e.testing,branding:void 0===e.data.branding||"true"==e.data.branding,dimensions:{rows:isNaN(e.data.rows)?4:e.data.rows,cols:isNaN(e.data.cols)?1:e.data.cols},useJSONP:!0,JSONPCallbackName:"revcontentAds",JSONPCallback:"",ads:{size:{width:isNaN(e.data.adxw)?239:e.data.adxw,height:isNaN(e.data.adxh)?274:e.data.adxh}},cssOverrides:void 0!==e.data.css&&0<e.data.css.length?e.data.css.toString().trim():"",amp:{useAmpImage:!1}},e.timeouts={resize:0,orientation:0,denied:0},e.remote3p={domId:"c"},e.fonts={default:"openSans",selected:void 0!==e.data.font&&0<e.data.font.length?e.data.font:"openSans",available:{roboto:{family:"Roboto",stylesheet:'<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">'},openSans:{family:"Open Sans",stylesheet:'<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">'},montserrat:{family:"Montserrat",stylesheet:'<link href="https://fonts.googleapis.com/css?family=Montserrat" rel="stylesheet">'}}},e.observers={config:{attributes:!0,childList:!0,characterData:!0},wrapper:null},e.debug={on:!(!o.DEBUG&&void 0===e.data.debug),log:function(e,t){t||(t="notice"),"object"==typeof console&&console.log(t.toUpperCase()+" -  Revcontent.AMP : "+e)}},e.preload={on:!0},e.branding={sponsorText:"Ads by Revcontent"}};e.prototype.createWrapper=function(){var e=this;return e.rcjsload=d.createElement("div"),e.rcjsload.id=e.getWrapperId(),e.dispatch("Creating Outer DOM Wrapper with ID of. #"+e.rcjsload.id),e.remote3p.node=d.getElementById(e.remote3p.domId),e.dispatch("Obtained 3p-frame node element (Used for embedding): "+e.remote3p.node),void 0!==e.remote3p.node&&null!==e.remote3p.node?(e.dispatch("3P Node frame found! Attaching our load wrapper now, div#"+e.rcjsload.id),e.remote3p.node.appendChild(e.rcjsload)):(e.dispatch("3P node frame element (div#c) is MISSING! attaching to body as a failsafe, please verify the 3p frame source file is functional!"+e.rcjsload.id,"warn"),d.body.appendChild(e.rcjsload)),e},e.prototype.getWrapperId=function(){var e=this;return void 0!==e.data.wrapper?e.data.wrapper:e.defaultWrapperId},e.prototype.getViewport=function(){var e,t;return void 0!==o.innerWidth?(e=o.innerWidth,t=o.innerHeight):void 0!==d.documentElement&&void 0!==d.documentElement.clientWidth&&0!=d.documentElement.clientWidth?(e=d.documentElement.clientWidth,t=d.documentElement.clientHeight):(e=d.getElementsByTagName("body")[0].clientWidth,t=d.getElementsByTagName("body")[0].clientHeight),[e,t]},e.prototype.createScript=function(){var i=this;if(i.dispatch("Attempting to create Serve.js embed script."),!i.api.enabled){i.rcel=d.createElement("script"),i.rcel.id="rc_"+Math.floor(1e3*Math.random()),i.rcel.type="text/javascript",i.serveParameters="?"+(!0===i.testing?"uitm=1&":"")+"w="+i.data.id+"&t="+i.rcel.id+"&c="+(new Date).getTime()+"&width="+i.viewport[0],i.serveUrl=i.serveProtocol+i.serveHost+i.serveScript+i.serveParameters,i.rcel.src=i.serveUrl,i.rcel.async=!0,i.dispatch("Serve.js URL has been generated! Please verify for accuracy: "+i.serveUrl);var r=d.getElementById(i.rcjsload.id);return r.appendChild(i.rcel),i.dispatch("Triggering renderStart with NO size payload (height adjustment will follow)"),i.dispatch("--- INJECTING SERVE.JS (Triggers load of rev2.js/rev2.css) --- ","warn"),i.observers.wrapper=new MutationObserver(function(e){i.dispatch("Setup a Mutation Observer to check for fill data to be added... "),e.forEach(function(e){var t=r.querySelector(".rc-uid-"+i.data.id);if(null!=t){if(t.insertAdjacentHTML("afterend",'<div style="clear:both">&nbsp;</div>'),i.dispatch("Mutation Received!! Triggering a call for height resize with a value of: "+t.offsetHeight+"px"),i.dispatch("Begin RENDER: Firing context.renderStart() NOW! for standard amp-tag (Serve.js fill), height = "+t.offsetHeight,"warn"),"object"==typeof rcel&&i.preload.on){i.dispatch("Got RCEL OBJECT! Serve.js should have been loaded at this point... preparing to preload creatives and trigger renderStart()!!","important");var a=rcel.querySelectorAll(".rc-photo");0<a.length?i.preloader(a,function(){i.adjustHeight(t.scrollHeight)}):i.dispatch("PRELOADER: No RC-PHOTO Items have been found in the DOM!!","severe")}i.isResizing=!0}})}),i.observers.wrapper.observe(r,i.observers.config),i}i.dispatch("API Mode Detected!! Aborting script embed, this must mean data-api is TRUE. Rendering Native Ads instead (3p amp-img creatives), ","warn")},e.prototype.startObservingIntersection=function(){var t=this;return t.isObserving=!0,d.body.classList.add("is-observing-intersection"),t.dispatch("Starting Intersection Observer, resizes are requested only when the ratio is 0 (Ad is NOT in viewport)"),t.stopObservingIntersection=o.context.observeIntersection(function(e){e.forEach(function(e){(0==e.intersectionRatio||e.intersectionRatio<=.5)&&(t.dispatch("INTERSECTION EVENT: Ratio is at 0 or less than or equal to 0.5, requesting height resize....","warn"),t.adjustHeight())})}),t},e.prototype.renderStart=function(e){var t=this;return e&&!isNaN(e)||(e=3e3),t.api.enabled||o.context.renderStart({width:t.viewport[0]}),t.useAutoSizer&&(t.dispatch("Auto-Sizer is turned ON (Default setting, to disable set data-sizer=false on your amp tag)"),t.adjustHeight(),o.addEventListener("resize",function(e){t.dispatch("-- RESIZE.event -- if not already listening START OBSERVING...","warn"),t.isObserving||t.startObservingIntersection(),clearTimeout(t.timeouts.resize),t.timeouts.resize=setTimeout(function(){t.adjustHeight()},250)}),o.addEventListener("orientationchange",function(e){t.dispatch("-- ORIENTATION-CHANGE.event -- if not already listening START OBSERVING...","warn"),t.isObserving||t.startObservingIntersection(),clearTimeout(t.timeouts.orientation),t.timeouts.orientation=setTimeout(function(){t.adjustHeight()},250)}),o.addEventListener("amp:visibilitychange",function(){t.dispatch("AMP Visibility Change Detected! Requesting resize...","special"),t.adjustHeight()})),t},e.prototype.adjustHeight=function(e){var a=this,t=0;a.useAutoSizer||a.dispatch("AUTO-SIZER: DISABLED, aborting sizing operations via RETURN..."),a.isResizing=!0,a.dispatch("AUTO-SIZER - Starting Resize, user provided height = "+e),a.widgetEl=d.getElementById(a.getWrapperId()),a.providerEl=a.widgetEl.querySelector(".rc-branding"),a.providerEl&&0<a.providerEl.length&&a.providerEl.classList.contains("rc-text-bottom")&&(a.dispatch("AUTO-SIZER - Detected floating provider label, incorporating extra height."),t=a.providerEl.clientHeight);var i=a.api.enabled?a.widgetEl.offsetHeight:a.widgetEl.scrollHeight,r=t+i;if(0!=r&&(void 0===e||0!=e))return a.dispatch("AUTO-SIZER - Optimal Frame height = "+i+", the provided height value will override this value! Fallback height of 50PX is used."),r=a.viewport[1],console.log(a.viewport[0],e,r,i),o.context.requestResize(a.viewport[0],a.viewport(isNaN(e)?r:e)),console.log("AUTO-SIZER - Final API Call for resize: window.context.requestResize("+a.viewport[0]+","+(isNaN(e)?Math.max(50,t+i):e)),o.context.onResizeDenied(function(e,t){a.dispatch("AUTO-SIZER - Resize was DENIED ("+t+"x"+e+"), this is expected if called too early, repeated denials indicates a real problem.","error"),d.body.classList.remove("resize-success"),a.isResizing=!1}),o.context.onResizeSuccess(function(e,t){a.widgetEl=d.getElementById(a.getWrapperId()),a.dispatch("AUTO-SIZER - RESIZE SUCCESS! ("+t+"x"+e+") Panel should be scaled to an requested size of: "+e+"px, optimal size = "+a.widgetEl.offsetHeight+"px"),d.body.classList.remove("resize-denied"),a.isResizing=!1,d.body.classList.contains("resize-success")||d.body.classList.add("resize-success"),a.api.enabled&&(a.stopObservingIntersection(),a.isObserving=!1,d.body.classList.remove("is-observing-intersection"),a.dispatch("AUTO-SIZER - Stopping Intersection Observers (Will be restarted automatically when triggered)","warn"))}),a;a.dispatch("AUTO-SIZER: ABORTING!!! Invalid Height received","severe")},e.prototype.noContentAvailable=function(){var e=this;return setTimeout(function(){"object"!=typeof RevContentLoader&&(e.stopObservingIntersection(),e.isObserving=!1,d.body.classList.add("is-observing-intersection"),d.body.classList.add("no-content-available"),e.dispatch("NO CONTENT AVAILABLE AFTER ~2 MINUTES, THIS AMP TAG WILL BE COLLAPSED. CHECK API AND/OR DATA STREAM","severe"),o.context.noContentAvailable())},3e5),e},e.prototype.init=function(){var e=this;return e.dispatch("Starting Up..."),e.dispatch("Tag property configuration: "),e.dispatch(e.data),e.createWrapper(),e.createScript(),e.renderStart(3e3),e.fetchAds(),e.noContentAvailable(),o.context.reportRenderedEntityIdentifier(e.ENTITY_ID),e.dispatch("Reporting Entity Identifier AS: "+e.ENTITY_ID),e.startObservingIntersection(),e.dispatch("Init sequence completed. "),e},e.prototype.fetchAds=function(){var t=this;if(t.api.enabled&&t.validateApiSettings())if(t.api.parameters=[],t.api.parameters.push("api_key="+t.api.key),t.api.parameters.push("pub_id="+t.api.publisher),t.api.parameters.push("widget_id="+t.api.widget),t.api.parameters.push("domain="+t.api.domain),t.api.parameters.push("sponsored_count="+t.api.dimensions.rows*t.api.dimensions.cols+"&internal_count=0&img_h="+t.api.ads.size.height+"&img_w="+t.api.ads.size.width+"&api_source=amp"),t.dispatch("API Parameters are: ",t.api.parameters.join(", ")),t.api.useJSONP){t.dispatch("API Access Enabled, fetching ads using JSONP for a Native render"),t.dispatch("Using Endpoint: "+t.api.endpoint),t.api.JSONPCallback=t.api.JSONPCallbackName?t.api.JSONPCallbackName:"success"+t.getTimestamp(),o[t.api.JSONPCallback]=function(e){t.dispatch("JSONP Callback is Running NOW!!","success"),t.renderNative(e)},t.ApiJSONScript=d.createElement("script"),t.ApiJSONScript.type="text/javascript",t.ApiJSONScript.async=!0,t.ApiJSONScript.src=t.api.endpoint+"?"+t.api.parameters.join("&")+"&callback="+t.api.JSONPCallback;var e=d.getElementById(t.rcjsload.id);e.appendChild(t.ApiJSONScript)}else t.dispatch("API Access ENABLED, fetching Ads using XHR with Native render"),t.api.request=new XMLHttpRequest,t.api.request.open("GET",t.api.endpoint+"?"+t.api.parameters.join("&"),!0),t.api.request.onload=function(){if(200<=t.api.request.status&&t.api.request.status<400)try{t.renderNative(JSON.parse(t.api.request.responseText))}catch(e){}},t.api.request.onerror=function(){t.apiError()},t.api.request.send();return t},e.prototype.validateApiSettings=function(){var e=!1;return 0==[].length&&(e=!0),e},e.prototype.renderNative=function(e){var t=this;t.widgetEl=d.getElementById(t.getWrapperId()),t.createAMPDocument();var a='<div class="rc-amp-panel rc-amp-panel-'+t.data.id+'"></div>',i='<span class="rc-sponsored-by">'+t.branding.sponsorText+"</span>",r='<div class="rc-amp-row" data-rows="'+t.api.dimensions.rows+'" data-cols="'+t.api.dimensions.cols+'"></div>';t.rcjsload.insertAdjacentHTML("beforeend",r);var s="";t.rcjsload.insertAdjacentHTML("beforeend",a),t.rcjsload.insertAdjacentHTML("afterbegin",i),t.rcjsload.querySelector(".rc-amp-panel").insertAdjacentHTML("beforeend",r);for(var n=0;n<e.length;n++)s='<div class="rc-amp-ad-item"><div class="rc-amp-ad-wrapper">',s+='<a href="'+e[n].url+'" class="rc-cta" target="_blank">',t.api.amp.useAmpImage?s+=t.generateAMPImage(e[n].image,t.api.ads.size.width,t.api.ads.size.height,e[n].headline,"responsive"):s+=t.generateHtmlImage(e[n].image,t.api.ads.size.width,t.api.ads.size.height,e[n].headline),s+='<h2 class="rc-headline">'+e[n].headline+"</h2>",s+=t.api.branding?'<span class="rc-brand-label">'+e[n].brand+"</span>":"",s+="</a>",s+="</div></div>",t.rcjsload.querySelector(".rc-amp-row").insertAdjacentHTML("beforeend",s);return t.rcjsload.querySelector(".rc-amp-row").insertAdjacentHTML("beforeend",'<div style="clear:both">&nbsp;</div>'),"object"==typeof t.widgetEl&&(t.adjustHeight(t.widgetEl.offsetHeight),o.context.renderStart({width:t.viewport[0],height:t.widgetEl.offsetHeight})),t.isResizing=!0,t.dispatch("Rendering Native Ads COMPLETE, requesting a resize of panel to height: "+t.widgetEl.offsetHeight,"success"),t},e.prototype.generateAMPImage=function(e,t,a,i,r){return r||(r=responsive),e&&0!=e.length?'<amp-img class="rc-img" alt="'+i+'" src="'+e+'" width="'+t+'" height="'+a+'" layout="responsive"></amp-img>':""},e.prototype.generateHtmlImage=function(e,t,a,i){return e&&0!=e.length?'<img class="rc-img" alt="'+i+'" src="'+e+'" width="'+t+'" height="'+a+'" />':""},e.prototype.createAMPDocument=function(){return this.createAMPStyles(),this},e.prototype.createAMPStyles=function(){var e=this;e.dispatch("Attaching AMP custom styles to document."),e.dispatch("Using a font family selection of: "+e.fonts.available[e.fonts.selected].family),e.styles=d.createElement("style"),e.styles.setAttribute("amp-custom","");var t=' /* inject:css */.rc-cta,.rc-cta:hover{text-decoration:none}body{margin:0;padding:0;font-family:"Open Sans","Helvetica Neue",Arial,Helvetica,sans-serif}.rc-amp-ad-item,.rc-brand-label,.rc-cta,.rc-headline{font-family:inherit}.rc-cta{outline:0;color:#000}.rc-amp-ad-item{margin-bottom:10px}.rc-headline{font-size:16px;margin:4px 0;padding:0;font-weight:700}.rc-brand-label,.rc-sponsored-by{display:block;font-size:10px;clear:both}.rc-brand-label{color:#777;text-align:left}.rc-sponsored-by{text-align:right;color:#999;line-height:2em;font-family:"Helvetica Neue",Arial,Helvetica,sans-serif}@media screen and (min-width:568px){.rc-amp-row[data-rows="2"] .rc-amp-ad-item{width:50%;float:left}.rc-amp-row[data-rows="3"] .rc-amp-ad-item,.rc-amp-row[data-rows="6"] .rc-amp-ad-item{width:33.3333333333%;float:left}.rc-amp-row[data-rows="4"] .rc-amp-ad-item,.rc-amp-row[data-rows="8"] .rc-amp-ad-item{width:25%;float:left}.rc-amp-row .rc-amp-ad-item .rc-amp-ad-wrapper{padding:0 10px}.rc-amp-ad-item{margin-bottom:0}.rc-headline{font-size:13px}.rc-sponsored-by{padding-right:10px}}/* endinject */';return e.fonts.selected!=e.fonts.default&&(t+='    body {font-family: "'+e.fonts.available[e.fonts.selected].family+'", Arial, Helvetica, sans-serif;} '),t+="   "+e.api.cssOverrides.toString(),e.styles.insertAdjacentHTML("afterbegin",t),e.createFontTags(),d.head.appendChild(e.styles),e},e.prototype.createFontTags=function(){var e=this;return e.dispatch("Injecting font stylesheet from Google Font APIs..."),e.dispatch("Linking: "+e.fonts.available[e.fonts.selected].stylesheet),d.head.insertAdjacentHTML("beforeend",e.fonts.available[e.fonts.selected].stylesheet),e},e.prototype.apiError=function(){},e.prototype.getTimestamp=function(){var e=Date.now||function(){return+new Date};return e()},e.prototype.dispatch=function(e,t){return t||(t="notice"),this.debug.on&&this.debug.log(e,t),this},e.prototype.preloader=function(e,t,a){a||(a=!1);for(var i=0;i<e.length;i++){var r=e[i],s="";s=a?r:r.style["background-image"].split('"')[1],this.loadCreative(s,i,e.length-1,t)}return this},e.prototype.loadCreative=function(e,t,a){var i=this;i.dispatch("Preloading Creative Image Source from CDN.."+e,"special");var r=new Image;return r.src=e,t==a&&(r.onload=function(){i.dispatch("Final Image Preloaded, "+e+", firing callback after 0ms delay.... ","special"),"function"==typeof callback&&(i.dispatch("PRELOADER Callback Executing NOW!","special"),callback())}),i};var t=new e;return d.onreadystatechange=function(){"complete"===d.readyState&&t.init()},t}(e,document)}(window);