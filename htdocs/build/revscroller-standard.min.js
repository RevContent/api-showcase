/**
 * rev-scroller-standard - Scroller
 * @date - Mon Dec 11 2017 16:56:20 GMT-0500 (EST)
 * @version v0.0.1
 * @link http://labs.revcontent.com
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.ES6Promise=e()}(this,function(){"use strict";function t(t){return"function"==typeof t||"object"==typeof t&&null!==t}function e(t){return"function"==typeof t}function n(t){F=t}function i(t){J=t}function r(){return function(){return process.nextTick(l)}}function o(){return function(){Y(l)}}function s(){var t=0,e=new G(l),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function a(){var t=new MessageChannel;return t.port1.onmessage=l,function(){return t.port2.postMessage(0)}}function c(){var t=setTimeout;return function(){return t(l,1)}}function l(){for(var t=0;t<D;t+=2){var e=Z[t],n=Z[t+1];e(n),Z[t]=void 0,Z[t+1]=void 0}D=0}function u(){try{var t=require,e=t("vertx");return Y=e.runOnLoop||e.runOnContext,o()}catch(n){return c()}}function h(t,e){var n=arguments,i=this,r=new this.constructor(d);void 0===r[et]&&k(r);var o=i._state;return o?!function(){var t=n[o-1];J(function(){return H(o,r,t,i._result)})}():T(i,r,t,e),r}function f(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(d);return E(n,t),n}function d(){}function p(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function v(t){try{return t.then}catch(e){return ot.error=e,ot}}function g(t,e,n,i){try{t.call(e,n,i)}catch(r){return r}}function y(t,e,n){J(function(t){var i=!1,r=g(n,e,function(n){i||(i=!0,e!==n?E(t,n):L(t,n))},function(e){i||(i=!0,x(t,e))},"Settle: "+(t._label||" unknown promise"));!i&&r&&(i=!0,x(t,r))},t)}function b(t,e){e._state===it?L(t,e._result):e._state===rt?x(t,e._result):T(e,void 0,function(e){return E(t,e)},function(e){return x(t,e)})}function w(t,n,i){n.constructor===t.constructor&&i===h&&n.constructor.resolve===f?b(t,n):i===ot?x(t,ot.error):void 0===i?L(t,n):e(i)?y(t,n,i):L(t,n)}function E(e,n){e===n?x(e,p()):t(n)?w(e,n,v(n)):L(e,n)}function _(t){t._onerror&&t._onerror(t._result),C(t)}function L(t,e){t._state===nt&&(t._result=e,t._state=it,0!==t._subscribers.length&&J(C,t))}function x(t,e){t._state===nt&&(t._state=rt,t._result=e,J(_,t))}function T(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+it]=n,r[o+rt]=i,0===o&&t._state&&J(C,t)}function C(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i=void 0,r=void 0,o=t._result,s=0;s<e.length;s+=3)i=e[s],r=e[s+n],i?H(n,i,r,o):r(o);t._subscribers.length=0}}function I(){this.error=null}function S(t,e){try{return t(e)}catch(n){return st.error=n,st}}function H(t,n,i,r){var o=e(i),s=void 0,a=void 0,c=void 0,l=void 0;if(o){if(s=S(i,r),s===st?(l=!0,a=s.error,s=null):c=!0,n===s)return void x(n,m())}else s=r,c=!0;n._state!==nt||(o&&c?E(n,s):l?x(n,a):t===it?L(n,s):t===rt&&x(n,s))}function O(t,e){try{e(function(e){E(t,e)},function(e){x(t,e)})}catch(n){x(t,n)}}function A(){return at++}function k(t){t[et]=at++,t._state=void 0,t._result=void 0,t._subscribers=[]}function R(t,e){this._instanceConstructor=t,this.promise=new t(d),this.promise[et]||k(this.promise),U(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?L(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&L(this.promise,this._result))):x(this.promise,j())}function j(){return new Error("Array Methods must be provided an Array")}function M(t){return new R(this,t).promise}function B(t){var e=this;return new e(U(t)?function(n,i){for(var r=t.length,o=0;o<r;o++)e.resolve(t[o]).then(n,i)}:function(t,e){return e(new TypeError("You must pass an array to race."))})}function N(t){var e=this,n=new e(d);return x(n,t),n}function P(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function q(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function z(t){this[et]=A(),this._result=this._state=void 0,this._subscribers=[],d!==t&&("function"!=typeof t&&P(),this instanceof z?O(this,t):q())}function W(){var t=void 0;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;if(n){var i=null;try{i=Object.prototype.toString.call(n.resolve())}catch(e){}if("[object Promise]"===i&&!n.cast)return}t.Promise=z}var V=void 0;V=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var U=V,D=0,Y=void 0,F=void 0,J=function(t,e){Z[D]=t,Z[D+1]=e,D+=2,2===D&&(F?F(l):tt())},X="undefined"!=typeof window?window:void 0,$=X||{},G=$.MutationObserver||$.WebKitMutationObserver,K="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),Q="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,Z=new Array(1e3),tt=void 0;tt=K?r():G?s():Q?a():void 0===X&&"function"==typeof require?u():c();var et=Math.random().toString(36).substring(16),nt=void 0,it=1,rt=2,ot=new I,st=new I,at=0;return R.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===nt&&n<t;n++)this._eachEntry(e[n],n)},R.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===f){var r=v(t);if(r===h&&t._state!==nt)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===z){var o=new n(d);w(o,t,r),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){return e(t)}),e)}else this._willSettleAt(i(t),e)},R.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===nt&&(this._remaining--,t===rt?x(i,n):this._result[e]=n),0===this._remaining&&L(i,this._result)},R.prototype._willSettleAt=function(t,e){var n=this;T(t,void 0,function(t){return n._settledAt(it,e,t)},function(t){return n._settledAt(rt,e,t)})},z.all=M,z.race=B,z.resolve=f,z.reject=N,z._setScheduler=n,z._setAsap=i,z._asap=J,z.prototype={constructor:z,then:h,"catch":function(t){return this.then(null,t)}},W(),z.polyfill=W,z.Promise=z,z}),function(t,e){"use strict";t.revApi=e(t,t.revBeacon)}(window,function(t,e){"use strict";var n={};return n.beacons=e||{attach:function(){}},n.forceJSONP=!0,n.request=function(e,n,i,r){if(this.forceJSONP||t.XDomainRequest){r=r?r:this.generateCallback(),t[r]=n;var o=document.createElement("script");o.src=e+this.getReferer()+"&callback="+r,document.body.appendChild(o)}else this.xhr(e,n,i)},n.xhr=function(t,e,n,i){var r=new XMLHttpRequest;i&&(r.withCredentials=!0),r.open("GET",t+this.getReferer(),!0),r.onload=function(){if(r.status>=200&&r.status<400)try{e(JSON.parse(r.responseText))}catch(t){}else n&&n(r)},r.onerror=function(){n&&n(r)},r.send()},n.getReferer=function(){var t="";try{if(t=document.referrer,"undefined"==typeof t)throw"undefined"}catch(e){t=document.location.href,(""==t||"undefined"==typeof t)&&(t=document.URL)}return t=encodeURIComponent(t.substr(0,700)),"&referer="+t},n.getTimestamp=function(){var t=Date.now||function(){return+new Date};return+t()},n.generateCallback=function(t,e){var n=(void 0!==t&&isNaN(t)&&t.length>2?t:"success")+this.getTimestamp()+"_"+this.createEntropy(isNaN(e)?1e3:e);return n},n.createEntropy=function(t){var e=Math.floor(Math.random()*(isNaN(t)?1e3:t));return e},n}),function(t,e){"use strict";t.revUtils=e(t,t.revOverlay)}(window,function(t,e){"use strict";var n={};return n.deprecateOptions=function(t){return t.overlay&&(t.image_overlay=t.overlay),t.overlay_icons&&(t.image_overlay_icons=t.overlay_icons),t.overlay_position&&(t.image_overlay_position=t.overlay_position),t},n.validateApiParams=function(t){var e=[];if(t.api_key||e.push("api_key"),t.rev_position){var n=["top_right","bottom_left","bottom_right"];this.inArray(n,t.rev_position)<0&&e.push("rev_position")}return t.pub_id||e.push("pub_id"),t.widget_id||e.push("widget_id"),t.domain||e.push("domain"),e.length&&console.log(e),e},n.serialize=function(t,e){if(!t)return"";var n=[];for(var i in t)if(t.hasOwnProperty(i)){var r=e?e+"["+i+"]":i,o=t[i];n.push("object"==typeof o&&"[object Object]"==Object.prototype.toString.call(o)?this.serialize(o,r):encodeURIComponent(r)+"="+encodeURIComponent(o))}return n.join("&")},n.appendStyle=function(t,e,n){var e=e+"-append-style";if(!document.getElementById(e)){var i=document.createElement("style");i.type="text/css",i.id=e,i.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(i)}if(n&&"string"==typeof n){var r=e+"-extra",o=document.getElementById(r);if(o)o.innerHTML+=n;else{var i=document.createElement("style");i.type="text/css",i.id=r,i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i)}}},n.extend=function(t,e){var n={};for(var i in t)n[i]=t[i];for(var i in e)"object"==typeof e[i]&&"[object Object]"==Object.prototype.toString.call(e[i])?n[i]=this.extend(n[i],e[i]):n[i]=e[i];return n},n.merge=function(t,e){for(var n in e)t[n]=e[n];return t},n.inArray=function(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1},n.setCookie=function(t,e,n){var i=new Date;i.setTime(i.getTime()+24*n*60*60*1e3);var r="expires="+i.toUTCString(),o="; path=/; domain="+top.location.host;document.cookie=t+"="+e+"; "+r+o},n.getCookie=function(t){for(var e=t+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];" "==r.charAt(0);)r=r.substring(1);if(0==r.indexOf(e))return r.substring(e.length,r.length)}return""},n.prepend=function(t,e){t.insertBefore(e,t.firstChild)},n.append=function(t,e){t.appendChild(e)},n.remove=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},n.wrap=function(t,e){t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e),e.appendChild(t)},n.next=function(t){function e(t){do t=t.nextSibling;while(t&&1!==t.nodeType);return t}return t.nextElementSibling||e(t)},n.hasClass=function(t,e){return!!t&&(t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className))},n.addClass=function(t,e){return!!t&&void(t.classList?t.classList.add(e):(this.removeClass(t,e),t.className+=" "+e))},n.removeClass=function(t,e,n){if(!t)return!1;var i=t.className.trim().split(" ").filter(function(t){return n?0!==t.lastIndexOf(e,0):t!==e});t.className=i.join(" ").trim()},n.dispatchScrollbarResizeEvent=function(){var e="rc-scrollbar-resize-listener-frame";if(!document.getElementById(e)){var n=document.createElement("iframe");n.id=e,n.style.cssText="height: 0; background-color: transparent; margin: 0; padding: 0; overflow: hidden; border-width: 0; position: absolute; width: 100%;";var i=this;n.onload=function(){var e=function(){try{if(Event.prototype.initEvent){var r=document.createEvent("UIEvents");r.initUIEvent("resize",!0,!1,t,0)}else var r=new UIEvent("resize");t.dispatchEvent(r),i.removeEventListener(n.contentWindow,"resize",e)}catch(o){}};i.addEventListener(n.contentWindow,"resize",e)},document.body.appendChild(n)}},n.addEventListener=function(t,e,n,i){if(n){var r=!1;if(this.eventListenerPassiveSupported())var r={passive:!i||"undefined"==typeof i.passive||i.passive};t.addEventListener?t.addEventListener(e,n,r):t.attachEvent("on"+e,function(){n.call(t)})}},n.eventListenerPassiveSupported=function(){var t=!1;try{addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){t=!0}}))}catch(e){}return t},n.removeEventListener=function(t,e,n){n&&(t.removeEventListener?t.removeEventListener(e,n):t.detachEvent("on"+e,n))},n.transformCss=function(t,e){t.style.transform=e,t.style.MsTransform=e,t.style.WebkitTransform=e,t.style.OTransform=e},n.transitionCss=function(t,e){t.style.transition=e,t.style.MsTransition=e,t.style.WebkitTransition=e,t.style.OTransition=e},n.transitionDurationCss=function(t,e){t.style.transitionDuration=e,t.style.WebkitTransitionDuration=e,t.style.MozTransitionDuration=e,t.style.OTransitionDuration=e},n.ellipsisText=function(t){for(var e=0;e<t.length;e++)for(var n,i=t[e],r=i.children[0];i.clientHeight<(i.scrollHeight>i.clientHeight?i.scrollHeight-1:i.scrollHeight)&&(n=r.innerHTML.trim(),!(n.split(" ").length<=1));)r.innerHTML=n.replace(/\W*\s(\S)*$/,"...")},n.imagesLoaded=function(t,e){function i(t){this.img=t}t.length||e.emitEvent("imagesLoaded");var r=4e3;i.prototype=new EventEmitter,i.prototype.check=function(){var t=this.getIsImageComplete();if(t){var e=this;return void setTimeout(function(){e.confirm(0!==e.img.naturalWidth,"naturalWidth")})}this.proxyImage=new Image,n.addEventListener(this.proxyImage,"load",this),n.addEventListener(this.proxyImage,"error",this),n.addEventListener(this.img,"load",this),n.addEventListener(this.img,"error",this),this.proxyImage.src=this.img.src},i.prototype.getIsImageComplete=function(){return this.img.complete&&void 0!==this.img.naturalWidth},i.prototype.confirm=function(t,e){this.isLoaded=t,this.emit("progress",this,this.img,e)},i.prototype.handleEvent=function(t){var e="on"+t.type;this[e]&&this[e](t)},i.prototype.onload=function(){this.confirm(!0,"onload"),this.unbindEvents()},i.prototype.onerror=function(){this.confirm(!1,"onerror"),this.unbindEvents()},i.prototype.unbindEvents=function(){n.removeEventListener(this.proxyImage,"load",this),n.removeEventListener(this.proxyImage,"error",this),n.removeEventListener(this.img,"load",this),n.removeEventListener(this.img,"error",this)};for(var o=0,s=0;s<t.length;s++){var a=new i(t[s]);a.once("progress",function(){o++,o==t.length&&e.emitEvent("imagesLoaded")}),a.check()}setTimeout(function(){e.emitEvent("imagesLoaded")},r)},n.getComputedStyle=function(t,e,n){return"undefined"!==getComputedStyle?getComputedStyle(t,n).getPropertyValue(e):t.currentStyle[e]},n.setImage=function(t,e){var n=document.createElement("img");n.src=e,this.append(t,n)},n.mergeOverlayIcons=function(t){this.merge(e.icons,t)},n.imageOverlay=function(t,n,i,r){e.image(t,n,i,r)},n.adOverlay=function(t,n,i,r){e.ad(t,n,i,r)},n.checkVisible=function(e,n,i,r){var o=this;requestAnimationFrame(function(){var s="number"==typeof i?.01*parseInt(i):0,a="number"==typeof r?r:0,c=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,l=t.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,u=e.getBoundingClientRect().top,h=e.getBoundingClientRect().bottom,f=e.offsetHeight*s;l+c>=u+l+f-a&&h>f&&n.call(o)})},n.checkVisibleItem=function(e,n,i,r,o){var s=this;requestAnimationFrame(function(){if(o&&o.offsetHeight<=e.element.offsetTop-o.scrollTop)return void n.call(s,!1,e);var a="number"==typeof i?.01*parseInt(i):0,c="number"==typeof r?r:0,l=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,u=t.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,h=e.element.getBoundingClientRect().top,f=e.element.getBoundingClientRect().bottom,d=e.element.offsetHeight*a,p=o?u+l-(o.getBoundingClientRect().top+u+o.offsetHeight):0;u+l>=h+u+d-c+(p>0?p:0)&&f>d?n.call(s,!0,e):n.call(s,!1,e)})},n.windowHeight=function(){return t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight},n.windowWidth=function(){return document.documentElement.clientWidth||document.body.clientWidth},n.checkHidden=function(e,n,i,r){var o=this;requestAnimationFrame(function(){var s="number"==typeof i?.01*parseInt(i):0,a=t.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,c=t.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;(c+a<e.getBoundingClientRect().top+c||r!==!1&&e.getBoundingClientRect().top+e.offsetHeight*s<=0)&&n.call(o)})},n.imagesAbove=function(t){for(var e=document.querySelectorAll("img"),n=t.getBoundingClientRect().top,i=[],r=0;r<e.length;r++)e[r].getBoundingClientRect().top<n&&i.push(e[r]);return i},n.throttle=function(t,e,n){e||(e=250);var i,r;return function(){var o=n||this,s=+new Date,a=arguments;i&&s<i+e?(clearTimeout(r),r=setTimeout(function(){i=s,t.apply(o,a)},e)):(i=s,t.apply(o,a))}},n.siblingIndex=function(t){if(!t)return!1;for(var e=0;null!=(t=t.previousSibling);)e++;return e},n.storeUserOptions=function(t){var e=this;e.userOptions=t},n.retrieveUserOptions=function(){var t=this;return t.userOptions},n.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},n.docReady=function(t){"loading"!=document.readyState?t():document.addEventListener?document.addEventListener("DOMContentLoaded",t):document.attachEvent("onreadystatechange",function(){"loading"!=document.readyState&&t()})},n}),function(t,e){"use strict";t.RevScroller=e(t,t.revUtils,t.revApi)}(window,function(t,e,n){"use strict";var i=function(t){var n={host:"https://trends.revcontent.com",cols:3,rows:6,developer:!1,viewable_percentage:50,visible_rows:3,half_row:!1,query_params:!1,jq:!1};this.options=e.extend(n,t),e.appendStyle("/* inject:css */.rev-scroller{position:relative;overflow-y:scroll;overflow-x:hidden}.rev-scroller::-webkit-scrollbar{display:none}.rev-scroller-button{position:absolute!important;height:40px!important;width:50px!important;background:#fff!important;background:linear-gradient(to bottom,#fff 0,rgba(246,246,246,.92) 53%,rgba(255,255,255,.84) 100%)!important;bottom:0!important;border:1px solid rgba(121,121,121,.37)!important;border-top-left-radius:3px!important;border-top-right-radius:3px!important;left:50%!important;margin-left:-25px!important;z-index:10000!important;border-width:1px 1px 0!important;cursor:pointer!important}.rev-scroller-button svg{height:40px!important;width:40px!important;margin-left:5px!important;fill:#696969!important}/* endinject */","rev-scroll"),this.init()};return i.prototype.init=function(){this.currentRow=0,this.transform=0,this.heights=[],this.createElements(),this.setHeight(),this.initViewability(),this.scroll(),this.button(),this.resize();for(var t=[500,1e3,2e3,5e3],e=this,n=0;n<t.length;n++)setTimeout(function(){e.setHeight()},t[n])},i.prototype.createElements=function(){this.element=this.options.element?this.options.element[0]:document.getElementById(this.options.id),this.items=this.element.querySelectorAll(".rc-item"),this.containerElement=this.element.querySelector("#rc-row-container"),this.innerElement=this.containerElement.querySelector(".rc-row")},i.prototype.setHeight=function(){this.heights=[];for(var t=0,n=0;n<this.items.length;n++){var i=this.items[n];t=Math.max(t,i.offsetHeight),(n+1)%this.options.cols==0&&(this.heights.push(t),t=0)}var t=0;this.scrollSpace=0;for(var n=0;n<this.heights.length;n++)if(n<this.options.visible_rows)if(this.options.half_row&&n===this.options.visible_rows-1){var r=this.heights[n]/2;t+=r,this.scrollSpace+=r}else t+=this.heights[n];else this.scrollSpace+=this.heights[n];t>0&&(e.addClass(this.containerElement,"rev-scroller"),this.containerElement.style.height=t+"px"),this.scrollBarWidth=this.containerElement.offsetWidth-this.innerElement.offsetWidth,this.scrollBarWidth&&(this.containerElement.parentNode.style.overflow="hidden",this.containerElement.style.marginRight=this.scrollBarWidth*-1+"px")},i.prototype.scroll=function(){var t=this;t.containerVisibleListener=function(e){if(!t.buttonPressed){console.log("scrolling",t.viewableItems);for(var n=0,i=0;i<t.heights.length;i++)if(n+=t.heights[i],t.containerElement.scrollTop<=n){t.currentRow=i;break}t.viewableItems.length&&t.checkVisible()}},e.addEventListener(this.containerElement,"scroll",t.containerVisibleListener)},i.prototype.button=function(){this.button=document.createElement("div"),this.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path d="M24.88 12.88L18 19.76l-6.88-6.88L9 15l9 9 9-9z"/><path d="M0 0h36v36H0z" fill="none"/></svg>',e.addClass(this.button,"rev-scroller-button"),e.append(this.containerElement.parentNode,this.button);var t=!1,n=this;e.addEventListener(this.button,"click",function(){if(console.log("button"),t)n.transform=0,t=!1,n.currentRow=0,n.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path d="M24.88 12.88L18 19.76l-6.88-6.88L9 15l9 9 9-9z"/><path d="M0 0h36v36H0z" fill="none"/></svg>';else{n.currentRow++,n.transform=0;for(var e=0;e<n.currentRow;e++)n.transform+=n.heights[e];n.transform>=n.scrollSpace&&(n.transform=n.scrollSpace,n.button.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 36"><path d="M18 12l-9 9 2.12 2.12L18 16.24l6.88 6.88L27 21z" /></svg>',t=!0)}n.buttonPressed=!0,n.containerElement.scrollTop=n.transform,n.viewableItems.length&&n.checkVisible(),setTimeout(function(){n.buttonPressed=!1})})},i.prototype.resize=function(){if(this.options.jq){var e=this;this.options.jq(t).on("resize_"+this.options.id,function(){e.setHeight()})}},i.prototype.initViewability=function(){this.viewableItems=[];for(var n=0;n<this.items.length;n++)this.viewableItems.push({index:n,element:this.items[n]});var i=this;this.viewability().then(function(){i.viewed.length&&i.registerView(i.viewed),i.visibleListener=i.checkVisible.bind(i),e.addEventListener(t,"scroll",i.visibleListener)},function(t){console.log(t,"someething went wrong")})},i.prototype.viewability=function(){var t=this;return this.viewed=[],new Promise(function(n,i){for(var r=t.viewableItems.length,o=0,s=0;s<t.viewableItems.length;s++)e.checkVisibleItem(t.viewableItems[s],function(e,i){if(o++,o==r&&n(),e){var s=t.viewableItems.indexOf(i);s!=-1&&t.viewableItems.splice(s,1),t.viewed.push(i)}},t.options.viewable_percentage,!1,t.containerElement)})},i.prototype.checkVisible=function(){for(var n=this,i=0;i<this.viewableItems.length;i++)e.checkVisibleItem(this.viewableItems[i],function(i,r){if(i){var o=n.viewableItems.indexOf(r);o!=-1&&(n.viewableItems.splice(o,1),n.viewableItems.length||e.removeEventListener(t,"scroll",n.visibleListener),n.registerView([r]),n.viewableItems.length||(e.removeEventListener(t,"scroll",n.visibleListener),e.removeEventListener(n.containerElement,"scroll",n.containerVisibleListener)))}},n.options.viewable_percentage,!1,this.containerElement)},i.prototype.registerView=function(t){if(this.view||(this.view=this.element.querySelector(".rc-wc").getAttribute("data-view"),this.view)){for(var e="view="+encodeURIComponent(this.view),i=0;i<t.length;i++)e+="&"+encodeURIComponent("p[]")+"="+t[i].index;n.request(this.options.host+"/view.php?"+e,function(){})}},i});